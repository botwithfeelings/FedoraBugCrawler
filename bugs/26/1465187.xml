<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1465187</bug_id>
          
          <creation_ts>2017-06-26 20:00:00 -0400</creation_ts>
          <short_desc>bind-dyndb-ldap needs rebuild against bind 9.11.1</short_desc>
          <delta_ts>2017-07-10 07:44:42 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>bind-dyndb-ldap</component>
          <version>26</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>AcceptedBlocker</status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>urgent</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1349188</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Stephen Gallagher">sgallagh</reporter>
          <assigned_to name="Tomas Krizek">tkrizek</assigned_to>
          <cc>awilliam</cc>
    
    
    <cc>kevin</cc>
    
    
    <cc>pbrobinson</cc>
    
    
    <cc>pemensik</cc>
    
    
    <cc>robatino</cc>
    
    
    <cc>thozza</cc>
    
    
    <cc>tkrizek</cc>
    
    
    <cc>vonsch</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>bind-dyndb-ldap-11.1-4.fc26</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-06-27 23:52:23</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10541984</commentid>
    <comment_count>0</comment_count>
      <attachid>1292076</attachid>
    <who name="Stephen Gallagher">sgallagh</who>
    <bug_when>2017-06-26 20:00:05 -0400</bug_when>
    <thetext>Created attachment 1292076
Proposed bump and rebuild patch for bind-dyndb-ldap

Description of problem:
BIND was updated to version 9.11.1 in Fedora 26, which included a soname bump of libdns from libdns.so.166 to libdns.so.168. As a result, upgrading bind will conflict with bind-dyndb-ldap and cause failures. Attempts to update with `dnf update --allowerasing --best` will cause bind-dyndb-ldap to be removed, potentially breaking a FreeIPA installation.

Version-Release number of selected component (if applicable):
bind-dyndb-ldap-11.1-2.fc26

How reproducible:
Every time

Steps to Reproduce:
1. Install FreeIPA with DNS support which includes bind-dyndb-ldap
2. Update bind to bind-9.11.1-1.P1.fc26

Actual results:
DNF fails (or, in the case of `--allowerasing --best`, removes bind-dyndb-ldap, breaking FreeIPA)

Expected results:
Packages are updated correctly and the system continues to function as expected.

Additional info:
Proposing as a Final Blocker by the final release criterion: &quot;All functional requirements for all Featured Server Roles must be met, without any workarounds being necessary.&quot;

The functional requirements[1] for the domain controller role includes &quot;The Domain Controller must be capable of serving DNS host records on port 53&quot;

[1] https://fedoraproject.org/wiki/Domain_controller_role_requirements</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10543723</commentid>
    <comment_count>1</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-27 07:33:14 -0400</bug_when>
    <thetext>bind-dyndb-ldap-11.1-4.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-32abf267d6</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10545680</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-27 16:26:59 -0400</bug_when>
    <thetext>bind-dyndb-ldap-11.1-4.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-32abf267d6</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10545964</commentid>
    <comment_count>3</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2017-06-27 19:27:59 -0400</bug_when>
    <thetext>In fact this is an even more straightforward blocker: deployment of the domain controller (FreeIPA server) role fails with the updates-testing repository disabled (which is how the final release would ship, of course):

https://openqa.fedoraproject.org/tests/113830

+1 blocker. I&apos;ve asked the person who submitted the BIND update to be mindful of the updates policy rules about interdependent packages in future.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10545970</commentid>
    <comment_count>4</comment_count>
    <who name="Kevin Fenzi">kevin</who>
    <bug_when>2017-06-27 19:30:04 -0400</bug_when>
    <thetext>+1 blocker</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10545980</commentid>
    <comment_count>5</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2017-06-27 19:40:24 -0400</bug_when>
    <thetext>That&apos;s +3, which seems enough as this one is a very clear and pretty undebatable blocker.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10546622</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-27 23:52:23 -0400</bug_when>
    <thetext>bind-dyndb-ldap-11.1-4.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1292076</attachid>
            <date>2017-06-26 20:00:00 -0400</date>
            <delta_ts>2017-07-10 07:44:42 -0400</delta_ts>
            <desc>Proposed bump and rebuild patch for bind-dyndb-ldap</desc>
            <filename>0001-Bump-and-rebuild-for-BIND-9.11.1-release.patch</filename>
            <type>text/plain</type>
            <size>2349</size>
            <attacher name="Stephen Gallagher">sgallagh</attacher>
            
              <data encoding="base64">RnJvbSBmYTA0Mjc4YzA1MDFjODEwNGI5YjRjMzg5NGVlZTNiZDZkMGQ4NTMyIE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBTdGVwaGVuIEdhbGxhZ2hlciA8c2dhbGxhZ2hAcmVkaGF0LmNv
bT4KRGF0ZTogTW9uLCAyNiBKdW4gMjAxNyAxOTo0ODoyNSAtMDQwMApTdWJqZWN0OiBbUEFUQ0hd
IEJ1bXAgYW5kIHJlYnVpbGQgZm9yIEJJTkQgOS4xMS4xIHJlbGVhc2UKClNpZ25lZC1vZmYtYnk6
IFN0ZXBoZW4gR2FsbGFnaGVyIDxzZ2FsbGFnaEByZWRoYXQuY29tPgotLS0KIGJpbmQtZHluZGIt
bGRhcC5zcGVjIHwgMTEgKysrKysrKystLS0KIDEgZmlsZSBjaGFuZ2VkLCA4IGluc2VydGlvbnMo
KyksIDMgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvYmluZC1keW5kYi1sZGFwLnNwZWMgYi9i
aW5kLWR5bmRiLWxkYXAuc3BlYwppbmRleCA5ZDQ2ZmU2NTQ2NWFkMTgyZGEwODZlODk5MmZjNjI5
NTUxOTY1NDUzLi44ZDY5NmE4YjU3MjAxZTVkOWVjMjk2OGY1ZGE4ZDI2ZjQyYWYyYjAzIDEwMDY0
NAotLS0gYS9iaW5kLWR5bmRiLWxkYXAuc3BlYworKysgYi9iaW5kLWR5bmRiLWxkYXAuc3BlYwpA
QCAtMSwyNiArMSwyOCBAQAogJWRlZmluZSBWRVJTSU9OICV7dmVyc2lvbn0KIAorJWRlZmluZSBi
aW5kX3ZlcnNpb24gMzI6OS4xMS4xLTEuUDEKKwogTmFtZTogICAgICAgICAgIGJpbmQtZHluZGIt
bGRhcAogVmVyc2lvbjogICAgICAgIDExLjEKLVJlbGVhc2U6ICAgICAgICAyJXs/ZGlzdH0KK1Jl
bGVhc2U6ICAgICAgICAzJXs/ZGlzdH0KIFN1bW1hcnk6ICAgICAgICBMREFQIGJhY2stZW5kIHBs
dWctaW4gZm9yIEJJTkQKIAogR3JvdXA6ICAgICAgICAgIFN5c3RlbSBFbnZpcm9ubWVudC9MaWJy
YXJpZXMKIExpY2Vuc2U6ICAgICAgICBHUEx2MisKIFVSTDogICAgICAgICAgICBodHRwczovL3Jl
bGVhc2VzLnBhZ3VyZS5vcmcvYmluZC1keW5kYi1sZGFwCiBTb3VyY2UwOiAgICAgICAgaHR0cHM6
Ly9yZWxlYXNlcy5wYWd1cmUub3JnLyV7bmFtZX0vJXtuYW1lfS0le1ZFUlNJT059LnRhci5iejIK
IFNvdXJjZTE6ICAgICAgICBodHRwczovL3JlbGVhc2VzLnBhZ3VyZS5vcmcvJXtuYW1lfS8le25h
bWV9LSV7VkVSU0lPTn0udGFyLmJ6Mi5hc2MKIEJ1aWxkUm9vdDogICAgICAle190bXBwYXRofS8l
e25hbWV9LSV7dmVyc2lvbn0tJXtyZWxlYXNlfS1yb290LSUoJXtfX2lkX3V9IC1uKQogCi1CdWls
ZFJlcXVpcmVzOiAgYmluZC1kZXZlbCA+PSAzMjo5LjExLjAtNi5QMiwgYmluZC1saXRlLWRldmVs
ID49IDMyOjkuMTEuMC02LlAyLCBiaW5kLXBrY3MxMS1kZXZlbCA+PSAzMjo5LjExLjAtNi5QMgor
QnVpbGRSZXF1aXJlczogIGJpbmQtZGV2ZWwgPj0gJXtiaW5kX3ZlcnNpb259LCBiaW5kLWxpdGUt
ZGV2ZWwgPj0gJXtiaW5kX3ZlcnNpb259LCBiaW5kLXBrY3MxMS1kZXZlbCA+PSAle2JpbmRfdmVy
c2lvbn0KIEJ1aWxkUmVxdWlyZXM6ICBrcmI1LWRldmVsCiBCdWlsZFJlcXVpcmVzOiAgb3Blbmxk
YXAtZGV2ZWwKIEJ1aWxkUmVxdWlyZXM6ICBsaWJ1dWlkLWRldmVsCiBCdWlsZFJlcXVpcmVzOiAg
YXV0b21ha2UsIGF1dG9jb25mLCBsaWJ0b29sCiAKLVJlcXVpcmVzOiAgICAgICBiaW5kLXBrY3Mx
MSA+PSAzMjo5LjExLjAtNi5QMiwgYmluZC1wa2NzMTEtdXRpbHMgPj0gMzI6OS4xMS4wLTYuUDIK
K1JlcXVpcmVzOiAgICAgICBiaW5kLXBrY3MxMSA+PSAle2JpbmRfdmVyc2lvbn0sIGJpbmQtcGtj
czExLXV0aWxzID49ICV7YmluZF92ZXJzaW9ufQogCiAKICVkZXNjcmlwdGlvbgogVGhpcyBwYWNr
YWdlIHByb3ZpZGVzIGFuIExEQVAgYmFjay1lbmQgcGx1Zy1pbiBmb3IgQklORC4gSXQgZmVhdHVy
ZXMKIHN1cHBvcnQgZm9yIGR5bmFtaWMgdXBkYXRlcyBhbmQgaW50ZXJuYWwgY2FjaGluZywgdG8g
bGlmdCB0aGUgbG9hZApAQCAtMTE0LDEwICsxMTYsMTMgQEAgcm0gLXJmICV7YnVpbGRyb290fQog
JWRpciAlYXR0cig3NzAsIHJvb3QsIG5hbWVkKSAle19sb2NhbHN0YXRlZGlyfS9uYW1lZC9keW5k
Yi1sZGFwCiAle19saWJkaXJ9L2JpbmQvbGRhcC5zbwogCiAKICVjaGFuZ2Vsb2cKKyogTW9uIEp1
biAyNiAyMDE3IFN0ZXBoZW4gR2FsbGFnaGVyIDxzZ2FsbGFnaEByZWRoYXQuY29tPiAtIDExLjEt
Mi4xCistIEJ1bXAgYW5kIHJlYnVpbGQgZm9yIEJJTkQgOS4xMS4xIHJlbGVhc2UKKwogKiBNb24g
TWFyIDEzIDIwMTcgVG9tYXMgS3JpemVrIDx0a3JpemVrQHJlZGhhdC5jb20+IC0gMTEuMS0yCiAt
IEZpeCBlcnJvciBwb2luc3RhbGwgc2VkIHNjcmlwdAogCiAqIEZyaSBNYXIgMTAgMjAxNyBUb21h
cyBLcml6ZWsgPHRrcml6ZWtAcmVkaGF0LmNvbT4gLSAxMS4xLTEKIC0gVXBkYXRlIHRvIDExLjEK
LS0gCjIuMTMuMAoK
</data>

          </attachment>
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1467136</bug_id>
          
          <creation_ts>2017-07-02 22:13:00 -0400</creation_ts>
          <short_desc>gst-transcoder update in updates-testing wont install</short_desc>
          <delta_ts>2017-07-12 10:51:28 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>gst-entrans</component>
          <version>26</version>
          <rep_platform>ia64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>https://fedoraproject.org/wiki/Common_F26_bugs#Upgrade_may_fail_due_to_a_conflict_in_gstreamer_components</status_whiteboard>
          <keywords>CommonBugs</keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Bill">thetaeridanus</reporter>
          <assigned_to name="Theodore Lee">theo148</assigned_to>
          <cc>ferdnyc</cc>
    
    
    <cc>ignatenko</cc>
    
    
    <cc>limburgher</cc>
    
    
    <cc>theo148</cc>
    
    
    <cc>tsaunier</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>gst-entrans-1.2.1-1.fc26</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-07-12 10:51:28</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10560060</commentid>
    <comment_count>0</comment_count>
    <who name="Bill">thetaeridanus</who>
    <bug_when>2017-07-02 22:13:01 -0400</bug_when>
    <thetext>Description of problem:

gst-transcoder update in updates-testing wont install

Upgrading:
 gst-transcoder      x86_64      1.12.0-1.fc26       updates-testing       53 k

Transaction Summary
================================================================================
Upgrade  1 Package

Error: Transaction check error:
  file /usr/lib64/gstreamer-1.0/libgsttranscode.so from install of gst-transcoder-1.12.0-1.fc26.x86_64 conflicts with file from package gstreamer1-plugins-entrans-1.0.3-2.fc26.x86_64



Fc26 beta is otherwise fully updated.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10561876</commentid>
    <comment_count>1</comment_count>
    <who name="Gwyn Ciesla">limburgher</who>
    <bug_when>2017-07-03 10:05:49 -0400</bug_when>
    <thetext>Updating gst-entrans doesn&apos;t resolve this but I&apos;m doing it anyway.  Since both packages provide this solib, it might be prudent to have gst-entrans exclude it and require gst-transcoder, if that works.  Reassinging to gst-entrans for evaluation.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10563140</commentid>
    <comment_count>2</comment_count>
    <who name="Theodore Lee">theo148</who>
    <bug_when>2017-07-03 22:22:58 -0400</bug_when>
    <thetext>Unfortunately, unless I&apos;m reading something wrong here, it looks like both these packages provide different GStreamer plugins with the same soname. The one from gst-entrans is a GStreamer implementation of various filters from the old transcode command, while I&apos;m guessing gst-transcoder is a transcoding API for use in Pitivi.

gst-entrans started namespacing its gst elements in 1.2.0 to avoid conflicts, but I don&apos;t think this extends to plugins. If it seems like the right course of action, I can get in touch with GEntrans upstream and see about changing the plugin and lib name.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10566944</commentid>
    <comment_count>3</comment_count>
    <who name="Gwyn Ciesla">limburgher</who>
    <bug_when>2017-07-05 10:19:40 -0400</bug_when>
    <thetext>Please do.  They may have another solution, but this should really be resolved upstream as much as possible.  If I need to modify the gst-transcoder RPM I can certainly do that.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10569392</commentid>
    <comment_count>4</comment_count>
    <who name="Theodore Lee">theo148</who>
    <bug_when>2017-07-06 01:38:19 -0400</bug_when>
    <thetext>Filed upstream for gst-entrans at: https://sourceforge.net/p/gentrans/bugs/6/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10572757</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-07-07 04:23:23 -0400</bug_when>
    <thetext>gst-entrans-1.2.1-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-366dfb242c</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10572775</commentid>
    <comment_count>6</comment_count>
    <who name="Theodore Lee">theo148</who>
    <bug_when>2017-07-07 04:32:21 -0400</bug_when>
    <thetext>This has been fixed upstream in gst-entrans by namespacing the plugin sonames - gst-entrans-1.2.1-1.fc26 should hopefully resolve this conflict.

I wonder if it might still be worth notifying gst-transcoder upstream about this, as I doubt these will be the only two projects out there with the notion to name a GStreamer plugin &quot;transcode&quot;. =)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10573445</commentid>
    <comment_count>7</comment_count>
    <who name="Gwyn Ciesla">limburgher</who>
    <bug_when>2017-07-07 09:13:09 -0400</bug_when>
    <thetext>Agreed.  Done.

https://github.com/pitivi/gst-transcoder/issues/5</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10573568</commentid>
    <comment_count>8</comment_count>
    <who name="Thibault Saunier">tsaunier</who>
    <bug_when>2017-07-07 09:55:01 -0400</bug_when>
    <thetext>For your information, gst-transcoder should be merged in -bad this cycle so having gst-entrans fixing it is probably a good idea as libgsttranscode will &apos;deserve&apos; not to be extra namespaced.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10576703</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-07-08 22:53:33 -0400</bug_when>
    <thetext>gst-entrans-1.2.1-1.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-366dfb242c</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10584987</commentid>
    <comment_count>10</comment_count>
    <who name="&quot;FeRD&quot; (Frank Dana)">ferdnyc</who>
    <bug_when>2017-07-11 21:22:17 -0400</bug_when>
    <thetext>Hrm. This appears to now be breaking Fedora 26 release, where gst-entrans-1.0.3-2 and gst-transcode-1.12.0-1 are being disted together. I just hit the same conflict message that Bill reported, attempting to do a commandline upgrade from F25 via `dnf system-upgrade`.

I&apos;m sure uninstalling one/both packages before upgrade will sort it out for me, but it&apos;d be nice to get this pushed to stable if it does indeed solve the file-conflict problem.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10585122</commentid>
    <comment_count>11</comment_count>
    <who name="Bill">thetaeridanus</who>
    <bug_when>2017-07-11 22:12:29 -0400</bug_when>
    <thetext>The &quot;fix&quot; is in updates-testing which I think isn&apos;t used for for system-upgrade. You probably have to wait until it gets promoted from testing to the normal updates repo. Otherwise you could remove the problem package under f25 then run the upgrade to f26. After the upgrade to f26 is complete, enable updates-testing and reinstall the removed packages. I least that is what I would try.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10585137</commentid>
    <comment_count>12</comment_count>
    <who name="Theodore Lee">theo148</who>
    <bug_when>2017-07-11 22:20:39 -0400</bug_when>
    <thetext>I will go ahead and get this queued for stable ASAP, but at the moment as per Fedora updates policy, it needs at least four more days in testing or some positive testing feedback.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10585156</commentid>
    <comment_count>13</comment_count>
    <who name="&quot;FeRD&quot; (Frank Dana)">ferdnyc</who>
    <bug_when>2017-07-11 22:34:23 -0400</bug_when>
    <thetext>From comment 11 :
&gt; Otherwise you could remove the problem package under f25 then run the upgrade to f26.

Exactly what I did, and so far... well, the upgrade is still ongoing, but the download, sanity-checks, and `dnf system-upgrade reboot` went off without a hitch so I&apos;m sure it&apos;s fine.

I went scorched-earth and removed both conflicting packages, plus gst-entrans and pitivi, each of which depends on one of the two conflicting RPMs. That made the system-upgrade preflight happy, and with dnf&apos;s trigger-happy purging solved nothing had to be redownloaded to restart the process.

From comment 12 :
&gt; I will go ahead and get this queued for stable ASAP, but at the moment as
&gt; per Fedora updates policy, it needs at least four more days in testing or
&gt; some positive testing feedback.

Thanks Ted, once my laptop is finally up and running with F26 I&apos;ll install the updates-testing build and file a report in bodhi.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10585460</commentid>
    <comment_count>14</comment_count>
    <who name="&quot;FeRD&quot; (Frank Dana)">ferdnyc</who>
    <bug_when>2017-07-12 00:25:26 -0400</bug_when>
    <thetext>I documented this to the F26 Common Bugs wiki page:

https://fedoraproject.org/wiki/Common_F26_bugs#Upgrade_may_fail_due_to_a_conflict_in_gstreamer_components

Looks like I don&apos;t have the necessary rights to set the CommonBugs keyword on this bug, though, or to add that URL to the Whiteboard. (https://fedoraproject.org/wiki/Common_bugs_instructions indicates that both should be done as part of documenting a Common Bugs entry.)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10585945</commentid>
    <comment_count>15</comment_count>
    <who name="Theodore Lee">theo148</who>
    <bug_when>2017-07-12 02:39:06 -0400</bug_when>
    <thetext>Thank you, I&apos;ve made those changes to this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10587954</commentid>
    <comment_count>16</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-07-12 10:51:28 -0400</bug_when>
    <thetext>gst-entrans-1.2.1-1.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
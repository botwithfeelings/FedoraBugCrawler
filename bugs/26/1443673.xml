<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1443673</bug_id>
          
          <creation_ts>2017-04-19 13:11:00 -0400</creation_ts>
          <short_desc>Puppet agent fails in monkey_patches.rb and loading xmlrpc/client in F26</short_desc>
          <delta_ts>2017-06-09 15:08:10 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>puppet</component>
          <version>26</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          <see_also>https://bugzilla.redhat.com/show_bug.cgi?id=1440710</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Michael Watters">wattersm</reporter>
          <assigned_to name="Dominic Cleal">dominic</assigned_to>
          <cc>dominic</cc>
    
    
    <cc>esm</cc>
    
    
    <cc>fedora</cc>
    
    
    <cc>gchamoul</cc>
    
    
    <cc>greg</cc>
    
    
    <cc>jose.p.oliveira.oss</cc>
    
    
    <cc>k.georgiou</cc>
    
    
    <cc>marianne</cc>
    
    
    <cc>mastahnke</cc>
    
    
    <cc>mmagr</cc>
    
    
    <cc>moses</cc>
    
    
    <cc>s</cc>
    
    
    <cc>vanmeeuwen+fedora</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>puppet-4.6.2-4.fc26</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-06-09 15:08:10</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10346747</commentid>
    <comment_count>0</comment_count>
    <who name="Michael Watters">wattersm</who>
    <bug_when>2017-04-19 13:11:20 -0400</bug_when>
    <thetext>Description of problem:

The puppet package provided in Fedora 26 does not work properly due to multiple issues.  After installing the puppet package running the agent results in an error as follows.


[root@mdct-dev27-f26 ~]# puppet agent -t --environment f26_test
/usr/share/ruby/vendor_ruby/puppet/util/monkey_patches.rb:104:in `&lt;class:SSLContext&gt;&apos;: undefined method `&lt;&lt;&apos; for nil:NilClass (NoMethodError)

Deleting line 104 in the /usr/share/ruby/vendor_ruby/puppet/util/monkey_patches.rb file does allow the agent to run however another error is then given.

Error: Could not autoload puppet/provider/package/pip3: cannot load such file -- xmlrpc/client
Error: Could not retrieve local facts: Could not autoload puppet/provider/package/pip3: cannot load such file -- xmlrpc/client
Error: Failed to apply catalog: Could not retrieve local facts: Could not autoload puppet/provider/package/pip3: cannot load such file -- xmlrpc/client

This is due to an incorrect dependency on the xmlrpc/client library which is no longer included in ruby 2.4.

github.com/puppetlabs/puppet/commit/484623ed</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10364274</commentid>
    <comment_count>1</comment_count>
    <who name="Dominic Cleal">dominic</who>
    <bug_when>2017-04-26 08:08:58 -0400</bug_when>
    <thetext>*** Bug 1445508 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10424072</commentid>
    <comment_count>2</comment_count>
      <attachid>1279886</attachid>
    <who name="Dominic Cleal">dominic</who>
    <bug_when>2017-05-18 03:39:17 -0400</bug_when>
    <thetext>Created attachment 1279886
dist-git (master/f26): fix Ruby 2.4 compat, xmlrpc/OpenSSL errors

Bug #1440710 also describes the monkey_patches issue, fixed in https://github.com/puppetlabs/puppet/commit/578687a00195191185f44d8cb38f4b7716d99c31 (.patch).

dist-git patch attached to fix both errors using upstream patches. Tested on Rawhide, Puppet now runs.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10438695</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-23 04:41:32 -0400</bug_when>
    <thetext>puppet-4.6.2-4.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-b9b66117bb</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10441130</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-23 14:16:12 -0400</bug_when>
    <thetext>puppet-4.6.2-4.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-b9b66117bb</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10494155</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-09 15:08:10 -0400</bug_when>
    <thetext>puppet-4.6.2-4.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>1279886</attachid>
            <date>2017-05-18 03:39:00 -0400</date>
            <delta_ts>2017-05-18 03:39:17 -0400</delta_ts>
            <desc>dist-git (master/f26): fix Ruby 2.4 compat, xmlrpc/OpenSSL errors</desc>
            <filename>0001-Fix-Ruby-2.4-compatibility-xmlrpc-OpenSSL-patches.patch</filename>
            <type>application/mbox</type>
            <size>5070</size>
            <attacher name="Dominic Cleal">dominic</attacher>
            
              <data encoding="base64">RnJvbSA2ZDMwZDA3ZDMyMTQ1M2U3NmM0ZDIxODNhYmY0Y2QwM2M4OTIyYjI1IE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBEb21pbmljIENsZWFsIDxkb21pbmljQGNsZWFsLm9yZz4KRGF0
ZTogVGh1LCAxOCBNYXkgMjAxNyAwODoyOTowMyArMDEwMApTdWJqZWN0OiBbUEFUQ0hdIEZpeCBS
dWJ5IDIuNCBjb21wYXRpYmlsaXR5LCB4bWxycGMvT3BlblNTTCBwYXRjaGVzCgoqIGh0dHBzOi8v
Z2l0aHViLmNvbS9wdXBwZXRsYWJzL3B1cHBldC9jb21taXQvNDg0NjIzZWQKKiBodHRwczovL2dp
dGh1Yi5jb20vcHVwcGV0bGFicy9wdXBwZXQvY29tbWl0LzU3ODY4N2EwCgpGaXhlcyBCWiMxNDQz
NjczLCBCWiMxNDQwNzEwCi0tLQogMDAwMy1SZW1vdmUtdW51c2VkLXJlcXVyZS14bWxycGMtY2xp
ZW50LnBhdGNoICAgICAgfCAzMCArKysrKysrKysrKysrKysrKysKIC4uLjczODMtU2tpcC1jaXBo
ZXItbW9ua2V5LXBhdGNoLW9uLXJ1YnktMi40LnBhdGNoIHwgMzYgKysrKysrKysrKysrKysrKysr
KysrKwogcHVwcGV0LnNwZWMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
fCAgOSArKysrKy0KIDMgZmlsZXMgY2hhbmdlZCwgNzQgaW5zZXJ0aW9ucygrKSwgMSBkZWxldGlv
bigtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IDAwMDMtUmVtb3ZlLXVudXNlZC1yZXF1cmUteG1scnBj
LWNsaWVudC5wYXRjaAogY3JlYXRlIG1vZGUgMTAwNjQ0IDAwMDQtUFVQLTczODMtU2tpcC1jaXBo
ZXItbW9ua2V5LXBhdGNoLW9uLXJ1YnktMi40LnBhdGNoCgpkaWZmIC0tZ2l0IGEvMDAwMy1SZW1v
dmUtdW51c2VkLXJlcXVyZS14bWxycGMtY2xpZW50LnBhdGNoIGIvMDAwMy1SZW1vdmUtdW51c2Vk
LXJlcXVyZS14bWxycGMtY2xpZW50LnBhdGNoCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAw
MDAwMDAuLmE4NzU1NjEKLS0tIC9kZXYvbnVsbAorKysgYi8wMDAzLVJlbW92ZS11bnVzZWQtcmVx
dXJlLXhtbHJwYy1jbGllbnQucGF0Y2gKQEAgLTAsMCArMSwzMCBAQAorRnJvbSA0ODQ2MjNlZGEw
OWQ4ZThiOTg1N2Y1Mjc5ZWJiODkxYTQyMzU4OGRjIE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQor
RnJvbTogS3lsbyBHaW5zYmVyZyA8a3lsb0BwdXBwZXQuY29tPgorRGF0ZTogU3VuLCAxOCBTZXAg
MjAxNiAwNjo0Mjo0NiAtMDcwMAorU3ViamVjdDogW1BBVENIXSAobWFpbnQpIFJlbW92ZSB1bnVz
ZWQ6IHJlcXVyZSAneG1scnBjL2NsaWVudCcKKworSW4gMTUyMjk5Y2MsIGFzIHBhcnQgb2YgUFVQ
LTYxMjAsIHVzZSBvZiB0aGUgeG1scnBjIGxpYnJhcnkKK3dhcyByZW1vdmVkIGZyb20gdGhlIGNv
ZGUsIGJ1dCB0aGUgcmVxdWlyZSBpdHNlbGYgd2FzIG5vdAorcmVtb3ZlZC4gVGhpcyBjb21taXQg
c2ltcGx5IHJlbW92ZXMgdGhlIHZlc3RpZ2lhbCByZXF1aXJlLgorCitOb3RlIHRoYXQgdGhpcyBj
aGFuZ2UgaXMgcmVxdWlyZWQgdG8gc3VwcG9ydCBydWJ5IDIuNCwKK3doaWNoIG5vIGxvbmdlciBp
bmNsdWRlcyB0aGUgeG1scnBjIGxpYnJhcnkuCistLS0KKyBsaWIvcHVwcGV0L3Byb3ZpZGVyL3Bh
Y2thZ2UvcGlwLnJiIHwgMSAtCisgMSBmaWxlIGNoYW5nZWQsIDEgZGVsZXRpb24oLSkKKworZGlm
ZiAtLWdpdCBhL2xpYi9wdXBwZXQvcHJvdmlkZXIvcGFja2FnZS9waXAucmIgYi9saWIvcHVwcGV0
L3Byb3ZpZGVyL3BhY2thZ2UvcGlwLnJiCitpbmRleCA5MzAwYjdiLi5hYWQ0NDdiIDEwMDY0NAor
LS0tIGEvbGliL3B1cHBldC9wcm92aWRlci9wYWNrYWdlL3BpcC5yYgorKysrIGIvbGliL3B1cHBl
dC9wcm92aWRlci9wYWNrYWdlL3BpcC5yYgorQEAgLTIsNyArMiw2IEBACisgIyA8aHR0cDovL3Bp
cC5weXBhLmlvLz4KKyAKKyByZXF1aXJlICdwdXBwZXQvcHJvdmlkZXIvcGFja2FnZScKKy1yZXF1
aXJlICd4bWxycGMvY2xpZW50JworIHJlcXVpcmUgJ3B1cHBldC91dGlsL2h0dHBfcHJveHknCisg
CisgUHVwcGV0OjpUeXBlLnR5cGUoOnBhY2thZ2UpLnByb3ZpZGUgOnBpcCwKKy0tIAorMi43LjQK
KwpkaWZmIC0tZ2l0IGEvMDAwNC1QVVAtNzM4My1Ta2lwLWNpcGhlci1tb25rZXktcGF0Y2gtb24t
cnVieS0yLjQucGF0Y2ggYi8wMDA0LVBVUC03MzgzLVNraXAtY2lwaGVyLW1vbmtleS1wYXRjaC1v
bi1ydWJ5LTIuNC5wYXRjaApuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi4xZmZm
OTEyCi0tLSAvZGV2L251bGwKKysrIGIvMDAwNC1QVVAtNzM4My1Ta2lwLWNpcGhlci1tb25rZXkt
cGF0Y2gtb24tcnVieS0yLjQucGF0Y2gKQEAgLTAsMCArMSwzNiBAQAorRnJvbSA1Nzg2ODdhMDAx
OTUxOTExODVmNDRkOGNiMzhmNGI3NzE2ZDk5YzMxIE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQor
RnJvbTogSm9zaCBDb29wZXIgPGpvc2hAcHVwcGV0LmNvbT4KK0RhdGU6IFR1ZSwgMTYgTWF5IDIw
MTcgMTU6NDc6MDQgLTA3MDAKK1N1YmplY3Q6IFtQQVRDSF0gKFBVUC03MzgzKSBTa2lwIGNpcGhl
ciBtb25rZXkgcGF0Y2ggb24gcnVieSAyLjQrCisKK1ByZXZpb3VzbHksIHdlIGFwcGVuZGVkICIh
U1NMdjIiIHRvIHRoZSBTU0xDb250ZXh0CitERUZBVUxUX1BBUkFNU1s6Y2lwaGVyc10gdG8gZW5z
dXJlIHRoYXQgcHVwcGV0IG5ldmVyIHVzZXMgU1NMdjIsIGVpdGhlcgorZnJvbSBvdXIgaHR0cCBj
bGllbnQgb3Igd2hlbiB1c2luZyBvcGVuLXVyaS4gSG93ZXZlciwgcnVieSAyLjQgb25seQorZGVm
aW5lcyB0aGUgYDpjaXBoZXJzYCBhcnJheSBpZiB1c2luZyBvcGVuc3NsIDwgMS4xLjBbMV0uIEFz
IGEgcmVzdWx0LAorcHVwcGV0IGFzIGEgZ2VtIHJ1bm5pbmcgb24gbmV3ZXIgc3lzdGVtcyB3b3Vs
ZCBoYXJkIGZhaWwuCisKK0NoZWNrIGV4aXN0ZW5jZSBvZiBhcnJheSBiZWZvcmUgdHJ5aW5nIHRv
IGFwcGVuZCB0byBpdC4KKworWzFdIGh0dHBzOi8vZ2l0aHViLmNvbS9ydWJ5L3J1YnkvY29tbWl0
L2M5ZGMwMTYjZGlmZi04NDA2ZTExZTRhNDJmOWRlNmJhZGNkMGY2YTZjNDI2MlIzMworLS0tCisg
bGliL3B1cHBldC91dGlsL21vbmtleV9wYXRjaGVzLnJiIHwgNCArKystCisgMSBmaWxlIGNoYW5n
ZWQsIDMgaW5zZXJ0aW9ucygrKSwgMSBkZWxldGlvbigtKQorCitkaWZmIC0tZ2l0IGEvbGliL3B1
cHBldC91dGlsL21vbmtleV9wYXRjaGVzLnJiIGIvbGliL3B1cHBldC91dGlsL21vbmtleV9wYXRj
aGVzLnJiCitpbmRleCBiOTk5ZmM0Li5mZmI4ODdlIDEwMDY0NAorLS0tIGEvbGliL3B1cHBldC91
dGlsL21vbmtleV9wYXRjaGVzLnJiCisrKysgYi9saWIvcHVwcGV0L3V0aWwvbW9ua2V5X3BhdGNo
ZXMucmIKK0BAIC0zNSw3ICszNSw5IEBAIGNsYXNzIE9wZW5TU0w6OlNTTDo6U1NMQ29udGV4dAor
ICAgZWxzZQorICAgICBERUZBVUxUX1BBUkFNU1s6b3B0aW9uc10gPSBPcGVuU1NMOjpTU0w6Ok9Q
X05PX1NTTHYyIHwgT3BlblNTTDo6U1NMOjpPUF9OT19TU0x2MworICAgZW5kCistICBERUZBVUxU
X1BBUkFNU1s6Y2lwaGVyc10gPDwgJzohU1NMdjInCisrICBpZiBERUZBVUxUX1BBUkFNU1s6Y2lw
aGVyc10KKysgICAgREVGQVVMVF9QQVJBTVNbOmNpcGhlcnNdIDw8ICc6IVNTTHYyJworKyAgZW5k
CisgCisgICBhbGlhcyBfX29yaWdpbmFsX2luaXRpYWxpemUgaW5pdGlhbGl6ZQorICAgcHJpdmF0
ZSA6X19vcmlnaW5hbF9pbml0aWFsaXplCistLSAKKzIuNy40CisKZGlmZiAtLWdpdCBhL3B1cHBl
dC5zcGVjIGIvcHVwcGV0LnNwZWMKaW5kZXggNzFlOTRjZC4uZGEzMDNkNyAxMDA2NDQKLS0tIGEv
cHVwcGV0LnNwZWMKKysrIGIvcHVwcGV0LnNwZWMKQEAgLTE5LDcgKzE5LDcgQEAKIAogTmFtZTog
ICAgICAgICAgIHB1cHBldAogVmVyc2lvbjogICAgICAgIDQuNi4yCi1SZWxlYXNlOiAgICAgICAg
MiV7P2Rpc3R9CitSZWxlYXNlOiAgICAgICAgMyV7P2Rpc3R9CiBTdW1tYXJ5OiAgICAgICAgQSBu
ZXR3b3JrIHRvb2wgZm9yIG1hbmFnaW5nIG1hbnkgZGlzcGFyYXRlIHN5c3RlbXMKIExpY2Vuc2U6
ICAgICAgICBBU0wgMi4wCiBVUkw6ICAgICAgICAgICAgaHR0cDovL3B1cHBldGxhYnMuY29tCkBA
IC0zMiw2ICszMiw4IEBAIFNvdXJjZTQ6ICAgICAgICBzdGFydC1wdXBwZXQtd3JhcHBlcgogIyBQ
dXBwZXRsYWJzIG1lc3NlZCB1cCB3aXRoIGRlZmF1bHQgcGF0aHMKIFBhdGNoMDE6ICAgICAgICAw
MDAxLUZpeC1wdXBwZXQtcGF0aHMucGF0Y2gKIFBhdGNoMDI6ICAgICAgICAwMDAyLVJldmVydC1t
YWludC1SZW1vdmUtcHVwcGV0bWFzdGVyLnNlcnZpY2UucGF0Y2gKK1BhdGNoMDM6ICAgICAgICAw
MDAzLVJlbW92ZS11bnVzZWQtcmVxdXJlLXhtbHJwYy1jbGllbnQucGF0Y2gKK1BhdGNoMDQ6ICAg
ICAgICAwMDA0LVBVUC03MzgzLVNraXAtY2lwaGVyLW1vbmtleS1wYXRjaC1vbi1ydWJ5LTIuNC5w
YXRjaAogR3JvdXA6ICAgICAgICAgIFN5c3RlbSBFbnZpcm9ubWVudC9CYXNlCiAKIEJ1aWxkUm9v
dDogICAgICAle190bXBwYXRofS8le25hbWV9LSV7dmVyc2lvbn0tJXtyZWxlYXNlfS1yb290LSUo
JXtfX2lkX3V9IC1uKQpAQCAtMTE5LDYgKzEyMSw4IEBAIFRoZSBzZXJ2ZXIgY2FuIGFsc28gZnVu
Y3Rpb24gYXMgYSBjZXJ0aWZpY2F0ZSBhdXRob3JpdHkgYW5kIGZpbGUgc2VydmVyLgogJXNldHVw
IC1xCiAlcGF0Y2gwMSAtcDEgLWIgLnBhdGhzCiAlcGF0Y2gwMiAtcDEgLWIgLnNlcnZlcgorJXBh
dGNoMDMgLXAxCislcGF0Y2gwNCAtcDEKICMgVW5idW5kbGUKIHJtIC1yIGxpYi9wdXBwZXQvdmVu
ZG9yLyp7cGF0aHNwZWMscmdlbn0qCiAKQEAgLTM4Niw2ICszOTAsOSBAQCBleGl0IDAKIHJtIC1y
ZiAle2J1aWxkcm9vdH0KIAogJWNoYW5nZWxvZworKiBUaHUgTWF5IDE4IDIwMTcgRG9taW5pYyBD
bGVhbCA8ZG9taW5pY0BjbGVhbC5vcmc+IC0gNC42LjItMworLSBGaXggUnVieSAyLjQgY29tcGF0
aWJpbGl0eSwgeG1scnBjICsgT3BlblNTTCBlcnJvcnMgKEJaIzE0NDM2NzMsIEJaIzE0NDA3MTAp
CisKICogU2F0IEZlYiAxMSAyMDE3IEZlZG9yYSBSZWxlYXNlIEVuZ2luZWVyaW5nIDxyZWxlbmdA
ZmVkb3JhcHJvamVjdC5vcmc+IC0gNC42LjItMgogLSBSZWJ1aWx0IGZvciBodHRwczovL2ZlZG9y
YXByb2plY3Qub3JnL3dpa2kvRmVkb3JhXzI2X01hc3NfUmVidWlsZAogCi0tIAoyLjcuNAoK
</data>

          </attachment>
      

    </bug>

</bugzilla>
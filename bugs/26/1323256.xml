<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1323256</bug_id>
          
          <creation_ts>2016-04-01 11:59:00 -0400</creation_ts>
          <short_desc>Use python3 for /usr/bin/pygmentize</short_desc>
          <delta_ts>2017-04-01 13:30:19 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>python-pygments</component>
          <version>26</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1285816</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Miro Hrončok">mhroncok</reporter>
          <assigned_to name="Steve Milner">smilner</assigned_to>
          <cc>ishcherb</cc>
    
    
    <cc>smilner</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>python-pygments-2.2.0-7.fc25 python-pygments-2.2.0-7.fc26</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-03-29 21:20:40</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9200561</commentid>
    <comment_count>0</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-04-01 11:59:24 -0400</bug_when>
    <thetext>Description of problem:
/usr/bin/pygmentize uses python2 while it should work with the default version of Python, python3

Version-Release number of selected component (if applicable):
python-pygments-0:2.1.3-1.fc24
python-pygments-0:2.1.3-1.fc25

How reproducible:
Always.

Steps to Reproduce:
1. dnf install /usr/bin/pygmentize

Actual results:
python-pygments is installed

Expected results:
python3-pygments is installed</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10204009</commentid>
    <comment_count>1</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-02 17:23:22 -0500</bug_when>
    <thetext>python-pygments-2.2.0-1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-ab70d1df45</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10204272</commentid>
    <comment_count>2</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2017-03-02 19:48:25 -0500</bug_when>
    <thetext>What is the purpose of %{_bindir}/pygmentize2 and %{_bindir}/pygmentize3?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10204281</commentid>
    <comment_count>3</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2017-03-02 19:54:10 -0500</bug_when>
    <thetext>To quote from the guidelines [0]:

&quot;If the executables provide the same functionality independent of whether they are run on top of Python 2 or Python 3, then only the Python 3 version of the executable should be packaged. Transitioning from python2 to python3 is left to individual package maintainers except for packages in Fedora&apos;s critical path. For these, we want to port to python3 versions in the same Fedora release if possible.

Examples of this:

/usr/bin/pygmentize ought to generate the same output regardless of whether it&apos;s implemented via Python 2 or Python 3, so only one version needs to be shipped.&quot;

So the actual fix here is to change it to python3 only or keep it python2 only (if there&apos;s a good reason for that).

[0] https://fedoraproject.org/wiki/Packaging:Python#Avoiding_collisions_between_the_python_2_and_python_3_stacks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10204284</commentid>
    <comment_count>4</comment_count>
    <who name="Steve Milner">smilner</who>
    <bug_when>2017-03-02 19:56:15 -0500</bug_when>
    <thetext>Miro,

Good point. It was done to avoid the collision but I&apos;ll update the package.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10204307</commentid>
    <comment_count>5</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2017-03-02 20:06:27 -0500</bug_when>
    <thetext>Also, if you intend to switch for python3 as I originally suggested in #c0, I&apos;d avoid doing it in a stable release and would only do it in rawhide and F26.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10204719</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-02 23:54:24 -0500</bug_when>
    <thetext>python-pygments-2.2.0-1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-ab70d1df45</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10210764</commentid>
    <comment_count>7</comment_count>
    <who name="Iryna Shcherbina">ishcherb</who>
    <bug_when>2017-03-06 05:35:58 -0500</bug_when>
    <thetext>The python3-pygments RPM requires both Python 2 and Python 3.

$ dnf --disablerepo=* --enablerepo=rawhide repoquery --requires python3-pygments
/usr/bin/python
python(abi) = 3.5
...

Except in very special circumstances, there is no need for one package
to drag in both Python stacks. Usually, this is a packaging error: currently an executable built with Python 2 is included in a python3 subpackage.

If you intend the executable to be Python 2 only, it should be included in Python 2 subpackage. If you intend to switch for Python 3, as originally suggested and strongly encouraged, then make sure you install an executable built with Python 3.

It&apos;s ok to do this in Rawhide only, however, it would be greatly
appreciated if you could push it to Fedora 26 as well.


If anything is unclear, or if you need any kind of assistance, you can
ask on IRC (#fedora-python on Freenode), or reply here. We&apos;ll be happy
to help investigating or fixing this issue!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10211814</commentid>
    <comment_count>8</comment_count>
    <who name="Steve Milner">smilner</who>
    <bug_when>2017-03-06 09:35:10 -0500</bug_when>
    <thetext>Thanks for the report. I&apos;m going to update the package and make the binary Python3 only per the Fedora Guidelines. I went ahead and unpushed 2.2.0-1 in the meantime.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10213902</commentid>
    <comment_count>9</comment_count>
    <who name="Steve Milner">smilner</who>
    <bug_when>2017-03-06 15:01:20 -0500</bug_when>
    <thetext>python3-pygments should no longer /usr/bin/python starting 2.2.0-4 (F26 and master)

$ rpm -qpR python3-pygments-2.2.0-4.fc27.noarch.rpm
/usr/bin/python3
python(abi) = 3.5
python3-setuptools
&lt;snip&gt;</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10271357</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-23 15:39:26 -0400</bug_when>
    <thetext>python-pygments-2.2.0-7.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-3ceb94d98d</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10271364</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-23 15:39:47 -0400</bug_when>
    <thetext>python-pygments-2.2.0-7.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-f70a3c4cc7</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10275180</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-24 10:52:50 -0400</bug_when>
    <thetext>python-pygments-2.2.0-7.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-f70a3c4cc7</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10276222</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-24 16:24:04 -0400</bug_when>
    <thetext>python-pygments-2.2.0-7.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-3ceb94d98d</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10288874</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-29 21:20:40 -0400</bug_when>
    <thetext>python-pygments-2.2.0-7.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10296903</commentid>
    <comment_count>15</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-04-01 13:30:19 -0400</bug_when>
    <thetext>python-pygments-2.2.0-7.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
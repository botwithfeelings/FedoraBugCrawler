<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1444422</bug_id>
          
          <creation_ts>2017-04-21 06:07:00 -0400</creation_ts>
          <short_desc>/var/lib/snapd not removed when removing snapd</short_desc>
          <delta_ts>2017-06-23 16:52:10 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>snapd</component>
          <version>26</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Jan Niklas Hasse">jhasse</reporter>
          <assigned_to name="Neal Gompa">ngompa13</assigned_to>
          <cc>me</cc>
    
    
    <cc>morphis</cc>
    
    
    <cc>ngompa13</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>snapd-2.26.3-3.fc26 snapd-2.26.3-3.fc24 snapd-2.26.3-3.fc25</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-06-23 10:18:52</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          <external_bugs name="Launchpad">1685626</external_bugs>
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10352895</commentid>
    <comment_count>0</comment_count>
    <who name="Jan Niklas Hasse">jhasse</who>
    <bug_when>2017-04-21 06:07:56 -0400</bug_when>
    <thetext>Description of problem:
It isn&apos;t possible to remove the &quot;core&quot; package via &quot;sudo snap remove core&quot;. In the bug report here https://bugs.launchpad.net/ubuntu/+source/snapd/+bug/1589210 it is suggested to purge the snapd package (with apt) itself in that case. When using &quot;dnf remove snapd&quot; the core package is left behind along with the /var/lib/snapd directory and files like /etc/systemd/system/var-lib-snapd-snap-core-1577.mount.

Version-Release number of selected component (if applicable):
2.24-1.fc26

Steps to Reproduce:
1. sudo dnf install snapd
2. sudo snap install hello-word
3. sudo dnf remove snapd
4. find / -iname &apos;*snapd*&apos; 2&gt;/dev/null

Actual results:
Lots of files

Expected results:
No new files as before installing snapd (except for cache files and files in home directories).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10353468</commentid>
    <comment_count>1</comment_count>
    <who name="Neal Gompa">ngompa13</who>
    <bug_when>2017-04-21 09:40:53 -0400</bug_when>
    <thetext>@Zygmunt: Is there a proper cleanup command that can be run to umount and delete all snaps that can be used in preun stage? If there is, we can use that do do proper cleanup on actual uninstall (as opposed to upgrades).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10355283</commentid>
    <comment_count>2</comment_count>
    <who name="Zygmunt Krynicki">me</who>
    <bug_when>2017-04-24 03:18:56 -0400</bug_when>
    <thetext>I think there is one but it may need some improvements. The code is in `debian/postrm` file but it assumes /snap so we&apos;d need a version for Fedora that&apos;s separate. Essentially a %postun section, right?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10355364</commentid>
    <comment_count>3</comment_count>
    <who name="Simon Fels">morphis</who>
    <bug_when>2017-04-24 03:48:48 -0400</bug_when>
    <thetext>@Zygmund, Neal: I am wondering if we can&apos;t generalize that bit of code a bit more so that we have a common helper which gets used everywhere and can be maintained upstream. For a first fix just a copy is fine but mid term we should think about this and then make this a prerm job.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10378568</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-02 07:01:58 -0400</bug_when>
    <thetext>snapd-2.25-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-866e9643a8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10378573</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-02 07:02:33 -0400</bug_when>
    <thetext>snapd-2.25-1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-2e4459fa03</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10378577</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-02 07:03:09 -0400</bug_when>
    <thetext>snapd-2.25-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-74f7c7df46</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10380545</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-02 21:02:14 -0400</bug_when>
    <thetext>snapd-2.25-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-866e9643a8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10386593</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-04 11:18:58 -0400</bug_when>
    <thetext>snapd-2.25-1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-2e4459fa03</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10386607</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-04 11:21:08 -0400</bug_when>
    <thetext>snapd-2.25-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-74f7c7df46</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10390278</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-05 17:00:45 -0400</bug_when>
    <thetext>snapd-2.25-1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-2e4459fa03</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10390426</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-05 18:37:00 -0400</bug_when>
    <thetext>snapd-2.25-1.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-74f7c7df46</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10425418</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-18 09:53:58 -0400</bug_when>
    <thetext>snapd-2.26.3-1.fc26 snapd-glib-1.12-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-74f7c7df46</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10425438</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-18 09:55:10 -0400</bug_when>
    <thetext>snapd-2.26.3-1.fc25 snapd-glib-1.12-1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-2e4459fa03</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10425453</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-18 09:56:20 -0400</bug_when>
    <thetext>snapd-2.26.3-1.fc24 snapd-glib-1.12-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-866e9643a8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10430269</commentid>
    <comment_count>15</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-19 17:09:17 -0400</bug_when>
    <thetext>snapd-2.26.3-1.fc26, snapd-glib-1.12-1.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-74f7c7df46</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10430527</commentid>
    <comment_count>16</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-19 21:05:24 -0400</bug_when>
    <thetext>snapd-2.26.3-1.fc25, snapd-glib-1.12-1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-2e4459fa03</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10430577</commentid>
    <comment_count>17</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-19 23:01:29 -0400</bug_when>
    <thetext>snapd-2.26.3-1.fc24, snapd-glib-1.12-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-866e9643a8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10431436</commentid>
    <comment_count>18</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-21 13:13:50 -0400</bug_when>
    <thetext>snapd-2.26.3-2.fc26 snapd-glib-1.12-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-74f7c7df46</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10431440</commentid>
    <comment_count>19</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-21 13:15:07 -0400</bug_when>
    <thetext>snapd-2.26.3-2.fc25 snapd-glib-1.12-1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-2e4459fa03</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10431444</commentid>
    <comment_count>20</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-21 13:16:04 -0400</bug_when>
    <thetext>snapd-2.26.3-2.fc24 snapd-glib-1.12-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-866e9643a8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10431647</commentid>
    <comment_count>21</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-21 19:32:06 -0400</bug_when>
    <thetext>snapd-2.26.3-2.fc26, snapd-glib-1.12-1.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-74f7c7df46</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10432701</commentid>
    <comment_count>22</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-22 05:25:22 -0400</bug_when>
    <thetext>snapd-2.26.3-2.fc24, snapd-glib-1.12-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-866e9643a8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10432718</commentid>
    <comment_count>23</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-22 05:28:17 -0400</bug_when>
    <thetext>snapd-2.26.3-2.fc25, snapd-glib-1.12-1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-2e4459fa03</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10447546</commentid>
    <comment_count>24</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-25 09:20:51 -0400</bug_when>
    <thetext>snapd-2.26.3-3.fc26 snapd-glib-1.12-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-74f7c7df46</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10447555</commentid>
    <comment_count>25</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-25 09:22:11 -0400</bug_when>
    <thetext>snapd-2.26.3-3.fc25 snapd-glib-1.12-1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-2e4459fa03</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10447561</commentid>
    <comment_count>26</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-25 09:23:25 -0400</bug_when>
    <thetext>snapd-2.26.3-3.fc24 snapd-glib-1.12-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-866e9643a8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10449944</commentid>
    <comment_count>27</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-26 01:59:17 -0400</bug_when>
    <thetext>snapd-2.26.3-3.fc24, snapd-glib-1.12-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-866e9643a8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10449986</commentid>
    <comment_count>28</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-26 02:01:34 -0400</bug_when>
    <thetext>snapd-2.26.3-3.fc25, snapd-glib-1.12-1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-2e4459fa03</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10452459</commentid>
    <comment_count>29</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-26 15:34:27 -0400</bug_when>
    <thetext>snapd-2.26.3-3.fc26, snapd-glib-1.12-1.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-74f7c7df46</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10535579</commentid>
    <comment_count>30</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-23 10:18:52 -0400</bug_when>
    <thetext>snapd-2.26.3-3.fc26, snapd-glib-1.12-1.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10536504</commentid>
    <comment_count>31</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-23 15:50:46 -0400</bug_when>
    <thetext>snapd-2.26.3-3.fc24, snapd-glib-1.12-1.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10536602</commentid>
    <comment_count>32</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-23 16:52:10 -0400</bug_when>
    <thetext>snapd-2.26.3-3.fc25, snapd-glib-1.12-1.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
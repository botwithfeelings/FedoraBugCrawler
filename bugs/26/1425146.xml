<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1425146</bug_id>
          
          <creation_ts>2017-02-20 11:33:00 -0500</creation_ts>
          <short_desc>Blender UI flickering on viewport updates</short_desc>
          <delta_ts>2017-03-23 14:21:10 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>blender</component>
          <version>26</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>Desktop, Reopened</keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Kai A. Hiller">V02460</reporter>
          <assigned_to name="Luya Tshimbalanga">luya_tfz</assigned_to>
          <cc>design-devel</cc>
    
    
    <cc>hobbes1069</cc>
    
    
    <cc>jochen</cc>
    
    
    <cc>jonas</cc>
    
    
    <cc>kwizart</cc>
    
    
    <cc>luya</cc>
    
    
    <cc>luya_tfz</cc>
    
    
    <cc>negativo17</cc>
    
    
    <cc>promac</cc>
    
    
    <cc>V02460</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>blender-2.78b-2.fc25 blender-2.78c-2.fc24 blender-2.78c-2.fc25</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-03-23 13:20:41</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10167825</commentid>
    <comment_count>0</comment_count>
    <who name="Kai A. Hiller">V02460</who>
    <bug_when>2017-02-20 11:33:37 -0500</bug_when>
    <thetext>Description of problem:
Whenever the viewport gets updated in blender, parts of the UI start to flicker.

In the flickering area it seems to display uninitialized video data as distorted content from closed programs can be seen; so this might be a video driver bug.

Version-Release number of selected component (if applicable):
blender 2.78a

How reproducible:
Trigger an update of the viewport in blender.

Steps to Reproduce:
1. Open Blender
2. Middle click and drag the viewport to move around the scene

Actual results:
The UI elements flicker as long as the camera moves

Expected results:
No flickering

Additional info:

$ lspci | grep VGA
01:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Tahiti PRO [Radeon HD 7950/8950 OEM / R9 280]

The bug occurs on X and Wayland.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10168288</commentid>
    <comment_count>1</comment_count>
    <who name="Luya Tshimbalanga">luya</who>
    <bug_when>2017-02-20 14:05:08 -0500</bug_when>
    <thetext>(In reply to Kai A. Hiller from comment #0)
&gt; Description of problem:
&gt; Whenever the viewport gets updated in blender, parts of the UI start to
&gt; flicker.
&gt; 

Hello Kai, 
Could you run this update
https://bodhi.fedoraproject.org/updates/FEDORA-2017-cb90d53994
or execute the command via terminal

sudo dnf upgrade blender --enablerepo=updates-testing

to see if that flickering issue goes away? 
It looks like a driver issue at the first impression but more information is needed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10170539</commentid>
    <comment_count>2</comment_count>
    <who name="Kai A. Hiller">V02460</who>
    <bug_when>2017-02-21 07:17:30 -0500</bug_when>
    <thetext>The problem persists in blender 2.78b.

As a note: I am on Rawhide, so I had to downgrade libGLEW from 2.0.0 → 1.13.0 to make the f25 package you suggested work.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10173234</commentid>
    <comment_count>3</comment_count>
    <who name="Luya Tshimbalanga">luya</who>
    <bug_when>2017-02-21 23:56:27 -0500</bug_when>
    <thetext>(In reply to Kai A. Hiller from comment #2)
&gt; The problem persists in blender 2.78b.
&gt; 
&gt; As a note: I am on Rawhide, so I had to downgrade libGLEW from 2.0.0 →
&gt; 1.13.0 to make the f25 package you suggested work.

It would not matter. It appears the issue is related to Radeon GPU driver  as I found a related problem on upstream bug report: https://developer.blender.org/T48817

I confirm the bug on my AMD/AMD hybrid laptop. However, I am unable to reproduce it on Virtualbox and Gnome Boxes. Need to further verify on nVidia and Intel hardware.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10173413</commentid>
    <comment_count>4</comment_count>
    <who name="Luya Tshimbalanga">luya</who>
    <bug_when>2017-02-22 01:55:42 -0500</bug_when>
    <thetext>Further research revealed a bug from upstream where blender with Window Draw Method set to automatic will not assign to Triple Buffer

https://developer.blender.org/T49945</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10173437</commentid>
    <comment_count>5</comment_count>
    <who name="Luya Tshimbalanga">luya</who>
    <bug_when>2017-02-22 02:06:44 -0500</bug_when>
    <thetext>Could you try this workaround on terminal?
LIBGL_DRI3_DISABLE=1 blender</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10174251</commentid>
    <comment_count>6</comment_count>
    <who name="Kai A. Hiller">V02460</who>
    <bug_when>2017-02-22 07:12:33 -0500</bug_when>
    <thetext>Setting LIBGL_DRI3_DISABLE=1 fixes the issue. Also changing blender to use Triple Buffering fixes the issue (File → User Preferences → Window Draw Method: Triple Buffer).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10183539</commentid>
    <comment_count>7</comment_count>
    <who name="Luya Tshimbalanga">luya</who>
    <bug_when>2017-02-25 03:22:05 -0500</bug_when>
    <thetext>Could you test this scratch build on rawhide?
https://koji.fedoraproject.org/koji/taskinfo?taskID=18048028

It contains upstream patch that added missing AMD GPU detection. Please set Window Draw Method to Automatic and verify if the fix eliminates flickering on UI. Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10183788</commentid>
    <comment_count>8</comment_count>
    <who name="Kai A. Hiller">V02460</who>
    <bug_when>2017-02-25 11:51:15 -0500</bug_when>
    <thetext>The build fixes the issue :)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10183814</commentid>
    <comment_count>9</comment_count>
    <who name="Luya Tshimbalanga">luya</who>
    <bug_when>2017-02-25 13:12:32 -0500</bug_when>
    <thetext>Excellent. The build is on the way. Please add karma to make it available on stable repository.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10183857</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-25 15:34:52 -0500</bug_when>
    <thetext>blender-2.78b-2.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-e827f09c86</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10183858</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-25 15:35:03 -0500</bug_when>
    <thetext>blender-2.78b-2.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-c4ee520d53</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184830</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-26 18:17:35 -0500</bug_when>
    <thetext>blender-2.78b-2.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-e827f09c86</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184843</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-26 18:18:43 -0500</bug_when>
    <thetext>blender-2.78b-2.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-c4ee520d53</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10193388</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2017-02-28 07:23:43 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 26 development cycle.
Changing version to &apos;26&apos;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10195629</commentid>
    <comment_count>15</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-28 20:14:28 -0500</bug_when>
    <thetext>YafaRay-3.2.0-0.6.20170221git.fc25 LuxRender-1.6-9.fc25 blender-2.78c-1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-ac6c25236a</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10195631</commentid>
    <comment_count>16</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-28 20:14:48 -0500</bug_when>
    <thetext>YafaRay-3.2.0-0.6.20170221git.fc24 LuxRender-1.6-9.fc24 blender-2.78c-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-eb813704bd</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10195683</commentid>
    <comment_count>17</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-28 20:25:08 -0500</bug_when>
    <thetext>blender-2.78b-2.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10200174</commentid>
    <comment_count>18</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-01 21:21:21 -0500</bug_when>
    <thetext>LuxRender-1.6-9.fc25, YafaRay-3.2.0-0.6.20170221git.fc25, blender-2.78c-1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-ac6c25236a</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10200262</commentid>
    <comment_count>19</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-01 21:51:57 -0500</bug_when>
    <thetext>LuxRender-1.6-9.fc24, YafaRay-3.2.0-0.6.20170221git.fc24, blender-2.78c-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-eb813704bd</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10211553</commentid>
    <comment_count>20</comment_count>
    <who name="Simone Caronni">negativo17</who>
    <bug_when>2017-03-06 08:44:29 -0500</bug_when>
    <thetext>*** Bug 1429245 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10230095</commentid>
    <comment_count>21</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-11 02:43:15 -0500</bug_when>
    <thetext>LuxRender-1.6-11.fc25 YafaRay-3.2.0-0.6.20170221git.fc25 blender-2.78c-1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-ac6c25236a</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10230098</commentid>
    <comment_count>22</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-11 02:46:38 -0500</bug_when>
    <thetext>LuxRender-1.6-11.fc24 YafaRay-3.2.0-0.6.20170221git.fc24 blender-2.78c-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-eb813704bd</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10230385</commentid>
    <comment_count>23</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-11 09:24:35 -0500</bug_when>
    <thetext>LuxRender-1.6-11.fc25, YafaRay-3.2.0-0.6.20170221git.fc25, blender-2.78c-1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-ac6c25236a</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10231399</commentid>
    <comment_count>24</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-12 20:20:44 -0400</bug_when>
    <thetext>LuxRender-1.6-11.fc24, YafaRay-3.2.0-0.6.20170221git.fc24, blender-2.78c-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-eb813704bd</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10239985</commentid>
    <comment_count>25</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-14 21:29:43 -0400</bug_when>
    <thetext>LuxRender-1.6-11.fc25 YafaRay-3.2.0-0.6.20170221git.fc25 blender-2.78c-2.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-ac6c25236a</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10239993</commentid>
    <comment_count>26</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-14 21:31:27 -0400</bug_when>
    <thetext>LuxRender-1.6-11.fc24 YafaRay-3.2.0-0.6.20170221git.fc24 blender-2.78c-2.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-eb813704bd</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10243337</commentid>
    <comment_count>27</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-15 15:55:26 -0400</bug_when>
    <thetext>LuxRender-1.6-11.fc24, YafaRay-3.2.0-0.6.20170221git.fc24, blender-2.78c-2.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-eb813704bd</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10243360</commentid>
    <comment_count>28</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-15 15:57:16 -0400</bug_when>
    <thetext>LuxRender-1.6-11.fc25, YafaRay-3.2.0-0.6.20170221git.fc25, blender-2.78c-2.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-ac6c25236a</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10270891</commentid>
    <comment_count>29</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-23 13:20:41 -0400</bug_when>
    <thetext>LuxRender-1.6-11.fc24, YafaRay-3.2.0-0.6.20170221git.fc24, blender-2.78c-2.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10271140</commentid>
    <comment_count>30</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-23 14:21:10 -0400</bug_when>
    <thetext>LuxRender-1.6-11.fc25, YafaRay-3.2.0-0.6.20170221git.fc25, blender-2.78c-2.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1377742</bug_id>
          
          <creation_ts>2016-09-20 09:56:00 -0400</creation_ts>
          <short_desc>dnf repomanage writes too much to stdout</short_desc>
          <delta_ts>2017-03-10 06:00:33 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>dnf</component>
          <version>26</version>
          <rep_platform>All</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>RAWHIDE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>EasyFix, Triaged, UserExperience</keywords>
          <priority>low</priority>
          <bug_severity>low</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Oliver Henshaw">oliver.henshaw</reporter>
          <assigned_to>rpm-software-management</assigned_to>
          <cc>jkadlcik</cc>
    
    
    <cc>jmracek</cc>
    
    
    <cc>mluscon</cc>
    
    
    <cc>packaging-team-maint</cc>
    
    
    <cc>pnemade</cc>
    
    
    <cc>rpm-software-management</cc>
    
    
    <cc>vmukhame</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>dnf-2.0.1-1</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-03-10 06:00:33</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9726289</commentid>
    <comment_count>0</comment_count>
    <who name="Oliver Henshaw">oliver.henshaw</who>
    <bug_when>2016-09-20 09:56:52 -0400</bug_when>
    <thetext>Description of problem:

According to dnf.plugin.repomanage(8) the program is meant to be suitable to piping into xargs and other programs. However it currently writes status messages to stdout.

$ dnf repomanage --space --old --keep=2 /path/to/repo/ 1&gt; /dev/null
$ dnf repomanage --space --old --keep=2 /mpath/to/repo/ 2&gt; /dev/null
enabling updates-debuginfo repository
enabling fedora-debuginfo repository
enabling rpmfusion-free-updates-debuginfo repository
enabling rpmfusion-free-debuginfo repository
enabling rpmfusion-nonfree-updates-debuginfo repository
enabling local-debuginfo repository
enabling rpmfusion-nonfree-debuginfo repository

which can cause problems in scripts expecting a list of packages to remove...

This is similar in effect to bug #1352130.


Version-Release number of selected component (if applicable):

dnf-1.1.10-1.fc23.noarch
python-dnf-plugins-extras-repomanage-0.0.12-1.fc23.noarch
python3-dnf-plugins-extras-repomanage-0.0.12-1.fc23.noarch

Seems like it could be a regression in dnf as it&apos;s a fairly new problem.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9928978</commentid>
    <comment_count>1</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-11-25 04:35:36 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 23 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 23. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as EOL if it remains open with a Fedora  &apos;version&apos;
of &apos;23&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version.

Thank you for reporting this issue and we are sorry that we were not 
able to fix it before Fedora 23 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior this bug is closed as described in the policy above.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9984099</commentid>
    <comment_count>2</comment_count>
    <who name="Jaroslav Mracek">jmracek</who>
    <bug_when>2016-12-14 05:12:01 -0500</bug_when>
    <thetext>The problem can be solved by -q option. In future we have a plan to change the default behavior of logger for the command like in pull-request https://github.com/rpm-software-management/dnf/pull/681 . Thanks a lot for reporting.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10044524</commentid>
    <comment_count>3</comment_count>
    <who name="Jaroslav Mracek">jmracek</who>
    <bug_when>2017-01-09 04:38:37 -0500</bug_when>
    <thetext>Created pull-request that should help: https://github.com/rpm-software-management/dnf-plugins-extras/pull/79</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10191295</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2017-02-28 05:20:12 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 26 development cycle.
Changing version to &apos;26&apos;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10227847</commentid>
    <comment_count>5</comment_count>
    <who name="Jaroslav Mracek">jmracek</who>
    <bug_when>2017-03-10 06:00:33 -0500</bug_when>
    <thetext>Fixed in dnf-2.0.1-1 and released into rawhide</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
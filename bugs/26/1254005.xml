<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1254005</bug_id>
          
          <creation_ts>2015-08-16 10:42:00 -0400</creation_ts>
          <short_desc>dnf exclude doesn&apos;t work</short_desc>
          <delta_ts>2017-03-20 12:37:03 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>dnf</component>
          <version>26</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>RAWHIDE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>Reopened, Triaged</keywords>
          <priority>low</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Tom Horsley">horsley1953</reporter>
          <assigned_to>rpm-software-management</assigned_to>
          <cc>atodorov</cc>
    
    
    <cc>jmracek</cc>
    
    
    <cc>jzeleny</cc>
    
    
    <cc>mluscon</cc>
    
    
    <cc>mmraka</cc>
    
    
    <cc>packaging-team-maint</cc>
    
    
    <cc>paul</cc>
    
    
    <cc>pnemade</cc>
    
    
    <cc>tla</cc>
    
    
    <cc>vmukhame</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-03-20 12:08:18</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>8545643</commentid>
    <comment_count>0</comment_count>
    <who name="Tom Horsley">horsley1953</who>
    <bug_when>2015-08-16 10:42:03 -0400</bug_when>
    <thetext>Description of problem:
Over in bug 1249309 (in comment 15) there is a pointer to a koji build
of xorg-x11-drv-libinput I need to use to fix my drag lock problems.

In the repos there is a xorg-x11-drv-libinput-0.13.0-1.fc22.x86_64.rpm
which looks &quot;newer&quot; to dnf.

I don&apos;t want the repo version though because it doesn&apos;t have the drag lock
bug fix yet, so I tried adding this line to /etc/dnf/dnf.conf

exclude=xorg-x11-drv-libinput-0.13.0-1.*

It has no effect though, it keeps on downloading and trying to install the libinput driver from the repos. I just want it to exclude that version because a newer version is likely to contain the drag lock fix, so I&apos;m willing to try the next version, just not that version, but I can&apos;t seem to get exclude to do that.

Version-Release number of selected component (if applicable):
dnf-1.1.0-2.fc22.noarch


How reproducible:
100%

Steps to Reproduce:
1.add the exclude line above in the [main] section
2.dnf clean packages
3.dnf clean metadata
4.dnf update

Actual results:
The dnf update still wants to:
Upgrading:
 xorg-x11-drv-libinput      x86_64      0.13.0-1.fc22        updates       30 k


Expected results:
No new xorg-x11-drv-libinput till a version newer than 0.13.0-1 comes along.

Additional info:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8588963</commentid>
    <comment_count>1</comment_count>
    <who name="Honza Silhan">jsilhan</who>
    <bug_when>2015-08-31 07:50:32 -0400</bug_when>
    <thetext>As a temp workround use: `exclude=xorg-x11-drv-libinput-0.13.0-1.fc22.*1, please</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8589130</commentid>
    <comment_count>2</comment_count>
    <who name="Tom Horsley">horsley1953</who>
    <bug_when>2015-08-31 08:23:53 -0400</bug_when>
    <thetext>This particular example doesn&apos;t really matter any longer since the libinput driver with the bugfix has now been released (and is on my system), now I&apos;m just having trouble imagining how the .*1 on the end of the work around ever matches anything :-).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8632886</commentid>
    <comment_count>3</comment_count>
    <who name="Alexander Todorov">atodorov</who>
    <bug_when>2015-09-14 10:19:17 -0400</bug_when>
    <thetext>Pleas see bug #1262878. Possible duplicate or related.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9055939</commentid>
    <comment_count>4</comment_count>
    <who name="Paul Howarth">paul</who>
    <bug_when>2016-02-12 09:35:18 -0500</bug_when>
    <thetext>There&apos;s an inconsistency between the config file parser and the command-line option parser. Specifying epoch/version/release for an exclude in the config file does not work, but does with --exclude=n-e:v-r on the command-line.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9490231</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Admin XMLRPC Client">fedora-admin-xmlrpc</who>
    <bug_when>2016-07-08 05:29:19 -0400</bug_when>
    <thetext>This package has changed ownership in the Fedora Package Database.  Reassigning to the new owner of this component.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9526499</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-07-19 13:31:32 -0400</bug_when>
    <thetext>Fedora 22 changed to end-of-life (EOL) status on 2016-07-19. Fedora 22 is
no longer maintained, which means that it will not receive any further
security or bug fix updates. As a result we are closing this bug.

If you can reproduce this bug against a currently maintained version of
Fedora please feel free to reopen this bug against that version. If you
are unable to reopen this bug, please file a new report against the
current release. If you experience problems, please add a comment to this
bug.

Thank you for reporting this bug and we are sorry it could not be fixed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9531129</commentid>
    <comment_count>7</comment_count>
    <who name="Paul Howarth">paul</who>
    <bug_when>2016-07-20 04:36:43 -0400</bug_when>
    <thetext>Inconsistency between the config file parser and the command-line option parser still present in F-23.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9921504</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-11-24 07:19:25 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 23 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 23. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as EOL if it remains open with a Fedora  &apos;version&apos;
of &apos;23&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version.

Thank you for reporting this issue and we are sorry that we were not 
able to fix it before Fedora 23 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior this bug is closed as described in the policy above.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9928508</commentid>
    <comment_count>9</comment_count>
    <who name="Michael MrÃ¡ka">mmraka</who>
    <bug_when>2016-11-25 04:22:03 -0500</bug_when>
    <thetext>Bug is still valid

dnf-2.0.0-0.rc1.1.git.0.e6df665

# dnf install --assumeno libidn2 -x libidn2-0.11-1.*
Last metadata expiration check: 1:07:16 ago on Fri Nov 25 09:12:29 2016 CET.
Dependencies resolved.
==========================================================================================================
 Package                 Arch                   Version                     Repository               Size
==========================================================================================================
Installing:
 libidn2                 x86_64                 0.11-1.fc24                 updates                 102 k

Transaction Summary
==========================================================================================================
Install  1 Package

Total download size: 102 k
Installed size: 335 k
Operation aborted.

while specifying full EVR works

# dnf install --assumeno libidn2 -x libidn2-0.11-1.fc24 
Last metadata expiration check: 1:06:59 ago on Fri Nov 25 09:12:29 2016 CET.
Dependencies resolved.
==========================================================================================================
 Package                 Arch                   Version                      Repository              Size
==========================================================================================================
Installing:
 libidn2                 x86_64                 0.10-4.fc24                  fedora                 101 k

Transaction Summary
==========================================================================================================
Install  1 Package

Total download size: 101 k
Installed size: 300 k
Operation aborted.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10190686</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2017-02-28 04:48:21 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 26 development cycle.
Changing version to &apos;26&apos;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10255095</commentid>
    <comment_count>11</comment_count>
    <who name="Jaroslav Mracek">jmracek</who>
    <bug_when>2017-03-20 12:08:18 -0400</bug_when>
    <thetext>The problem was, that glob usage was not implemented in libdnf for release. I implement it and it was released in libdnf-0.7.2 into rawhide (Fedora26).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10255127</commentid>
    <comment_count>12</comment_count>
    <who name="Paul Howarth">paul</who>
    <bug_when>2017-03-20 12:15:51 -0400</bug_when>
    <thetext>That doesn&apos;t sound like it addresses the inconsistency between the command-line and config-file parsers (Comment#4), which manifests without globs. Or does it?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10255205</commentid>
    <comment_count>13</comment_count>
    <who name="Jaroslav Mracek">jmracek</who>
    <bug_when>2017-03-20 12:37:03 -0400</bug_when>
    <thetext>Ok, the original issue was solved with new conf parser in dnf-2.1. Dnf-2.1 was released into rawhide and will be part of Fedora26. We also provide testing repository for Fedora24+ (&quot;dnf copr enable rpmsoftwaremanagement/dnf-nightly&quot;).
Hope that you can try and see improvements in dnf-2.1. 

Have a fun with it.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
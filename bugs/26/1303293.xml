<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1303293</bug_id>
          
          <creation_ts>2016-01-30 06:31:00 -0500</creation_ts>
          <short_desc>[abrt] dnf clean metadata crashes with ru_RU locale.</short_desc>
          <delta_ts>2017-03-23 04:08:58 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>dnf</component>
          <version>26</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>RAWHIDE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>EasyFix, i18n, Reopened, Triaged</keywords>
          <priority>medium</priority>
          <bug_severity>low</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Epifanov Ivan">isage.dna</reporter>
          <assigned_to>rpm-software-management</assigned_to>
          <cc>a.zykov.hotcoder</cc>
    
    
    <cc>debugger94</cc>
    
    
    <cc>jamesbdonovan</cc>
    
    
    <cc>jmracek</cc>
    
    
    <cc>jrohel</cc>
    
    
    <cc>lemenkov</cc>
    
    
    <cc>mastaizawfm</cc>
    
    
    <cc>maxim.prohorenko</cc>
    
    
    <cc>me</cc>
    
    
    <cc>mjuszkie</cc>
    
    
    <cc>mluscon</cc>
    
    
    <cc>mmraka</cc>
    
    
    <cc>packaging-team-maint</cc>
    
    
    <cc>pastordidi</cc>
    
    
    <cc>pnemade</cc>
    
    
    <cc>sergei.litvinenko</cc>
    
    
    <cc>ssmetana</cc>
    
    
    <cc>vmukhame</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-03-23 04:01:18</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9022628</commentid>
    <comment_count>0</comment_count>
    <who name="Epifanov Ivan">isage.dna</who>
    <bug_when>2016-01-30 06:31:01 -0500</bug_when>
    <thetext>dnf-1.1.6-1

# LC_ALL=ru_RU dnf clean metadata
Сброс источников: fedora google-chrome russianfedora-free russianfedora-nonfree russianfedora-free-updates
                : russianfedora-nonfree-updates updates
Traceback (most recent call last):
  File &quot;/usr/bin/dnf&quot;, line 57, in &lt;module&gt;
    main.user_main(sys.argv[1:], exit_code=True)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/main.py&quot;, line 174, in user_main
    errcode = main(args)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/main.py&quot;, line 60, in main
    return _main(base, args)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/main.py&quot;, line 112, in _main
    cli.run()
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/cli.py&quot;, line 1095, in run
    return self.command.run(self.base.extcmds)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 230, in run
    return self.clean(extcmds)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 200, in clean
    xmlcode, xmlresults = _clean_metadata(repos)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 107, in _clean_metadata
    return _clean_files(repos, exts, &apos;cachedir&apos;, &apos;metadata&apos;)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 98, in _clean_files
    return _clean_filelist(filetype, filelist)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 85, in _clean_filelist
    msg %= (removed, filetype)
TypeError: not all arguments converted during string formatting

Running with LC_ALL=C works fine.


I&apos;m pretty sure that&apos;s a translation problem. Looking at https://github.com/rpm-software-management/dnf/blob/master/po/ru.po#L1484 it clearly misses third plural form (well, actually second is horribly wrong too).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9026083</commentid>
    <comment_count>1</comment_count>
    <who name="Honza Silhan">jsilhan</who>
    <bug_when>2016-02-01 08:33:42 -0500</bug_when>
    <thetext>Thanks for the report. You can make better translations at https://fedora.zanata.org/project/view/dnf ;)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9026106</commentid>
    <comment_count>2</comment_count>
    <who name="Michal Domonkos">mdomonko</who>
    <bug_when>2016-02-01 08:41:27 -0500</bug_when>
    <thetext>*** Bug 1303447 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9037085</commentid>
    <comment_count>3</comment_count>
    <who name="">a.zykov.hotcoder</who>
    <bug_when>2016-02-04 14:45:35 -0500</bug_when>
    <thetext>Another user experienced a similar problem:

Try execute &apos;sudo dnf clean packages&apos; or &apos;sudo dnf clean all&apos;.

reporter:       libreport-2.6.3
cmdline:        /usr/bin/python3 /bin/dnf clean packages
executable:     /bin/dnf
kernel:         4.3.4-300.fc23.x86_64
package:        dnf-1.1.6-1.fc23
reason:         clean.py:85:_clean_filelist:TypeError: not all arguments converted during string formatting
runlevel:       N 5
type:           Python3
uid:            0</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9062678</commentid>
    <comment_count>4</comment_count>
    <who name="Sergei LITVINENKO">sergei.litvinenko</who>
    <bug_when>2016-02-14 12:21:19 -0500</bug_when>
    <thetext>in case of locale ru_UA.UTF-8 dnf is affected too


Traceback (most recent call last):
  File &quot;/usr/bin/dnf&quot;, line 57, in &lt;module&gt;
    main.user_main(sys.argv[1:], exit_code=True)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/main.py&quot;, line 174, in user_main
    errcode = main(args)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/main.py&quot;, line 60, in main
    return _main(base, args)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/main.py&quot;, line 112, in _main
    cli.run()
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/cli.py&quot;, line 1095, in run
    return self.command.run(self.base.extcmds)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 230, in run
    return self.clean(extcmds)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 184, in clean
    pkgcode, pkgresults = _clean_packages(repos)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 114, in _clean_packages
    return _clean_files(repos, exts, &apos;pkgdir&apos;, &apos;package&apos;)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 98, in _clean_files
    return _clean_filelist(filetype, filelist)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 85, in _clean_filelist
    msg %= (removed, filetype)
TypeError: not all arguments converted during string formatting</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9078515</commentid>
    <comment_count>5</comment_count>
    <who name="Maxim Prohorenko">maxim.prohorenko</who>
    <bug_when>2016-02-19 07:14:01 -0500</bug_when>
    <thetext>[root@WS143 maxim.prohorenko]# dnf update -y  
Проверка истечения последних метаданных произведена 2:21:53 назад на Fri Feb 19 12:42:17 2016.
Зависимости разрешены.
Отсутствуют действия для выполнения
Выполнено!
[root@WS143 maxim.prohorenko]# dnf clean all
Сброс источников: rpmfusion-nonfree-updates rpmfusion-free google-chrome rpmfusion-free-22 russianfedora-branding-updates russianfedora-fixes rpmfusion-nonfree-updates-testing fedora rpmfusion-free-updates-22
                : updates rpmfusion-nonfree-22 rpmfusion-free-updates russianfedora-free-updates rpmfusion-free-updates-testing russianfedora-free rpmfusion-nonfree russianfedora-fixes-updates
                : russianfedora-nonfree-updates rpmfusion-nonfree-updates-22 russianfedora-nonfree russianfedora-branding
Очистка всего
Traceback (most recent call last):
  File &quot;/bin/dnf&quot;, line 57, in &lt;module&gt;
    main.user_main(sys.argv[1:], exit_code=True)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/main.py&quot;, line 174, in user_main
    errcode = main(args)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/main.py&quot;, line 60, in main
    return _main(base, args)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/main.py&quot;, line 112, in _main
    cli.run()
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/cli.py&quot;, line 1095, in run
    return self.command.run(self.base.extcmds)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 230, in run
    return self.clean(extcmds)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 184, in clean
    pkgcode, pkgresults = _clean_packages(repos)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 114, in _clean_packages
    return _clean_files(repos, exts, &apos;pkgdir&apos;, &apos;package&apos;)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 98, in _clean_files
    return _clean_filelist(filetype, filelist)
  File &quot;/usr/lib/python3.4/site-packages/dnf/cli/commands/clean.py&quot;, line 85, in _clean_filelist
    msg %= (removed, filetype)
TypeError: not all arguments converted during string formatting
[root@WS143 maxim.prohorenko]# dnf remove python3-dnf-1.1.6-2.fc23.noarch
Зависимости разрешены.
Ошибка: The operation would result in removing the following protected packages: dnf.
[root@WS143 maxim.prohorenko]# uname -a
Linux WS143.local.rfdyn.ru 4.3.5-300.fc23.x86_64 #1 SMP Mon Feb 1 03:18:41 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux
[root@WS143 maxim.prohorenko]# 
[root@WS143 maxim.prohorenko]# LANG=C dnf clean all
Cleaning repos: rpmfusion-nonfree-updates-22 updates russianfedora-free-updates russianfedora-nonfree-updates rpmfusion-nonfree-updates-testing russianfedora-nonfree rpmfusion-free google-chrome
              : rpmfusion-free-updates-22 rpmfusion-free-updates rpmfusion-free-22 russianfedora-branding fedora rpmfusion-nonfree-22 russianfedora-free rpmfusion-nonfree rpmfusion-free-updates-testing
              : rpmfusion-nonfree-updates russianfedora-fixes-updates russianfedora-branding-updates russianfedora-fixes
Cleaning up Everything</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9203694</commentid>
    <comment_count>6</comment_count>
    <who name="Igor Gnatenko">ignatenko</who>
    <bug_when>2016-04-04 04:45:43 -0400</bug_when>
    <thetext>I can confirm this bug and was able to reproduce.

It doesn&apos;t look like it&apos;s missing 3rd plural, but it is still doesn&apos;t work.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9203758</commentid>
    <comment_count>7</comment_count>
    <who name="Igor Gnatenko">ignatenko</who>
    <bug_when>2016-04-04 05:05:39 -0400</bug_when>
    <thetext>*** Bug 1316886 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9329189</commentid>
    <comment_count>8</comment_count>
    <who name="Igor Gnatenko">ignatenko</who>
    <bug_when>2016-05-16 07:30:00 -0400</bug_when>
    <thetext>*** Bug 1334746 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9490464</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Admin XMLRPC Client">fedora-admin-xmlrpc</who>
    <bug_when>2016-07-08 05:38:20 -0400</bug_when>
    <thetext>This package has changed ownership in the Fedora Package Database.  Reassigning to the new owner of this component.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9573017</commentid>
    <comment_count>10</comment_count>
    <who name="Štěpán Smetana">ssmetana</who>
    <bug_when>2016-08-01 08:58:10 -0400</bug_when>
    <thetext>Works for me.
Should be fixed in dnf-1.1.9 (Take a look at this commit https://github.com/rpm-software-management/dnf/commit/93159e360f0b6150e598bba783e22ca113201a40)
In case reopen this bug and provide more info.
Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9587609</commentid>
    <comment_count>11</comment_count>
    <who name="Igor Gnatenko">ignatenko</who>
    <bug_when>2016-08-05 02:19:15 -0400</bug_when>
    <thetext>(In reply to Štěpán Smetana from comment #10)
&gt; Works for me.
&gt; Should be fixed in dnf-1.1.9 (Take a look at this commit
&gt; https://github.com/rpm-software-management/dnf/commit/
&gt; 93159e360f0b6150e598bba783e22ca113201a40)
&gt; In case reopen this bug and provide more info.
&gt; Thanks

rpm gpg-signing has nothing to do with this bug.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9598771</commentid>
    <comment_count>12</comment_count>
    <who name="Štěpán Smetana">ssmetana</who>
    <bug_when>2016-08-09 11:18:11 -0400</bug_when>
    <thetext>I could reproduce it only on virtual Fedora 22 with dnf-1.1.6-2
1. dnf update
2. dnf clean metadata

@Igor Please provide some steps to reproduce or close this bug. I could not reproduce it with new version of dnf.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9924699</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-11-24 10:17:17 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 23 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 23. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as EOL if it remains open with a Fedora  &apos;version&apos;
of &apos;23&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version.

Thank you for reporting this issue and we are sorry that we were not 
able to fix it before Fedora 23 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior this bug is closed as described in the policy above.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9934868</commentid>
    <comment_count>14</comment_count>
    <who name="Michael Mráka">mmraka</who>
    <bug_when>2016-11-28 09:12:47 -0500</bug_when>
    <thetext>Has been fixed during dnf 2.0 development.

dnf-2.0.0-0.rc1.4.fc26.noarch


#  LC_ALL=ru_RU dnf clean metadata
Failed to set locale, defaulting to C
42 files removed



Feel free to reopen if you disagree.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9934870</commentid>
    <comment_count>15</comment_count>
    <who name="Michael Mráka">mmraka</who>
    <bug_when>2016-11-28 09:13:29 -0500</bug_when>
    <thetext>Clearing needinfo.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9936161</commentid>
    <comment_count>16</comment_count>
    <who name="Epifanov Ivan">isage.dna</who>
    <bug_when>2016-11-28 14:27:39 -0500</bug_when>
    <thetext>&gt;Failed to set locale, defaulting to C
Seriously? You do understand, that you *do* need ru_RU locale to reproduce. It&apos;s *always* worked with C locale (and setting locale to C was used as a workaround)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9938027</commentid>
    <comment_count>17</comment_count>
    <who name="Michael Mráka">mmraka</who>
    <bug_when>2016-11-29 04:14:06 -0500</bug_when>
    <thetext>Oops, my fault.

After installation glibc-langpack-ru result is

#  LC_ALL=ru_RU dnf clean metadatary
37 ������ �������

which seems to work (except I have not correct terminal font) but it still fails for

 LC_ALL=ru dnf clean metadata
Failed to set locale, defaulting to C
0 \u0444\u0430\u0439\u043b\u043e\u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u043e
--- Logging error ---
Traceback (most recent call last):
  File &quot;/usr/lib64/python3.5/logging/__init__.py&quot;, line 982, in emit
    stream.write(msg)
UnicodeEncodeError: &apos;ascii&apos; codec can&apos;t encode characters in position 23-28: ordinal not in range(128)
Call stack:
  File &quot;/usr/bin/dnf&quot;, line 58, in &lt;module&gt;
    main.user_main(sys.argv[1:], exit_code=True)
  File &quot;/usr/lib/python3.5/site-packages/dnf/cli/main.py&quot;, line 175, in user_main
    errcode = main(args)
  File &quot;/usr/lib/python3.5/site-packages/dnf/cli/main.py&quot;, line 61, in main
    return _main(base, args)
  File &quot;/usr/lib/python3.5/site-packages/dnf/cli/main.py&quot;, line 99, in _main
    return cli_run(cli, base)
  File &quot;/usr/lib/python3.5/site-packages/dnf/cli/main.py&quot;, line 115, in cli_run
    cli.run()
  File &quot;/usr/lib/python3.5/site-packages/dnf/cli/cli.py&quot;, line 954, in run
    return self.command.run()
  File &quot;/usr/lib/python3.5/site-packages/dnf/cli/commands/clean.py&quot;, line 105, in run
    logger.info(P_(&apos;%d file removed&apos;, &apos;%d files removed&apos;, count) % count)
Message: &apos;0 \u0444\u0430\u0439\u043b\u043e\u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u043e&apos;
Arguments: ()


dnf-2.0.0-0.rc1.4.fc26.noarch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9938671</commentid>
    <comment_count>18</comment_count>
    <who name="Epifanov Ivan">isage.dna</who>
    <bug_when>2016-11-29 07:08:50 -0500</bug_when>
    <thetext>I think second error is something different. There&apos;s no such thing as ru locale (well, it&apos;s &quot;parent&quot; pseudo-locale), so it defaults to C, which is right. And the error is right too. Yet, somehow it still tries to use ru translation (most of the translations are in &quot;ru&quot; pseudo-locale, not in ru_RU).


I&apos;m pretty sure it will fail with LC_ALL=hu or LC_ALL=es

So, yeah, this bug is definitely fixed. But another one emerged, heh.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10058011</commentid>
    <comment_count>19</comment_count>
    <who name="Jaroslav Mracek">jmracek</who>
    <bug_when>2017-01-12 11:49:41 -0500</bug_when>
    <thetext>But dnf-2 works:
$ LC_ALL=ru dnf-2 clean all
bash: warning: setlocale: LC_ALL: cannot change locale (ru): No such file or directory
Failed to set locale, defaulting to C
Repository &apos;fedora&apos; is missing name in configuration, using id.
0 файлов удалено</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10105875</commentid>
    <comment_count>20</comment_count>
    <who name="Honza Silhan">jsilhan</who>
    <bug_when>2017-01-30 08:23:12 -0500</bug_when>
    <thetext>This bug is planned to be fixed within next 1-2 months.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10190770</commentid>
    <comment_count>21</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2017-02-28 04:53:16 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 26 development cycle.
Changing version to &apos;26&apos;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10201435</commentid>
    <comment_count>22</comment_count>
    <who name="Jaroslav Rohel">jrohel</who>
    <bug_when>2017-03-02 06:17:41 -0500</bug_when>
    <thetext>This pull request fix the crash https://github.com/rpm-software-management/dnf/pull/751.

But another problem is with encoding of printed messages.
Althought we get message &quot;...defaulting to C&quot;, message is translated (eg. to russian if &quot;ru&quot; is used) and unicode characters is translated to escape sequences.
That is because logger does not known the encoding of terminal (nonexistent locale &quot;ru&quot;) and recodes all characters to ASCII.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10201682</commentid>
    <comment_count>23</comment_count>
    <who name="Jaroslav Rohel">jrohel</who>
    <bug_when>2017-03-02 07:29:00 -0500</bug_when>
    <thetext>

This pull request fix the crash https://github.com/rpm-software-management/dnf/pull/751.

But another problem is with encoding of printed messages.
Althought we get message &quot;...defaulting to C&quot;, message is translated (eg. to russian if &quot;ru&quot; is used) and unicode characters are translated to escape sequences.
That is because logger does not known the encoding of terminal (nonexistent locale &quot;ru&quot;) and recodes all characters to ASCII.

BTW: Is encoding problem of dnf? Use the &quot;locale -a&quot; to obtain the names of the available locales. Is &quot;ru&quot; locale available on your system? Not. Why you want use unavailable locale?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10268569</commentid>
    <comment_count>24</comment_count>
    <who name="Jaroslav Rohel">jrohel</who>
    <bug_when>2017-03-23 04:01:18 -0400</bug_when>
    <thetext>It is fixed in version dnf-2.1.1-1.1.fc26.

Dnf uses the original (not translated) English messages if the locale is not available on system.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10268609</commentid>
    <comment_count>25</comment_count>
    <who name="Jaroslav Rohel">jrohel</who>
    <bug_when>2017-03-23 04:08:58 -0400</bug_when>
    <thetext>*** Bug 1286559 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
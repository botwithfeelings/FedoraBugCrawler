<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1328114</bug_id>
          
          <creation_ts>2016-04-18 09:43:00 -0400</creation_ts>
          <short_desc>Fedpkg fails with: Unable to create update.  Authentication required</short_desc>
          <delta_ts>2017-06-26 17:58:20 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>bodhi</component>
          <version>26</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>Reopened</keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Michal Minar">miminar</reporter>
          <assigned_to name="Luke Macken">lewk</assigned_to>
          <cc>arapov</cc>
    
    
    <cc>bochecha</cc>
    
    
    <cc>cqi</cc>
    
    
    <cc>dennis</cc>
    
    
    <cc>jeremy</cc>
    
    
    <cc>lewk</cc>
    
    
    <cc>lsedlar</cc>
    
    
    <cc>pbabinca</cc>
    
    
    <cc>randy</cc>
    
    
    <cc>rjones</cc>
    
    
    <cc>s</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-06-26 11:28:37</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9247116</commentid>
    <comment_count>0</comment_count>
    <who name="Michal Minar">miminar</who>
    <bug_when>2016-04-18 09:43:52 -0400</bug_when>
    <thetext>Description of problem:
  This was a one time issue. I did an update of hwdata for fedora 23 successfully. Then I switched branch to f22 branch and issued `fedpkg update`. It terminated with exception below. I retried after 5 seconds without any change to configs, or source code and it succeeded.

Version-Release number of selected component (if applicable):
  fedpkg-1.22-3.fc23.noarch

How reproducible:
  Occasionally

Steps to Reproduce:
1. fedpkg update

Actual results:

    No handlers could be found for logger &quot;fedora.client.bodhi&quot;
    Creating a new update for  hwdata-0.288-1.fc22 
    Traceback (most recent call last):
      File &quot;/usr/bin/bodhi&quot;, line 537, in &lt;module&gt;
        main()
      File &quot;/usr/bin/bodhi&quot;, line 225, in main
        data = bodhi.save(**update_args)
      File &quot;/usr/lib/python2.7/site-packages/fedora/client/bodhi.py&quot;, line 96, in wrapper
        raise BodhiClientException(problems)
    fedora.client.bodhi.BodhiClientException: Unable to create update.  Authentication required
    Could not generate update request: Command &apos;bodhi --new --release f22 --file bodhi.template hwdata-0.288-1.fc22 --username miminar&apos; returned non-zero exit status 1

Expected results:

    No handlers could be found for logger &quot;fedora.client.bodhi&quot;
    Creating a new update for  hwdata-0.288-1.fc22 
    ================================================================================
         hwdata-0.288-1.fc22
    ================================================================================
      Update ID: FEDORA-2016-695843b69a
        Release: Fedora 22
         Status: pending
           Type: enhancement
          Karma: 0
        Request: testing
          Notes: Updated pci, usb and vendor ids.  ----  Updated pci, usb and vendor
               : ids.
      Submitter: miminar
      Submitted: 2016-04-18 13:30:23
       Comments: bodhi - 2016-04-18 13:30:23 (karma 0)
                 This update has been submitted for testing by miminar.
                 bodhi - 2016-04-18 13:30:30 (karma 0)
                 This update has obsoleted [hwdata-0.287-1.fc22](https:
                 //bodhi.fedoraproject.org/updates/FEDORA-2016-fe22f37f
                 ba), and has inherited its bugs and notes.

      https://bodhi.fedoraproject.org/updates/FEDORA-2016-695843b69a</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9927305</commentid>
    <comment_count>1</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-11-25 02:23:26 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 23 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 23. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as EOL if it remains open with a Fedora  &apos;version&apos;
of &apos;23&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version.

Thank you for reporting this issue and we are sorry that we were not 
able to fix it before Fedora 23 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior this bug is closed as described in the policy above.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9990033</commentid>
    <comment_count>2</comment_count>
    <who name="">cqi</who>
    <bug_when>2016-12-15 09:29:13 -0500</bug_when>
    <thetext>fedpkg run bodhi CLI to create update, of course you have to configure bodhi well  including the authentication. I think the output tells you why it fails, Authentication required.

Just try the command directly,

    bodhi --new --release f22 --file bodhi.template hwdata-0.288-1.fc22 --username miminar

and solve any issues that are related to the authentication by Bodhi service.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10007631</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-12-20 15:01:04 -0500</bug_when>
    <thetext>Fedora 23 changed to end-of-life (EOL) status on 2016-12-20. Fedora 23 is
no longer maintained, which means that it will not receive any further
security or bug fix updates. As a result we are closing this bug.

If you can reproduce this bug against a currently maintained version of
Fedora please feel free to reopen this bug against that version. If you
are unable to reopen this bug, please file a new report against the
current release. If you experience problems, please add a comment to this
bug.

Thank you for reporting this bug and we are sorry it could not be fixed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10195469</commentid>
    <comment_count>4</comment_count>
    <who name="Richard W.M. Jones">rjones</who>
    <bug_when>2017-02-28 18:25:59 -0500</bug_when>
    <thetext>How do you actually fix this bug?  It still fails in exactly the way
described with
fedpkg-1.26-5.fc25.noarch
bodhi-client-0.9.12.2-6.fc25.noarch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10195480</commentid>
    <comment_count>5</comment_count>
    <who name="Richard W.M. Jones">rjones</who>
    <bug_when>2017-02-28 18:35:00 -0500</bug_when>
    <thetext>Also broken with:
fedpkg-1.28-1.fc26.noarch
bodhi-client-2.4.0-1.fc26.noarch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10540186</commentid>
    <comment_count>6</comment_count>
    <who name="Lubomír Sedlář">lsedlar</who>
    <bug_when>2017-06-26 08:44:31 -0400</bug_when>
    <thetext>Reassigning to Bodhi component. Fedpkg does not do any authentication, it just calls bodhi command and that fails.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10540803</commentid>
    <comment_count>7</comment_count>
    <who name="Randy Barlow">randy</who>
    <bug_when>2017-06-26 11:19:01 -0400</bug_when>
    <thetext>Can this be reproduced with python-fedora-0.9.0-3.fc26 and bodhi-2.8.1-1.fc26? I think those should fix this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10540828</commentid>
    <comment_count>8</comment_count>
    <who name="Richard W.M. Jones">rjones</who>
    <bug_when>2017-06-26 11:28:37 -0400</bug_when>
    <thetext>It is working today with:

python-fedora-0.9.0-3.fc26.noarch
bodhi-client-2.7.0-1.fc26.noarch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10541872</commentid>
    <comment_count>9</comment_count>
    <who name="Randy Barlow">randy</who>
    <bug_when>2017-06-26 17:58:20 -0400</bug_when>
    <thetext>Thanks Richard!</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
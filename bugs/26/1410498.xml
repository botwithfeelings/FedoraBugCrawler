<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1410498</bug_id>
          
          <creation_ts>2017-01-05 10:42:00 -0500</creation_ts>
          <short_desc>g++ -print-file-name=plugin uses full version number in path</short_desc>
          <delta_ts>2017-03-01 15:43:10 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>gcc</component>
          <version>26</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>RAWHIDE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dave Johansen">davejohansen</reporter>
          <assigned_to name="Jakub Jelinek">jakub</assigned_to>
          <cc>boris</cc>
    
    
    <cc>davejohansen</cc>
    
    
    <cc>finjulhich</cc>
    
    
    <cc>jakub</cc>
    
    
    <cc>jwakely</cc>
    
    
    <cc>law</cc>
    
    
    <cc>mpolacek</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-03-01 15:43:10</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          <external_bugs name="GNU Compiler Collection">79046</external_bugs>
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10037882</commentid>
    <comment_count>0</comment_count>
    <who name="Dave Johansen">davejohansen</who>
    <bug_when>2017-01-05 10:42:07 -0500</bug_when>
    <thetext>g++ -print-file-name=plugin uses the full version number in the path when just the major version number is all that&apos;s required for compatibility. This means that plugins have to require the specific version of gcc and have to be rebuild after every update to gcc. For what it&apos;s worth, gcc on Ubuntu only uses the major version number ( see https://bugzilla.redhat.com/show_bug.cgi?id=1408943#c9 ).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10038011</commentid>
    <comment_count>1</comment_count>
    <who name="Jakub Jelinek">jakub</who>
    <bug_when>2017-01-05 10:55:25 -0500</bug_when>
    <thetext>That is the standard behavior of gcc.  Ubuntu+SuSE use some hack that has never been submitted upstream.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10039575</commentid>
    <comment_count>2</comment_count>
      <attachid>1237858</attachid>
    <who name="Dave Johansen">davejohansen</who>
    <bug_when>2017-01-05 23:53:58 -0500</bug_when>
    <thetext>Created attachment 1237858
gcc patch for version from OpenSUSE

Taken from http://download.opensuse.org/source/distribution/leap/42.2/repo/oss/suse/src/gcc6-6.1.1+r238085-1.12.src.rpm</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10039578</commentid>
    <comment_count>3</comment_count>
    <who name="Dave Johansen">davejohansen</who>
    <bug_when>2017-01-05 23:54:51 -0500</bug_when>
    <thetext>(In reply to Jakub Jelinek from comment #1)
&gt; That is the standard behavior of gcc.  Ubuntu+SuSE use some hack that has
&gt; never been submitted upstream.

I attached the patch from OpenSUSE that I believe is changing the directory. Can that be flowed upstream?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10050175</commentid>
    <comment_count>4</comment_count>
    <who name="Dave Johansen">davejohansen</who>
    <bug_when>2017-01-10 12:25:31 -0500</bug_when>
    <thetext>I opened a bugzilla for gcc.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10183792</commentid>
    <comment_count>5</comment_count>
    <who name="MM">finjulhich</who>
    <bug_when>2017-02-25 12:05:48 -0500</bug_when>
    <thetext>Just curious here, was there some progress?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184276</commentid>
    <comment_count>6</comment_count>
    <who name="Dave Johansen">davejohansen</who>
    <bug_when>2017-02-26 00:50:30 -0500</bug_when>
    <thetext>gcc 7 in Fedora Rawhide (26) now just uses the major version as the plugin path. You can see the details in the linked to gcc bugzilla.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10191829</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2017-02-28 05:53:06 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 26 development cycle.
Changing version to &apos;26&apos;.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1237858</attachid>
            <date>2017-01-05 23:53:00 -0500</date>
            <delta_ts>2017-01-05 23:53:58 -0500</delta_ts>
            <desc>gcc patch for version from OpenSUSE</desc>
            <filename>gcc-dir-version.patch</filename>
            <type>text/plain</type>
            <size>5217</size>
            <attacher name="Dave Johansen">davejohansen</attacher>
            
              <data encoding="base64">SW5kZXg6IGdjYy9NYWtlZmlsZS5pbgo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBnY2MvTWFrZWZpbGUuaW4ub3Jp
ZwkyMDE1LTA1LTA4IDE3OjEwOjEyLjA2ODY5NzU0MCArMDIwMAorKysgZ2NjL01ha2VmaWxlLmlu
CTIwMTUtMDUtMDggMTc6MjU6MzEuODMxODMzMDgxICswMjAwCkBAIC04MTAsMTIgKzgxMCwxNCBA
QCBHVE1fSCAgICAgPSB0bS5oICAgICAgJCh0bV9maWxlX2xpc3QpIGluCiBUTV9IICAgICAgPSAk
KEdUTV9IKSBpbnNuLWZsYWdzLmggJChPUFRJT05TX0gpCiAKICMgVmFyaWFibGVzIGZvciB2ZXJz
aW9uIGluZm9ybWF0aW9uLgotQkFTRVZFUiAgICAgOj0gJChzcmNkaXIpL0JBU0UtVkVSICAjIDQu
eC55CitCQVNFVkVSICAgICA6PSAkKHNyY2RpcikvQkFTRS1WRVIgICMgNQorRlVMTFZFUiAgICAg
Oj0gJChzcmNkaXIpL0ZVTEwtVkVSICAjIDUueC55CiBERVZQSEFTRSAgICA6PSAkKHNyY2Rpcikv
REVWLVBIQVNFICMgZXhwZXJpbWVudGFsLCBwcmVyZWxlYXNlLCAiIgogREFURVNUQU1QICAgOj0g
JChzcmNkaXIpL0RBVEVTVEFNUCAjIFlZWVlNTUREIG9yIGVtcHR5CiBSRVZJU0lPTiAgICA6PSAk
KHNyY2RpcikvUkVWSVNJT04gICMgW0JSQU5DSCByZXZpc2lvbiBYWFhYWFhdCiAKIEJBU0VWRVJf
YyAgIDo9ICQoc2hlbGwgY2F0ICQoQkFTRVZFUikpCitGVUxMVkVSX2MgICA6PSAkKHNoZWxsIGNh
dCAkKEZVTExWRVIpKQogREVWUEhBU0VfYyAgOj0gJChzaGVsbCBjYXQgJChERVZQSEFTRSkpCiBE
QVRFU1RBTVBfYyA6PSAkKHNoZWxsIGNhdCAkKERBVEVTVEFNUCkpCiAKQEAgLTgzOSw2ICs4NDEs
NyBAQCBQQVRDSExFVkVMX2MgOj0gXAogIyBpbW1lZGlhdGVseSBhZnRlciB0aGUgY29tbWEgaW4g
dGhlICQoaWYgLi4uKSBjb25zdHJ1Y3RzIGlzCiAjIHNpZ25pZmljYW50IC0gZG8gbm90IHJlbW92
ZSBpdC4KIEJBU0VWRVJfcyAgIDo9ICJcIiQoQkFTRVZFUl9jKVwiIgorRlVMTFZFUl9zICAgOj0g
IlwiJChGVUxMVkVSX2MpXCIiCiBERVZQSEFTRV9zICA6PSAiXCIkKGlmICQoREVWUEhBU0VfYyks
ICgkKERFVlBIQVNFX2MpKSlcIiIKIERBVEVTVEFNUF9zIDo9IFwKICAgIlwiJChpZiAkKERFVlBI
QVNFX2MpJChmaWx0ZXItb3V0IDAsJChQQVRDSExFVkVMX2MpKSwgJChEQVRFU1RBTVBfYykpXCIi
CkBAIC0yMDI4LDcgKzIwMzEsNyBAQCBzLW9wdGlvbnMtaDogb3B0aW9ubGlzdCAkKHNyY2Rpcikv
b3B0LWZ1CiAKIGR1bXB2ZXJzOiBkdW1wdmVycy5jCiAKLUNGTEFHUy12ZXJzaW9uLm8gKz0gLURC
QVNFVkVSPSQoQkFTRVZFUl9zKSAtRERBVEVTVEFNUD0kKERBVEVTVEFNUF9zKSBcCitDRkxBR1Mt
dmVyc2lvbi5vICs9IC1EQkFTRVZFUj0kKEZVTExWRVJfcykgLUREQVRFU1RBTVA9JChEQVRFU1RB
TVBfcykgXAogCS1EUkVWSVNJT049JChSRVZJU0lPTl9zKSBcCiAJLURERVZQSEFTRT0kKERFVlBI
QVNFX3MpIC1EUEtHVkVSU0lPTj0kKFBLR1ZFUlNJT05fcykgXAogCS1EQlVHVVJMPSQoQlVHVVJM
X3MpCkBAIC0yMDM4LDEwICsyMDQxLDEwIEBAIHZlcnNpb24ubzogJChSRVZJU0lPTikgJChEQVRF
U1RBTVApICQoQkEKIENGTEFHUy1sdG8tY29tcHJlc3MubyArPSAkKFpMSUJJTkMpCiAKIGJ2ZXJz
aW9uLmg6IHMtYnZlcnNpb247IEB0cnVlCi1zLWJ2ZXJzaW9uOiBCQVNFLVZFUgotCWVjaG8gIiNk
ZWZpbmUgQlVJTERJTkdfR0NDX01BSk9SIGBlY2hvICQoQkFTRVZFUl9jKSB8IHNlZCAtZSAncy9e
XChbMC05XSpcKS4qJCQvXDEvJ2AiID4gYnZlcnNpb24uaAotCWVjaG8gIiNkZWZpbmUgQlVJTERJ
TkdfR0NDX01JTk9SIGBlY2hvICQoQkFTRVZFUl9jKSB8IHNlZCAtZSAncy9eWzAtOV0qXC5cKFsw
LTldKlwpLiokJC9cMS8nYCIgPj4gYnZlcnNpb24uaAotCWVjaG8gIiNkZWZpbmUgQlVJTERJTkdf
R0NDX1BBVENITEVWRUwgYGVjaG8gJChCQVNFVkVSX2MpIHwgc2VkIC1lICdzL15bMC05XSpcLlsw
LTldKlwuXChbMC05XSpcKSQkL1wxLydgIiA+PiBidmVyc2lvbi5oCitzLWJ2ZXJzaW9uOiBGVUxM
LVZFUgorCWVjaG8gIiNkZWZpbmUgQlVJTERJTkdfR0NDX01BSk9SIGBlY2hvICQoRlVMTFZFUl9j
KSB8IHNlZCAtZSAncy9eXChbMC05XSpcKS4qJCQvXDEvJ2AiID4gYnZlcnNpb24uaAorCWVjaG8g
IiNkZWZpbmUgQlVJTERJTkdfR0NDX01JTk9SIGBlY2hvICQoRlVMTFZFUl9jKSB8IHNlZCAtZSAn
cy9eWzAtOV0qXC5cKFswLTldKlwpLiokJC9cMS8nYCIgPj4gYnZlcnNpb24uaAorCWVjaG8gIiNk
ZWZpbmUgQlVJTERJTkdfR0NDX1BBVENITEVWRUwgYGVjaG8gJChGVUxMVkVSX2MpIHwgc2VkIC1l
ICdzL15bMC05XSpcLlswLTldKlwuXChbMC05XSpcKSQkL1wxLydgIiA+PiBidmVyc2lvbi5oCiAJ
ZWNobyAiI2RlZmluZSBCVUlMRElOR19HQ0NfVkVSU0lPTiAoQlVJTERJTkdfR0NDX01BSk9SICog
MTAwMCArIEJVSUxESU5HX0dDQ19NSU5PUikiID4+IGJ2ZXJzaW9uLmgKIAkkKFNUQU1QKSBzLWJ2
ZXJzaW9uCiAKQEAgLTI0MTAsOSArMjQxMyw5IEBAIGJ1aWxkLyUubyA6ICAjIGRlcGVuZGVuY2ll
cyBwcm92aWRlZCBieQogIyMgYnVpbGQvdmVyc2lvbi5vIGlzIGNvbXBpbGVkIGJ5IHRoZSAkKENP
TVBJTEVSX0ZPUl9CVUlMRCkgYnV0IG5lZWRzCiAjIyBzZXZlcmFsIEMgbWFjcm8gZGVmaW5pdGlv
bnMsIGp1c3QgbGlrZSB2ZXJzaW9uLm8KIGJ1aWxkL3ZlcnNpb24ubzogIHZlcnNpb24uYyB2ZXJz
aW9uLmggXAotICAgICAgICAgICAgICAgICAgJChSRVZJU0lPTikgJChEQVRFU1RBTVApICQoQkFT
RVZFUikgJChERVZQSEFTRSkKKyAgICAgICAgICAgICAgICAgICQoUkVWSVNJT04pICQoREFURVNU
QU1QKSAkKEZVTExWRVIpICQoREVWUEhBU0UpCiAJJChDT01QSUxFUl9GT1JfQlVJTEQpIC1jICQo
QlVJTERfQ09NUElMRVJGTEFHUykgJChCVUlMRF9DUFBGTEFHUykgXAotCS1EQkFTRVZFUj0kKEJB
U0VWRVJfcykgLUREQVRFU1RBTVA9JChEQVRFU1RBTVBfcykgXAorCS1EQkFTRVZFUj0kKEZVTExW
RVJfcykgLUREQVRFU1RBTVA9JChEQVRFU1RBTVBfcykgXAogCS1EUkVWSVNJT049JChSRVZJU0lP
Tl9zKSBcCiAJLURERVZQSEFTRT0kKERFVlBIQVNFX3MpIC1EUEtHVkVSU0lPTj0kKFBLR1ZFUlNJ
T05fcykgXAogCS1EQlVHVVJMPSQoQlVHVVJMX3MpIC1vICRAICQ8CkBAIC0yNjIzLDggKzI2MjYs
OCBAQCBQUkVQUk9DRVNTT1JfREVGSU5FUyA9IFwKICAgLURTVEFOREFSRF9FWEVDX1BSRUZJWD1c
IiQobGliZGlyKS9nY2MvXCIgXAogICBAVEFSR0VUX1NZU1RFTV9ST09UX0RFRklORUAKIAotQ0ZM
QUdTLWNwcGJ1aWx0aW4ubyArPSAkKFBSRVBST0NFU1NPUl9ERUZJTkVTKSAtREJBU0VWRVI9JChC
QVNFVkVSX3MpCi1jcHBidWlsdGluLm86ICQoQkFTRVZFUikKK0NGTEFHUy1jcHBidWlsdGluLm8g
Kz0gJChQUkVQUk9DRVNTT1JfREVGSU5FUykgLURCQVNFVkVSPSQoRlVMTFZFUl9zKQorY3BwYnVp
bHRpbi5vOiAkKEZVTExWRVIpCiAKIENGTEFHUy1jcHBkZWZhdWx0Lm8gKz0gJChQUkVQUk9DRVNT
T1JfREVGSU5FUykKIApAQCAtMjY0MCw4ICsyNjQzLDggQEAgYnVpbGQvZ2Nvdi1pb3YkKGJ1aWxk
X2V4ZWV4dCk6IGJ1aWxkL2djbwogCQlidWlsZC9nY292LWlvdi5vIC1vICRACiAKIGdjb3YtaW92
Lmg6IHMtaW92Ci1zLWlvdjogYnVpbGQvZ2Nvdi1pb3YkKGJ1aWxkX2V4ZWV4dCkgJChCQVNFVkVS
KSAkKERFVlBIQVNFKQotCWJ1aWxkL2djb3YtaW92JChidWlsZF9leGVleHQpICckKEJBU0VWRVJf
YyknICckKERFVlBIQVNFX2MpJyBcCitzLWlvdjogYnVpbGQvZ2Nvdi1pb3YkKGJ1aWxkX2V4ZWV4
dCkgJChGVUxMVkVSKSAkKERFVlBIQVNFKQorCWJ1aWxkL2djb3YtaW92JChidWlsZF9leGVleHQp
ICckKEZVTExWRVJfYyknICckKERFVlBIQVNFX2MpJyBcCiAJICAgID4gdG1wLWdjb3YtaW92LmgK
IAkkKFNIRUxMKSAkKHNyY2RpcikvLi4vbW92ZS1pZi1jaGFuZ2UgdG1wLWdjb3YtaW92LmggZ2Nv
di1pb3YuaAogCSQoU1RBTVApIHMtaW92CkluZGV4OiBsaWJqYXZhL3Rlc3RzdWl0ZS9saWIvbGli
amF2YS5leHAKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQotLS0gbGliamF2YS90ZXN0c3VpdGUvbGliL2xpYmphdmEuZXhw
Lm9yaWcJMjAxNC0xMi0wMiAxMzoyOToyMi40ODc5MDIzNTEgKzAxMDAKKysrIGxpYmphdmEvdGVz
dHN1aXRlL2xpYi9saWJqYXZhLmV4cAkyMDE1LTA1LTA4IDE3OjI1OjMxLjgzMTgzMzA4MSArMDIw
MApAQCAtMTc5LDcgKzE3OSw3IEBAIHByb2MgbGliamF2YV9pbml0IHsgYXJncyB9IHsKIAogICAg
IHNldCB0ZXh0IFtldmFsIGV4ZWMgIiRHQ0pfVU5ERVJfVEVTVCAtQiRzcGVjZGlyIC12IDI+QCBz
dGRvdXQiXQogICAgIHJlZ2V4cCAiIHZlcnNpb24gXFteXG5cclxdKiIgJHRleHQgdmVyc2lvbgot
ICAgIHNldCBsaWJqYXZhX3ZlcnNpb24gW2xpbmRleCAkdmVyc2lvbiAxXQorICAgIHNldCBsaWJq
YXZhX3ZlcnNpb24gNQogCiAgICAgdmVyYm9zZSAidmVyc2lvbjogJGxpYmphdmFfdmVyc2lvbiIK
IApJbmRleDogZ2NjL2NwcGJ1aWx0aW4uYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBnY2MvY3BwYnVpbHRpbi5j
Lm9yaWcJMjAxNS0wMS0xMiAxNjoyMjozNC40ODY4OTMwODcgKzAxMDAKKysrIGdjYy9jcHBidWls
dGluLmMJMjAxNS0wNS0wOCAxNzoyNTozMS44MzI4MzMwODkgKzAyMDAKQEAgLTQ2LDkgKzQ2LDkg
QEAgcGFyc2VfYmFzZXZlciAoaW50ICptYWpvciwgaW50ICptaW5vciwgaQogICBzdGF0aWMgaW50
IHNfbWFqb3IgPSAtMSwgc19taW5vciwgc19wYXRjaGxldmVsOwogCiAgIGlmIChzX21ham9yID09
IC0xKQotICAgIGlmIChzc2NhbmYgKEJBU0VWRVIsICIlZC4lZC4lZCIsICZzX21ham9yLCAmc19t
aW5vciwgJnNfcGF0Y2hsZXZlbCkgIT0gMykKKyAgICBpZiAoc3NjYW5mICh2ZXJzaW9uX3N0cmlu
ZywgIiVkLiVkLiVkIiwgJnNfbWFqb3IsICZzX21pbm9yLCAmc19wYXRjaGxldmVsKSAhPSAzKQog
ICAgICAgewotCXNzY2FuZiAoQkFTRVZFUiwgIiVkLiVkIiwgJnNfbWFqb3IsICZzX21pbm9yKTsK
Kwlzc2NhbmYgKHZlcnNpb25fc3RyaW5nLCAiJWQuJWQiLCAmc19tYWpvciwgJnNfbWlub3IpOwog
CXNfcGF0Y2hsZXZlbCA9IDA7CiAgICAgICB9CiAK
</data>

          </attachment>
      

    </bug>

</bugzilla>
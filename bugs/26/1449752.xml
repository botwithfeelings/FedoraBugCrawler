<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1449752</bug_id>
          
          <creation_ts>2017-05-10 11:10:00 -0400</creation_ts>
          <short_desc>blivet-gui desktop file should not be installed by default in Fedora Workstation</short_desc>
          <delta_ts>2017-07-06 18:51:24 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>blivet-gui</component>
          <version>26</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          <see_also>https://bugzilla.redhat.com/show_bug.cgi?id=1462655</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>AcceptedBlocker</status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1349188</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Michael Catanzaro">mcatanzaro</reporter>
          <assigned_to name="Vojtech Trefny">vtrefny</assigned_to>
          <cc>awilliam</cc>
    
    
    <cc>debarshir</cc>
    
    
    <cc>kparal</cc>
    
    
    <cc>mattdm</cc>
    
    
    <cc>mclasen</cc>
    
    
    <cc>mkolman</cc>
    
    
    <cc>petersen</cc>
    
    
    <cc>pschindl</cc>
    
    
    <cc>robatino</cc>
    
    
    <cc>vpodzime</cc>
    
    
    <cc>vtrefny</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>blivet-gui-2.1.5-2.fc26</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-07-06 18:51:24</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10401152</commentid>
    <comment_count>0</comment_count>
    <who name="Michael Catanzaro">mcatanzaro</who>
    <bug_when>2017-05-10 11:10:45 -0400</bug_when>
    <thetext>Description of problem: blivet-gui has appeared in the default Workstation install of F26 Alpha. The set of applications installed by default is carefully-curated by the Workstation WG, and blivet-gui is not desired.


Version-Release number of selected component (if applicable): F26 alpha


How reproducible: Always


Steps to Reproduce:
1. Boot F26 alpha live USB
2. Visit GNOME Shell overview

Actual results: Notice that blivet-gui is installed and visible in the GNOME Shell overview


Expected results: blivet-gui should not be visible in the GNOME Shell overview


Additional info: I notice that anaconda seems to require blivet-gui to be installed. If it has to be installed for valid technical reasons, then the desktop file will have to be split off into a subpackage that is not installed by default. It&apos;s odd to have a package that only installs a desktop file, but it&apos;s not unprecedented.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10401192</commentid>
    <comment_count>1</comment_count>
    <who name="Michael Catanzaro">mcatanzaro</who>
    <bug_when>2017-05-10 11:22:14 -0400</bug_when>
    <thetext>(In reply to Michael Catanzaro from comment #0)
&gt; Additional info: I notice that anaconda seems to require blivet-gui to be
&gt; installed. If it has to be installed for valid technical reasons, then the
&gt; desktop file will have to be split off into a subpackage that is not
&gt; installed by default. It&apos;s odd to have a package that only installs a
&gt; desktop file, but it&apos;s not unprecedented.

Oh, I should add: the appdata file should go into the subpackage as well, along with the desktop file.

The pattern we&apos;ve used in the past in these situations is actually a bit different... for Epiphany we have the desktop file and appdata file in the main epiphany package, but the binary and almost everything else in an epiphany-runtime package. Then the epiphany package requires the epiphany-runtime package. That&apos;s probably the best thing to do here, so anaconda can continue using blivet-gui by depending on blivet-gui-runtime to keep Anaconda folks happy, without blivet-gui appearing as an installed application so that us Workstation folks stay happy.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10403076</commentid>
    <comment_count>2</comment_count>
    <who name="Vratislav Podzimek">vpodzime</who>
    <bug_when>2017-05-11 04:21:48 -0400</bug_when>
    <thetext>I&apos;m sorry, but this request doesn&apos;t make sense to me.

&gt; The set of applications installed by default is carefully-curated by the Workstation WG, and blivet-gui is not desired.

Fair enough, then let&apos;s find a technical solution for the application to not be installed in the system at all then (the whole Anaconda and a bunch of other things shouldn&apos;t be there too). But having everything installed and just hiding it from users sounds like Windows to me...

Also what is the process to make blivet-gui desired by Workstation WG? It&apos;s the only tool capable of working with the default Fedora storage/partitioning scheme and all common workstation storage technologies.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10404029</commentid>
    <comment_count>3</comment_count>
    <who name="Michael Catanzaro">mcatanzaro</who>
    <bug_when>2017-05-11 08:49:57 -0400</bug_when>
    <thetext>(In reply to Vratislav Podzimek from comment #2)
&gt; Also what is the process to make blivet-gui desired by Workstation WG? It&apos;s
&gt; the only tool capable of working with the default Fedora
&gt; storage/partitioning scheme and all common workstation storage technologies.

You can propose it on our Pagure tracker https://pagure.io/fedora-workstation/issues, but I really doubt it would be accepted as we already have an existing (albeit less-capable) disk management tool, GNOME Disks.

(In reply to Vratislav Podzimek from comment #2)
&gt; Fair enough, then let&apos;s find a technical solution for the application to not
&gt; be installed in the system at all then (the whole Anaconda and a bunch of
&gt; other things shouldn&apos;t be there too). But having everything installed and
&gt; just hiding it from users sounds like Windows to me...

Well yes, we should do that, but I don&apos;t think it will be sufficient, because then you won&apos;t be able to have Anaconda on the live images. We don&apos;t want blivet-gui to appear there either. blivet-gui is now effectively a service used by another application, and as long as that&apos;s the case it makes sense to move the desktop launcher and appdata file into a subpackage. Note that we&apos;re preparing draft packaging guidelines to encourage this, see https://pagure.io/fedora-workstation/issue/13</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10404716</commentid>
    <comment_count>4</comment_count>
    <who name="Matthias Clasen">mclasen</who>
    <bug_when>2017-05-11 11:05:44 -0400</bug_when>
    <thetext>&gt; It&apos;s
&gt; the only tool capable of working with the default Fedora
&gt; storage/partitioning scheme and all common workstation storage technologies.

To be blunt, this is a problem of the default fedora partioning scheme.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10404724</commentid>
    <comment_count>5</comment_count>
    <who name="Matthias Clasen">mclasen</who>
    <bug_when>2017-05-11 11:08:06 -0400</bug_when>
    <thetext>It has always been a bug that anaconda ends up being installed on the OS after the installation is done. So far, we&apos;ve ignored it. But if anaconda now pulls in visible applications, we can no longer ignore it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10436330</commentid>
    <comment_count>6</comment_count>
    <who name="Petr Schindler">pschindl</who>
    <bug_when>2017-05-22 12:49:21 -0400</bug_when>
    <thetext>Discussed at 2017-05-22 blocker review meeting: [1]. 

This bug was accepted as Final blocker: The Workstation WG has voted that this issue is serious enough to warrant blocking their Edition

[1] https://meetbot-raw.fedoraproject.org/fedora-blocker-review/2017-05-22</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10436362</commentid>
    <comment_count>7</comment_count>
    <who name="Michael Catanzaro">mcatanzaro</who>
    <bug_when>2017-05-22 13:04:12 -0400</bug_when>
    <thetext>See also these tracking bugs:

https://pagure.io/fedora-workstation/issue/14
https://pagure.io/fedora-workstation/issue/15

Moving the desktop file to a subpackage is definitely the easiest solution to this problem. It might seem weird to you, but it&apos;s often necessary when applications decide to depend on each other. But we&apos;re OK with any resolution to this issue so long as blivet-gui does not appear in the shell overview on (a) the Workstation live USB or (b) the installed system.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10506428</commentid>
    <comment_count>8</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2017-06-14 14:27:56 -0400</bug_when>
    <thetext>Ping? We are now out of Beta stage and onto Final stage. Final blockers need to get resolved. There&apos;s no technical barrier to solving this, AFAICS, it just needs someone to decide how exactly they want to achieve the goal, and do it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10517300</commentid>
    <comment_count>9</comment_count>
    <who name="Vojtech Trefny">vtrefny</who>
    <bug_when>2017-06-19 04:04:00 -0400</bug_when>
    <thetext>Splitting blivet-gui package into &quot;desktop file&quot; and &quot;everything else&quot; is a really bad solution for this problem, but we don&apos;t have time for a better one, so I&apos;ll do this for Fedora 26 a we&apos;ll try to come up with a better solution for Fedora 27 together with Anaconda devs.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10517751</commentid>
    <comment_count>10</comment_count>
    <who name="Martin Kolman">mkolman</who>
    <bug_when>2017-06-19 06:38:50 -0400</bug_when>
    <thetext>(In reply to Vojtech Trefny from comment #9)
&gt; Splitting blivet-gui package into &quot;desktop file&quot; and &quot;everything else&quot; is a
&gt; really bad solution for this problem, but we don&apos;t have time for a better
&gt; one, so I&apos;ll do this for Fedora 26 a we&apos;ll try to come up with a better
&gt; solution for Fedora 27 together with Anaconda devs.
Yeah, it&apos;s really too late for anything else for F26.

But we really need to come up with something else for F27 - just hiding an icon of a useful application but still leaving all of it &amp; it&apos;s dependencies installed on the  system is really sub-optimal.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10517768</commentid>
    <comment_count>11</comment_count>
    <who name="Martin Kolman">mkolman</who>
    <bug_when>2017-06-19 06:45:38 -0400</bug_when>
    <thetext>(In reply to Matthias Clasen from comment #4)
&gt; &gt; It&apos;s
&gt; &gt; the only tool capable of working with the default Fedora
&gt; &gt; storage/partitioning scheme and all common workstation storage technologies.
&gt; 
&gt; To be blunt, this is a problem of the default fedora partioning scheme.
So Fedora should use a less capable and less robust partitioning scheme because the default graphical partitioning tool on the Workstation can&apos;t fully work with it ? 

That&apos;s doesn&apos;t make sense to me, especially when there are graphical tools (Blivet GUI) fully supporting the default partitioning scheme that can be used to supplement (or maybe in time even replace ?) the default graphical tools.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10535447</commentid>
    <comment_count>12</comment_count>
    <who name="Michael Catanzaro">mcatanzaro</who>
    <bug_when>2017-06-23 09:51:56 -0400</bug_when>
    <thetext>Anyway, the default partitioning scheme is not relevant to this issue.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10551554</commentid>
    <comment_count>13</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2017-06-28 21:17:31 -0400</bug_when>
    <thetext>As we&apos;re past final freeze, it&apos;d be good if the proposed fix for this can be implemented as soon as possible, so we can catch any unexpected issues with it. Thanks!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10556600</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-30 07:25:43 -0400</bug_when>
    <thetext>anaconda-26.21.11-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-88f80a61da</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10558403</commentid>
    <comment_count>15</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-30 16:26:36 -0400</bug_when>
    <thetext>anaconda-26.21.11-1.fc26, blivet-gui-2.1.5-2.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-88f80a61da</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10559789</commentid>
    <comment_count>16</comment_count>
    <who name="Matthew Miller">mattdm</who>
    <bug_when>2017-07-02 13:59:53 -0400</bug_when>
    <thetext>Confirming that this is not installed by default in RC 1.3.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10561556</commentid>
    <comment_count>17</comment_count>
    <who name="Kamil Páral">kparal</who>
    <bug_when>2017-07-03 08:36:58 -0400</bug_when>
    <thetext>Also confirmed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10571939</commentid>
    <comment_count>18</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-07-06 18:51:24 -0400</bug_when>
    <thetext>anaconda-26.21.11-1.fc26, blivet-gui-2.1.5-2.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1266680</bug_id>
          
          <creation_ts>2015-09-26 09:12:00 -0400</creation_ts>
          <short_desc>UX: when --help on plugin is executed the options of plugin and DNF itself should be separated</short_desc>
          <delta_ts>2017-06-08 09:49:26 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>dnf-plugins-core</component>
          <version>26</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>RAWHIDE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>Triaged, UserExperience</keywords>
          <priority>low</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Bastien Nocera">bnocera</reporter>
          <assigned_to name="Michael Mráka">mmraka</assigned_to>
          <cc>jmracek</cc>
    
    
    <cc>jskarvad</cc>
    
    
    <cc>mluscon</cc>
    
    
    <cc>packaging-team-maint</cc>
    
    
    <cc>pnemade</cc>
    
    
    <cc>RadekHolyPublic</cc>
    
    
    <cc>tla</cc>
    
    
    <cc>vmukhame</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-06-08 09:49:26</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>8671058</commentid>
    <comment_count>0</comment_count>
    <who name="Bastien Nocera">bnocera</who>
    <bug_when>2015-09-26 09:12:28 -0400</bug_when>
    <thetext>I don&apos;t know how to use &quot;dnf copr&quot;. How to enable it is linked from the COPR web pages. Not how to disable it.

Typing &quot;dnf copr --help&quot; gives out the dnf general help, nothing copr related. Typing &quot;dnf copr garbage&quot; actually gives out the help. There also seems to be nothing to list the locally enabled copr repos, so I could disable them.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8671065</commentid>
    <comment_count>1</comment_count>
    <who name="Parag Nemade">pnemade</who>
    <bug_when>2015-09-26 09:28:18 -0400</bug_when>
    <thetext>For dnf, help is used as
dnf help &lt;cmd&gt; 

so use &quot;dnf help copr&quot;, you can even get help as
man dnf.plugin.copr

also see bug 1158548</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8715314</commentid>
    <comment_count>2</comment_count>
    <who name="Michal Luscon">mluscon</who>
    <bug_when>2015-10-13 09:01:33 -0400</bug_when>
    <thetext>This could be fixed after merging of jsilhan&apos;s PR (https://github.com/rpm-software-management/dnf/pull/348/commits). The pull request also contains some plugin migration examples.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9517097</commentid>
    <comment_count>3</comment_count>
    <who name="Michal Luscon">mluscon</who>
    <bug_when>2016-07-18 07:20:48 -0400</bug_when>
    <thetext>*** Bug 1356920 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9540270</commentid>
    <comment_count>4</comment_count>
    <who name="Igor Gnatenko">ignatenko</who>
    <bug_when>2016-07-22 05:30:41 -0400</bug_when>
    <thetext>Michael, on nightly of DNF 2.0 it&apos;s still reproducible, partially.

It doesn&apos;t return real help of COPR plugin, but it returns options from main dnf cmd. Could you take a look?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9921891</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-11-24 07:36:59 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 23 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 23. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as EOL if it remains open with a Fedora  &apos;version&apos;
of &apos;23&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version.

Thank you for reporting this issue and we are sorry that we were not 
able to fix it before Fedora 23 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior this bug is closed as described in the policy above.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9942012</commentid>
    <comment_count>6</comment_count>
    <who name="Michael Mráka">mmraka</who>
    <bug_when>2016-11-30 04:13:50 -0500</bug_when>
    <thetext>We can use option grouping in argparse to separate main vs. plugin options.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10190702</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2017-02-28 04:49:30 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 26 development cycle.
Changing version to &apos;26&apos;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10489606</commentid>
    <comment_count>8</comment_count>
    <who name="Jaroslav Mracek">jmracek</who>
    <bug_when>2017-06-08 09:49:26 -0400</bug_when>
    <thetext>I tried it with dnf-2.5.0 and I got separation of command option with general option. First there is usage of command, then summary of command, then command/plugin options (optional arguments:), then general option (Optional arguments:). In the usage you can see that you can use key words {help,enable,disable,remove,list,search}. Additional information can be also found in documentation. I think that it is exactly what you requested, therefore I am closing it. But if you think that the output should be different, please don&apos;t hesitate to reopen the bug report with additional information.

sudo dnf copr --help
usage: dnf copr [-c [config file]] [-q] [-v] [--version]
                [--installroot [path]] [--nodocs] [--noplugins]
                [--enableplugin [plugin]] [--disableplugin [plugin]]
                [--releasever RELEASEVER] [--setopt SETOPTS] [--skip-broken]
                [-h] [--allowerasing] [-b] [-C] [-R [minutes]]
                [-d [debug level]] [--debugsolver] [--showduplicates]
                [-e ERRORLEVEL] [--obsoletes]
                [--rpmverbosity [debug level name]] [-y] [--assumeno]
                [--enablerepo [repo]] [--disablerepo [repo] | --repo [repo]]
                [-x [package]] [--disableexcludes [repo]]
                [--repofrompath [repo,path]] [--nogpgcheck] [--color COLOR]
                [--refresh] [-4] [-6] [--downloadonly] [--bugfix]
                [--enhancement] [--newpackage] [--security]
                [--advisory ADVISORY] [--bzs BUGZILLA] [--cves CVES]
                [--sec-severity {Critical,Important,Moderate,Low}]
                {help,enable,disable,remove,list,search} [arg [arg ...]]

Interact with Copr repositories.

optional arguments:
  --disablerepo [repo]
  --repo [repo], --repoid [repo]
                        enable just specific repositories by an id or a glob,
                        can be specified multiple times

Optional arguments:
  -c [config file], --config [config file]
                        config file location
  -q, --quiet           quiet operation
  -v, --verbose         verbose operation
  --version             show DNF version and exit
  --installroot [path]  set install root
  --nodocs              do not install documentations
  --noplugins           disable all plugins
  --enableplugin [plugin]
                        enable plugins by name
  --disableplugin [plugin]
                        disable plugins by name
  --releasever RELEASEVER
                        override the value of $releasever in config and repo
                        files
  --setopt SETOPTS      set arbitrary config and repo options
  --skip-broken         resolve depsolve problems by skipping packages
  -h, --help, --help-cmd
                        show command help
  --allowerasing        allow erasing of installed packages to resolve
                        dependencies
  -b, --best            try the best available package versions in
                        transactions.
  -C, --cacheonly       run entirely from system cache, don&apos;t update cache
  -R [minutes], --randomwait [minutes]
                        maximum command wait time
  -d [debug level], --debuglevel [debug level]
                        debugging output level
  --debugsolver         dumps detailed solving results into files
  --showduplicates      show duplicates, in repos, in list/search commands
  -e ERRORLEVEL, --errorlevel ERRORLEVEL
                        error output level
  --obsoletes           enables dnf&apos;s obsoletes processing logic for upgrade
                        or display capabilities that the package obsoletes for
                        info, list and repoquery
  --rpmverbosity [debug level name]
                        debugging output level for rpm
  -y, --assumeyes       automatically answer yes for all questions
  --assumeno            automatically answer no for all questions
  --enablerepo [repo]
  -x [package], --exclude [package], --excludepkgs [package]
                        exclude packages by name or glob
  --disableexcludes [repo], --disableexcludepkgs [repo]
                        disable excludepkgs
  --repofrompath [repo,path]
                        label and path to additional repository, can be
                        specified multiple times.
  --nogpgcheck          disable gpg signature checking
  --color COLOR         control whether color is used
  --refresh             set metadata as expired before running the command
  -4                    resolve to IPv4 addresses only
  -6                    resolve to IPv6 addresses only
  --downloadonly        only download packages
  --bugfix              Include bugfix relevant packages, in updates
  --enhancement         Include enhancement relevant packages, in updates
  --newpackage          Include newpackage relevant packages, in updates
  --security            Include security relevant packages, in updates
  --advisory ADVISORY, --advisories ADVISORY
                        Include packages needed to fix the given advisory, in
                        updates
  --bzs BUGZILLA        Include packages needed to fix the given BZ, in
                        updates
  --cves CVES           Include packages needed to fix the given CVE, in
                        updates
  --sec-severity {Critical,Important,Moderate,Low}, --secseverity {Critical,Important,Moderate,Low}
                        Include security relevant packages matching the
                        severity, in updates</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
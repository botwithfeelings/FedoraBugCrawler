<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>850364</bug_id>
          
          <creation_ts>2012-08-21 10:16:00 -0400</creation_ts>
          <short_desc>Introduce new systemd-rpm macros in watchdog spec file</short_desc>
          <delta_ts>2017-04-01 12:49:47 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>watchdog</component>
          <version>26</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>medium</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>850016</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Lukáš Nykrýn">lnykryn</reporter>
          <assigned_to name="Josef Ridky">jridky</assigned_to>
          <cc>jridky</cc>
    
    
    <cc>lnykryn</cc>
    
    
    <cc>rjones</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>watchdog-5.13-16.fc25 watchdog-5.13-16.fc24 watchdog-5.13-16.fc26</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-03-27 20:24:11</cf_last_closed>
          <cf_type>---</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>4986267</commentid>
    <comment_count>0</comment_count>
    <who name="Lukáš Nykrýn">lnykryn</who>
    <bug_when>2012-08-21 10:16:42 -0400</bug_when>
    <thetext>Fedora 18 changes the way how to work with services in spec files. It introduces new macros - %systemd_post, %systemd_preun and %systemd_postun; which replace scriptlets from Fedora 17 and older (see https://fedoraproject.org/wiki/Packaging:ScriptletSnippets#Systemd, https://bugzilla.redhat.com/show_bug.cgi?id=850016).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>5281813</commentid>
    <comment_count>1</comment_count>
      <attachid>662420</attachid>
    <who name="Lukáš Nykrýn">lnykryn</who>
    <bug_when>2012-12-12 10:44:15 -0500</bug_when>
    <thetext>Created attachment 662420
Patch replaces scriptlets with new systemd macros</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>6643853</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2013-12-21 03:47:43 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 18 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 18. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as WONTFIX if it remains open with a Fedora 
&apos;version&apos; of &apos;18&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version prior to Fedora 18&apos;s end of life.

Thank you for reporting this issue and we are sorry that we may not be 
able to fix it before Fedora 18 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior to Fedora 18&apos;s end of life.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8445034</commentid>
    <comment_count>3</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2015-07-15 11:00:53 -0400</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 23 development cycle.
Changing version to &apos;23&apos;.

(As we did not run this process for some time, it could affect also pre-Fedora 23 development
cycle bugs. We are very sorry. It will help us with cleanup during Fedora 23 End Of Life. Thank you.)

More information and reason for this action is here:
https://fedoraproject.org/wiki/BugZappers/HouseKeeping/Fedora23</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9919846</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-11-24 05:46:43 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 23 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 23. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as EOL if it remains open with a Fedora  &apos;version&apos;
of &apos;23&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version.

Thank you for reporting this issue and we are sorry that we were not 
able to fix it before Fedora 23 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior this bug is closed as described in the policy above.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9920875</commentid>
    <comment_count>5</comment_count>
    <who name="Richard W.M. Jones">rjones</who>
    <bug_when>2016-11-24 06:47:56 -0500</bug_when>
    <thetext>I really think it would be better if the systemd maintainers
simply went and made the changes directly to the spec file
rather than involving every other package maintainer in a
hit and miss process of understanding what needs to be done.
But I digress ...

I tried to apply the patch, but it no longer applies.  Part of
the problem is that the watchdog now runs _two_ services.  It&apos;s
unclear to me if it&apos;s safe/correct to do (for example):

%preun
%systemd_preun watchdog.service
%systemd_preun watchdog-ping.service

Perhaps all the services should be listed on the same line,
or perhaps the macros don&apos;t consider this case at all.  Nothing
about this is mentioned in the guidelines.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9921833</commentid>
    <comment_count>6</comment_count>
    <who name="Lukáš Nykrýn">lnykryn</who>
    <bug_when>2016-11-24 07:33:45 -0500</bug_when>
    <thetext>You can put both of those unit files on the same line.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10190409</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2017-02-28 04:31:43 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 26 development cycle.
Changing version to &apos;26&apos;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10215521</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-07 03:14:06 -0500</bug_when>
    <thetext>watchdog-5.13-16.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-0637e419d6</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10215522</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-07 03:14:14 -0500</bug_when>
    <thetext>watchdog-5.13-16.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-176ad011b0</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10215523</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-07 03:14:19 -0500</bug_when>
    <thetext>watchdog-5.13-16.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-3e800ded37</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10216793</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-07 09:22:54 -0500</bug_when>
    <thetext>watchdog-5.13-16.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-176ad011b0</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10221569</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-08 09:53:19 -0500</bug_when>
    <thetext>watchdog-5.13-16.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-3e800ded37</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10229753</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-10 18:19:03 -0500</bug_when>
    <thetext>watchdog-5.13-16.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-0637e419d6</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10281390</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-27 20:24:11 -0400</bug_when>
    <thetext>watchdog-5.13-16.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10281965</commentid>
    <comment_count>15</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-28 02:18:38 -0400</bug_when>
    <thetext>watchdog-5.13-16.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10296492</commentid>
    <comment_count>16</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-04-01 12:49:47 -0400</bug_when>
    <thetext>watchdog-5.13-16.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>662420</attachid>
            <date>2012-12-12 10:44:00 -0500</date>
            <delta_ts>2012-12-12 10:44:15 -0500</delta_ts>
            <desc>Patch replaces scriptlets with new systemd macros</desc>
            <filename>macro.patch</filename>
            <type>text/plain</type>
            <size>1842</size>
            <attacher name="Lukáš Nykrýn">lnykryn</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL3dhdGNoZG9nLnNwZWMgYi93YXRjaGRvZy5zcGVjCmluZGV4IDZlMGZiNDQu
LmQzODhjNzYgMTAwNjQ0Ci0tLSBhL3dhdGNoZG9nLnNwZWMKKysrIGIvd2F0Y2hkb2cuc3BlYwpA
QCAtMSw3ICsxLDcgQEAKIFN1bW1hcnk6ICAgICAgICAgIFNvZnR3YXJlIGFuZC9vciBIYXJkd2Fy
ZSB3YXRjaGRvZyBkYWVtb24KIE5hbWU6ICAgICAgICAgICAgIHdhdGNoZG9nCiBWZXJzaW9uOiAg
ICAgICAgICA1LjEyCi1SZWxlYXNlOiAgICAgICAgICAyJXs/ZGlzdH0KK1JlbGVhc2U6ICAgICAg
ICAgIDMlez9kaXN0fQogTGljZW5zZTogICAgICAgICAgR1BMKwogR3JvdXA6ICAgICAgICAgICAg
U3lzdGVtIEVudmlyb25tZW50L0RhZW1vbnMKIApAQCAtMTIsOSArMTIsOSBAQCBTb3VyY2UyOiAg
ICAgICAgICBSRUFETUUud2F0Y2hkb2cuaXBtaQogU291cmNlMzogICAgICAgICAgUkVBRE1FLkZl
ZG9yYQogU291cmNlNDogICAgICAgICAgd2F0Y2hkb2cuc2VydmljZQogCi1SZXF1aXJlcyhwb3N0
KTogc3lzdGVtZC11bml0cwotUmVxdWlyZXMocHJldW4pOiBzeXN0ZW1kLXVuaXRzCi1SZXF1aXJl
cyhwb3N0dW4pOiBzeXN0ZW1kLXVuaXRzCitSZXF1aXJlcyhwb3N0KTogc3lzdGVtZAorUmVxdWly
ZXMocHJldW4pOiBzeXN0ZW1kCitSZXF1aXJlcyhwb3N0dW4pOiBzeXN0ZW1kCiAKIAogJWRlc2Ny
aXB0aW9uCkBAIC01NywyNiArNTcsMTUgQEAgaW5zdGFsbCAtRHAgLW0wNjQ0ICV7U09VUkNFNH0g
JHtSUE1fQlVJTERfUk9PVH0le191bml0ZGlyfS93YXRjaGRvZy5zZXJ2aWNlCiAKIAogJXBvc3QK
LWlmIFsgJDEgLWVxIDEgXSA7IHRoZW4gCi0gICAgIyBJbml0aWFsIGluc3RhbGxhdGlvbiAKLSAg
ICAvYmluL3N5c3RlbWN0bCBkYWVtb24tcmVsb2FkID4vZGV2L251bGwgMj4mMSB8fCA6Ci1maQor
JXN5c3RlbWRfcG9zdCB3YXRjaGRvZy5zZXJ2aWNlCiAKIAogJXByZXVuIAotaWYgWyAkMSAtZXEg
MCBdIDsgdGhlbgotICAgICMgUGFja2FnZSByZW1vdmFsLCBub3QgdXBncmFkZQotICAgIC9iaW4v
c3lzdGVtY3RsIC0tbm8tcmVsb2FkIGRpc2FibGUgd2F0Y2hkb2cuc2VydmljZSA+IC9kZXYvbnVs
bCAyPiYxIHx8IDoKLSAgICAvYmluL3N5c3RlbWN0bCBzdG9wIHdhdGNoZG9nLnNlcnZpY2UgPiAv
ZGV2L251bGwgMj4mMSB8fCA6Ci1maQorJXN5c3RlbWRfcHJldW4gd2F0Y2hkb2cuc2VydmljZQog
CiAKICVwb3N0dW4gCi0vYmluL3N5c3RlbWN0bCBkYWVtb24tcmVsb2FkID4vZGV2L251bGwgMj4m
MSB8fCA6Ci1pZiBbICQxIC1nZSAxIF0gOyB0aGVuCi0gICAgIyBQYWNrYWdlIHVwZ3JhZGUsIG5v
dCB1bmluc3RhbGwKLSAgICAvYmluL3N5c3RlbWN0bCB0cnktcmVzdGFydCB3YXRjaGRvZy5zZXJ2
aWNlID4vZGV2L251bGwgMj4mMSB8fCA6Ci1maQorJXN5c3RlbWRfcG9zdHVuX3dpdGhfcmVzdGFy
dCB3YXRjaGRvZy5zZXJ2aWNlCiAKICV0cmlnZ2VydW4gLS0gd2F0Y2hkb2cgPCA1LjktNAogIyBT
YXZlIHRoZSBjdXJyZW50IHNlcnZpY2UgcnVubGV2ZWwgaW5mbwpAQCAtMTA0LDYgKzkzLDkgQEAg
ZmkKIAogCiAlY2hhbmdlbG9nCisqIFdlZCBEZWMgMTIgMjAxMiBMdWvDocWhIE55a3LDvW4gPGxu
eWtyeW5AcmVkaGF0LmNvbT4gLSA1LjEyLTMKKy0gU2NyaXB0bGV0cyByZXBsYWNlZCB3aXRoIG5l
dyBzeXN0ZW1kIG1hY3JvcyAoIzg1MDM2NCkKKwogKiBTdW4gSnVsIDIyIDIwMTIgRmVkb3JhIFJl
bGVhc2UgRW5naW5lZXJpbmcgPHJlbC1lbmdAbGlzdHMuZmVkb3JhcHJvamVjdC5vcmc+IC0gNS4x
Mi0yCiAtIFJlYnVpbHQgZm9yIGh0dHBzOi8vZmVkb3JhcHJvamVjdC5vcmcvd2lraS9GZWRvcmFf
MThfTWFzc19SZWJ1aWxkCiAK
</data>

          </attachment>
      

    </bug>

</bugzilla>
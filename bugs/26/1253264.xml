<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1253264</bug_id>
          
          <creation_ts>2015-08-13 07:12:00 -0400</creation_ts>
          <short_desc>dnf distro-sync --allowerasing doesn&apos;t work with booted old kernel</short_desc>
          <delta_ts>2017-05-12 14:15:55 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>dnf</component>
          <version>26</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>RAWHIDE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>Triaged</keywords>
          <priority>low</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Daniel Mach">dmach</reporter>
          <assigned_to>rpm-software-management</assigned_to>
          <cc>bruno</cc>
    
    
    <cc>dmach</cc>
    
    
    <cc>jmracek</cc>
    
    
    <cc>mluscon</cc>
    
    
    <cc>mmraka</cc>
    
    
    <cc>packaging-team-maint</cc>
    
    
    <cc>pnemade</cc>
    
    
    <cc>tla</cc>
    
    
    <cc>vmukhame</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-05-12 14:15:55</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>8539135</commentid>
    <comment_count>0</comment_count>
    <who name="Daniel Mach">dmach</who>
    <bug_when>2015-08-13 07:12:03 -0400</bug_when>
    <thetext>$ dnf distro-sync

$ rpm -qa kernel
kernel-4.0.6-300.fc22.x86_64
kernel-4.1.4-200.fc22.x86_64
kernel-4.2.0-0.rc5.git0.2.fc23.x86_64

reboot, select kernel that&apos;s not the latest

$ uname -r
4.0.6-300.fc22.x86_64

$ dnf distro-sync --allowerasing
Error: The operation would result in removing the booted kernel: kernel-core-4.0.6-300.fc22.x86_64.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8589692</commentid>
    <comment_count>1</comment_count>
    <who name="Honza Silhan">jsilhan</who>
    <bug_when>2015-08-31 09:50:18 -0400</bug_when>
    <thetext>*** Bug 1255463 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8590084</commentid>
    <comment_count>2</comment_count>
    <who name="Bruno Wolff III">bruno</who>
    <bug_when>2015-08-31 11:02:27 -0400</bug_when>
    <thetext>(This is in reply to https://bugzilla.redhat.com/show_bug.cgi?id=1255463#c1 :
Removing the oldest doesn&apos;t necessarily make sense for distro-sync. There may not even be a kernel upgrade happening. Probably you first want to see which old kernels are being removed because they are no longer in any repos (while keeping stuff associated with the running kernel such as -core, -modules and -modules-extra) and then see if you still need to remove some to keep within the install limit.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9490466</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Admin XMLRPC Client">fedora-admin-xmlrpc</who>
    <bug_when>2016-07-08 05:38:29 -0400</bug_when>
    <thetext>This package has changed ownership in the Fedora Package Database.  Reassigning to the new owner of this component.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9921485</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-11-24 07:18:19 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 23 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 23. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as EOL if it remains open with a Fedora  &apos;version&apos;
of &apos;23&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version.

Thank you for reporting this issue and we are sorry that we were not 
able to fix it before Fedora 23 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior this bug is closed as described in the policy above.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9941939</commentid>
    <comment_count>5</comment_count>
    <who name="Michael MrÃ¡ka">mmraka</who>
    <bug_when>2016-11-30 03:53:35 -0500</bug_when>
    <thetext>Still valid dnf-2.0.0-0.rc1.4.fc26.noarch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10190685</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2017-02-28 04:48:17 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 26 development cycle.
Changing version to &apos;26&apos;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10388183</commentid>
    <comment_count>7</comment_count>
    <who name="Jaroslav Mracek">jmracek</who>
    <bug_when>2017-05-05 03:18:46 -0400</bug_when>
    <thetext>I am sorry but I cannot reproduce it with dnf-2.3.0-1 and libdnf-0.8.1-1</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10408686</commentid>
    <comment_count>8</comment_count>
    <who name="Jaroslav Mracek">jmracek</who>
    <bug_when>2017-05-12 14:15:55 -0400</bug_when>
    <thetext>I think that with this patch (https://github.com/rpm-software-management/libdnf/pull/285) dnf will work like Swiss ... :-) .</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1460320</bug_id>
          
          <creation_ts>2017-06-09 13:04:00 -0400</creation_ts>
          <short_desc>nodejs-iconv-lite no longer builds on F26</short_desc>
          <delta_ts>2017-06-22 09:35:31 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>nodejs-iconv-lite</component>
          <version>26</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Troy Dawson">tdawson</reporter>
          <assigned_to name="Jamie Nguyen">jamielinux</assigned_to>
          <cc>jamielinux</cc>
    
    
    <cc>tchollingsworth</cc>
    
    
    <cc>tom</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>nodejs-iconv-lite-0.4.18-1.fc26</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-06-22 09:35:31</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10493682</commentid>
    <comment_count>0</comment_count>
    <who name="Troy Dawson">tdawson</who>
    <bug_when>2017-06-09 13:04:18 -0400</bug_when>
    <thetext>Description of problem:
nodejs-iconv-lite 0.4.15 does not build with nodejs-6.10.3

Version-Release number of selected component (if applicable):
nodejs-iconv-lite-0.4.15-1.fc26

How reproducible:
100%

Steps to Reproduce:
1. koji build --scratch f25 nodejs-iconv-lite-0.4.15-1.fc26.src.rpm
2.
3.

Actual results:
...
  108 passing (568ms)
  1 failing
  1) Streaming mode Decoding of incomplete chars using internal modules: ucs2 / surrogates:
      AssertionError: [ &apos;ï¿½&apos;, &apos;ï¿½&apos; ] deepEqual [ &apos;ðŸ˜»&apos; ]
      + expected - actual
       [
      +  &quot;ðŸ˜»&quot;
      -  &quot;ï¿½&quot;
      -  &quot;ï¿½&quot;
       ]
...
and normal failed rpm output after that.

Expected results:
rpm should build

Additional info:
This was not arch dependent.  The original f26 build was built on arm7hl.  Tried the scratch with both that and x86_64.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10493685</commentid>
    <comment_count>1</comment_count>
    <who name="Troy Dawson">tdawson</who>
    <bug_when>2017-06-09 13:05:56 -0400</bug_when>
    <thetext>Tried downgrading nodejs to nodejs-6.9.4 (What it was originally built on) and it builds properly.

Tried updating to the latest version 0.4.17, and that builds properly.
Recommending updating to version 0.4.17.
If you do that, you also have to add
BuildRequires:  npm(semver)

Note: npm(semver) is already in Fedora, no need for another package.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10494249</commentid>
    <comment_count>2</comment_count>
      <attachid>1286512</attachid>
    <who name="Troy Dawson">tdawson</who>
    <bug_when>2017-06-09 15:14:12 -0400</bug_when>
    <thetext>Created attachment 1286512
Patch of spec to update to latest version

Patch to spec attached to update to latest version.
Doesn&apos;t include the updated tarball.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10513595</commentid>
    <comment_count>3</comment_count>
    <who name="Troy Dawson">tdawson</who>
    <bug_when>2017-06-16 11:42:25 -0400</bug_when>
    <thetext>This is a blocker for some projects.  We understand some people have limited time to fix packages.  If you do not have the time to fix this, or merge the patch, within two weeks, we will have a proven packager merge the suggested patch in and build it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10513619</commentid>
    <comment_count>4</comment_count>
    <who name="Tom Hughes">tom</who>
    <bug_when>2017-06-16 11:50:50 -0400</bug_when>
    <thetext>Not quite sure how failing to build can be a blocker given there&apos;s a (more or less working) version already present, or do you actually need the newer version for some other reason?

If so, do you need it in F26 or is rawhide enough?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10513701</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-16 12:10:56 -0400</bug_when>
    <thetext>nodejs-iconv-lite-0.4.18-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-59a8b09b7f</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10513708</commentid>
    <comment_count>6</comment_count>
    <who name="Troy Dawson">tdawson</who>
    <bug_when>2017-06-16 12:13:53 -0400</bug_when>
    <thetext>It&apos;s affecting some offline (?? not koji or bodhi) test machines.  At least one of them is a pretty massive machine.

I know we need it in rawhide/f27, but I think they are also pulling in f26 sometimes.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10513710</commentid>
    <comment_count>7</comment_count>
    <who name="Troy Dawson">tdawson</who>
    <bug_when>2017-06-16 12:14:42 -0400</bug_when>
    <thetext>Thank You</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10515726</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-18 02:20:44 -0400</bug_when>
    <thetext>nodejs-iconv-lite-0.4.18-1.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-59a8b09b7f</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10531739</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-22 09:35:31 -0400</bug_when>
    <thetext>nodejs-iconv-lite-0.4.18-1.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1286512</attachid>
            <date>2017-06-09 15:14:00 -0400</date>
            <delta_ts>2017-06-09 15:14:12 -0400</delta_ts>
            <desc>Patch of spec to update to latest version</desc>
            <filename>0001-Update-to-0.4.17-upstream-release.patch</filename>
            <type>text/plain</type>
            <size>1122</size>
            <attacher name="Troy Dawson">tdawson</attacher>
            
              <data encoding="base64">RnJvbSAyZmQ3MTliOTg4OTIyMDFhMGM2YzkwYWQ5NGU5ODBhMDI5ZmZkMzk0IE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBUcm95IERhd3NvbiA8dGRhd3NvbkByZWRoYXQuY29tPgpEYXRl
OiBGcmksIDkgSnVuIDIwMTcgMTI6MTI6MDggLTA3MDAKU3ViamVjdDogW1BBVENIXSBVcGRhdGUg
dG8gMC40LjE3IHVwc3RyZWFtIHJlbGVhc2UKCi0tLQogbm9kZWpzLWljb252LWxpdGUuc3BlYyB8
IDYgKysrKystCiAxIGZpbGUgY2hhbmdlZCwgNSBpbnNlcnRpb25zKCspLCAxIGRlbGV0aW9uKC0p
CgpkaWZmIC0tZ2l0IGEvbm9kZWpzLWljb252LWxpdGUuc3BlYyBiL25vZGVqcy1pY29udi1saXRl
LnNwZWMKaW5kZXggZTM5ZWEwMy4uZTIwYzE2OCAxMDA2NDQKLS0tIGEvbm9kZWpzLWljb252LWxp
dGUuc3BlYworKysgYi9ub2RlanMtaWNvbnYtbGl0ZS5zcGVjCkBAIC0xLDUgKzEsNSBAQAogTmFt
ZTogICAgICAgICAgIG5vZGVqcy1pY29udi1saXRlCi1WZXJzaW9uOiAgICAgICAgMC40LjE1CitW
ZXJzaW9uOiAgICAgICAgMC40LjE3CiBSZWxlYXNlOiAgICAgICAgMSV7P2Rpc3R9CiBTdW1tYXJ5
OiAgICAgICAgQ29udmVydCBjaGFyYWN0ZXIgZW5jb2RpbmdzIGluIHB1cmUgSmF2YVNjcmlwdAog
CkBAIC0xMyw2ICsxMyw3IEBAIEJ1aWxkUmVxdWlyZXM6ICBub2RlanMtcGFja2FnaW5nCiAKIEJ1
aWxkUmVxdWlyZXM6ICBucG0oaWNvbnYpCiBCdWlsZFJlcXVpcmVzOiAgbnBtKG1vY2hhKQorQnVp
bGRSZXF1aXJlczogIG5wbShzZW12ZXIpCiAjQnVpbGRSZXF1aXJlczogIG5wbSh1bm9ybSkKIAog
JWRlc2NyaXB0aW9uCkBAIC01MCw2ICs1MSw5IEBAIG1vY2hhIC0tcmVwb3J0ZXIgc3BlYyAtLWdy
ZXAgLgogCiAKICVjaGFuZ2Vsb2cKKyogRnJpIEp1biAwOSAyMDE3IFRyb3kgRGF3c29uIDx0ZGF3
c29uQHJlZGhhdC5jb20+IC0gMC40LjE3LTEKKy0gVXBkYXRlIHRvIDAuNC4xNyB1cHN0cmVhbSBy
ZWxlYXNlCisKICogRnJpIEZlYiAxNyAyMDE3IFRvbSBIdWdoZXMgPHRvbUBjb21wdG9uLm51PiAt
IDAuNC4xNS0xCiAtIFVwZGF0ZSB0byAwLjQuMTUgdXBzdHJlYW0gcmVsZWFzZQogLSBFbmFibGUg
YXMgbWFueSB0ZXN0cyBhcyBwb3NzaWJsZQotLSAKMS44LjMuMQoK
</data>

          </attachment>
      

    </bug>

</bugzilla>
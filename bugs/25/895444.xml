<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>895444</bug_id>
          
          <creation_ts>2013-01-15 03:58:00 -0500</creation_ts>
          <short_desc>Not enough disk space for midnight commander in /tmp</short_desc>
          <delta_ts>2016-12-12 06:04:08 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>mc</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>RAWHIDE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>urgent</priority>
          <bug_severity>urgent</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>826015</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="vvs">vvs009</reporter>
          <assigned_to name="Radek Vokal">rvokal</assigned_to>
          <cc>dvlasenk</cc>
    
    
    <cc>kvolny</cc>
    
    
    <cc>pahan</cc>
    
    
    <cc>rjones</cc>
    
    
    <cc>rvokal</cc>
    
    
    <cc>slavazanko</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>mc-4.8.18-3.fc26</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-12-09 06:16:15</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>5364127</commentid>
    <comment_count>0</comment_count>
    <who name="vvs">vvs009</who>
    <bug_when>2013-01-15 03:58:09 -0500</bug_when>
    <thetext>Description of problem:

Midnight Commander requires space in /tmp directory for certain operations, e.g. copying files over network. As /tmp is now tmpfs there is much less space available.

Version-Release number of selected component (if applicable):

mc-4.8.6-2.fc18.i686

How reproducible:

When /tmp is on tmpfs

Steps to Reproduce:
1. Copy Fedora DVD install image over ssh link
  
Actual results:

Usually not enough disk space unless your have plenty of RAM and 64-bit OS.

Expected results:

It was possible to copy it in previous versions of Fedora, so it is a regression.

Additional info:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>5366030</commentid>
    <comment_count>1</comment_count>
    <who name="Richard W.M. Jones">rjones</who>
    <bug_when>2013-01-15 14:00:06 -0500</bug_when>
    <thetext>tmp-on-tmpfs is fundamentally broken, so this doesn&apos;t
exactly surprise.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>5368718</commentid>
    <comment_count>2</comment_count>
    <who name="vvs">vvs009</who>
    <bug_when>2013-01-16 05:52:50 -0500</bug_when>
    <thetext>Well, why argue now when it was already approved and included in F18? As I understand the &quot;official&quot; way is to use /var/tmp.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>6167176</commentid>
    <comment_count>4</comment_count>
    <who name="Karel Volný">kvolny</who>
    <bug_when>2013-08-01 06:30:01 -0400</bug_when>
    <thetext>(In reply to Victor V. Shkamerda from comment #2)
&gt; Well, why argue now when it was already approved and included in F18?

because each decision can be reconsidered and reverted

I&apos;ve just hit this issue too, thanks Lennart for taking away about an hour of my life spent by trying to figure out what&apos;s wrong with my system, why trivial operations are failing ...</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>6645405</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2013-12-21 05:23:19 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 18 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 18. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as WONTFIX if it remains open with a Fedora 
&apos;version&apos; of &apos;18&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version prior to Fedora 18&apos;s end of life.

Thank you for reporting this issue and we are sorry that we may not be 
able to fix it before Fedora 18 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior to Fedora 18&apos;s end of life.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8444873</commentid>
    <comment_count>7</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2015-07-15 10:53:02 -0400</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 23 development cycle.
Changing version to &apos;23&apos;.

(As we did not run this process for some time, it could affect also pre-Fedora 23 development
cycle bugs. We are very sorry. It will help us with cleanup during Fedora 23 End Of Life. Thank you.)

More information and reason for this action is here:
https://fedoraproject.org/wiki/BugZappers/HouseKeeping/Fedora23</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8810833</commentid>
    <comment_count>8</comment_count>
    <who name="Karel Volný">kvolny</who>
    <bug_when>2015-11-11 08:41:10 -0500</bug_when>
    <thetext>ping, just hit this again, &quot;very nice&quot; to see things failing (like bash completion etc.) just because I&apos;ve tried to view a file while not noticing that its size exceeds half of my RAM ...</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9919976</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-11-24 05:54:20 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 23 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 23. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as EOL if it remains open with a Fedora  &apos;version&apos;
of &apos;23&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version.

Thank you for reporting this issue and we are sorry that we were not 
able to fix it before Fedora 23 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior this bug is closed as described in the policy above.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9971044</commentid>
    <comment_count>10</comment_count>
    <who name="Karel Volný">kvolny</who>
    <bug_when>2016-12-09 05:48:15 -0500</bug_when>
    <thetext>ping, I&apos;ve just got trapped again ... copying a few gigabytes over slow network, left that overnight, just to find out in the morning that it got stuck right in the begining because of mc&apos;s unability to store a file in /tmp

rvokal, please please PLEASE! do something about it - could you assign this to someone new if jnovy is gone? (yeah, this is Fedora, not RHEL, but anyways ... I still have some reward points to spend ... ;-))

I believe the following would be enough to do the trick:

--- lib/global.h~       2016-09-22 20:24:12.000000000 +0200
+++ lib/global.h        2016-12-09 11:34:47.376367101 +0100
@@ -125,7 +125,7 @@
 #define PATH_SEP_STR &quot;/&quot;
 #define IS_PATH_SEP(c) ((c) == PATH_SEP)
 #define PATH_ENV_SEP &apos;:&apos;
-#define TMPDIR_DEFAULT &quot;/tmp&quot;
+#define TMPDIR_DEFAULT &quot;/var/tmp&quot;
 #define SCRIPT_SUFFIX &quot;&quot;
 #define get_default_editor() &quot;vi&quot;
 #define OS_SORT_CASE_SENSITIVE_DEFAULT 1</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9971110</commentid>
    <comment_count>11</comment_count>
    <who name="Richard W.M. Jones">rjones</who>
    <bug_when>2016-12-09 06:16:15 -0500</bug_when>
    <thetext>I pushed the patch from comment 10 to Rawhide in
mc-4.8.18-3.fc26</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9971111</commentid>
    <comment_count>12</comment_count>
    <who name="Richard W.M. Jones">rjones</who>
    <bug_when>2016-12-09 06:16:36 -0500</bug_when>
    <thetext>http://koji.fedoraproject.org/koji/taskinfo?taskID=16805614</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9976225</commentid>
    <comment_count>13</comment_count>
    <who name="Karel Volný">kvolny</who>
    <bug_when>2016-12-12 06:04:08 -0500</bug_when>
    <thetext>thanks, verified, copied files are stored in /var/tmp/mc-$USER/ now</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
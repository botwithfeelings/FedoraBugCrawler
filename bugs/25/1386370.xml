<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1386370</bug_id>
          
          <creation_ts>2016-10-18 15:15:00 -0400</creation_ts>
          <short_desc>clamtk works on Fedora 25 Workstation, but doesn&apos;t start on Fedora 25 KDE</short_desc>
          <delta_ts>2016-11-30 00:27:49 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>clamtk</component>
          <version>25</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Giulio &apos;juliuxpigface&apos;">juliux.pigface</reporter>
          <assigned_to name="Gwyn Ciesla">limburgher</assigned_to>
          <cc>danielemi</cc>
    
    
    <cc>davem</cc>
    
    
    <cc>limburgher</cc>
    
    
    <cc>megaphantomx</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>clamtk-5.24-1.fc23 clamtk-5.24-1.fc24 clamtk-5.24-1.fc25</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-11-29 18:53:11</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9802156</commentid>
    <comment_count>0</comment_count>
    <who name="Giulio &apos;juliuxpigface&apos;">juliux.pigface</who>
    <bug_when>2016-10-18 15:15:01 -0400</bug_when>
    <thetext>Description of problem:

clamtk fails to start on Fedora 25 KDE, throwing the following line on terminal:

&quot;Icon &apos;gtk-new&apos; not present in theme at /usr/share/perl5/vendor_perl/ClamTk/GUI.pm line 281.&quot;

However, it works on Fedora 25 Workstation.

Version-Release number of selected component (if applicable):
clamtk-5.22-1.fc25.noarch

How reproducible:
Always

Steps to Reproduce:
1.Launch &apos;clamtk&apos; on konsole.

Actual results:
clamtk doesn&apos;t start.

Expected results:
clamtk should work with KDE too.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9802173</commentid>
    <comment_count>1</comment_count>
    <who name="Dave M">davem</who>
    <bug_when>2016-10-18 15:20:58 -0400</bug_when>
    <thetext>Hi Giulio,

The message comes up because the theme you&apos;re using does not have that icon.  Other themes do have that icon.

I don&apos;t have a good way to fix this.  If I incorporate icons, some users won&apos;t be happy because they like the icon theme they use.  If I don&apos;t incorporate icons, there&apos;s a chance this error will happen...

Thanks,
Dave M</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9802257</commentid>
    <comment_count>2</comment_count>
    <who name="Giulio &apos;juliuxpigface&apos;">juliux.pigface</who>
    <bug_when>2016-10-18 15:49:21 -0400</bug_when>
    <thetext>Hello Dave.

Thank you for the fast response. Anyway, I&apos;ve already suspected that, but there is something I don&apos;t understand.

Fedora 25 Workstation uses the &quot;adwaita-icon-theme-3.22.0-1.fc25.noarch&quot; theme. I tried to apply it (and to apply the other themes) on KDE, but the issue is still present.

Moreover... Speaking about icons, the KDE spin comes with same package set as the Workstation one. So, there aren&apos;t big differences, apart from the &quot;breeze-icon-theme&quot;, which isn&apos;t installed by default on Gnome:

FEDORA 25 KDE:
$ rpm -qa | grep icon-theme | sort
adwaita-icon-theme-3.22.0-1.fc25.noarch
breeze-icon-theme-5.27.0-1.fc25.noarch
gnome-icon-theme-3.12.0-4.fc24.noarch
gnome-icon-theme-legacy-3.12.0-4.fc24.noarch
hicolor-icon-theme-0.15-3.fc24.noarch
oxygen-icon-theme-5.27.0-1.fc25.noarch

FEDORA 25 WORKSTATION:
$ rpm -qa | grep icon-theme | sort
adwaita-icon-theme-3.22.0-1.fc25.noarch
gnome-icon-theme-3.12.0-4.fc24.noarch
gnome-icon-theme-legacy-3.12.0-4.fc24.noarch
hicolor-icon-theme-0.15-3.fc24.noarch
oxygen-icon-theme-5.27.0-1.fc25.noarch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9802280</commentid>
    <comment_count>3</comment_count>
    <who name="Dave M">davem</who>
    <bug_when>2016-10-18 15:58:57 -0400</bug_when>
    <thetext>Hi Giulio,

I&apos;m stumped there.  It&apos;d be nice if we could test for the existence of that icon, and if it doesn&apos;t exist, THEN use an icon incorporated with ClamTk...

I need to figure out how to do that.  I wish it would at least show the &quot;icon-missing&quot; image instead of just dying.

I&apos;ll keep researching, anyway. :)  Thanks for reporting it.

Thanks,
Dave M</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9814054</commentid>
    <comment_count>4</comment_count>
    <who name="">danielemi</who>
    <bug_when>2016-10-23 23:33:30 -0400</bug_when>
    <thetext>
Same problem trying in Xfce.. help!?

I have tried without luck to copy the icon in /usr/share/perl5/vendor_perl/ClamTk

Finally, setting my icons theme to Gnome run properly, but I can&apos;t stick on it..</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9831221</commentid>
    <comment_count>5</comment_count>
    <who name="Dave M">davem</who>
    <bug_when>2016-10-29 11:13:15 -0400</bug_when>
    <thetext>(In reply to danielemi from comment #4)
&gt; Same problem trying in Xfce.. help!?
&gt; 
&gt; I have tried without luck to copy the icon in
&gt; /usr/share/perl5/vendor_perl/ClamTk
&gt; 
&gt; Finally, setting my icons theme to Gnome run properly, but I can&apos;t stick on
&gt; it..

What theme are you using?  I love XFCE, so everything gets tested on it first, of course. :)  Most themes I&apos;ve used on it have worked fine.

Thanks,
Dave M</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9831494</commentid>
    <comment_count>6</comment_count>
    <who name="">danielemi</who>
    <bug_when>2016-10-29 20:43:51 -0400</bug_when>
    <thetext>
In XFCE, I tried some icons themes and I ended up choosing Oxygen. I produced a custom version of it with the GTK icons and some other changes (eg. file manager, web browser).

I could eventually share it (41mb).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9849154</commentid>
    <comment_count>7</comment_count>
      <attachid>1216709</attachid>
    <who name="Vinicius">megaphantomx</who>
    <bug_when>2016-11-02 14:58:16 -0400</bug_when>
    <thetext>Created attachment 1216709
Patch to fix error

This patch by anthraxx from AUR fix the error, by setting paths from gnome-icon-theme.

https://aur.archlinux.org/packages/clamtk</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9849413</commentid>
    <comment_count>8</comment_count>
    <who name="Dave M">davem</who>
    <bug_when>2016-11-02 16:28:01 -0400</bug_when>
    <thetext>(In reply to megaphantomx from comment #7)
&gt; Created attachment 1216709 [details]
&gt; Patch to fix error
&gt; 
&gt; This patch by anthraxx from AUR fix the error, by setting paths from
&gt; gnome-icon-theme.
&gt; 
&gt; https://aur.archlinux.org/packages/clamtk

It works great, thanks for pointing it out.  I left a comment there asking if they mind my adding it to upstream.  That way Arch can drop the patch, and distributions other than just Arch can benefit.

Thanks,
Dave M</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9905253</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-19 04:47:05 -0500</bug_when>
    <thetext>clamtk-5.24-1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2016-e7a6841457</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9905254</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-19 04:47:14 -0500</bug_when>
    <thetext>clamtk-5.24-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-85b597d334</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9905255</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-19 04:47:19 -0500</bug_when>
    <thetext>clamtk-5.24-1.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-da2725eff5</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9906586</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-20 14:52:55 -0500</bug_when>
    <thetext>clamtk-5.24-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-85b597d334</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9906640</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-20 16:53:42 -0500</bug_when>
    <thetext>clamtk-5.24-1.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-da2725eff5</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9910014</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-21 16:10:41 -0500</bug_when>
    <thetext>clamtk-5.24-1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-e7a6841457</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9940910</commentid>
    <comment_count>15</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-29 18:53:11 -0500</bug_when>
    <thetext>clamtk-5.24-1.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9941254</commentid>
    <comment_count>16</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-29 22:52:40 -0500</bug_when>
    <thetext>clamtk-5.24-1.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9941413</commentid>
    <comment_count>17</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-30 00:27:49 -0500</bug_when>
    <thetext>clamtk-5.24-1.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1216709</attachid>
            <date>2016-11-02 14:58:00 -0400</date>
            <delta_ts>2016-11-02 14:58:16 -0400</delta_ts>
            <desc>Patch to fix error</desc>
            <filename>fix-gtk-icon.patch</filename>
            <type>text/plain</type>
            <size>509</size>
            <attacher name="Vinicius">megaphantomx</attacher>
            
              <data encoding="base64">LS0tIGxpYi9HVUkucG0JMjAxNi0wOS0yMSAxODo0NDo0NS4wOTY4OTU4NjAgKzAyMDAKKysrIGxp
Yi9HVUkucG0JMjAxNi0wOS0yMSAxODo0NDo0NS4wOTY4OTU4NjAgKzAyMDAKQEAgLTI3LDYgKzI3
LDExIEBACiBteSAkYm94OwogCiBzdWIgc3RhcnRfZ3VpIHsKKyAgICBteSAkdGhlbWUgPSBHdGsy
OjpJY29uVGhlbWUtPmdldF9kZWZhdWx0OworICAgICR0aGVtZS0+YXBwZW5kX3NlYXJjaF9wYXRo
KCcvdXNyL3NoYXJlL2ljb25zL2dub21lLzI0eDI0L2FjdGlvbnMnKTsKKyAgICAkdGhlbWUtPmFw
cGVuZF9zZWFyY2hfcGF0aCgnL3Vzci9zaGFyZS9pY29ucy9nbm9tZS8yNHgyNC9wbGFjZXMnKTsK
KyAgICAkdGhlbWUtPmFwcGVuZF9zZWFyY2hfcGF0aCgnL3Vzci9zaGFyZS9pY29ucy9nbm9tZS8y
NHgyNC9taW1ldHlwZXMnKTsKKwogICAgICR3aW5kb3cgPSBHdGsyOjpXaW5kb3ctPm5ldzsKICAg
ICAkd2luZG93LT5zaWduYWxfY29ubmVjdCgKICAgICAgICAgZGVzdHJveSA9PiBzdWIgewo=
</data>

          </attachment>
      

    </bug>

</bugzilla>
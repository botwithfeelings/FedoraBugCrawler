<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1438009</bug_id>
          
          <creation_ts>2017-03-31 11:36:00 -0400</creation_ts>
          <short_desc>zsh package is missing some modules</short_desc>
          <delta_ts>2017-06-05 11:09:38 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>zsh</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Julien Nicoulaud">julien.nicoulaud</reporter>
          <assigned_to name="Jason Tibbitts">tibbs</assigned_to>
          <cc>dmaphy</cc>
    
    
    <cc>gfa</cc>
    
    
    <cc>james.antill</cc>
    
    
    <cc>kdudka</cc>
    
    
    <cc>svashisht</cc>
    
    
    <cc>tibbs</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>zsh-5.2-6.fc25 zsh-5.3.1-4.fc26</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-04-09 17:51:25</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10294931</commentid>
    <comment_count>0</comment_count>
    <who name="Julien Nicoulaud">julien.nicoulaud</who>
    <bug_when>2017-03-31 11:36:37 -0400</bug_when>
    <thetext>Description of problem:
The zsh package in Fedora 25 is missing two modules (when comparing to an Arch Linux installation):
 - pcre
 - db/gdbm

This is especially noticeable for pcre, as the systemd completions try to load it and output errors when trying to use tab completion.

Version-Release number of selected component (if applicable):
5.2

How reproducible:
always

Steps to Reproduce:
1. zmodload zsh/pcre
2. zmodload zsh/db/gdbm

Actual results:
zsh: failed to load module `zsh/pcre&apos;: /usr/lib64/zsh/5.2/zsh/pcre.so: cannot open shared object file: No such file or directory
zsh: failed to load module `zsh/db/gdbm&apos;: /usr/lib64/zsh/5.2/zsh/db/gdbm.so: cannot open shared object file: No such file or directory

Expected results:
no output

Additional info:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10295033</commentid>
    <comment_count>1</comment_count>
    <who name="Jason Tibbitts">tibbs</who>
    <bug_when>2017-03-31 12:14:19 -0400</bug_when>
    <thetext>Can reproduce, even on rawhide.  I suspect a couple of build dependencies will fix this up.  I&apos;ll have a look.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10295219</commentid>
    <comment_count>2</comment_count>
    <who name="Jason Tibbitts">tibbs</who>
    <bug_when>2017-03-31 13:29:15 -0400</bug_when>
    <thetext>Fix pushed to rawhide currently.  This results in additional dependencies on pcre and gdbm, but those are needed variously by systemd and dnf so there is no effective dependency growth.

Can push to F26 as well, and backport to the F25 package, if the other maintainers agree.  I could also just update F25 to 5.3.1 as well, I guess, but that would be more disruptive.  What do you folks think?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10295384</commentid>
    <comment_count>3</comment_count>
    <who name="Kamil Dudka">kdudka</who>
    <bug_when>2017-03-31 15:06:08 -0400</bug_when>
    <thetext>(In reply to Jason Tibbitts from comment #2)
&gt; Fix pushed to rawhide currently.  This results in additional dependencies on
&gt; pcre and gdbm, but those are needed variously by systemd and dnf so there is
&gt; no effective dependency growth.

OK.  Thanks!

&gt; Can push to F26 as well, and backport to the F25 package, if the other
&gt; maintainers agree.

What exactly do you want to backport?  Just the spec file changes?

&gt; I could also just update F25 to 5.3.1 as well, I guess,

Are you implying that the update is needed to make those modules work?

&gt; but that would be more disruptive.  What do you folks think?

Please do not rebase zsh in stable releases of Fedora unless there is a good reason to do so.  It is known to cause problems.  See bug #1296692 comment #5.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10295426</commentid>
    <comment_count>4</comment_count>
    <who name="Jason Tibbitts">tibbs</who>
    <bug_when>2017-03-31 15:20:37 -0400</bug_when>
    <thetext>I would backport just the small specfile changes needed to enable the modules.

I made no implication at all that an update to 5.3.1 is needed to enable those modules.  The only reason I mentioned it at all is that it would keep the branches from diverging, which for some maintainers is a concern.

I know all about the need to type &quot;exec zsh&quot; on shells which stay open across a package update.  I wouldn&apos;t have mentioned how disruptive that can be if I didn&apos;t understand the issue.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10298234</commentid>
    <comment_count>5</comment_count>
    <who name="Kamil Dudka">kdudka</who>
    <bug_when>2017-04-03 03:39:35 -0400</bug_when>
    <thetext>(In reply to Jason Tibbitts from comment #4)
&gt; I would backport just the small specfile changes needed to enable the
&gt; modules.

Sounds reasonable.

&gt; I made no implication at all that an update to 5.3.1 is needed to enable
&gt; those modules.  The only reason I mentioned it at all is that it would keep
&gt; the branches from diverging, which for some maintainers is a concern.

I prefer to make the packaging of zsh optimized for users, not for maintainers.

&gt; I know all about the need to type &quot;exec zsh&quot; on shells which stay open
&gt; across a package update.

In other words, you would have to drop all existing zsh sessions...</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10300702</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-04-03 18:32:10 -0400</bug_when>
    <thetext>zsh-5.3.1-4.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-b760b0e5e2</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10300775</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-04-03 19:27:40 -0400</bug_when>
    <thetext>zsh-5.2-6.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-aaf65ae1c0</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10304112</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-04-04 18:23:03 -0400</bug_when>
    <thetext>zsh-5.2-6.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-aaf65ae1c0</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10304210</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-04-04 19:52:16 -0400</bug_when>
    <thetext>zsh-5.3.1-4.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-b760b0e5e2</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10317663</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-04-09 17:51:25 -0400</bug_when>
    <thetext>zsh-5.2-6.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10321109</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-04-10 12:00:08 -0400</bug_when>
    <thetext>zsh-5.3.1-4.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10477062</commentid>
    <comment_count>12</comment_count>
    <who name="gustavo panizzo &lt;gfa&gt;">gfa</who>
    <bug_when>2017-06-05 08:16:01 -0400</bug_when>
    <thetext>Hello

Can we get this backported to RHEL7? I have to use RHEL7 on my workstation and i&apos;d appreciate if i can share my .zshrc with my Debian machines.

thanks!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10477763</commentid>
    <comment_count>13</comment_count>
    <who name="Jason Tibbitts">tibbs</who>
    <bug_when>2017-06-05 11:09:38 -0400</bug_when>
    <thetext>Zsh is in base RHEL, not EPEL, so anything like that would have to go through the regular RHEL product support cycle.  I don&apos;t even have an RHEL subscription, much less any influence over what Red Hat does internally.  You should open a ticket using whatever support channel you have.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1350418</bug_id>
          
          <creation_ts>2016-06-27 07:51:00 -0400</creation_ts>
          <short_desc>build broken for gcc-go</short_desc>
          <delta_ts>2017-06-23 10:05:10 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>docker</component>
          <version>25</version>
          <rep_platform>s390x</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>467765</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Dan Horák">dan</reporter>
          <assigned_to name="Lokesh Mandvekar">lsm5</assigned_to>
          <cc>adimania</cc>
    
    
    <cc>admiller</cc>
    
    
    <cc>amurdaca</cc>
    
    
    <cc>dwalsh</cc>
    
    
    <cc>ichavero</cc>
    
    
    <cc>jcajka</cc>
    
    
    <cc>jchaloup</cc>
    
    
    <cc>lsm5</cc>
    
    
    <cc>marianne</cc>
    
    
    <cc>miminar</cc>
    
    
    <cc>nalin</cc>
    
    
    <cc>riek</cc>
    
    
    <cc>vbatts</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-06-23 10:05:10</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9455028</commentid>
    <comment_count>0</comment_count>
    <who name="Dan Horák">dan</who>
    <bug_when>2016-06-27 07:51:48 -0400</bug_when>
    <thetext>Seems the latest commit [1] breaks build for platforms where gcc-go is used. Build on s390x fails with
...
DEBUG util.py:495:  Executing command: [&apos;/usr/bin/dnf&apos;, &apos;builddep&apos;, &apos;--installroot&apos;, &apos;/var/lib/mock/SHADOWBUILD-f25-build-596088-384580/root/&apos;, &apos;/var/lib/mock/SHADOWBUILD-f25-build-596088-384580/root//builddir/build/SRPMS/docker-1.11.2-10.git4ddbd3d.fc25.src.rpm&apos;, &apos;--setopt=tsflags=nocontexts&apos;] with env {&apos;LANG&apos;: &apos;en_US.UTF-8&apos;, &apos;HOME&apos;: &apos;/builddir&apos;, &apos;LC_MESSAGES&apos;: &apos;C&apos;, &apos;TERM&apos;: &apos;vt100&apos;, &apos;SHELL&apos;: &apos;/bin/bash&apos;, &apos;HOSTNAME&apos;: &apos;mock&apos;, &apos;PROMPT_COMMAND&apos;: &apos;printf &quot;\x1b]0;&lt;mock-chroot&gt;\x07&lt;mock-chroot&gt;&quot;&apos;, &apos;PATH&apos;: &apos;/usr/bin:/bin:/usr/sbin:/sbin&apos;} and shell False
DEBUG util.py:417:  Last metadata expiration check performed 0:02:07 ago on Mon Jun 27 11:34:29 2016.
DEBUG util.py:417:  No matching package to install: &apos;compiler(go-compiler) &gt;= 1.6.2&apos;
DEBUG util.py:417:  Not all dependencies satisfied
DEBUG util.py:417:  Error: Some packages could not be found.
DEBUG util.py:542:  Child return code was: 1
DEBUG util.py:176:  kill orphans
DEBUG util.py:563:  child environment: None
...

for full details please see http://s390.koji.fedoraproject.org/koji/taskinfo?taskID=2270142


[1] http://pkgs.fedoraproject.org/cgit/rpms/docker.git/commit/?id=44df61bb8c941f73145c63e883a83af44e7aaa78

Version-Release number of selected component (if applicable):
docker-1.11.2-10.git4ddbd3d.fc25</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9460763</commentid>
    <comment_count>1</comment_count>
    <who name="Antonio Murdaca">amurdaca</who>
    <bug_when>2016-06-28 16:56:31 -0400</bug_when>
    <thetext>Lokesh, seems like the latest commit in fedora master dist git broke this?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9463826</commentid>
    <comment_count>2</comment_count>
      <attachid>1173907</attachid>
    <who name="Jakub Čajka">jcajka</who>
    <bug_when>2016-06-29 09:29:07 -0400</bug_when>
    <thetext>Created attachment 1173907
Fix

IMHO compiler(go-compiler) &gt;= 1.6.2 should be unversioned, it seems to me that BR line should be in this way &quot;%{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang &gt;= 1.6.2}&quot;
Current unconditional versioning works on architectures using golang compiler just thanks to version bumps added to workaround ways dnf treats unversioned dependencies.

In attachment is patch fixing this bug.

Just side question is go version requirement needed?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9471770</commentid>
    <comment_count>3</comment_count>
    <who name="Antonio Murdaca">amurdaca</who>
    <bug_when>2016-07-01 06:48:35 -0400</bug_when>
    <thetext>patch applied and docker rebuilt</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9472739</commentid>
    <comment_count>4</comment_count>
    <who name="Dan Horák">dan</who>
    <bug_when>2016-07-01 11:40:51 -0400</bug_when>
    <thetext>and built on s390x as http://s390.koji.fedoraproject.org/koji/buildinfo?buildID=414295</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9549400</commentid>
    <comment_count>5</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2016-07-26 00:36:39 -0400</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 25 development cycle.
Changing version to &apos;25&apos;.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1173907</attachid>
            <date>2016-06-29 09:29:00 -0400</date>
            <delta_ts>2016-06-29 09:29:07 -0400</delta_ts>
            <desc>Fix</desc>
            <filename>0001-Resolves-bz1350418.patch</filename>
            <type>text/plain</type>
            <size>787</size>
            <attacher name="Jakub Čajka">jcajka</attacher>
            
              <data encoding="base64">RnJvbSBiYjJjNTExMDQ4YjlhZDBiZTI1MjUyOTcyZmYzNzZlYWM1MjVmODc3IE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiA9P1VURi04P3E/SmFrdWI9MjA9QzQ9OENhamthPz0gPGpjYWpr
YUByZWRoYXQuY29tPgpEYXRlOiBXZWQsIDI5IEp1biAyMDE2IDE0OjI5OjMwICswMjAwClN1Ympl
Y3Q6IFtQQVRDSF0gUmVzb2x2ZXM6IGJ6MTM1MDQxOCBkb24ndCB2ZXJzaW9uIGNvbXBpbGVyKGdv
LWNvbXBpbGVyKSBCUgoKLS0tCiBkb2NrZXIuc3BlYyB8IDIgKy0KIDEgZmlsZSBjaGFuZ2VkLCAx
IGluc2VydGlvbigrKSwgMSBkZWxldGlvbigtKQoKZGlmZiAtLWdpdCBhL2RvY2tlci5zcGVjIGIv
ZG9ja2VyLnNwZWMKaW5kZXggYTQxMmYxZS4uYWIzY2FlMyAxMDA2NDQKLS0tIGEvZG9ja2VyLnNw
ZWMKKysrIGIvZG9ja2VyLnNwZWMKQEAgLTEyNCw3ICsxMjQsNyBAQCBQYXRjaDA6IHMzOTB4LXB0
aHJlYWQucGF0Y2gKIAogQnVpbGRSZXF1aXJlczogZ2l0CiBCdWlsZFJlcXVpcmVzOiBnbGliYy1z
dGF0aWMKLUJ1aWxkUmVxdWlyZXM6ICV7P2dvX2NvbXBpbGVyOmNvbXBpbGVyKGdvLWNvbXBpbGVy
KX0leyE/Z29fY29tcGlsZXI6Z29sYW5nfSA+PSAxLjYuMgorQnVpbGRSZXF1aXJlczogJXs/Z29f
Y29tcGlsZXI6Y29tcGlsZXIoZ28tY29tcGlsZXIpfSV7IT9nb19jb21waWxlcjpnb2xhbmcgPj0g
MS42LjJ9CiBCdWlsZFJlcXVpcmVzOiBnby1tZDJtYW4KIEJ1aWxkUmVxdWlyZXM6IGdvZGVwCiBC
dWlsZFJlcXVpcmVzOiBkZXZpY2UtbWFwcGVyLWRldmVsCi0tIAoyLjQuMTEKCg==
</data>

          </attachment>
      

    </bug>

</bugzilla>
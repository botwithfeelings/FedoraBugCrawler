<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1384067</bug_id>
          
          <creation_ts>2016-10-12 09:11:00 -0400</creation_ts>
          <short_desc>texlive-bibtex and texlive-koma-script are not compatible</short_desc>
          <delta_ts>2016-11-01 16:39:22 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>texlive</component>
          <version>25</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>low</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter>nvwarr</reporter>
          <assigned_to name="Tom &quot;spot&quot; Callaway">tcallawa</assigned_to>
          <cc>atu</cc>
    
    
    <cc>novyjindrich</cc>
    
    
    <cc>tcallawa</cc>
    
    
    <cc>than</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-11-01 16:39:22</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9784625</commentid>
    <comment_count>0</comment_count>
    <who name="">nvwarr</who>
    <bug_when>2016-10-12 09:11:48 -0400</bug_when>
    <thetext>Description of problem:

bibtex with acm style generates a .bbl file, which is not compatible with the scrartcl class.

Version-Release number of selected component (if applicable):

texlive-koma-script-svn41038-7.fc25.1.noarch
texlive-bibtex-svn40768-7.fc25.1.noarch

How reproducible:

Always

Steps to Reproduce:
1. In .tex file use class scrartcl and bibliographystyle acm
2. run latex
3. run bibtex
4. run latex again

Actual results:

latex complains about \sc which has been deprecated for over two decades. However, it is \bibtex with the acm bibliography style, which generates the \sc. With Fedora 25 beta, this produces a latex error. Prior to this it gave a rather verbose warning, explaining that \sc was deprecated in 1994.

Expected results:

bibtex should not generate \sc.

Additional info:

Example test.tex file

\documentclass{scrartcl}
\begin{document}
Citing \cite{Somekey} we have {\ldots} 
\bibliographystyle{acm}
\bibliography{test}
\addcontentsline{toc}{section}{Bibliography}
\end{document}

Example test.bib file

@ARTICLE{Somekey,
  title= {The Title},
  author = {Author, An},
  journal = {Journal of Nowhere},
  year = {2016},
}

The bibtex stage generates the test.bbl containing the line:
{\sc Author, A.}

On the next latex run, it fails with:

! Class scrartcl Error: undefined old font command `\sc&apos;.

See the scrartcl class documentation for explanation.
Type  H &lt;return&gt;  for immediate help.
 ...                                              
                                                  
l.4 {\sc
         Author, A.}

As I workaround, I can change the line 184 of /usr/share/texlive/texmf-dist/bibtex/bst/base/acm.bst, replacing \sc with \scshape. Then it generates {\scshape Author, A.} and latex is happy.

Same problem with bibliographystyle{siam} with similar workaround.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9785654</commentid>
    <comment_count>1</comment_count>
    <who name="Tom &quot;spot&quot; Callaway">tcallawa</who>
    <bug_when>2016-10-12 14:06:18 -0400</bug_when>
    <thetext>Thanks for the excellent bug report. Your fix will be applied in -10.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9794453</commentid>
    <comment_count>2</comment_count>
    <who name="Anton Guda">atu</who>
    <bug_when>2016-10-15 15:46:17 -0400</bug_when>
    <thetext>Seems to fixed on -10, but full tests unavailable now:
hitted by bug #1384586</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9838703</commentid>
    <comment_count>3</comment_count>
    <who name="Tom &quot;spot&quot; Callaway">tcallawa</who>
    <bug_when>2016-11-01 16:39:22 -0400</bug_when>
    <thetext>I&apos;ve confirmed this is resolved in the current packages (f25+).</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
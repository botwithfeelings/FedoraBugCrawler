<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1440500</bug_id>
          
          <creation_ts>2017-04-09 09:12:00 -0400</creation_ts>
          <short_desc>Review Request: p11-remote - Remoting of PKCS#11 modules across sessions</short_desc>
          <delta_ts>2017-05-11 12:04:08 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>Package Review</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>NEXTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Lubomir Rintel">lkundrak</reporter>
          <assigned_to name="Richard Marko">rmarko</assigned_to>
          <cc>lrintel</cc>
    
    
    <cc>package-review</cc>
    
    
    <cc>rmarko</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-05-11 12:04:08</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      <flag name="fedora-review"
          id="3055066"
          type_id="65"
          status="+"
          setter="rmarko"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10317281</commentid>
    <comment_count>0</comment_count>
    <who name="Lubomir Rintel">lkundrak</who>
    <bug_when>2017-04-09 09:12:06 -0400</bug_when>
    <thetext>SPEC: http://v3.sk/~lkundrak/SPECS/p11-remote.spec
SRPM: http://v3.sk/~lkundrak/SRPMS/p11-remote-0.2-1.fc25.src.rpm
mock: https://koji.fedoraproject.org/koji/taskinfo?taskID=18879979

Description:

This is a PKCS#11 engine for OpenSSL based on p11-kit capable of utilizing the
p11-kit remoting capabilities. It also includes an on-demand activated UNIX
socket based p11-kit server for user sessions.

This is in particular useful to use a GNOME Keyring software HSM with daemons
running outside the user session, such as the NetworkManager managed VPN
daemons or wpa_supplicant.

FAS username: lkundrak</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10397500</commentid>
    <comment_count>1</comment_count>
    <who name="Richard Marko">rmarko</who>
    <bug_when>2017-05-09 13:15:42 -0400</bug_when>
    <thetext>Looks good to me! Thanks.

Package Review
==============

Legend:
[x] = Pass, [!] = Fail, [-] = Not applicable, [?] = Not evaluated
[ ] = Manual review needed

Issues:
=======

rpmlint complains due to p11-remote.x86_64: E: explicit-lib-dependency openssl-libs
(this is ok as explained on IRC due to library owning engines directory)

===== MUST items =====

C/C++:
[x]: Package does not contain kernel modules.
[x]: Package contains no static executables.
[x]: Development (unversioned) .so files in -devel subpackage, if present.
     Note: Unversioned so-files in private %_libdir subdirectory (see
     attachment). Verify they are not in ld path.
[x]: Header files in -devel subpackage, if present.
[x]: Package does not contain any libtool archives (.la)
[x]: Rpath absent or only used for internal libs.

Generic:
[x]: Package is licensed with an open-source compatible license and meets
     other legal requirements as defined in the legal section of Packaging
     Guidelines.
[x]: If (and only if) the source package includes the text of the
     license(s) in its own file, then that file, containing the text of the
     license(s) for the package is included in %license.
[x]: License field in the package spec file matches the actual license.
     Note: Checking patched sources after %prep for licenses. Licenses
     found: &quot;MIT/X11 (BSD like)&quot;, &quot;BSD (2 clause)&quot;, &quot;FSF All Permissive&quot;,
     &quot;Unknown or generated&quot;. 22 files have unknown license. Detailed output
     of licensecheck in /home/rmarko/review-p11-remote/licensecheck.txt
[x]: License file installed when any subpackage combination is installed.
[x]: Package must own all directories that it creates.
     Note: Directories without known owners: /usr/lib/systemd/user,
     /usr/lib/systemd
[x]: %build honors applicable compiler flags or justifies otherwise.
[x]: Package contains no bundled libraries without FPC exception.
[x]: Changelog in prescribed format.
[x]: Sources contain only permissible code or content.
[-]: Package contains desktop file if it is a GUI application.
[-]: Development files must be in a -devel package
[x]: Package uses nothing in %doc for runtime.
[x]: Package consistently uses macros (instead of hard-coded directory
     names).
[x]: Package is named according to the Package Naming Guidelines.
[x]: Package does not generate any conflict.
[x]: Package obeys FHS, except libexecdir and /usr/target.
[-]: If the package is a rename of another package, proper Obsoletes and
     Provides are present.
[x]: Requires correct, justified where necessary.
[x]: Spec file is legible and written in American English.
[x]: Package contains systemd file(s) if in need.
[x]: Useful -debuginfo package or justification otherwise.
[x]: Package is not known to require an ExcludeArch tag.
[x]: Package complies to the Packaging Guidelines
[x]: Package successfully compiles and builds into binary rpms on at least
     one supported primary architecture.
[x]: Rpmlint is run on all rpms the build produces.
     Note: There are rpmlint messages (see attachment).
[x]: Package requires other packages for directories it uses.
[x]: Package does not own files or directories owned by other packages.
[x]: All build dependencies are listed in BuildRequires, except for any
     that are listed in the exceptions section of Packaging Guidelines.
[x]: Package uses either %{buildroot} or $RPM_BUILD_ROOT
[x]: Package does not run rm -rf %{buildroot} (or $RPM_BUILD_ROOT) at the
     beginning of %install.
[x]: Macros in Summary, %description expandable at SRPM build time.
[x]: Dist tag is present.
[x]: Package does not contain duplicates in %files.
[x]: Permissions on files are set properly.
[x]: Package use %makeinstall only when make install DESTDIR=... doesn&apos;t
     work.
[x]: Package is named using only allowed ASCII characters.
[x]: Package does not use a name that already exists.
[x]: Package is not relocatable.
[x]: Sources used to build the package match the upstream source, as
     provided in the spec URL.
[x]: Spec file name must match the spec package %{name}, in the format
     %{name}.spec.
[x]: File names are valid UTF-8.
[x]: Large documentation must go in a -doc subpackage. Large could be size
     (~1MB) or number of files.
     Note: Documentation size is 0 bytes in 0 files.
[x]: Packages must not store files under /srv, /opt or /usr/local

===== SHOULD items =====

Generic:
[-]: If the source package does not include license text(s) as a separate
     file from upstream, the packager SHOULD query upstream to include it.
[x]: Final provides and requires are sane (see attachments).
[-]: Fully versioned dependency in subpackages if applicable.
     Note: No Requires: %{name}%{?_isa} = %{version}-%{release} in p11
     -remote-debuginfo
[?]: Package functions as described.
[x]: Latest version is packaged.
[x]: Package does not include license text files separate from upstream.
[x]: Description and summary sections in the package spec file contains
     translations for supported Non-English languages, if available.
[?]: Package should compile and build into binary rpms on all supported
     architectures.
[-]: %check is present and all tests pass.
[?]: Packages should try to preserve timestamps of original installed
     files.
[x]: Reviewer should test that the package builds in mock.
[x]: Buildroot is not present
[x]: Package has no %clean section with rm -rf %{buildroot} (or
     $RPM_BUILD_ROOT)
[x]: No file requires outside of /etc, /bin, /sbin, /usr/bin, /usr/sbin.
[x]: Packager, Vendor, PreReq, Copyright tags should not be in spec file
[x]: Uses parallel make %{?_smp_mflags} macro.
[x]: Sources can be downloaded from URI in Source: tag
[x]: SourceX is a working URL.
[x]: Spec use %global instead of %define unless justified.

===== EXTRA items =====

Generic:
[!]: Rpmlint is run on all installed packages.
     Note: Mock build failed
     See: http://fedoraproject.org/wiki/Packaging/Guidelines#rpmlint
[x]: Large data in /usr/share should live in a noarch subpackage if package
     is arched.
[x]: Spec file according to URL is the same as in SRPM.

Rpmlint
-------
Checking: p11-remote-0.2-1.fc25.x86_64.rpm
          p11-remote-debuginfo-0.2-1.fc25.x86_64.rpm
          p11-remote-0.2-1.fc25.src.rpm
p11-remote.x86_64: E: explicit-lib-dependency openssl-libs
p11-remote.x86_64: W: spelling-error Summary(en_US) Remoting -&gt; Emoting, Demoting, R emoting
p11-remote.x86_64: W: spelling-error %description -l en_US remoting -&gt; emoting, demoting, removing
p11-remote.x86_64: W: spelling-error %description -l en_US wpa -&gt; pa, paw, spa
p11-remote.src: W: spelling-error Summary(en_US) Remoting -&gt; Emoting, Demoting, R emoting
p11-remote.src: W: spelling-error %description -l en_US remoting -&gt; emoting, demoting, removing
p11-remote.src: W: spelling-error %description -l en_US wpa -&gt; pa, paw, spa
3 packages and 0 specfiles checked; 1 errors, 6 warnings.

Requires
--------
p11-remote-debuginfo (rpmlib, GLIBC filtered):

p11-remote (rpmlib, GLIBC filtered):
    libc.so.6()(64bit)
    libcrypto.so.10()(64bit)
    libcrypto.so.10(libcrypto.so.10)(64bit)
    libp11-kit.so.0()(64bit)
    openssl-libs
    p11-kit-server
    rtld(GNU_HASH)

Provides
--------
p11-remote-debuginfo:
    p11-remote-debuginfo
    p11-remote-debuginfo(x86-64)

p11-remote:
    libp11-kit-engine.so()(64bit)
    p11-remote
    p11-remote(x86-64)

Unversioned so-files
--------------------
p11-remote: /usr/lib64/openssl/engines/libp11-kit-engine.so

Source checksums
----------------
https://github.com/NetworkManager/p11-remote/releases/download/v0.2/p11-remote-0.2.tar.gz :
  CHECKSUM(SHA256) this package     : 2fa4ba44abfce6f596a8e833b54e390264172c2f537f3eb107c15918fed2ae27
  CHECKSUM(SHA256) upstream package : 2fa4ba44abfce6f596a8e833b54e390264172c2f537f3eb107c15918fed2ae27

Generated by fedora-review 0.6.1 (f03e4e7) last change: 2016-05-02</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10400781</commentid>
    <comment_count>2</comment_count>
    <who name="Gwyn Ciesla">limburgher</who>
    <bug_when>2017-05-10 09:59:21 -0400</bug_when>
    <thetext>Package request has been approved: https://admin.fedoraproject.org/pkgdb/package/rpms/p11-remote</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10404980</commentid>
    <comment_count>3</comment_count>
    <who name="Lubomir Rintel">lrintel</who>
    <bug_when>2017-05-11 12:04:08 -0400</bug_when>
    <thetext>Imported and built.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
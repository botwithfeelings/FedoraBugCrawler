<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1393421</bug_id>
          
          <creation_ts>2016-11-09 09:08:00 -0500</creation_ts>
          <short_desc>perl-Error broke the most of perl apps.</short_desc>
          <delta_ts>2016-11-19 16:15:13 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>perl</component>
          <version>25</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Mustafa Yalcin Acikyildiz">yalcin</reporter>
          <assigned_to name="Petr Pisar">ppisar</assigned_to>
          <cc>cweyl</cc>
    
    
    <cc>iarnell</cc>
    
    
    <cc>jplesnik</cc>
    
    
    <cc>kasal</cc>
    
    
    <cc>perl-devel</cc>
    
    
    <cc>ppisar</cc>
    
    
    <cc>psabata</cc>
    
    
    <cc>rc040203</cc>
    
    
    <cc>tcallawa</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>perl-5.24.0-380.fc26 perl-5.22.2-364.fc24 perl-5.24.0-379.fc25</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-11-11 15:52:09</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9876116</commentid>
    <comment_count>0</comment_count>
    <who name="Mustafa Yalcin Acikyildiz">yalcin</who>
    <bug_when>2016-11-09 09:08:50 -0500</bug_when>
    <thetext>Description of problem:
when i try to run `cpan` it gives me:

Errno architecture (x86_64-linux-thread-multi-4.7.9-200.fc24.x86_64) does not match executable architecture (x86_64-linux-thread-multi-4.6.4-301.fc24.x86_64) at /usr/lib64/perl5/Errno.pm line 11.


Version-Release number of selected component (if applicable):
Fedora 25


How reproducible:
Always

Steps to Reproduce:
1. cpan

Additional info:
current kernel version is 4.8.6-300.fc25.x86_64 #1 SMP Tue Nov 1 12:36:38 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9876205</commentid>
    <comment_count>1</comment_count>
    <who name="Petr Pisar">ppisar</who>
    <bug_when>2016-11-09 09:34:16 -0500</bug_when>
    <thetext>Thank you for the report. This is probably caused by updating perl-Errno without perl-libs or vice versa. What are releases of the two packages on your system? Fully updated system should have:

$ rpm -q perl-libs perl-Errno
perl-libs-5.22.2-363.fc24.x86_64
perl-Errno-1.23-363.fc24.x86_64</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9876233</commentid>
    <comment_count>2</comment_count>
    <who name="Mustafa Yalcin Acikyildiz">yalcin</who>
    <bug_when>2016-11-09 09:43:13 -0500</bug_when>
    <thetext>Hello. i just install f25 kde spin a few hours ago and then i did complete system upgrade with `dnf upgrade`

here is the output.
perl-libs-5.24.0-377.fc25.x86_64
perl-Errno-1.25-378.fc25.x86_64</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9876271</commentid>
    <comment_count>3</comment_count>
    <who name="Petr Pisar">ppisar</who>
    <bug_when>2016-11-09 09:58:21 -0500</bug_when>
    <thetext>(In reply to Mustafa Yalcin Acikyildiz from comment #2)
&gt; perl-libs-5.24.0-377.fc25.x86_64
&gt; perl-Errno-1.25-378.fc25.x86_64

That&apos;s also wrong. Both of them should have the same release number (378.fc25 in your case). Can you do the upgrade explicitly (dnf upgrade perl-libs) or does something prevents from upgrading perl-libs to the higher release?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9876363</commentid>
    <comment_count>4</comment_count>
    <who name="Petr Pisar">ppisar</who>
    <bug_when>2016-11-09 10:22:21 -0500</bug_when>
    <thetext>I will add an explicit dependency from perl-Errno to perl-libs on the same perl-libs release. This should prevent from occurring this bug in the future.

But this cannot fix the issue for already existing systems with half-updated system. There is no way how to retroactively correct it. Users experiencing this bug are recommended to update perl-Errno and perl-libs to the same release number.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9876368</commentid>
    <comment_count>5</comment_count>
    <who name="Petr Pisar">ppisar</who>
    <bug_when>2016-11-09 10:23:35 -0500</bug_when>
    <thetext>Fedora â‰¥ 24 is affected.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9876429</commentid>
    <comment_count>6</comment_count>
    <who name="Mustafa Yalcin Acikyildiz">yalcin</who>
    <bug_when>2016-11-09 10:35:05 -0500</bug_when>
    <thetext>there is no update for perl-libs

i tried to reinstall the package it installed release .377 again

reinstalling perl-Errno throws me error &quot;Installed package perl-Errno-1.25-378.fc25.x86_64 (from updates-testing) not available.&quot;

could it be mirror related problem?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9876474</commentid>
    <comment_count>7</comment_count>
    <who name="Mustafa Yalcin Acikyildiz">yalcin</who>
    <bug_when>2016-11-09 10:48:28 -0500</bug_when>
    <thetext>downgrading to perl-Errno-1.25-377.fc25.x86_64 resolve the problem.

thank you!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9876546</commentid>
    <comment_count>8</comment_count>
    <who name="Petr Pisar">ppisar</who>
    <bug_when>2016-11-09 11:01:03 -0500</bug_when>
    <thetext>Yes, it sounds like a mirror problem. But it shouldn&apos;t behave like this even with a broken mirror.

DNF downloads a signature for current repository database directly from Fedora&apos;s HTTPS server. Then it tries different mirrors to download the database, then it verifies the database and then it downloads packages from various mirrors and checks them against the database. If something does not match, it retries from different mirror.

Either it&apos;s a bug in the DNF or the repository was broken even on Fedora&apos;s master server. You can add --refresh option to the dnf command to force redownloading latest database.

Downgrading perl-Errno is also an option.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9876562</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-09 11:02:14 -0500</bug_when>
    <thetext>perl-5.24.0-379.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2016-ab7085b1f4</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9876563</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-09 11:02:29 -0500</bug_when>
    <thetext>perl-5.22.2-364.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-7cf2994d15</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9877245</commentid>
    <comment_count>11</comment_count>
    <who name="Mustafa Yalcin Acikyildiz">yalcin</who>
    <bug_when>2016-11-09 15:06:39 -0500</bug_when>
    <thetext>no hope even with dnf clean all.

is there way to query perl-libs package on fedora repos?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9878868</commentid>
    <comment_count>12</comment_count>
    <who name="Petr Pisar">ppisar</who>
    <bug_when>2016-11-10 03:43:10 -0500</bug_when>
    <thetext># LANG=en_US.UTF-8 dnf repoquery --queryformat &apos;%{name}-%{evr}.%{arch} %{repoid}&apos; perl-libs
Last metadata expiration check: 16:41:03 ago on Wed Nov  9 16:58:42 2016.
perl-libs-4:5.22.2-359.fc24.i686 fedora
perl-libs-4:5.22.2-359.fc24.x86_64 fedora
perl-libs-4:5.22.2-362.fc24.i686 updates
perl-libs-4:5.22.2-362.fc24.x86_64 updates
perl-libs-4:5.22.2-363.fc24.i686 updates-testing
perl-libs-4:5.22.2-363.fc24.x86_64 @System
perl-libs-4:5.22.2-363.fc24.x86_64 updates-testing

This will query the repository databases downloaded to your system.

If you would like to query database on the master mirror, you would have to supply its URI that I don&apos;t know.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9881143</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-10 14:26:20 -0500</bug_when>
    <thetext>perl-5.24.0-379.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-ab7085b1f4</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9882101</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-11 00:00:55 -0500</bug_when>
    <thetext>perl-5.22.2-364.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-7cf2994d15</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9884513</commentid>
    <comment_count>15</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-11 15:52:09 -0500</bug_when>
    <thetext>perl-5.22.2-364.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9905888</commentid>
    <comment_count>16</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-19 16:15:13 -0500</bug_when>
    <thetext>perl-5.24.0-379.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
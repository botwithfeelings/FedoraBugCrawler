<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1359231</bug_id>
          
          <creation_ts>2016-07-22 10:39:00 -0400</creation_ts>
          <short_desc>loading dtb fails after rawhide installation.</short_desc>
          <delta_ts>2016-11-08 13:37:51 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>uboot-tools</component>
          <version>25</version>
          <rep_platform>arm</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Paul Whalen">pwhalen</reporter>
          <assigned_to name="Dennis Gilmore">dennis</assigned_to>
          <cc>dan</cc>
    
    
    <cc>dennis</cc>
    
    
    <cc>jdisnard</cc>
    
    
    <cc>pbrobinson</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-11-08 13:37:51</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9541490</commentid>
    <comment_count>0</comment_count>
    <who name="Paul Whalen">pwhalen</who>
    <bug_when>2016-07-22 10:39:54 -0400</bug_when>
    <thetext>Description of problem:

After a fresh install of rawhide which currently includes kernel-4.7.0-0.rc7.git4.1.fc25, the uboot fails to load the dtb file.

Version-Release number of selected component (if applicable):
uboot-tools-2016.07-1.fc25

How reproducible:
Everytime

Steps to Reproduce:
1. Install rawhide
2. Attempt to boot. 

Actual results:

1:	Fedora(4.7.0-0.rc7.git4.1.fc25.armv7hl)
Retrieving file: /initramfs-4.7.0-0.rc7.git4.1.fc25.armv7hl.img
14511770 bytes read in 963 ms (14.4 MiB/s)
Retrieving file: /vmlinuz-4.7.0-0.rc7.git4.1.fc25.armv7hl
6259960 bytes read in 436 ms (13.7 MiB/s)
append: root=/dev/mapper/fedora-root ro rd.lvm.lv=fedora/root rd.lvm.lv=fedora/swap console=ttymxc0,115200 LANG=en_US.UTF-8
Retrieving file: /dtb-4.7.0-0.rc7.git4.1.fc25.armv7hl/imx6q-wandboard-revb1.dtb
** File not found /dtb-4.7.0-0.rc7.git4.1.fc25.armv7hl/imx6q-wandboard-revb1.dtb **
Skipping Fedora(4.7.0-0.rc7.git4.1.fc25.armv7hl) for failure retrieving fdt


Expected results:
Booted system. 

Additional info:
The dtb is there, and the same kernel boots fine when installed in f24. When the dtb folder name is truncated, the system boots:

3:	Fedora(4.7.0-0.rc7.git4.1.fc25.armv7hl)
Retrieving file: /initramfs-4.7.0-0.rc7.git4.1.fc25.armv7hl.img
14511770 bytes read in 963 ms (14.4 MiB/s)
Retrieving file: /vmlinuz-4.7.0-0.rc7.git4.1.fc25.armv7hl
6259960 bytes read in 436 ms (13.7 MiB/s)
append: root=/dev/mapper/fedora-root ro rd.lvm.lv=fedora/root rd.lvm.lv=fedora/swap console=ttymxc0,115200 LANG=en_US.UTF-8
Retrieving file: /dtb/imx6q-wandboard-revb1.dtb
32419 bytes read in 1229 ms (25.4 KiB/s)
Kernel image @ 0x12000000 [ 0x000000 - 0x5f84f8 ]
## Flattened Device Tree blob at 18000000
   Booting using the fdt blob at 0x18000000
   Using Device Tree in place at 18000000, end 1800aea2

Reproduced this on the Wandboard and Banana Pi.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9548853</commentid>
    <comment_count>1</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2016-07-26 00:12:58 -0400</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 25 development cycle.
Changing version to &apos;25&apos;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9567679</commentid>
    <comment_count>2</comment_count>
    <who name="Paul Whalen">pwhalen</who>
    <bug_when>2016-07-29 11:50:04 -0400</bug_when>
    <thetext>This also happens on the disk images:

Fedora-Minimal-armhfp-25-20160729.n.0 Boot Options.
1:	Fedora-Minimal-armhfp-25-20160729.n.0 (4.8.0-0.rc0.git2.1.fc25.armv7hl)
Enter choice: 1:	Fedora-Minimal-armhfp-25-20160729.n.0 (4.8.0-0.rc0.git2.1.fc25.armv7hl)
Retrieving file: /initramfs-4.8.0-0.rc0.git2.1.fc25.armv7hl.img
42244008 bytes read in 2129 ms (18.9 MiB/s)
Retrieving file: /vmlinuz-4.8.0-0.rc0.git2.1.fc25.armv7hl
6312632 bytes read in 358 ms (16.8 MiB/s)
append: console=ttymxc0,115200 ro root=UUID=291401d8-8885-4edd-9612-38cbe5001920 
Retrieving file: /dtb-4.8.0-0.rc0.git2.1.fc25.armv7hl/imx6q-wandboard-revb1.dtb
** File not found /dtb-4.8.0-0.rc0.git2.1.fc25.armv7hl/imx6q-wandboard-revb1.dtb **
Skipping Fedora-Minimal-armhfp-25-20160729.n.0 (4.8.0-0.rc0.git2.1.fc25.armv7hl) for failure retrieving fdt

The folder is not readable in uboot, but is in linux. When copied the copy works as expected but the original even when truncated does not. Somehow the folder is corrupted.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9873158</commentid>
    <comment_count>3</comment_count>
    <who name="Paul Whalen">pwhalen</who>
    <bug_when>2016-11-08 13:37:51 -0500</bug_when>
    <thetext>Fixed in uboot-tools-2016.09.01-2</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1455317</bug_id>
          
          <creation_ts>2017-05-24 14:51:00 -0400</creation_ts>
          <short_desc>cjdroute and others fail to call sodium_init()</short_desc>
          <delta_ts>2017-06-21 03:46:55 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>cjdns</component>
          <version>25</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Stuart D Gathman">stuart</reporter>
          <assigned_to name="Stuart D Gathman">stuart</assigned_to>
          <cc>stuart</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>cjdns-19.1-4.fc26 cjdns-19.1-4.el7 cjdns-19.1-4.fc24 cjdns-19.1-4.fc25 cjdns-19.1-4.el6</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-06-11 12:16:03</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10445158</commentid>
    <comment_count>0</comment_count>
    <who name="Stuart D Gathman">stuart</who>
    <bug_when>2017-05-24 14:51:15 -0400</bug_when>
    <thetext>Description of problem:
sodium_init() is not called

Version-Release number of selected component (if applicable):
cjdns-19.1-3

How reproducible:
always

Steps to Reproduce:
1.
2.
3.

Actual results:
nothing visible

Expected results:
possibly slightly better performance

Additional info:
My research indicates that nothing really critical happens in sodium_init() for our use case.  It seeds crypto random numbers, but cjdns doesn&apos;t trust nacl/sodium for that anyway and does its own seeding.  It sets up machinery for locked memory and other enhanced security, but cjdns does not use that API.  It also dynamically selects optimized versions of performance critical functions depending on detected runtime environment - that could improve performance.

Most importantly, we should call it because it is part of the libsodium API, and may become critically important in the future.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10445579</commentid>
    <comment_count>1</comment_count>
    <who name="Stuart D Gathman">stuart</who>
    <bug_when>2017-05-24 18:53:04 -0400</bug_when>
    <thetext>Files patched to call sodium_init() beginning with 19.1-4:

contrib/c/privatetopublic.c
contrib/c/sybilsim.c
contrib/c/mkpasswd.c
contrib/c/makekeys.c
contrib/c/publictoip6.c
test/testcjdroute.c
crypto/random/randombytes.c
client/cjdroute2.c</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10445658</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-24 20:02:14 -0400</bug_when>
    <thetext>cjdns-19.1-4.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-5365dba65b</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10445660</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-24 20:02:21 -0400</bug_when>
    <thetext>cjdns-19.1-4.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-c2b91fa3bb</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10445661</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-24 20:02:25 -0400</bug_when>
    <thetext>cjdns-19.1-4.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-3bb737169f</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10446038</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-24 22:36:05 -0400</bug_when>
    <thetext>cjdns-19.1-4.el7 has been submitted as an update to Fedora EPEL 7. https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2017-39be513ab9</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10448857</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-25 15:21:57 -0400</bug_when>
    <thetext>cjdns-19.1-4.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-5365dba65b</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10449798</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-26 00:26:52 -0400</bug_when>
    <thetext>cjdns-19.1-4.el7 has been pushed to the Fedora EPEL 7 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2017-39be513ab9</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10449965</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-26 02:00:27 -0400</bug_when>
    <thetext>cjdns-19.1-4.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-c2b91fa3bb</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10450026</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-26 02:03:26 -0400</bug_when>
    <thetext>cjdns-19.1-4.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-3bb737169f</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10474452</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-03 15:04:57 -0400</bug_when>
    <thetext>cjdns-19.1-4.el6 has been submitted as an update to Fedora EPEL 6. https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2017-ba7ee1f0a5</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10475518</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-04 23:49:04 -0400</bug_when>
    <thetext>cjdns-19.1-4.el6 has been pushed to the Fedora EPEL 6 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2017-ba7ee1f0a5</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10495960</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-11 12:16:03 -0400</bug_when>
    <thetext>cjdns-19.1-4.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10496002</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-11 14:24:08 -0400</bug_when>
    <thetext>cjdns-19.1-4.el7 has been pushed to the Fedora EPEL 7 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10496079</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-11 17:51:20 -0400</bug_when>
    <thetext>cjdns-19.1-4.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10496114</commentid>
    <comment_count>15</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-11 19:32:26 -0400</bug_when>
    <thetext>cjdns-19.1-4.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10526196</commentid>
    <comment_count>16</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-21 03:46:55 -0400</bug_when>
    <thetext>cjdns-19.1-4.el6 has been pushed to the Fedora EPEL 6 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1390975</bug_id>
          
          <creation_ts>2016-11-02 06:44:00 -0400</creation_ts>
          <short_desc>mediawriter leaks memory during image download</short_desc>
          <delta_ts>2016-11-15 08:33:50 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>mediawriter</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Kamil Páral">kparal</reporter>
          <assigned_to name="Martin Bříza">mbriza</assigned_to>
          <cc>mbriza</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>mediawriter-4.0.4-0.fc25</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-11-15 08:33:50</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9842014</commentid>
    <comment_count>0</comment_count>
    <who name="Kamil Páral">kparal</who>
    <bug_when>2016-11-02 06:44:59 -0400</bug_when>
    <thetext>Description of problem:
If I download an image using mediawriter, its memory consumption sky rockets. After downloading Workstation Live image (1.4 GB), I see mediawriter consuming 600-800 MB RAM (while on start it consumed about 100 MB). It seems that memory is not freed correctly during download.

I&apos;ve found this when trying to download and write an image in a VM with 2 GB RAM, where mediawriter was killed with OOM.

Version-Release number of selected component (if applicable):
mediawriter-4.0.0-2.fc25.x86_64

How reproducible:
always

Steps to Reproduce:
1. run htop or similar to see memory usage of mediawriter
2. start downloading some image, see memory consumption hit the roof
3. see that the memory is not freed at any point, not even after successfully writing the image

Actual results:
downloaded image occupies RAM

Expected results:
image is downloaded to the disk, and not kept in RAM (there&apos;s no need)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9882491</commentid>
    <comment_count>1</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-11 03:09:03 -0500</bug_when>
    <thetext>mediawriter-4.0.4-0.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2016-239cdfbfd6</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9883954</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-11 11:57:52 -0500</bug_when>
    <thetext>mediawriter-4.0.4-0.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-239cdfbfd6</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9892681</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-15 08:33:50 -0500</bug_when>
    <thetext>mediawriter-4.0.4-0.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
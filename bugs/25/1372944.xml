<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1372944</bug_id>
          
          <creation_ts>2016-09-04 01:56:00 -0400</creation_ts>
          <short_desc>libvirt doesn&apos;t set the mac on  VF&apos;s netdev name</short_desc>
          <delta_ts>2017-03-28 21:44:27 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>libvirt</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>NEXTRELEASE</resolution>
          
          <see_also>https://bugzilla.redhat.com/show_bug.cgi?id=1415609</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Moshe Levi">moshele</reporter>
          <assigned_to name="Laine Stump">laine</assigned_to>
          <cc>agedosier</cc>
    
    
    <cc>berrange</cc>
    
    
    <cc>clalancette</cc>
    
    
    <cc>itamar</cc>
    
    
    <cc>laine</cc>
    
    
    <cc>libvirt-maint</cc>
    
    
    <cc>veillard</cc>
    
    
    <cc>virt-maint</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-03-28 21:44:27</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9677416</commentid>
    <comment_count>0</comment_count>
    <who name="Moshe Levi">moshele</who>
    <bug_when>2016-09-04 01:56:23 -0400</bug_when>
    <thetext>Description of problem:
Due to this commit cb3fe38c  (which supposed to fix this bug https://bugzilla.redhat.com/show_bug.cgi?id=1113474) libvirt is now setting the mac on the VF using netlink RTM_SETLINK but not on the VF&apos;s netdev name.
For macvtap-passthrough we need the mac to be set both on VF&apos;s netdev name and using the VF using netlink RTM_SETLINK.

Version-Release number of selected component (if applicable):
libvirt-1.2.18.3-1.fc23.x86_64

How reproducible:
create a guest with macvtap-passthrough in openstack
The guest will not get DHCP because the the VF&apos;s netdev name is not set.


Actual results:
guest didn&apos;t get DHCP

Expected results:
guest should get DHCP

Additional info:
https://www.redhat.com/archives/libvir-list/2016-September/msg00008.html</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9928933</commentid>
    <comment_count>1</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-11-25 04:33:30 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 23 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 23. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as EOL if it remains open with a Fedora  &apos;version&apos;
of &apos;23&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version.

Thank you for reporting this issue and we are sorry that we were not 
able to fix it before Fedora 23 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior this bug is closed as described in the policy above.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9932525</commentid>
    <comment_count>2</comment_count>
    <who name="Laine Stump">laine</who>
    <bug_when>2016-11-27 17:10:46 -0500</bug_when>
    <thetext>This problem still exists in F25.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10277807</commentid>
    <comment_count>3</comment_count>
    <who name="Laine Stump">laine</who>
    <bug_when>2017-03-26 22:11:12 -0400</bug_when>
    <thetext>This is nearly fixed upstream. See the details in RHEL Bug 1415609</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10285442</commentid>
    <comment_count>4</comment_count>
    <who name="Laine Stump">laine</who>
    <bug_when>2017-03-28 21:44:27 -0400</bug_when>
    <thetext>All necessary patches are upstream, and will be in the next libvirt release - 3.2.0.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
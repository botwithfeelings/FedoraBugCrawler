<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1" urlbase="https://bugzilla.redhat.com/" maintainer="bugzilla-error-list@redhat.com">

  <bug>
    <bug_id>1182757</bug_id>

    <creation_ts>2015-01-15 15:20:00 -0500</creation_ts>
    <short_desc>installing both arch packages in oneline installing only one pkg</short_desc>
    <delta_ts>2017-05-12 13:36:36 -0400</delta_ts>
    <reporter_accessible>1</reporter_accessible>
    <cclist_accessible>1</cclist_accessible>
    <classification_id>2</classification_id>
    <classification>Fedora</classification>
    <product>Fedora</product>
    <component>dnf</component>
    <version>25</version>
    <rep_platform>All</rep_platform>
    <op_sys>Linux</op_sys>
    <bug_status>CLOSED</bug_status>
    <resolution>RAWHIDE</resolution>

    <see_also>https://bugzilla.redhat.com/show_bug.cgi?id=1177783</see_also>
    <bug_file_loc></bug_file_loc>
    <status_whiteboard></status_whiteboard>
    <keywords>Reopened, Triaged</keywords>
    <priority>medium</priority>
    <bug_severity>medium</bug_severity>
    <target_milestone>---</target_milestone>

    <blocked>871892</blocked>
    <everconfirmed>1</everconfirmed>
    <reporter name="Igor Gnatenko">ignatenko</reporter>
    <assigned_to>rpm-software-management</assigned_to>
    <cc>akozumpl</cc>

    <cc>hedayatv</cc>

    <cc>jmracek</cc>

    <cc>jzeleny</cc>

    <cc>me</cc>

    <cc>mluscon</cc>

    <cc>packaging-team-maint</cc>

    <cc>tla</cc>
    <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>

    <cf_fixed_in></cf_fixed_in>
  <cf_doc_type>Bug Fix</cf_doc_type>
<cf_release_notes></cf_release_notes>
<cf_story_points>---</cf_story_points>

<cf_environment></cf_environment>
<cf_last_closed>2017-05-12 13:36:36</cf_last_closed>
<cf_type>Bug</cf_type>
<cf_regression_status>---</cf_regression_status>
<cf_mount_type>---</cf_mount_type>
<cf_documentation_action>---</cf_documentation_action>
<cf_crm></cf_crm>
<cf_verified_branch></cf_verified_branch>
<cf_category>---</cf_category>
<cf_ovirt_team>---</cf_ovirt_team>

<cf_cloudforms_team>---</cf_cloudforms_team>

<target_release>---</target_release>

<votes>0</votes>

<comment_sort_order>oldest_to_newest</comment_sort_order>
<long_desc isprivate="0">
<commentid>7849938</commentid>
<comment_count>0</comment_count>
<who name="Igor Gnatenko">ignatenko</who>
<bug_when>2015-01-15 15:20:34 -0500</bug_when>
<thetext>$ sudo dnf install prison prison.i686 --debuglevel 1Dependencies resolved. ================================================================================ Package Arch Version Repository Size
================================================================================ Installing: libdmtx i686 0.7.2-15.fc22 rawhide 70 k libdmtx x86_64 0.7.2-15.fc22 rawhide 69 k prison i686 1.0-9.fc22 rawhide 21 k qrencode-libs i686 3.4.2-4.fc22 rawhide
56 k Transaction Summary ================================================================================ Install 4 Packages Total download size: 216 k Installed size: 456 k Is this ok [y/N]: $ sudo dnf install prison.x86_64 prison.i686 --debuglevel
1 Dependencies resolved. ================================================================================ Package Arch Version Repository Size ================================================================================ Installing: libdmtx i686
0.7.2-15.fc22 rawhide 70 k libdmtx x86_64 0.7.2-15.fc22 rawhide 69 k prison i686 1.0-9.fc22 rawhide 21 k prison x86_64 1.0-9.fc22 rawhide 21 k qrencode-libs i686 3.4.2-4.fc22 rawhide 56 k Transaction Summary
================================================================================ Install 5 Packages Total download size: 236 k Installed size: 496 k Is this ok [y/N]: It should be the same.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>7849941</commentid>
<comment_count>1</comment_count>
<who name="Igor Gnatenko">ignatenko</who>
<bug_when>2015-01-15 15:21:54 -0500</bug_when>
<thetext>$ sudo yum install prison prison.i686 --debuglevel 1 ================================================================================ Package Arch Version Repository Size
================================================================================ Installing: prison i686 1.0-9.fc22 rawhide 21 k prison x86_64 1.0-9.fc22 rawhide 21 k Installing for dependencies: libdmtx i686 0.7.2-15.fc22 rawhide 70 k libdmtx x86_64
0.7.2-15.fc22 rawhide 69 k qrencode-libs i686 3.4.2-4.fc22 rawhide 56 k Transaction Summary ================================================================================ Install 2 Packages (+3 Dependent packages) Total download size: 236 k
Installed size: 496 k Is this ok [y/d/N]:</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>7852349</commentid>
<comment_count>2</comment_count>
<who name="Honza Silhan">jsilhan</who>
<bug_when>2015-01-16 08:44:47 -0500</bug_when>
<thetext>Thanks for the report. This is strange. On libsolv level it works as expected, no other package provides `prison` and `dnf install librepo librepo.i686` works. We will take a look.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>7852435</commentid>
<comment_count>3</comment_count>
<who name="Radek Holy">rholy</who>
<bug_when>2015-01-16 09:14:34 -0500</bug_when>
<thetext>Isn&apos;t it the expected behavior? &quot;prison&quot; means &quot;install any prison&quot; so if you want to install &quot;any prison&quot; and &quot;prison.i686&quot;, you want to install &quot;prison.i686&quot;. Otherwise the logic
starts to be a bit complicated.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>7853097</commentid>
<comment_count>4</comment_count>
<who name="Hedayat Vatankhah">hedayatv</who>
<bug_when>2015-01-16 12:07:31 -0500</bug_when>
<thetext>In yum, prison means &quot;prison.x86_64&quot; in an x86_64 system. If DNF decides to treat prison as &quot;any prison&quot;, it should be documented as an important difference between Yum and DNF, as it can affect many install scripts. It
will even affect some custom .ks files for building Fedora spins/remixes which have packages from multiple archs. For example, I have my own Fedora remix which does include some packages from both x86_64 and i686 archs. My .ks will certainly break if
pungi uses DNF instead of yum.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>7853519</commentid>
<comment_count>5</comment_count>
<who name="Igor Gnatenko">ignatenko</who>
<bug_when>2015-01-16 15:12:06 -0500</bug_when>
<thetext>(In reply to Radek Holy from comment #3) &gt; Isn&apos;t it the expected behavior? &quot;prison&quot; means &quot;install any prison&quot; so if &gt; you want to install &quot;any prison&quot; and &quot;prison.i686&quot;, you want to install
&gt; &quot;prison.i686&quot;. Otherwise the logic starts to be a bit complicated. then it shouldn&apos;t install 64 bit libraries if we want to install i686</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>7855958</commentid>
<comment_count>6</comment_count>
<who name="Radek Holy">rholy</who>
<bug_when>2015-01-19 02:50:50 -0500</bug_when>
<thetext>(In reply to Igor Gnatenko from comment #5) &gt; (In reply to Radek Holy from comment #3) &gt; &gt; Isn&apos;t it the expected behavior? &quot;prison&quot; means &quot;install any prison&quot; so if &gt; &gt; you want to install &quot;any
prison&quot; and &quot;prison.i686&quot;, you want to install &gt; &gt; &quot;prison.i686&quot;. Otherwise the logic starts to be a bit complicated. &gt; then it shouldn&apos;t install 64 bit libraries if we want to install i686 Unless the 64-bit
version is required too.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>7996426</commentid>
<comment_count>7</comment_count>
<who name="Jaroslav Reznik">jreznik</who>
<bug_when>2015-03-03 11:43:11 -0500</bug_when>
<thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 22 development cycle. Changing version to &apos;22&apos;. More information and reason for this action is here:
https://fedoraproject.org/wiki/Fedora_Program_Management/HouseKeeping/Fedora22</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>8457653</commentid>
<comment_count>8</comment_count>
<who name="Honza Silhan">jsilhan</who>
<bug_when>2015-07-20 08:39:32 -0400</bug_when>
<thetext>The report from comment 0 is considered as bug in DNF and we will fix it.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9490224</commentid>
<comment_count>9</comment_count>
<who name="Fedora Admin XMLRPC Client">fedora-admin-xmlrpc</who>
<bug_when>2016-07-08 05:28:56 -0400</bug_when>
<thetext>This package has changed ownership in the Fedora Package Database. Reassigning to the new owner of this component.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9529246</commentid>
<comment_count>10</comment_count>
<who name="Fedora End Of Life">jkurik</who>
<bug_when>2016-07-19 16:29:45 -0400</bug_when>
<thetext>Fedora 22 changed to end-of-life (EOL) status on 2016-07-19. Fedora 22 is no longer maintained, which means that it will not receive any further security or bug fix updates. As a result we are closing this bug. If you can reproduce this bug
against a currently maintained version of Fedora please feel free to reopen this bug against that version. If you are unable to reopen this bug, please file a new report against the current release. If you experience problems, please add a comment to
this bug. Thank you for reporting this bug and we are sorry it could not be fixed.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9549888</commentid>
<comment_count>11</comment_count>
<who name="Jan Kurik">jkurik</who>
<bug_when>2016-07-26 01:01:49 -0400</bug_when>
<thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 25 development cycle. Changing version to &apos;25&apos;.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10408628</commentid>
<comment_count>12</comment_count>
<who name="Jaroslav Mracek">jmracek</who>
<bug_when>2017-05-12 13:36:36 -0400</bug_when>
<thetext>Hi Igor, The problem cannot be reproduce with dnf-2.4.1-1 and libdnf-0.8.2-1.</thetext>
</long_desc>

</bug>

</bugzilla>

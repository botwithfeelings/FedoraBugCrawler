<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1" urlbase="https://bugzilla.redhat.com/" maintainer="bugzilla-error-list@redhat.com">

  <bug>
    <bug_id>1405203</bug_id>

    <creation_ts>2016-12-15 15:55:00 -0500</creation_ts>
    <short_desc>No longer can use System V interface scripts with CUPS</short_desc>
    <delta_ts>2016-12-16 21:06:03 -0500</delta_ts>
    <reporter_accessible>1</reporter_accessible>
    <cclist_accessible>1</cclist_accessible>
    <classification_id>2</classification_id>
    <classification>Fedora</classification>
    <product>Fedora</product>
    <component>cups</component>
    <version>25</version>
    <rep_platform>Unspecified</rep_platform>
    <op_sys>Unspecified</op_sys>
    <bug_status>CLOSED</bug_status>
    <resolution>WONTFIX</resolution>

    <bug_file_loc></bug_file_loc>
    <status_whiteboard></status_whiteboard>
    <keywords></keywords>
    <priority>unspecified</priority>
    <bug_severity>unspecified</bug_severity>
    <target_milestone>---</target_milestone>

    <everconfirmed>1</everconfirmed>
    <reporter name="Robin A. Meade">robin.a.meade</reporter>
    <assigned_to name="Zdenek Dohnal">zdohnal</assigned_to>
    <cc>jpopelka</cc>

    <cc>robin.a.meade</cc>

    <cc>twaugh</cc>

    <cc>zdohnal</cc>
    <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>

    <cf_fixed_in></cf_fixed_in>
  <cf_doc_type>If docs needed, set a value</cf_doc_type>
<cf_release_notes></cf_release_notes>
<cf_story_points>---</cf_story_points>

<cf_environment></cf_environment>
<cf_last_closed>2016-12-16 03:42:09</cf_last_closed>
<cf_type>Bug</cf_type>
<cf_regression_status>---</cf_regression_status>
<cf_mount_type>---</cf_mount_type>
<cf_documentation_action>---</cf_documentation_action>
<cf_crm></cf_crm>
<cf_verified_branch></cf_verified_branch>
<cf_category>---</cf_category>
<cf_ovirt_team>---</cf_ovirt_team>

<cf_cloudforms_team>---</cf_cloudforms_team>

<target_release>---</target_release>

<votes>0</votes>

<comment_sort_order>oldest_to_newest</comment_sort_order>
<long_desc isprivate="0">
<commentid>9991318</commentid>
<comment_count>0</comment_count>
<who name="Robin A. Meade">robin.a.meade</who>
<bug_when>2016-12-15 15:55:26 -0500</bug_when>
<thetext>lpadmin -p print-queue-name -i /path/to/interface/script -v socket://ip.addr.of.printer/ -E Prior to Fedora 25, the above command would install the specified script to /etc/cups/interfaces and create the queue. In Fedora 25, it gives error:
lpadmin: Unable to open PPD &quot;/path/to/interface/script&quot;: Missing asterisk in column 1 on line 1. lpadmin: Bad PPD file. Xerox Print Driver software relies on the old behavior. Example:
http://forum.support.xerox.com/t5/General-Information/WorkCentre-6605DN-problem-with-Linux-Driver/td-p/196987</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9992508</commentid>
<comment_count>1</comment_count>
<who name="Jiri Popelka">jpopelka</who>
<bug_when>2016-12-16 03:02:25 -0500</bug_when>
<thetext>Since cups-2.2 interface scripts have no longer been supported upstream for security reasons: https://github.com/apple/cups/blob/master/CHANGES.txt#L103</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9992618</commentid>
<comment_count>2</comment_count>
<who name="Zdenek Dohnal">zdohnal</who>
<bug_when>2016-12-16 03:42:09 -0500</bug_when>
<thetext>Thank you, Jirka. I am sorry, Robin, but as Jirka said, this feature is no more supported in CUPS. Its adding would be divergence from upstream and it is security issue. Closing this bug as WONTFIX.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9995342</commentid>
<comment_count>3</comment_count>
<who name="Robin A. Meade">robin.a.meade</who>
<bug_when>2016-12-16 21:05:35 -0500</bug_when>
<thetext>OK, thanks Jiri and Zdenek. I have reported the problem in Xerox support forum: http://forum.support.xerox.com/t5/Printing/Xerox-Linux-Drivers-need-updating-for-CUPS-2-2/td-p/199146 WORKAROUND: Downgrade from CUPS 2.2.x to CUPS 2.1.x 1. Go
to https://koji.fedoraproject.org/koji/ 2. Search for latest cups build for Fedora 24 3. sudo dnf install &lt;urls to cups cups-client cups-filesystem cups-libs cups-lpd&gt; 4. Prevent updates from upgrading these cups packages: echo
&apos;exclude=cups cups-client cups-filesystem cups-libs cups-lpd&apos; \ | sudo tee -a /etc/dnf/dnf.conf I was then able to use the Xerox Linux Drivers to install System V Interface queues and print color documents.</thetext>
</long_desc>

</bug>

</bugzilla>

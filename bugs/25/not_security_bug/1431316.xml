<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1" urlbase="https://bugzilla.redhat.com/" maintainer="bugzilla-error-list@redhat.com">

  <bug>
    <bug_id>1431316</bug_id>

    <creation_ts>2017-03-11 02:24:00 -0500</creation_ts>
    <short_desc>TLSv1.3: security.tls.version.max = 4 has no effect</short_desc>
    <delta_ts>2017-05-29 10:25:03 -0400</delta_ts>
    <reporter_accessible>1</reporter_accessible>
    <cclist_accessible>1</cclist_accessible>
    <classification_id>2</classification_id>
    <classification>Fedora</classification>
    <product>Fedora</product>
    <component>firefox</component>
    <version>25</version>
    <rep_platform>x86_64</rep_platform>
    <op_sys>Linux</op_sys>
    <bug_status>CLOSED</bug_status>
    <resolution>NEXTRELEASE</resolution>

    <bug_file_loc></bug_file_loc>
    <status_whiteboard></status_whiteboard>
    <keywords></keywords>
    <priority>unspecified</priority>
    <bug_severity>low</bug_severity>
    <target_milestone>---</target_milestone>
    <dependson>1415140</dependson>

    <dependson>1432889</dependson>

    <everconfirmed>1</everconfirmed>
    <reporter>hostmaster</reporter>
    <assigned_to name="Martin Stransky">stransky</assigned_to>
    <cc>dueno</cc>

    <cc>gecko-bugs-nobody</cc>

    <cc>hkario</cc>

    <cc>hostmaster</cc>

    <cc>jhorak</cc>

    <cc>kengert</cc>

    <cc>pjasicek</cc>

    <cc>rhbz2</cc>

    <cc>stransky</cc>
    <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>

    <cf_fixed_in></cf_fixed_in>
  <cf_doc_type>If docs needed, set a value</cf_doc_type>
<cf_release_notes></cf_release_notes>
<cf_story_points>---</cf_story_points>

<cf_environment></cf_environment>
<cf_last_closed>2017-05-29 10:25:03</cf_last_closed>
<cf_type>Bug</cf_type>
<cf_regression_status>---</cf_regression_status>
<cf_mount_type>---</cf_mount_type>
<cf_documentation_action>---</cf_documentation_action>
<cf_crm></cf_crm>
<cf_verified_branch></cf_verified_branch>
<cf_category>---</cf_category>
<cf_ovirt_team>---</cf_ovirt_team>

<cf_cloudforms_team>---</cf_cloudforms_team>

<target_release>---</target_release>

<votes>0</votes>

<comment_sort_order>oldest_to_newest</comment_sort_order>
<long_desc isprivate="0">
<commentid>10230093</commentid>
<comment_count>0</comment_count>
<who name="">hostmaster</who>
<bug_when>2017-03-11 02:24:20 -0500</bug_when>
<thetext>Description of problem: Fedora 25 x86_64 build of Firefox 52 has broken TLSv1.3 support, security.tls.version.max = 4 has no effect. Version-Release number of selected component (if applicable): firefox-52.0-1.fc25.x86_64 Steps to Reproduce:
1. mv .mozilla .mozilla.OK (so Firefox starts with defaults and no plugins) 2. Set security.tls.version.max to 4 in about:config 3. Restart Firefox 52 4. Verify that security.tls.version.max is really 4 5. Open webpage with TLSv1.3 support (e,g,
https://www.cloudflare.com/ or https://test.felsing.net) Actual results: Fedora 25 Firefox negotiates to TLSv1.2, only even if web site supports TLSv1.3. Original Mozilla Firefox binaries negotiates TLSv1.3. Expected results: Fedora 25 Firefox 52
should behave like Original Mozilla Firefox 52 and should negotiate to TLSv1.3 if security.tls.version.max is 4 and remote supports TLSv1.3. Additional info: build information of firefox-52.0-1.fc25.x86_64 about:buildconfig Build platform target
x86_64-unknown-linux-gnu Build tools Compiler Version Compiler flags /usr/bin/gcc -std=gnu99 6.3.1 -Wall -Wempty-body -Wignored-qualifiers -Wpointer-arith -Wsign-compare -Wtype-limits -Wunreachable-code -Wno-error=maybe-uninitialized
-Wno-error=deprecated-declarations -Wno-error=array-bounds -fno-lifetime-dse -O2 -g -pipe -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches
-specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -m64 -mtune=generic -Wformat-security -Wformat -Werror=format-security -fno-delete-null-pointer-checks -fPIC -Wl,-z,relro -Wl,-z,now -fno-strict-aliasing -ffunction-sections -fdata-sections
-fno-math-errno -pthread -pipe /usr/bin/g++ -std=gnu++11 6.3.1 -Wall -Wc++11-compat -Wempty-body -Wignored-qualifiers -Woverloaded-virtual -Wpointer-arith -Wsign-compare -Wtype-limits -Wunreachable-code -Wwrite-strings -Wno-invalid-offsetof
-Wc++14-compat -Wno-error=maybe-uninitialized -Wno-error=deprecated-declarations -Wno-error=array-bounds -fno-lifetime-dse -O2 -g -pipe -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4
-grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -m64 -mtune=generic -Wformat-security -Wformat -Werror=format-security -fno-delete-null-pointer-checks -fPIC -Wl,-z,relro -Wl,-z,now -fno-exceptions -fno-strict-aliasing -fno-rtti
-ffunction-sections -fdata-sections -fno-exceptions -fno-math-errno -pthread -pipe -g -freorder-blocks -Os -fomit-frame-pointer Configure options --enable-application=browser --disable-tests --enable-rust --enable-system-ffi
--enable-default-toolkit=cairo-gtk3 --with-mozilla-api-keyfile=../mozilla-api-key MAKE=make --enable-system-hunspell --enable-gio --enable-necko-wifi --enable-official-branding --enable-optimize --enable-pie --enable-pulseaudio --enable-release
--enable-startup-notification --disable-strip --disable-system-cairo --disable-system-sqlite --disable-updater --enable-url-classifier --libdir=/usr/lib64 --prefix=/usr --with-pthreads --with-system-bz2 --without-system-icu --with-system-jpeg
--with-system-libvpx --with-system-nspr --with-system-nss --with-system-zlib</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10232342</commentid>
<comment_count>1</comment_count>
<who name="Martin Stransky">stransky</who>
<bug_when>2017-03-13 06:16:42 -0400</bug_when>
<thetext>Kai, could you please look at it? Thanks!</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10232358</commentid>
<comment_count>2</comment_count>
<who name="Kai Engert (:kaie)">kengert</who>
<bug_when>2017-03-13 06:25:52 -0400</bug_when>
<thetext>NSS in Fedora has TLS 1.3 intentionally disabled. Because some application other than Firefox have experienced issues with TLS 1.3 enabled, we&apos;re waiting for compatibility fixes, prior to enabling it.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10276817</commentid>
<comment_count>3</comment_count>
<who name="Christian Stadelmann">rhbz2</who>
<bug_when>2017-03-25 08:34:15 -0400</bug_when>
<thetext>See also: https://lists.fedoraproject.org/archives/list/devel@lists.fedoraproject.org/thread/44O6EYI3GW7HSUU6YXLKIYGXZ5REM2KW/</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10454003</commentid>
<comment_count>4</comment_count>
<who name="Christian Stadelmann">rhbz2</who>
<bug_when>2017-05-28 09:47:22 -0400</bug_when>
<thetext>Tested with https://www.ssllabs.com/ssltest/viewMyClient.html, this issue is now gone, at least on Fedora 26. Please close the bug report.</thetext>
</long_desc>

</bug>

</bugzilla>

<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1" urlbase="https://bugzilla.redhat.com/" maintainer="bugzilla-error-list@redhat.com">

  <bug>
    <bug_id>1351621</bug_id>

    <creation_ts>2016-06-30 08:47:00 -0400</creation_ts>
    <short_desc>Missing policy definitions</short_desc>
    <delta_ts>2016-09-15 17:13:45 -0400</delta_ts>
    <reporter_accessible>1</reporter_accessible>
    <cclist_accessible>1</cclist_accessible>
    <classification_id>2</classification_id>
    <classification>Fedora</classification>
    <product>Fedora</product>
    <component>selinux-policy</component>
    <version>25</version>
    <rep_platform>Unspecified</rep_platform>
    <op_sys>Unspecified</op_sys>
    <bug_status>CLOSED</bug_status>
    <resolution>ERRATA</resolution>

    <bug_file_loc></bug_file_loc>
    <status_whiteboard></status_whiteboard>
    <keywords></keywords>
    <priority>high</priority>
    <bug_severity>high</bug_severity>
    <target_milestone>---</target_milestone>

    <blocked>1368057</blocked>
    <everconfirmed>1</everconfirmed>
    <reporter name="Daniel Walsh">dwalsh</reporter>
    <assigned_to name="Lukas Vrabec">lvrabec</assigned_to>
    <cc>dominick.grift</cc>

    <cc>dwalsh</cc>

    <cc>eparis</cc>

    <cc>lvrabec</cc>

    <cc>mgrepl</cc>

    <cc>plautrba</cc>

    <cc>pmoore</cc>

    <cc>sds</cc>
    <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>

    <cf_fixed_in>selinux-policy-3.13.1-200.fc25 selinux-policy-3.13.1-208.fc25</cf_fixed_in>
  <cf_doc_type>If docs needed, set a value</cf_doc_type>
<cf_release_notes></cf_release_notes>
<cf_story_points>---</cf_story_points>

<cf_environment></cf_environment>
<cf_last_closed>2016-08-16 23:04:44</cf_last_closed>
<cf_type>Bug</cf_type>
<cf_regression_status>---</cf_regression_status>
<cf_mount_type>---</cf_mount_type>
<cf_documentation_action>---</cf_documentation_action>
<cf_crm></cf_crm>
<cf_verified_branch></cf_verified_branch>
<cf_category>---</cf_category>
<cf_ovirt_team>---</cf_ovirt_team>

<cf_cloudforms_team>---</cf_cloudforms_team>

<target_release>---</target_release>

<votes>0</votes>

<comment_sort_order>oldest_to_newest</comment_sort_order>
<long_desc isprivate="0">
<commentid>9468448</commentid>
<comment_count>0</comment_count>
<who name="Daniel Walsh">dwalsh</who>
<bug_when>2016-06-30 08:47:24 -0400</bug_when>
<thetext>Stephen Smalley reports Can&apos;t implement a selinux-testsuite test for this check until the Fedora base policy defines the permission. Ditto for various other recently added classes and permissions, e.g. dmesg | grep SELinux after boot on
rawhide shows: SELinux: Permission validate_trans in class security not defined in policy. SELinux: Permission module_load in class system not defined in policy. SELinux: Class cap_userns not defined in policy. SELinux: Class cap2_userns not defined
in policy. SELinux: the above unknown classes and permissions will be allowed Need to merge in these changes from upstream</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9549421</commentid>
<comment_count>1</comment_count>
<who name="Jan Kurik">jkurik</who>
<bug_when>2016-07-26 00:37:53 -0400</bug_when>
<thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 25 development cycle. Changing version to &apos;25&apos;.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9611666</commentid>
<comment_count>2</comment_count>
<who name="Fedora Update System">updates</who>
<bug_when>2016-08-12 11:57:54 -0400</bug_when>
<thetext>selinux-policy-3.13.1-208.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report. See https://fedoraproject.org/wiki/QA:Updates_Testing for instructions on how to
install test updates. You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-662487f8f1</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9621006</commentid>
<comment_count>3</comment_count>
<who name="Fedora Update System">updates</who>
<bug_when>2016-08-16 23:03:03 -0400</bug_when>
<thetext>selinux-policy-3.13.1-208.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9623553</commentid>
<comment_count>4</comment_count>
<who name="Stephen Smalley">sds</who>
<bug_when>2016-08-17 12:57:05 -0400</bug_when>
<thetext>We still seem to be missing module_load and validate_trans: [ 2233.727092] SELinux: Permission validate_trans in class security not defined in policy. [ 2233.727099] SELinux: Permission module_load in class system not defined in policy. Both
are defined in refpolicy, but it doesn&apos;t look like any allow rules have been added yet for them, so you may need to allow them to avoid breakage once defined. When the caller uses init_module(2) to load the module from its own memory, SELinux
against self, so the allow rule has the form allow X self:system module_load;. This is equivalent to allow X self:capability sys_module; When the caller uses finit_module(2) to load the module from an open file, SELinux checks against the file label,
so the allow rule has the form allow X label_of_file:system module_load;, e.g. allow X modules_object_t:system module_load; allows loading kernel modules from /lib/modules but not other files. The ultimate goal would be to convert userspace over to
using finit_module(2) always when supported by the kernel, and then we could remove the allow X self:system rules and limit module loading to specific files. Android uses this to limit module loading to read-only, verified partitions, for example.</thetext>
</long_desc>

</bug>

</bugzilla>

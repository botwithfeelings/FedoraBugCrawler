<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1" urlbase="https://bugzilla.redhat.com/" maintainer="bugzilla-error-list@redhat.com">

  <bug>
    <bug_id>927212</bug_id>

    <creation_ts>2013-03-25 07:55:00 -0400</creation_ts>
    <short_desc>glib2: Missing dependency on dbus-x11</short_desc>
    <delta_ts>2017-03-03 10:21:19 -0500</delta_ts>
    <reporter_accessible>1</reporter_accessible>
    <cclist_accessible>1</cclist_accessible>
    <classification_id>2</classification_id>
    <classification>Fedora</classification>
    <product>Fedora</product>
    <component>glib2</component>
    <version>25</version>
    <rep_platform>Unspecified</rep_platform>
    <op_sys>Unspecified</op_sys>
    <bug_status>CLOSED</bug_status>
    <resolution>WONTFIX</resolution>

    <bug_file_loc></bug_file_loc>
    <status_whiteboard></status_whiteboard>
    <keywords>Reopened</keywords>
    <priority>unspecified</priority>
    <bug_severity>unspecified</bug_severity>
    <target_milestone>---</target_milestone>

    <everconfirmed>1</everconfirmed>
    <reporter name="Florian Weimer">fweimer</reporter>
    <assigned_to name="Matthias Clasen">mclasen</assigned_to>
    <cc>amigadave</cc>

    <cc>cbm</cc>

    <cc>klember</cc>

    <cc>mclasen</cc>

    <cc>ppisar</cc>

    <cc>psabata</cc>

    <cc>riehecky</cc>

    <cc>rvokal</cc>
    <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>

    <cf_fixed_in></cf_fixed_in>
  <cf_doc_type>Bug Fix</cf_doc_type>
<cf_release_notes></cf_release_notes>
<cf_story_points>---</cf_story_points>

<cf_environment></cf_environment>
<cf_last_closed>2017-03-02 03:42:16</cf_last_closed>
<cf_type>Bug</cf_type>
<cf_regression_status>---</cf_regression_status>
<cf_mount_type>---</cf_mount_type>
<cf_documentation_action>---</cf_documentation_action>
<cf_crm></cf_crm>
<cf_verified_branch></cf_verified_branch>
<cf_category>---</cf_category>
<cf_ovirt_team>---</cf_ovirt_team>

<cf_cloudforms_team>---</cf_cloudforms_team>

<target_release>---</target_release>

<votes>0</votes>

<comment_sort_order>oldest_to_newest</comment_sort_order>
<long_desc isprivate="0">
<commentid>5630433</commentid>
<comment_count>0</comment_count>
<who name="Florian Weimer">fweimer</who>
<bug_when>2013-03-25 07:55:34 -0400</bug_when>
<thetext>It seems that gnome-boxes needs /usr/bin/dbus-launch to work, but the package lacks a dependency which reflects that.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>5630636</commentid>
<comment_count>2</comment_count>
<who name="Christophe Fergeau">cfergeau</who>
<bug_when>2013-03-25 09:00:08 -0400</bug_when>
<thetext>(In reply to comment #0) &gt; It seems that gnome-boxes needs /usr/bin/dbus-launch to work Can you give more details about the problem you&apos;ve had which makes you think it needs a dbus-launch dep?</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>5630693</commentid>
<comment_count>3</comment_count>
<who name="Florian Weimer">fweimer</who>
<bug_when>2013-03-25 09:17:07 -0400</bug_when>
<thetext>I get this error message when I try to start the program: (gnome-boxes:9025): Boxes-CRITICAL **: media-manager.vala:27: Error connecting to Tracker: Failed to execute child process &quot;dbus-launch&quot; (No such file or directory)</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>5639406</commentid>
<comment_count>4</comment_count>
<who name="Bill Nottingham">notting</who>
<bug_when>2013-03-27 16:53:37 -0400</bug_when>
<thetext>What sort of a session are you running it under?</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>5917785</commentid>
<comment_count>5</comment_count>
<who name="Florian Weimer">fweimer</who>
<bug_when>2013-05-15 11:25:53 -0400</bug_when>
<thetext>(In reply to comment #4) &gt; What sort of a session are you running it under? It&apos;s just an X session, without a desktop environment.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>5917884</commentid>
<comment_count>6</comment_count>
<who name="Christophe Fergeau">cfergeau</who>
<bug_when>2013-05-15 11:47:02 -0400</bug_when>
<thetext>glib2 has some code in gio/gdbusaddress.c which tries to run dbus-launch, but no dbus-x11 dependency. I couldn&apos;t find any occurrences of dbus-launch in gnome-boxes and tracker sources, so I&apos;ll assume Boxes is triggering this
dbus-launch code.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>6700894</commentid>
<comment_count>7</comment_count>
<who name="Colin Macdonald">cbm</who>
<bug_when>2014-01-13 05:20:15 -0500</bug_when>
<thetext>I get this same error Failed to execute child process &quot;dbus-launch&quot; when running eekboard on a very basic X session (also without desktop environment). So glib2 sounds about right. I also get it from gnome-terminal, a gtk3 app (but
perhaps that&apos;s still glib2).</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>6700898</commentid>
<comment_count>8</comment_count>
<who name="Colin Macdonald">cbm</who>
<bug_when>2014-01-13 05:20:54 -0500</bug_when>
<thetext>Sorry, I should&apos;ve noted on F20.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>6700921</commentid>
<comment_count>9</comment_count>
<who name="Florian Weimer">fweimer</who>
<bug_when>2014-01-13 05:24:12 -0500</bug_when>
<thetext>Okay, let&apos;s move this to F20, then.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>6720605</commentid>
<comment_count>10</comment_count>
<who name="Petr Šabata">psabata</who>
<bug_when>2014-01-17 03:56:23 -0500</bug_when>
<thetext>*** Bug 977439 has been marked as a duplicate of this bug. ***</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>8277697</commentid>
<comment_count>11</comment_count>
<who name="Fedora End Of Life">jkurik</who>
<bug_when>2015-05-29 04:57:09 -0400</bug_when>
<thetext>This message is a reminder that Fedora 20 is nearing its end of life. Approximately 4 (four) weeks from now Fedora will stop maintaining and issuing updates for Fedora 20. It is Fedora&apos;s policy to close all bug reports from releases
that are no longer maintained. At that time this bug will be closed as EOL if it remains open with a Fedora &apos;version&apos; of &apos;20&apos;. Package Maintainer: If you wish for this bug to remain open because you plan to fix it in a currently
maintained version, simply change the &apos;version&apos; to a later Fedora version. Thank you for reporting this issue and we are sorry that we were not able to fix it before Fedora 20 is end of life. If you would still like to see this bug fixed
and are able to reproduce it against a later version of Fedora, you are encouraged change the &apos;version&apos; to a later Fedora version prior this bug is closed as described in the policy above. Although we aim to fix as many bugs as possible
during every release&apos;s lifetime, sometimes those efforts are overtaken by events. Often a more recent Fedora release includes newer upstream software that fixes bugs or makes them obsolete.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>8282706</commentid>
<comment_count>12</comment_count>
<who name="Petr Šabata">psabata</who>
<bug_when>2015-05-29 07:36:04 -0400</bug_when>
<thetext>Still unaddressed in F22.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9521017</commentid>
<comment_count>13</comment_count>
<who name="Fedora End Of Life">jkurik</who>
<bug_when>2016-07-19 06:08:18 -0400</bug_when>
<thetext>Fedora 22 changed to end-of-life (EOL) status on 2016-07-19. Fedora 22 is no longer maintained, which means that it will not receive any further security or bug fix updates. As a result we are closing this bug. If you can reproduce this bug
against a currently maintained version of Fedora please feel free to reopen this bug against that version. If you are unable to reopen this bug, please file a new report against the current release. If you experience problems, please add a comment to
this bug. Thank you for reporting this bug and we are sorry it could not be fixed.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9529175</commentid>
<comment_count>14</comment_count>
<who name="Colin Macdonald">cbm</who>
<bug_when>2016-07-19 16:23:28 -0400</bug_when>
<thetext>On rawhide: 1) gnome-terminal now pulls in dbus-x11, not via glib2 2) eekboard still fails (does not pull in dbus-x11) 3) gnome-boxes: untested, but no dbus-x11 appears in the dep list. I&apos;ll reopen against rawhide.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9549484</commentid>
<comment_count>15</comment_count>
<who name="Jan Kurik">jkurik</who>
<bug_when>2016-07-26 00:40:59 -0400</bug_when>
<thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 25 development cycle. Changing version to &apos;25&apos;.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10200894</commentid>
<comment_count>16</comment_count>
<who name="Kalev Lember">klember</who>
<bug_when>2017-03-02 03:42:16 -0500</bug_when>
<thetext>Sorry, but adding /usr/bin/dbus-launch as a dependency in glib is a no go. There are lots of low level programs that link with glib and this would force an X11 dependency on all of them. I went ahead and reverted this. The dbus dependency
needs to be added in apps that use the functionality instead, e.g. gnome-terminal and eekboard and gnome-boxes.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10201570</commentid>
<comment_count>17</comment_count>
<who name="Petr Pisar">ppisar</who>
<bug_when>2017-03-02 07:12:21 -0500</bug_when>
<thetext>We talk about /usr/lib64/libgio-2.0.so.0. This is the only file that contains dbus-lunch strings. What about moving this library into a separate subpackage and add the dbus-x11 dependency to it. I actually reported another bug proposing
splitting the glib2 libraries because of dependency bloat. I think glib2 is just to big and should be split.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10201725</commentid>
<comment_count>18</comment_count>
<who name="Petr Šabata">psabata</who>
<bug_when>2017-03-02 07:38:08 -0500</bug_when>
<thetext>(In reply to Petr Pisar from comment #17) &gt; We talk about /usr/lib64/libgio-2.0.so.0. This is the only file that &gt; contains dbus-lunch strings. What about moving this library into a separate &gt; subpackage and add the dbus-x11
dependency to it. +1 &gt; I actually reported another bug proposing splitting the glib2 libraries &gt; because of dependency bloat. I think glib2 is just to big and should be &gt; split. +1 The Base Runtime team will definitely want you guys to split
glib2-devel so you can use the header files without pulling in perl and python (at least). That&apos;s just an informal heads-up; there&apos;s no report for that yet, afaik :)</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10203003</commentid>
<comment_count>19</comment_count>
<who name="Colin Macdonald">cbm</who>
<bug_when>2017-03-02 12:17:38 -0500</bug_when>
<thetext>Ok, I filed bug #1428502 and bug #1428503 to get the dependency added to eekboard and gnome-boxes directly.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10203024</commentid>
<comment_count>20</comment_count>
<who name="Colin Macdonald">cbm</who>
<bug_when>2017-03-02 12:20:04 -0500</bug_when>
<thetext>Oops I didn&apos;t read Petr&apos;s comment carefully; that sounds fine too. Anyway, at least there are bugs tracking what will need to depend on the new subpackage.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10204924</commentid>
<comment_count>21</comment_count>
<who name="Petr Pisar">ppisar</who>
<bug_when>2017-03-03 02:18:13 -0500</bug_when>
<thetext>(In reply to Colin Macdonald from comment #20) &gt; Anyway, at least there are bugs tracking what will need to depend on the new &gt; subpackage. You won&apos;t need because the dependency will be autogenerated via library soname.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10206443</commentid>
<comment_count>22</comment_count>
<who name="Kalev Lember">klember</who>
<bug_when>2017-03-03 10:21:19 -0500</bug_when>
<thetext>Sure, I think splitting gio into a subpackage should be easily doable if needed. I don&apos;t think it would make sense to add a dbus-x11 hard dep to the new gio subpackage though. Most of the code that uses gio works just fine without dbus
and adding the dep to the library package would probably just scare off low level consumers from using it in the first place. E.g. the GTask API from gio is something that is universally useful to help deal with threads. If we add a heavy dep to gio,
then suddenly low level consumers such as libdnf would be forced to avoid using the GTask API.</thetext>
</long_desc>

</bug>

</bugzilla>

<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1254616</bug_id>
          
          <creation_ts>2015-08-18 09:53:00 -0400</creation_ts>
          <short_desc>Provider systemd is not functional on this host</short_desc>
          <delta_ts>2017-06-01 01:10:09 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>puppet</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Marcus Moeller">marcus.moeller</reporter>
          <assigned_to name="Dominic Cleal">dominic</assigned_to>
          <cc>dcleal</cc>
    
    
    <cc>dominic</cc>
    
    
    <cc>fedora</cc>
    
    
    <cc>gchamoul</cc>
    
    
    <cc>iwienand</cc>
    
    
    <cc>jose.p.oliveira.oss</cc>
    
    
    <cc>k.georgiou</cc>
    
    
    <cc>lzap</cc>
    
    
    <cc>marianne</cc>
    
    
    <cc>mastahnke</cc>
    
    
    <cc>mmagr</cc>
    
    
    <cc>moses</cc>
    
    
    <cc>s</cc>
    
    
    <cc>tmz</cc>
    
    
    <cc>vanmeeuwen+fedora</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>puppet-4.2.1-5.fc25</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-06-01 01:10:09</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>8551641</commentid>
    <comment_count>0</comment_count>
    <who name="Marcus Moeller">marcus.moeller</who>
    <bug_when>2015-08-18 09:53:23 -0400</bug_when>
    <thetext>I am running puppet to enable or disable services using the systemd provider and I am getting the following error:

Error: /Stage[main]/Time::Service/Service[ntpd.service]: Provider systemd is not functional on this host

When I run it manually e.g. by executing:

systemctl enable ntpd.service

it works fine:

Created symlink from /etc/systemd/system/multi-user.target.wants/ntpd.service to /usr/lib/systemd/system/ntpd.service</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8554208</commentid>
    <comment_count>1</comment_count>
    <who name="Marcus Moeller">marcus.moeller</who>
    <bug_when>2015-08-19 02:59:04 -0400</bug_when>
    <thetext>This is a chroot setup, so puppet runs within the chroot. Within the chroot the directory /run/systemd/system does not exist, but now seems to be required by:

/usr/share/ruby/vendor_ruby/puppet/provider/service/systemd.rb

 confine :exists =&gt; &quot;/run/systemd/system&quot;</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8889335</commentid>
    <comment_count>2</comment_count>
    <who name="Ian Wienand">iwienand</who>
    <bug_when>2015-12-03 21:18:50 -0500</bug_when>
    <thetext>I found this problem too when using diskimage-builder in upstream nodepool to build fedora23 images.

I opened [1] and created [2] to see what we can do about this
 
[1] https://tickets.puppetlabs.com/browse/PUP-5577
[2] https://github.com/puppetlabs/puppet/pull/4481</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8902532</commentid>
    <comment_count>3</comment_count>
      <attachid>1103692</attachid>
    <who name="Ian Wienand">iwienand</who>
    <bug_when>2015-12-08 14:49:16 -0500</bug_when>
    <thetext>Created attachment 1103692
workaround for the systemd confine

I have used this to successfully run puppet in a chroot on Fedora</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9921518</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-11-24 07:20:14 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 23 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 23. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as EOL if it remains open with a Fedora  &apos;version&apos;
of &apos;23&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version.

Thank you for reporting this issue and we are sorry that we were not 
able to fix it before Fedora 23 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior this bug is closed as described in the policy above.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9988949</commentid>
    <comment_count>5</comment_count>
    <who name="Marcus Moeller">marcus.moeller</who>
    <bug_when>2016-12-15 04:01:58 -0500</bug_when>
    <thetext>Still appears on F25. Not sure if your patch ever made it to the package.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10439309</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-23 07:25:51 -0400</bug_when>
    <thetext>puppet-4.2.1-5.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-8ad8d1bd86</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10439311</commentid>
    <comment_count>7</comment_count>
    <who name="Dominic Cleal">dominic</who>
    <bug_when>2017-05-23 07:26:47 -0400</bug_when>
    <thetext>Thanks for sending the patch upstream, I&apos;ve applied it to the Fedora 25 branch. F26 onwards should already contain it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10442504</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-24 03:10:51 -0400</bug_when>
    <thetext>puppet-4.2.1-5.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-8ad8d1bd86</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10466932</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-01 01:10:09 -0400</bug_when>
    <thetext>puppet-4.2.1-5.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1103692</attachid>
            <date>2015-12-08 14:49:00 -0500</date>
            <delta_ts>2015-12-08 14:49:16 -0500</delta_ts>
            <desc>workaround for the systemd confine</desc>
            <filename>0001-Work-around-systemd-confine.patch</filename>
            <type>text/plain</type>
            <size>2948</size>
            <attacher name="Ian Wienand">iwienand</attacher>
            
              <data encoding="base64">RnJvbSBkMjVmZTg0MzU1ZWM3Y2Q4MjZhYTZiNmE2ZmY1YzA0ZmFlOTMzZDJiIE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBJYW4gV2llbmFuZCA8aXdpZW5hbmRAcmVkaGF0LmNvbT4KRGF0
ZTogV2VkLCA5IERlYyAyMDE1IDA2OjQ2OjUzICsxMTAwClN1YmplY3Q6IFtQQVRDSCAyLzJdIFdv
cmsgYXJvdW5kIHN5c3RlbWQgY29uZmluZQoKV29yayBhcm91bmQgc3lzdGVtZCBjb25maW5lLCBz
ZWUKCiBodHRwczovL3RpY2tldHMucHVwcGV0bGFicy5jb20vYnJvd3NlL1BVUC01NTc3CiBodHRw
czovL2J1Z3ppbGxhLnJlZGhhdC5jb20vc2hvd19idWcuY2dpP2lkPTEyNTQ2MTYKLS0tCiAwMDAz
LXJlbW92ZS1zeXN0ZW1kLWNvbmZpbmUucGF0Y2ggfCAzMSArKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrCiBwdXBwZXQuc3BlYyAgICAgICAgICAgICAgICAgICAgICAgfCAgNSArKysrKwog
MiBmaWxlcyBjaGFuZ2VkLCAzNiBpbnNlcnRpb25zKCspCiBjcmVhdGUgbW9kZSAxMDA2NDQgMDAw
My1yZW1vdmUtc3lzdGVtZC1jb25maW5lLnBhdGNoCgpkaWZmIC0tZ2l0IGEvMDAwMy1yZW1vdmUt
c3lzdGVtZC1jb25maW5lLnBhdGNoIGIvMDAwMy1yZW1vdmUtc3lzdGVtZC1jb25maW5lLnBhdGNo
Cm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLmEwNDAyNzcKLS0tIC9kZXYvbnVs
bAorKysgYi8wMDAzLXJlbW92ZS1zeXN0ZW1kLWNvbmZpbmUucGF0Y2gKQEAgLTAsMCArMSwzMSBA
QAorRnJvbSBkN2UzYmYzOWZkNmIzYzZjZjczNTZhNWZlMTZhNzRhNzkwZjY1YzE2IE1vbiBTZXAg
MTcgMDA6MDA6MDAgMjAwMQorRnJvbTogSWFuIFdpZW5hbmQgPGl3aWVuYW5kQHJlZGhhdC5jb20+
CitEYXRlOiBXZWQsIDkgRGVjIDIwMTUgMDY6MjY6NDQgKzExMDAKK1N1YmplY3Q6IFtQQVRDSF0g
RG9uJ3QgaW5zaXN0IG9uIHN5c3RlbWQgcnVubmluZworCitUaGUgY29uZmluZSBzdGF0ZW1lbnQg
Y2hlY2tpbmcgZm9yICIvcnVuL3N5c3RlbWQvc3lzdGVtIiBwcmV2ZW50cyB0aGlzCitwcm92aWRl
ciB3b3JraW5nIGluIGEgY2hyb290IHdoZXJlIC9ydW4gaXMgbm90IGVuYWJsZWQuICBJdCB3YXMg
YWRkZWQKK3RvIHdvcmstYXJvdW5kIG11bHRpcGxlIGluaXQtc3lzdGVtcyBwcm92aWRlZCBieSBE
ZWJpYW4sIG5vdCBhbiBpc3N1ZQorb24gRmVkb3JhCisKK1NlZSBodHRwczovL3RpY2tldHMucHVw
cGV0bGFicy5jb20vYnJvd3NlL1BVUC01NTc3CistLS0KKyBsaWIvcHVwcGV0L3Byb3ZpZGVyL3Nl
cnZpY2Uvc3lzdGVtZC5yYiB8IDIgLS0KKyAxIGZpbGUgY2hhbmdlZCwgMiBkZWxldGlvbnMoLSkK
KworZGlmZiAtLWdpdCBhL2xpYi9wdXBwZXQvcHJvdmlkZXIvc2VydmljZS9zeXN0ZW1kLnJiIGIv
bGliL3B1cHBldC9wcm92aWRlci9zZXJ2aWNlL3N5c3RlbWQucmIKK2luZGV4IDc1MjE4NTIuLjU4
YTI1N2IgMTAwNjQ0CistLS0gYS9saWIvcHVwcGV0L3Byb3ZpZGVyL3NlcnZpY2Uvc3lzdGVtZC5y
YgorKysrIGIvbGliL3B1cHBldC9wcm92aWRlci9zZXJ2aWNlL3N5c3RlbWQucmIKK0BAIC01LDgg
KzUsNiBAQCBQdXBwZXQ6OlR5cGUudHlwZSg6c2VydmljZSkucHJvdmlkZSA6c3lzdGVtZCwgOnBh
cmVudCA9PiA6YmFzZSBkbworIAorICAgY29tbWFuZHMgOnN5c3RlbWN0bCA9PiAic3lzdGVtY3Rs
IgorIAorLSAgY29uZmluZSA6ZXhpc3RzID0+ICIvcnVuL3N5c3RlbWQvc3lzdGVtIgorLQorICAg
ZGVmYXVsdGZvciA6b3NmYW1pbHkgPT4gWzphcmNobGludXhdCisgICBkZWZhdWx0Zm9yIDpvc2Zh
bWlseSA9PiA6cmVkaGF0LCA6b3BlcmF0aW5nc3lzdGVtbWFqcmVsZWFzZSA9PiAiNyIKKyAgIGRl
ZmF1bHRmb3IgOm9zZmFtaWx5ID0+IDpyZWRoYXQsIDpvcGVyYXRpbmdzeXN0ZW0gPT4gOmZlZG9y
YQorLS0gCisyLjUuMAorCmRpZmYgLS1naXQgYS9wdXBwZXQuc3BlYyBiL3B1cHBldC5zcGVjCmlu
ZGV4IDYxZmY3ZjMuLmViODExYjMgMTAwNjQ0Ci0tLSBhL3B1cHBldC5zcGVjCisrKyBiL3B1cHBl
dC5zcGVjCkBAIC0zMiw2ICszMiw3IEBAIFNvdXJjZTQ6ICAgICAgICBzdGFydC1wdXBwZXQtd3Jh
cHBlcgogIyBQdXBwZXRsYWJzIG1lc3NlZCB1cCB3aXRoIGRlZmF1bHQgcGF0aHMKIFBhdGNoMDE6
ICAgICAgICAwMDAxLUZpeC1wdXBwZXQtcGF0aHMucGF0Y2gKIFBhdGNoMDI6ICAgICAgICAwMDAy
LVJldmVydC1tYWludC1SZW1vdmUtcHVwcGV0bWFzdGVyLnNlcnZpY2UucGF0Y2gKK1BhdGNoMDM6
ICAgICAgICAwMDAzLXJlbW92ZS1zeXN0ZW1kLWNvbmZpbmUucGF0Y2gKIEdyb3VwOiAgICAgICAg
ICBTeXN0ZW0gRW52aXJvbm1lbnQvQmFzZQogCiBCdWlsZFJvb3Q6ICAgICAgJXtfdG1wcGF0aH0v
JXtuYW1lfS0le3ZlcnNpb259LSV7cmVsZWFzZX0tcm9vdC0lKCV7X19pZF91fSAtbikKQEAgLTEx
OSw2ICsxMjAsNyBAQCBUaGUgc2VydmVyIGNhbiBhbHNvIGZ1bmN0aW9uIGFzIGEgY2VydGlmaWNh
dGUgYXV0aG9yaXR5IGFuZCBmaWxlIHNlcnZlci4KICVzZXR1cCAtcQogJXBhdGNoMDEgLXAxIC1i
IC5wYXRocwogJXBhdGNoMDIgLXAxIC1iIC5zZXJ2ZXIKKyVwYXRjaDAzIC1wMSAtYiAuY29uZmlu
ZQogIyBVbmJ1bmRsZQogcm0gLXIgbGliL3B1cHBldC92ZW5kb3IvKntwYXRoc3BlYyxyZ2VufSoK
IApAQCAtMzg2LDYgKzM4OCw5IEBAIGV4aXQgMAogcm0gLXJmICV7YnVpbGRyb290fQogCiAlY2hh
bmdlbG9nCisqIFR1ZSBEZWMgIDggMjAxNSBJYW4gV2llbmFuZCA8aXdpZW5hbmRAcmVkaGF0LmNv
bT4gLSA0LjIuMS0zCistIEFkZCAwMDAzLXJlbW92ZS1zeXN0ZW1kLWNvbmZpbmUucGF0Y2ggKHJo
YnojMTI1NDYxNikKKwogKiBXZWQgSnVsIDI5IDIwMTUgR2FlbCBDaGFtb3VsYXVkIDxnY2hhbW91
bEByZWRoYXQuY29tPiAtIDQuMi4xLTIKIC0gUmVtb3ZlIHVzYWdlIG9mIHZlbmRvcmVkIGxpYnJh
cnkgc2FmZV95YW1sIChyaGJ6IzEyNjEwOTEpCiAKLS0gCjIuNS4wCgo=
</data>

          </attachment>
      

    </bug>

</bugzilla>
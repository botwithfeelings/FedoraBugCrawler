<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1421856</bug_id>
          
          <creation_ts>2017-02-13 16:13:00 -0500</creation_ts>
          <short_desc>Review Request: etcd-container - system container for etcd</short_desc>
          <delta_ts>2017-02-24 12:07:46 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>Package Review</component>
          <version>25</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>NEXTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>177841</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Yu Qi Zhang">jzehrarnyg</reporter>
          <assigned_to name="Tomas Tomecek">ttomecek</assigned_to>
          <cc>container-review</cc>
    
    
    <cc>package-review</cc>
    
    
    <cc>ttomecek</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-02-24 12:07:46</cf_last_closed>
          <cf_type>---</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      <flag name="fedora-review"
          id="2955892"
          type_id="65"
          status="+"
          setter="ttomecek"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10144396</commentid>
    <comment_count>0</comment_count>
    <who name="Yu Qi Zhang">jzehrarnyg</who>
    <bug_when>2017-02-13 16:13:11 -0500</bug_when>
    <thetext>Dockerfile URL: https://github.com/projectatomic/atomic-system-containers/blob/master/etcd/Dockerfile

Source: https://github.com/projectatomic/atomic-system-containers/tree/master/etcd

Description: 
etcd is a key-value store for shared configuration and service discovery. This package is intended to be ran as a system container.

More information on system containers here: http://www.projectatomic.io/blog/2016/09/intro-to-system-containers/
A quick guide: https://github.com/yuqi-zhang/atomic-system-containers-quickstart

Fedora Account System Username: yzhang</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10150012</commentid>
    <comment_count>1</comment_count>
    <who name="Tomas Tomecek">ttomecek</who>
    <bug_when>2017-02-15 08:10:50 -0500</bug_when>
    <thetext>Same as flannel, please pin base image to latest stable tag:

&gt; FROM fedora

https://fedoraproject.org/wiki/Container:Guidelines#CMD_.2F_ENTRYPOINT


https://github.com/projectatomic/atomic-system-containers/blob/master/etcd/Dockerfile#L13
&gt; RUN dnf -y install etcd hostname &amp;&amp; \

This also holds for flannel: please install packages without documentation as described in &quot;Container best practices&quot;:

http://docs.projectatomic.io/container-best-practices/#_clear_packaging_caches_and_temporary_package_downloads


It would be also helpful to indicate which ports are meant to be exposed (you write that the container is meant to run as system container, but one can still run it within docker, right?)


&gt; # git clone https://github.com/aveshagarwal/etcd-container

`git clone` in readme seems to be out of date.


Same for documentation, it would be really helpful for users to have something. But I guess since there are no formal guidelines for this, let&apos;s postpone (same for flannel), there is readme in the repo, should be enough for now.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10154621</commentid>
    <comment_count>2</comment_count>
    <who name="Yu Qi Zhang">jzehrarnyg</who>
    <bug_when>2017-02-16 14:28:22 -0500</bug_when>
    <thetext>Thanks for the review! I&apos;ve made the fixes to etcd and flannel here: https://github.com/projectatomic/atomic-system-containers/pull/32</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10157829</commentid>
    <comment_count>3</comment_count>
    <who name="Tomas Tomecek">ttomecek</who>
    <bug_when>2017-02-17 08:30:19 -0500</bug_when>
    <thetext>I don&apos;t want to nitpick, but it&apos;s `maintainer`, with lower-case &apos;m&apos;. Also, please  use EXPOSE instruction inside etcd Dockerfile to indicate, which ports are meant to be exposed.

These are really minor, will grant review+ once done.


Since you are not sponsored yet, have you tried to get a sponsor?


Since are not set as maintainer inside Dockerfile, is Giuseppe okay with this? Will both of you maintain the image in Fedora?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10171754</commentid>
    <comment_count>4</comment_count>
    <who name="Yu Qi Zhang">jzehrarnyg</who>
    <bug_when>2017-02-21 11:46:25 -0500</bug_when>
    <thetext>Fixed in: https://github.com/projectatomic/atomic-system-containers/commit/759decde35f539e743689020e251f9a8fcc5eb07

I have talked to Adam Miller about sponsoring. As for maintainer, technically projectatomic as an organization will be the maintainer. I&apos;ve talked to Giuseppe and he&apos;s ok with being the listed maintainer for now.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10172726</commentid>
    <comment_count>5</comment_count>
    <who name="">container-review</who>
    <bug_when>2017-02-21 18:27:16 -0500</bug_when>
    <thetext>Sponsored.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10173716</commentid>
    <comment_count>6</comment_count>
    <who name="Tomas Tomecek">ttomecek</who>
    <bug_when>2017-02-22 03:59:05 -0500</bug_when>
    <thetext>well done!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10175368</commentid>
    <comment_count>7</comment_count>
    <who name="Gwyn Ciesla">limburgher</who>
    <bug_when>2017-02-22 11:55:42 -0500</bug_when>
    <thetext>Package request has been approved: https://admin.fedoraproject.org/pkgdb/package/docker/etcd</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
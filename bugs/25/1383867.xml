<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1383867</bug_id>
          
          <creation_ts>2016-10-11 22:29:00 -0400</creation_ts>
          <short_desc>SELinux is preventing pickup from &apos;read&apos; accesses on the lnk_file log.</short_desc>
          <delta_ts>2016-12-20 06:21:47 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>selinux-policy</component>
          <version>25</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>abrt_hash:371c6e2d024d44d3bb297fac0a7786af79fcd6d12ff13d153aef806bc54eaaa5;VARIANT_ID=workstation; https://fedoraproject.org/wiki/Common_F25_bugs#postfix-log-avc</status_whiteboard>
          <keywords>CommonBugs</keywords>
          <priority>high</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Wolfgang Rupprecht">wolfgang.rupprecht</reporter>
          <assigned_to name="Lukas Vrabec">lvrabec</assigned_to>
          <cc>alanh</cc>
    
    
    <cc>amessina</cc>
    
    
    <cc>awilliam</cc>
    
    
    <cc>brian</cc>
    
    
    <cc>buhrt</cc>
    
    
    <cc>cfergeau</cc>
    
    
    <cc>dominick.grift</cc>
    
    
    <cc>dwalsh</cc>
    
    
    <cc>error</cc>
    
    
    <cc>esm</cc>
    
    
    <cc>e.vanberkum</cc>
    
    
    <cc>evoke</cc>
    
    
    <cc>fedora2009</cc>
    
    
    <cc>fedora</cc>
    
    
    <cc>glandvador</cc>
    
    
    <cc>gustavo</cc>
    
    
    <cc>j.orti.alcaine</cc>
    
    
    <cc>lvrabec</cc>
    
    
    <cc>markito3</cc>
    
    
    <cc>mgrepl</cc>
    
    
    <cc>michel</cc>
    
    
    <cc>mjw</cc>
    
    
    <cc>mkardeh</cc>
    
    
    <cc>mrunge</cc>
    
    
    <cc>mtessun</cc>
    
    
    <cc>olysonek</cc>
    
    
    <cc>pfrields</cc>
    
    
    <cc>plautrba</cc>
    
    
    <cc>pmoore</cc>
    
    
    <cc>rjt</cc>
    
    
    <cc>rvdwees</cc>
    
    
    <cc>santiago</cc>
    
    
    <cc>viorel.tabara</cc>
    
    
    <cc>wagtail</cc>
    
    
    <cc>wolfgang.rupprecht</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>selinux-policy-3.13.1-225.1.fc25</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-12-08 13:22:47</cf_last_closed>
          <cf_type>---</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9783104</commentid>
    <comment_count>0</comment_count>
    <who name="Wolfgang Rupprecht">wolfgang.rupprecht</who>
    <bug_when>2016-10-11 22:29:45 -0400</bug_when>
    <thetext>Description of problem:
normal postfix startup
SELinux is preventing pickup from &apos;read&apos; accesses on the lnk_file log.

*****  Plugin catchall (100. confidence) suggests   **************************

If you believe that pickup should be allowed read access on the log lnk_file by default.
Then you should report this as a bug.
You can generate a local policy module to allow this access.
Do
allow this access for now by executing:
# ausearch -c &apos;pickup&apos; --raw | audit2allow -M my-pickup
# semodule -X 300 -i my-pickup.pp

Additional Information:
Source Context                system_u:system_r:postfix_pickup_t:s0
Target Context                system_u:object_r:tmpfs_t:s0
Target Objects                log [ lnk_file ]
Source                        pickup
Source Path                   pickup
Port                          &lt;Unknown&gt;
Host                          (removed)
Source RPM Packages           
Target RPM Packages           
Policy RPM                    selinux-policy-3.13.1-218.fc25.noarch
Selinux Enabled               True
Policy Type                   targeted
Enforcing Mode                Enforcing
Host Name                     (removed)
Platform                      Linux (removed) 4.8.1-1.fc25.x86_64 #1 SMP Fri Oct
                              7 14:38:22 UTC 2016 x86_64 x86_64
Alert Count                   1
First Seen                    2016-10-11 19:23:39 PDT
Last Seen                     2016-10-11 19:23:39 PDT
Local ID                      f7ce6433-511f-4b8b-b84e-b043daf18cc8

Raw Audit Messages
type=AVC msg=audit(1476239019.728:353): avc:  denied  { read } for  pid=12520 comm=&quot;pickup&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=24931 scontext=system_u:system_r:postfix_pickup_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0


Hash: pickup,postfix_pickup_t,tmpfs_t,lnk_file,read

Version-Release number of selected component:
selinux-policy-3.13.1-218.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.8.1-1.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9787712</commentid>
    <comment_count>1</comment_count>
    <who name="Miroslav Grepl">mgrepl</who>
    <bug_when>2016-10-13 05:01:31 -0400</bug_when>
    <thetext>Could you add your output of

# ls -dZ /run /run/log/

command?

Thank you.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9787752</commentid>
    <comment_count>2</comment_count>
    <who name="Wolfgang Rupprecht">wolfgang.rupprecht</who>
    <bug_when>2016-10-13 05:10:32 -0400</bug_when>
    <thetext>[root@tosca ~]# ls -dZ /run /run/log/
        system_u:object_r:var_run_t:s0 /run
system_u:object_r:syslogd_var_run_t:s0 /run/log/

This is a system that has been upgraded many times via dnf and whatever the previously approved online upgrade was called.   It is entirely possible some directory permissions were grandfathered from previous versions of fedora.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9854514</commentid>
    <comment_count>3</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-11-03 15:02:07 -0400</bug_when>
    <thetext>Description of problem:
This just happened in the background while I was using the system as usual.

Version-Release number of selected component:
selinux-policy-3.13.1-220.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.8.6-300.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9918838</commentid>
    <comment_count>4</comment_count>
    <who name="Ed">e.vanberkum</who>
    <bug_when>2016-11-24 03:21:41 -0500</bug_when>
    <thetext>Daemons or manual sending of mail via the Postfix MTA is causing this issue.

Having the issue since upgrading to Fedora 25.
I can reproduce this multiple times

SELinux is preventing pickup from read access on the lnk_file log.


*****  Plugin catchall (100. confidence) suggests   **************************

If you believe that pickup should be allowed read access on the log lnk_file by default.
Then you should report this as a bug.
You can generate a local policy module to allow this access.
Do
allow this access for now by executing:
# ausearch -c &apos;pickup&apos; --raw | audit2allow -M my-pickup
# semodule -X 300 -i my-pickup.pp

Additional Information:
Source Context                system_u:system_r:postfix_pickup_t:s0
Target Context                system_u:object_r:tmpfs_t:s0
Target Objects                log [ lnk_file ]
Source                        pickup
Source Path                   pickup
Port                          &lt;Unknown&gt;
Host                          ***********
Source RPM Packages           
Target RPM Packages           
Policy RPM                    selinux-policy-3.13.1-224.fc25.noarch
Selinux Enabled               True
Policy Type                   targeted
Enforcing Mode                Enforcing
Host Name                     **********
Platform                      Linux ********* 4.8.8-300.fc25.x86_64 #1
                              SMP Tue Nov 15 18:10:06 UTC 2016 x86_64 x86_64
Alert Count                   20
First Seen                    2016-11-23 08:31:29 CET
Last Seen                     2016-11-24 09:03:34 CET
Local ID                      1e404c6c-9298-4a2b-9061-d65ebe8a65d4

Raw Audit Messages
type=AVC msg=audit(1479974614.521:228): avc:  denied  { read } for  pid=1247 comm=&quot;pickup&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=23942 scontext=system_u:system_r:postfix_pickup_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0


Hash: pickup,postfix_pickup_t,tmpfs_t,lnk_file,read

ls -dZ /run /run/log/
system_u:object_r:var_run_t:s0 /run
system_u:object_r:syslogd_var_run_t:s0 /run/log/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9918889</commentid>
    <comment_count>5</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-11-24 03:29:30 -0500</bug_when>
    <thetext>I think this may affect many people running postfix on F25, so marking as CommonBugs. Could we get a fix, Lukas? Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9921143</commentid>
    <comment_count>6</comment_count>
    <who name="Lukas Vrabec">lvrabec</who>
    <bug_when>2016-11-24 07:01:47 -0500</bug_when>
    <thetext>Yes, we can fix it.
But I need to know reproducer and path &quot;log&quot; lnk_file.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9921465</commentid>
    <comment_count>7</comment_count>
    <who name="Ed">e.vanberkum</who>
    <bug_when>2016-11-24 07:16:59 -0500</bug_when>
    <thetext>Is there something I could do to help on this? If so how?

Happy to help.

I did a strace on a mail command which generates this SELinux notification, but I don&apos;t see anything leading to lnk_file.

Except this part.
socket(AF_UNIX, SOCK_DGRAM|SOCK_CLOEXEC, 0) = 8
connect(8, {sa_family=AF_UNIX, sun_path=&quot;/dev/log&quot;}, 110) = -1 EACCES (Permission denied)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9921495</commentid>
    <comment_count>8</comment_count>
    <who name="Lukas Vrabec">lvrabec</who>
    <bug_when>2016-11-24 07:18:48 -0500</bug_when>
    <thetext>Ed, 
Please run:
# ls -Z /dev/log 

THanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9921510</commentid>
    <comment_count>9</comment_count>
    <who name="Ed">e.vanberkum</who>
    <bug_when>2016-11-24 07:19:53 -0500</bug_when>
    <thetext>system_u:object_r:devlog_t:s0 /dev/log</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9922078</commentid>
    <comment_count>10</comment_count>
    <who name="Lukas Vrabec">lvrabec</who>
    <bug_when>2016-11-24 07:48:49 -0500</bug_when>
    <thetext>Do we have ani reproducer?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9922153</commentid>
    <comment_count>11</comment_count>
    <who name="Ronald Verbeek">bugzilla</who>
    <bug_when>2016-11-24 07:53:49 -0500</bug_when>
    <thetext>Description of problem:
sealert appeared after upgrading fedora 24 to 25


Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.8.8-300.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9922230</commentid>
    <comment_count>12</comment_count>
    <who name="Ronald Verbeek">bugzilla</who>
    <bug_when>2016-11-24 07:58:16 -0500</bug_when>
    <thetext>I have the same ls -Z output.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9922572</commentid>
    <comment_count>13</comment_count>
    <who name="Ed">e.vanberkum</who>
    <bug_when>2016-11-24 08:18:17 -0500</bug_when>
    <thetext>(In reply to Ronald Verbeek from comment #11)
&gt; Description of problem:
&gt; sealert appeared after upgrading fedora 24 to 25
&gt; 
&gt; 
&gt; Additional info:
&gt; reporter:       libreport-2.8.0
&gt; hashmarkername: setroubleshoot
&gt; kernel:         4.8.8-300.fc25.x86_64
&gt; type:           libreport

Lukas, I can reproduce it with any application able to send mail trough local postfix.

Saw it yesterday after upgrade F24 to F25 thought it&apos;s an accident after upgrade, but noticed this morning again, notification created overnight caused by Logwatch.

reproducible on CLI: echo &quot;Test&quot; | mail -s &quot;Test&quot; a@b.com</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9926334</commentid>
    <comment_count>14</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-11-24 15:45:32 -0500</bug_when>
    <thetext>*** Bug 1380883 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9926336</commentid>
    <comment_count>15</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-11-24 15:46:15 -0500</bug_when>
    <thetext>*** Bug 1383905 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9926338</commentid>
    <comment_count>16</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-11-24 15:46:26 -0500</bug_when>
    <thetext>*** Bug 1378121 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9926349</commentid>
    <comment_count>17</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-11-24 15:50:47 -0500</bug_when>
    <thetext>I get a ton of these just from booting up and running my mail server box:

[root@mail /]# journalctl -b | grep AVC | head -25
Nov 24 12:35:46 mail.happyassassin.net audit[641]: AVC avc:  denied  { read } for  pid=641 comm=&quot;newaliases&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=15106 scontext=system_u:system_r:sendmail_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[641]: AVC avc:  denied  { read } for  pid=641 comm=&quot;newaliases&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=15106 scontext=system_u:system_r:sendmail_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[641]: AVC avc:  denied  { read } for  pid=641 comm=&quot;postalias&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=15106 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[641]: AVC avc:  denied  { read } for  pid=641 comm=&quot;postalias&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=15106 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[647]: AVC avc:  denied  { read } for  pid=647 comm=&quot;postfix&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[647]: AVC avc:  denied  { read } for  pid=647 comm=&quot;postfix&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[647]: AVC avc:  denied  { read } for  pid=647 comm=&quot;postfix&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[647]: AVC avc:  denied  { read } for  pid=647 comm=&quot;postfix&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[653]: AVC avc:  denied  { read } for  pid=653 comm=&quot;master&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[687]: AVC avc:  denied  { read } for  pid=687 comm=&quot;postsuper&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[687]: AVC avc:  denied  { read } for  pid=687 comm=&quot;postsuper&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[712]: AVC avc:  denied  { read } for  pid=712 comm=&quot;postlog&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[712]: AVC avc:  denied  { read } for  pid=712 comm=&quot;postlog&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[712]: AVC avc:  denied  { read } for  pid=712 comm=&quot;postlog&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[713]: AVC avc:  denied  { read } for  pid=713 comm=&quot;master&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[714]: AVC avc:  denied  { read } for  pid=714 comm=&quot;master&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[717]: AVC avc:  denied  { read } for  pid=717 comm=&quot;qmgr&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_qmgr_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:46 mail.happyassassin.net audit[716]: AVC avc:  denied  { read } for  pid=716 comm=&quot;pickup&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_pickup_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:47 mail.happyassassin.net audit[463]: AVC avc:  denied  { write } for  pid=463 comm=&quot;spamd&quot; name=&quot;/&quot; dev=&quot;vda3&quot; ino=2 scontext=system_u:system_r:spamd_t:s0 tcontext=system_u:object_r:root_t:s0 tclass=dir permissive=0
Nov 24 12:35:53 mail.happyassassin.net audit[755]: AVC avc:  denied  { read } for  pid=755 comm=&quot;smtpd&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_smtpd_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:53 mail.happyassassin.net audit[756]: AVC avc:  denied  { read } for  pid=756 comm=&quot;proxymap&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:53 mail.happyassassin.net audit[757]: AVC avc:  denied  { read } for  pid=757 comm=&quot;tlsmgr&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:53 mail.happyassassin.net audit[755]: AVC avc:  denied  { read } for  pid=755 comm=&quot;smtpd&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_smtpd_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:53 mail.happyassassin.net audit[758]: AVC avc:  denied  { read } for  pid=758 comm=&quot;anvil&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Nov 24 12:35:53 mail.happyassassin.net audit[755]: AVC avc:  denied  { read } for  pid=755 comm=&quot;smtpd&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=17721 scontext=system_u:system_r:postfix_smtpd_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0

and they continue:

[root@mail /]# journalctl -b | grep AVC | wc -l
222

(a few seconds later)

[root@mail /]# journalctl -b | grep AVC | wc -l
234

/run/initramfs/log is called &apos;log&apos; and is tmpfs_t , but I&apos;m not sure why it&apos;d need to touch that.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9930432</commentid>
    <comment_count>18</comment_count>
    <who name="Martin Tessun">mtessun</who>
    <bug_when>2016-11-25 11:27:51 -0500</bug_when>
    <thetext>Description of problem:
After Upgrading to fed25 postfix seems to have some selinux issues in accessing its logfiles. This one is just representative for one postfix process, but postfix, qmgr, local, etc. have the very same selinux alert.

Version-Release number of selected component:
selinux-policy-3.13.1-224.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.8.8-300.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9931483</commentid>
    <comment_count>19</comment_count>
    <who name="Alan Hamilton">alanh</who>
    <bug_when>2016-11-26 17:36:21 -0500</bug_when>
    <thetext>Yes, it&apos;s definitely /dev/log. Something&apos;s happened to the policy for the Postfix modules. Running the modules from the command line doesn&apos;t catch it since they&apos;re running unconfined rather than in the Postfix contexts.

I caught this using strace on the &quot;local&quot; Postfix process:

2640  connect(6, {sa_family=AF_UNIX, sun_path=&quot;/dev/log&quot;}, 110) = -1 EACCES (Per
mission denied)

And got a corresponding avc:

SELinux is preventing local from read access on the lnk_file log.

*****  Plugin catchall (100. confidence) suggests   **************************

If you believe that local should be allowed read access on the log lnk_file by default.
Then you should report this as a bug.
You can generate a local policy module to allow this access.
Do
allow this access for now by executing:
# ausearch -c &apos;local&apos; --raw | audit2allow -M my-local
# semodule -X 300 -i my-local.pp


Additional Information:
Source Context                system_u:system_r:postfix_local_t:s0
Target Context                system_u:object_r:tmpfs_t:s0
Target Objects                log [ lnk_file ]
Source                        local
Source Path                   local
Port                          &lt;Unknown&gt;
Host                          ---.com
Source RPM Packages           
Target RPM Packages           
Policy RPM                    selinux-policy-3.13.1-224.fc25.noarch
Selinux Enabled               True
Policy Type                   targeted
Enforcing Mode                Enforcing
Host Name                     ---.com
Platform                      Linux ---.com
                              4.8.8-300.fc25.x86_64 #1 SMP Tue Nov 15 18:10:06
                              UTC 2016 x86_64 x86_64
Alert Count                   5
First Seen                    2016-11-26 14:46:52 MST
Last Seen                     2016-11-26 15:07:01 MST
Local ID                      1c4b1eb5-6151-4db2-b4a2-3f331ea26126

Raw Audit Messages
type=AVC msg=audit(1480198021.599:386): avc:  denied  { read } for  pid=2586 comm=&quot;local&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=76925 scontext=system_u:system_r:postfix_local_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0


Hash: local,postfix_local_t,tmpfs_t,lnk_file,read</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9931984</commentid>
    <comment_count>20</comment_count>
    <who name="Anthony Messina">amessina</who>
    <bug_when>2016-11-27 06:26:54 -0500</bug_when>
    <thetext>(In reply to Lukas Vrabec from comment #8)
&gt; Ed, 
&gt; Please run:
&gt; # ls -Z /dev/log 
&gt; 
&gt; THanks.

~]# ls -lZ /dev/log
lrwxrwxrwx. 1 root root system_u:object_r:devlog_t:s0 28 Nov 26 09:40 /dev/log -&gt; /run/systemd/journal/dev-log</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9932376</commentid>
    <comment_count>21</comment_count>
    <who name="Georg Sauthoff">fedora</who>
    <bug_when>2016-11-27 13:01:41 -0500</bug_when>
    <thetext>I can confirm this issue on freshly installed Fedora 25 system (no upgrade).

Steps to reproduce:

1. install Fedora from scratch
2. install postfix
3. setup basic config
4. systemctl start postfix.service

Actual results: audit log fill up with read denied AVC messages.

Expected results: no AVC messages

The used main.cf works on Fedora 23 system without any issues.

The AVCs are for multiple processes, i.e. newaliases/postalias/postfix/master/postsuper/postlog/pickup/pmgr.

2 different inodes are reported.

Shared attributes are: name=log dev=tmpfs tclass=lnk_file</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9932400</commentid>
    <comment_count>22</comment_count>
    <who name="Georg Sauthoff">fedora</who>
    <bug_when>2016-11-27 13:25:48 -0500</bug_when>
    <thetext>PS: The `systemctl start postfix.service` doesn&apos;t fail, though.

And on `systemctl stop postfix.service` similar read denied (name=log) AVCs are generated.

When stracing the postfix master process during shutdown this happens:

socket(AF_UNIX, SOCK_DGRAM|SOCK_CLOEXEC, 0) = 20
connect(20, {sa_family=AF_UNIX, sun_path=&quot;/dev/log&quot;}, 110) = -1 EACCES (Permission denied)
close(20)

In contrast, in permissive mode (i.e. `setenforce 0`) strace logs:

sendto(3, &quot;&lt;22&gt;Nov 27 19:13:38 postfix/mast&quot;..., 67, MSG_NOSIGNAL, NULL, 0) = 67

And indeed, in permissive mode some postfix messages make it to the journal during start/stop - unlike enforcing mode, where no postfix messages show up.

~ # ls -Zl /dev/log 
lrwxrwxrwx. 1 root root system_u:object_r:devlog_t:s0 28 2016-11-27 00:00 /dev/log -&gt; /run/systemd/journal/dev-log
~ # ls -Zl /run/systemd/journal/dev-log
srw-rw-rw-. 1 root root system_u:object_r:devlog_t:s0 0 2016-11-27 00:00 /run/systemd/journal/dev-log</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9932675</commentid>
    <comment_count>23</comment_count>
    <who name="Jeff Buhrt">buhrt</who>
    <bug_when>2016-11-27 19:17:55 -0500</bug_when>
    <thetext>Description of problem:
Updated from F24 to F25 and this is the security error I get even after remarking all objects on a reboot.

Version-Release number of selected component:
selinux-policy-3.13.1-224.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.8.8-300.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9934089</commentid>
    <comment_count>24</comment_count>
    <who name="Mark Wielaard">mjw</who>
    <bug_when>2016-11-28 05:54:43 -0500</bug_when>
    <thetext>bug #1398007, bug #1395018, bug #1386929 and bug #1386928 are probably all duplicates of this one (or this one is a duplicate of any of those bugs).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9936854</commentid>
    <comment_count>25</comment_count>
    <who name="Lukas Vrabec">lvrabec</who>
    <bug_when>2016-11-28 20:23:21 -0500</bug_when>
    <thetext>I cannot find any link file labeled as tmpfs_t. 
But, postfix looks fine do you see any issues in enforcing mode? I can always dontaudit it. 

olysonek, 
Do you know, what is happening here? 
Postfix tries read &quot;log&quot; lnk_file.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9936887</commentid>
    <comment_count>26</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-11-28 20:38:04 -0500</bug_when>
    <thetext>lvrabec: uh, Georg seems to have nailed things down quite precisely in #c22, and even pointed out the concrete consequence of the problem: &quot;And indeed, in permissive mode some postfix messages make it to the journal during start/stop - unlike enforcing mode, where no postfix messages show up.&quot;</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9936897</commentid>
    <comment_count>27</comment_count>
    <who name="Anthony Messina">amessina</who>
    <bug_when>2016-11-28 20:42:30 -0500</bug_when>
    <thetext>Nevermind comment #20 ;)  Lukas, isn&apos;t it that /dev/log is symlinked to /run/systemd/journal/dev-log (which is on tmpfs)?  

~]# ls -lZ /dev/log
lrwxrwxrwx. 1 root root system_u:object_r:devlog_t:s0 28 Nov 26 09:40 /dev/log -&gt; /run/systemd/journal/dev-log</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9938827</commentid>
    <comment_count>28</comment_count>
    <who name="Lukas Vrabec">lvrabec</who>
    <bug_when>2016-11-29 07:32:49 -0500</bug_when>
    <thetext>Okay we have fix for this issue. 

postfix service file creating own mount-namespace. This means that, /dev is labeled as tmpfs_t in namespace. Adding following transition:

type_transition init_t tmpfs_t : lnk_file devlog_t &quot;log&quot;; 

Fixes the issue. 

Moving to POST state, update will be available ASAP.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9938856</commentid>
    <comment_count>29</comment_count>
    <who name="Lukas Vrabec">lvrabec</who>
    <bug_when>2016-11-29 07:41:56 -0500</bug_when>
    <thetext>*** Bug 1395018 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9938858</commentid>
    <comment_count>30</comment_count>
    <who name="Lukas Vrabec">lvrabec</who>
    <bug_when>2016-11-29 07:42:02 -0500</bug_when>
    <thetext>*** Bug 1386929 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9938862</commentid>
    <comment_count>31</comment_count>
    <who name="Lukas Vrabec">lvrabec</who>
    <bug_when>2016-11-29 07:42:06 -0500</bug_when>
    <thetext>*** Bug 1386928 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9939889</commentid>
    <comment_count>32</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-29 12:03:53 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-225.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2016-9d027c3768</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9941536</commentid>
    <comment_count>33</comment_count>
    <who name="Brian J. Murrell">brian</who>
    <bug_when>2016-11-30 01:22:54 -0500</bug_when>
    <thetext>Description of problem:
Not really sure what caused this.

Version-Release number of selected component:
selinux-policy-3.13.1-224.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.8.8-300.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9943274</commentid>
    <comment_count>34</comment_count>
    <who name="Colin J Thomson">colin.thomson</who>
    <bug_when>2016-11-30 09:30:19 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-225.fc25 fixes the postfix warnings I was seeing.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9947871</commentid>
    <comment_count>35</comment_count>
    <who name="W Agtail">wagtail</who>
    <bug_when>2016-12-01 10:25:12 -0500</bug_when>
    <thetext>Description of problem:
systemctl start postfix produces several SELinux alerts:


Dec  1 15:21:05 eagle systemd: Starting Postfix Mail Transport Agent...
Dec  1 15:21:05 eagle audit: AVC avc:  denied  { read } for  pid=7173 comm=&quot;postfix&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=234068 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Dec  1 15:21:05 eagle audit: AVC avc:  denied  { read } for  pid=7179 comm=&quot;master&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=234068 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Dec  1 15:21:05 eagle audit: AVC avc:  denied  { read } for  pid=7213 comm=&quot;postsuper&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=234068 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Dec  1 15:21:05 eagle audit: AVC avc:  denied  { read } for  pid=7213 comm=&quot;postsuper&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=234068 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Dec  1 15:21:06 eagle audit: AVC avc:  denied  { read } for  pid=7238 comm=&quot;postlog&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=234068 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Dec  1 15:21:06 eagle audit: AVC avc:  denied  { read } for  pid=7238 comm=&quot;postlog&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=234068 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Dec  1 15:21:06 eagle audit: AVC avc:  denied  { read } for  pid=7238 comm=&quot;postlog&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=234068 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Dec  1 15:21:06 eagle audit: AVC avc:  denied  { read } for  pid=7239 comm=&quot;master&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=234068 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Dec  1 15:21:06 eagle audit: AVC avc:  denied  { read } for  pid=7240 comm=&quot;master&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=234068 scontext=system_u:system_r:postfix_master_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0
Dec  1 15:21:06 eagle systemd: Started Postfix Mail Transport Agent.


Version-Release number of selected component:
selinux-policy-3.13.1-224.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.8.10-300.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9947896</commentid>
    <comment_count>36</comment_count>
    <who name="Viorel Tabara">viorel.tabara</who>
    <bug_when>2016-12-01 10:32:43 -0500</bug_when>
    <thetext>(In reply to W Agtail from comment #35)
&gt; Description of problem:
&gt; systemctl start postfix produces several SELinux alerts:
&gt; 
[...]
&gt; 
&gt; Version-Release number of selected component:
&gt; selinux-policy-3.13.1-224.fc25.noarch

You should upgrade to latest in testing. See above comments.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9950950</commentid>
    <comment_count>37</comment_count>
    <who name="Brian J. Murrell">brian</who>
    <bug_when>2016-12-02 06:57:59 -0500</bug_when>
    <thetext>(In reply to Viorel Tabara from comment #36)
&gt; (In reply to W Agtail from comment #35)
&gt; &gt; Description of problem:
&gt; &gt; systemctl start postfix produces several SELinux alerts:
&gt; &gt; 
&gt; [...]
&gt; &gt; 
&gt; &gt; Version-Release number of selected component:
&gt; &gt; selinux-policy-3.13.1-224.fc25.noarch
&gt; 
&gt; You should upgrade to latest in testing. See above comments.

I don&apos;t see this in testing, even as of right now.

https://muug.ca/mirror/fedora/linux/updates/testing/25/x86_64/s/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9951713</commentid>
    <comment_count>38</comment_count>
    <who name="Viorel Tabara">viorel.tabara</who>
    <bug_when>2016-12-02 10:47:14 -0500</bug_when>
    <thetext>(In reply to Brian J. Murrell from comment #37)
&gt; I don&apos;t see this in testing, even as of right now.

All mirrors will get updated, eventually. Follow the Bodhi link in c#32 and 
download RPMs manually from Koji:

   omiday ~ $ koji search rpm &quot;selinux*225.fc25*&quot;
   selinux-policy-3.13.1-225.fc25.src.rpm
   selinux-policy-3.13.1-225.fc25.noarch.rpm
   selinux-policy-devel-3.13.1-225.fc25.noarch.rpm
   selinux-policy-doc-3.13.1-225.fc25.noarch.rpm
   selinux-policy-minimum-3.13.1-225.fc25.noarch.rpm
   selinux-policy-mls-3.13.1-225.fc25.noarch.rpm
   selinux-policy-sandbox-3.13.1-225.fc25.noarch.rpm
   selinux-policy-targeted-3.13.1-225.fc25.noarch.rpm</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9952860</commentid>
    <comment_count>39</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-02 23:31:28 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-225.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-9d027c3768</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9953788</commentid>
    <comment_count>40</comment_count>
    <who name="Michael Hampton">error</who>
    <bug_when>2016-12-03 19:14:42 -0500</bug_when>
    <thetext>Description of problem:
Upgraded from F24 to F25

Version-Release number of selected component:
selinux-policy-3.13.1-224.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.8.10-300.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9957008</commentid>
    <comment_count>41</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-05 12:02:23 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-225.1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2016-e3864b8972</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9958124</commentid>
    <comment_count>42</comment_count>
    <who name="Mark Ito">markito3</who>
    <bug_when>2016-12-05 19:40:49 -0500</bug_when>
    <thetext>Description of problem:
Started postfix. 

 sudo systemctl start postfix

Version-Release number of selected component:
selinux-policy-3.13.1-224.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.8.10-300.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9961248</commentid>
    <comment_count>43</comment_count>
    <who name="Michel van der List">michel</who>
    <bug_when>2016-12-06 12:00:53 -0500</bug_when>
    <thetext>Description of problem:
Looks like a policy for some postfix functionality is missing in F25.

Version-Release number of selected component:
selinux-policy-3.13.1-224.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.8.10-300.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9962624</commentid>
    <comment_count>44</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-06 21:25:38 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-225.1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-e3864b8972</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9964042</commentid>
    <comment_count>45</comment_count>
    <who name="Ed">e.vanberkum</who>
    <bug_when>2016-12-07 05:47:26 -0500</bug_when>
    <thetext>I can confirm the bug has been fixed in selinux-policy-3.13.1-225.1.fc25 and I do have proper output in my journalctl for postfix again!

I have downloaded the files with koji-util ( package ) since it wasn&apos;t on the mirrors for me yet.

And did a local dnf update of my selinux-policy-3.13.1-225.1.fc25 and selinux-policy-targeted.3.13.1-225.1.fc25 rpm&apos;s

( I have to note, on my first try I had some problems, and my system wasn&apos;t able to boot properly after updating these packages! ( it hang on the targeted policies during ), I disabled selinux in /etc/selinux/config, rebooted again, booted up fine, did a rollback to the older packages, set it to Enforcing selinux again, rebooted ( causing a relabel since I set it to Enforcing ) updated the same packages again, rebooted and all was fine! ).
Can&apos;t reproduce this again since my second try was fine.... the package fixes the problem.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9965345</commentid>
    <comment_count>46</comment_count>
    <who name="Michael Hampton">error</who>
    <bug_when>2016-12-07 11:40:41 -0500</bug_when>
    <thetext>+1 it fixes the problem.

Ed, please remember to leave feedback and karma in bodhi as described in comment 44. That&apos;s where it really counts, as that&apos;s used to actually decide whether to push the update.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9969145</commentid>
    <comment_count>47</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-08 13:22:47 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-225.1.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9971380</commentid>
    <comment_count>48</comment_count>
    <who name="Brian J. Murrell">brian</who>
    <bug_when>2016-12-09 07:30:41 -0500</bug_when>
    <thetext>SELinux is preventing pickup from read access on the lnk_file log.

*****  Plugin catchall (100. confidence) suggests   **************************

If you believe that pickup should be allowed read access on the log lnk_file by default.
Then you should report this as a bug.
You can generate a local policy module to allow this access.
Do
allow this access for now by executing:
# ausearch -c &apos;pickup&apos; --raw | audit2allow -M my-pickup
# semodule -X 300 -i my-pickup.pp


Additional Information:
Source Context                system_u:system_r:postfix_pickup_t:s0
Target Context                system_u:object_r:tmpfs_t:s0
Target Objects                log [ lnk_file ]
Source                        pickup
Source Path                   pickup
Port                          &lt;Unknown&gt;
Host                          pc.interlinx.bc.ca
Source RPM Packages           
Target RPM Packages           
Policy RPM                    selinux-policy-3.13.1-225.fc25.noarch
Selinux Enabled               True
Policy Type                   targeted
Enforcing Mode                Enforcing
Host Name                     pc.interlinx.bc.ca
Platform                      Linux pc.interlinx.bc.ca 4.8.8-300.fc25.x86_64 #1
                              SMP Tue Nov 15 18:10:06 UTC 2016 x86_64 x86_64
Alert Count                   217
First Seen                    2016-11-30 14:33:04 EST
Last Seen                     2016-12-09 07:11:23 EST
Local ID                      c06a8cc0-0b20-466b-9283-54a7043946de

Raw Audit Messages
type=AVC msg=audit(1481285483.653:10495): avc:  denied  { read } for  pid=6778 comm=&quot;pickup&quot; name=&quot;log&quot; dev=&quot;tmpfs&quot; ino=27301 scontext=system_u:system_r:postfix_pickup_t:s0 tcontext=system_u:object_r:tmpfs_t:s0 tclass=lnk_file permissive=0


Hash: pickup,postfix_pickup_t,tmpfs_t,lnk_file,read

Notice the selinux-policy version above.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10001693</commentid>
    <comment_count>49</comment_count>
    <who name="Mota Kardeh">mkardeh</who>
    <bug_when>2016-12-20 06:21:47 -0500</bug_when>
    <thetext>*** Bug 1406352 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
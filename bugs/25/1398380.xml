<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1398380</bug_id>
          
          <creation_ts>2016-11-24 10:46:00 -0500</creation_ts>
          <short_desc>Claws Mail after Fedora 25 upgrade non-functional</short_desc>
          <delta_ts>2016-11-30 19:45:46 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>claws-mail</component>
          <version>25</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter>edwardp</reporter>
          <assigned_to name="Andreas Bierfert">andreas.bierfert</assigned_to>
          <cc>andreas.bierfert</cc>
    
    
    <cc>bugs.michael</cc>
    
    
    <cc>dgibson</cc>
    
    
    <cc>edwardp</cc>
    
    
    <cc>kupo</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-11-25 05:36:33</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9925195</commentid>
    <comment_count>0</comment_count>
    <who name="">edwardp</who>
    <bug_when>2016-11-24 10:46:04 -0500</bug_when>
    <thetext>Description of problem:

After Claws Mail was upgraded during an upgrade from Fedora 24 to 25, it was discovered that all of the saved e-mail accounts were changed from IMAP to POP3 and this designation cannot be changed back. 

During the upgrade process, dnf indicated Claws Mail and a few of its related plugins were being &quot;downgraded&quot;, the installed version remains at 3.13.2-1, yet will not install 3.14.

A bug report on this problem was filed at http://www.thewildbeast.co.uk/claws-mail/bugzilla/show_bug.cgi?id=3733

However, the suggested remedy in that report (amongst other comments) to change protocol=0 to protocol=1 in the accountrc file, did not fix this problem and Claws Mail remains unusable.

Version-Release number of selected component (if applicable):

3.13.2-1

How reproducible:

See above.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9925376</commentid>
    <comment_count>1</comment_count>
    <who name="">edwardp</who>
    <bug_when>2016-11-24 10:56:48 -0500</bug_when>
    <thetext>This also resulted in the account passwords being deleted for every account.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9929335</commentid>
    <comment_count>2</comment_count>
    <who name="Michael Schwendt">bugs.michael</who>
    <bug_when>2016-11-25 05:36:33 -0500</bug_when>
    <thetext>&gt; During the upgrade process, dnf indicated Claws Mail and a few of its
&gt; related plugins were being &quot;downgraded&quot;,

Bad luck. 

Downgrades like that can break the installation in unknown ways, since forced downgrades of packages are untested. Upgrading an up-to-date installation with the very latest distribution release so shortly after its release has always been a risk due to downgrading installed packages as a result of missing zero day updates.

The newer Claws Mail for F25 had been in updates-testing already,
  https://bodhi.fedoraproject.org/updates/FEDORA-2016-70d5230795
but the F24 package has been automatically pushed to stable after reaching the tester feedback karma threshold.

Meanwhile, the F25 update is on its way into the stable updates repo, so either wait until it appears there, or get it while it&apos;s still in updates-testing:

  dnf --enablerepo=updates-testing update claws\*

As long as the Fedora Updates System is unable to ensure that older releases of the distribution cannot get ahead of the very latest release of the distribution, pushing updates to multiple distribution releases would need to be a manual task for the maintainers.

There is nothing that can be done about it anymore. Except that shortly before the release of the latest distribution (with all its freeze stages and update release hurdles), package maintainers must be more careful and avoid relying on the karma system in the Fedora Updates System for pushing updates to multiple dists.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9929386</commentid>
    <comment_count>3</comment_count>
    <who name="Michael Schwendt">bugs.michael</who>
    <bug_when>2016-11-25 05:52:20 -0500</bug_when>
    <thetext>*** Bug 1398482 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9936820</commentid>
    <comment_count>4</comment_count>
    <who name="David Gibson">dgibson</who>
    <bug_when>2016-11-28 20:02:37 -0500</bug_when>
    <thetext>Looks like I&apos;ve now updated to claws-mail-3.14.0-1.fc25.x86_64.  I&apos;m not sure if it was that, but for whatever reason, claws got the type of the mailbox wrong *again*.

Screwing this up on upgrade is much less forgivable that screwing it up on downgrade.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9938992</commentid>
    <comment_count>5</comment_count>
    <who name="Michael Schwendt">bugs.michael</who>
    <bug_when>2016-11-29 08:22:19 -0500</bug_when>
    <thetext>And?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9940942</commentid>
    <comment_count>6</comment_count>
    <who name="David Gibson">dgibson</who>
    <bug_when>2016-11-29 19:13:50 -0500</bug_when>
    <thetext>..and some acknowledgement that there&apos;s a real bug here, causing real frustration would be nice.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9942477</commentid>
    <comment_count>7</comment_count>
    <who name="Michael Schwendt">bugs.michael</who>
    <bug_when>2016-11-30 06:36:35 -0500</bug_when>
    <thetext>Real frustration? Don&apos;t turn this into your pet peeve bug, please.

Blame the Fedora release process for not avoiding the package downgrade and for not even warning package maintainers about an update that&apos;s been stuck in updates-testing instead of becoming a zero-day update. What has happened to the upgrade path violations checker?

The downgrade is completely untested and unsupported. It should not have happened.

As whether downgrading, breaking the config and then upgrading again causes more side-effects, I don&apos;t know. The update needed to get out. It would have worked fine without doing any downgrade.

Btw, 3.14.1 is in updates-testing meanwhile, too.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9945355</commentid>
    <comment_count>8</comment_count>
    <who name="David Gibson">dgibson</who>
    <bug_when>2016-11-30 19:45:46 -0500</bug_when>
    <thetext>Ok, fair enough.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
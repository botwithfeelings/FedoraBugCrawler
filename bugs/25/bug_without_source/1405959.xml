<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1" urlbase="https://bugzilla.redhat.com/" maintainer="bugzilla-error-list@redhat.com">

  <bug>
    <bug_id>1405959</bug_id>

    <creation_ts>2016-12-19 05:04:00 -0500</creation_ts>
    <short_desc>With FUTURE system crypto policy, connections to github, getfedora.org fail</short_desc>
    <delta_ts>2017-01-10 08:21:28 -0500</delta_ts>
    <reporter_accessible>1</reporter_accessible>
    <cclist_accessible>1</cclist_accessible>
    <classification_id>2</classification_id>
    <classification>Fedora</classification>
    <product>Fedora</product>
    <component>gnutls</component>
    <version>25</version>
    <rep_platform>Unspecified</rep_platform>
    <op_sys>Unspecified</op_sys>
    <bug_status>CLOSED</bug_status>
    <resolution>ERRATA</resolution>

    <bug_file_loc></bug_file_loc>
    <status_whiteboard></status_whiteboard>
    <keywords></keywords>
    <priority>unspecified</priority>
    <bug_severity>unspecified</bug_severity>
    <target_milestone>---</target_milestone>

    <blocked>1179209</blocked>
    <everconfirmed>1</everconfirmed>
    <reporter name="Tomasz Torcz">tomek</reporter>
    <assigned_to name="Nikos Mavrogiannopoulos">nmavrogi</assigned_to>
    <cc>nmavrogi</cc>

    <cc>riehecky</cc>

    <cc>tmraz</cc>
    <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>

    <cf_fixed_in>gnutls-3.5.8-1.fc25</cf_fixed_in>
  <cf_doc_type>If docs needed, set a value</cf_doc_type>
<cf_release_notes></cf_release_notes>
<cf_story_points>---</cf_story_points>

<cf_environment></cf_environment>
<cf_last_closed>2017-01-10 08:21:28</cf_last_closed>
<cf_type>Bug</cf_type>
<cf_regression_status>---</cf_regression_status>
<cf_mount_type>---</cf_mount_type>
<cf_documentation_action>---</cf_documentation_action>
<cf_crm></cf_crm>
<cf_verified_branch></cf_verified_branch>
<cf_category>---</cf_category>
<cf_ovirt_team>---</cf_ovirt_team>

<cf_cloudforms_team>---</cf_cloudforms_team>
<external_bugs name="Red Hat Bugzilla">1405956</external_bugs>

<target_release>---</target_release>

<votes>0</votes>

<comment_sort_order>oldest_to_newest</comment_sort_order>
<long_desc isprivate="0">
<commentid>9997681</commentid>
<comment_count>0</comment_count>
<who name="Tomasz Torcz">tomek</who>
<bug_when>2016-12-19 05:04:48 -0500</bug_when>
<thetext>Description of problem: As per https://lists.fedoraproject.org/archives/list/devel@lists.fedoraproject.org/thread/VP6URPLIMH5XARDTBBJKBOUVNIS5OLCH/ thread, when system crypto-policy is set to FUTURE, wget fails to connect to github and
fedoraproject.org: $ update-crypto-policies --set FUTURE Setting system policy to FUTURE $ wget github.org --2016-12-19 11:00:22-- http://github.org/ Resolving github.org (github.org)... 188.166.203.69 Connecting to github.org
(github.org)|188.166.203.69|:80... connected. HTTP request sent, awaiting response... 301 Moved Permanently Location: https://github.com [following] --2016-12-19 11:00:22-- https://github.com/ Resolving github.com (github.com)... 192.30.253.112,
192.30.253.113 Connecting to github.com (github.com)|192.30.253.112|:443... connected. ERROR: The certificate of &apos;github.com&apos; is not trusted. ERROR: The certificate of &apos;github.com&apos; was signed using an insecure algorithm. $ wget
https://fedoraproject.org --2016-12-19 11:00:32-- https://fedoraproject.org/ Resolving fedoraproject.org (fedoraproject.org)... 2604:1580:fe00:0:dead:beef:cafe:fed1, 2605:bc80:3010:600:dead:beef:cafe:fed9, 2610:28:3090:3001:dead:beef:cafe:fed3, ...
Connecting to fedoraproject.org (fedoraproject.org)|2604:1580:fe00:0:dead:beef:cafe:fed1|:443... connected. ERROR: The certificate of &apos;fedoraproject.org&apos; is not trusted. ERROR: The certificate of &apos;fedoraproject.org&apos; was signed
using an insecure algorithm. Version-Release number of selected component (if applicable): crypto-policies-20160921-2.git75b9b04.fc25.noarch wget-1.18-2.fc25.x86_64 gnutls-3.5.7-3.fc25.x86_64 How reproducible: Always Steps to Reproduce: 1.
update-crypto-policies --set FUTURE 2. wget github.org 3. Actual results: See above. Expected results: Secure connection should be established. Additional info:</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9997725</commentid>
<comment_count>1</comment_count>
<who name="Nikos Mavrogiannopoulos">nmavrogi</who>
<bug_when>2016-12-19 05:24:53 -0500</bug_when>
<thetext>Although the underlying issue is the fact that wget overwrites the system policies with its own which are more lax, the functionality issue (connection problem #1405956) can be fixed in gnutls [0]. I will include it to the next rebase of the
component. [0]. https://gitlab.com/gnutls/gnutls/merge_requests/195</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10045353</commentid>
<comment_count>2</comment_count>
<who name="Fedora Update System">updates</who>
<bug_when>2017-01-09 08:48:59 -0500</bug_when>
<thetext>gnutls-3.5.8-1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-88f1664dd4</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10047710</commentid>
<comment_count>3</comment_count>
<who name="Fedora Update System">updates</who>
<bug_when>2017-01-09 22:27:49 -0500</bug_when>
<thetext>gnutls-3.5.8-1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report. See https://fedoraproject.org/wiki/QA:Updates_Testing for instructions on how to install test
updates. You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-88f1664dd4</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10049202</commentid>
<comment_count>4</comment_count>
<who name="Fedora Update System">updates</who>
<bug_when>2017-01-10 08:21:28 -0500</bug_when>
<thetext>gnutls-3.5.8-1.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
</long_desc>

</bug>

</bugzilla>

<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1427174</bug_id>
          
          <creation_ts>2017-02-27 09:10:00 -0500</creation_ts>
          <short_desc>Mesa 13+ breaks Xvnc (and similar X servers)</short_desc>
          <delta_ts>2017-04-01 13:18:08 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>mesa</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Pierre Ossman">ossman</reporter>
          <assigned_to name="Adam Jackson">ajax</assigned_to>
          <cc>ajax</cc>
    
    
    <cc>devurandom</cc>
    
    
    <cc>dopey</cc>
    
    
    <cc>dylan.graham</cc>
    
    
    <cc>esteban.xandri</cc>
    
    
    <cc>fschwarz</cc>
    
    
    <cc>hdegoede</cc>
    
    
    <cc>igeorgex</cc>
    
    
    <cc>ignatenko</cc>
    
    
    <cc>ngaywood</cc>
    
    
    <cc>rkudyba</cc>
    
    
    <cc>ron</cc>
    
    
    <cc>slymidnight</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>mesa-13.0.4-3.fc25 mesa-17.0.2-1.fc26</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-03-24 14:55:34</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10186787</commentid>
    <comment_count>0</comment_count>
    <who name="Pierre Ossman">ossman</who>
    <bug_when>2017-02-27 09:10:32 -0500</bug_when>
    <thetext>Upgrade of mesa from 12.0.3-3.fc25 to 13.0.4-1.fc25 breaks GLX in Xvnc and ThinLinc (and probably other stuff with a similar design).

After upgrade:

&gt; $ glxinfo
&gt; name of display: :2
&gt; Error: couldn&apos;t find RGB GLX visual or fbconfig

Upstream report:

https://bugs.freedesktop.org/show_bug.cgi?id=99987

glvnd fallout?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10189820</commentid>
    <comment_count>1</comment_count>
    <who name="Norman Gaywood">ngaywood</who>
    <bug_when>2017-02-28 01:21:24 -0500</bug_when>
    <thetext>x2go also broken with (at least) an xfce4 desktop.

xfce4 session starts, but many programs won&apos;t start from the menus.

xterm starts from menus and we get:
&gt; $ glxinfo
&gt; name of display: :50.0
&gt; Error: couldn&apos;t find RGB GLX visual or fbconfig

And things like:
&gt; $ xfce4-terminal 
&gt; Segmentation fault (core dumped)

&gt; $ gnome-terminal
&gt; Segmentation fault (core dumped)

For gnome-terminal:

ccpp-2017-02-28-17:16:40-2101 # gdb /usr/bin/gnome-terminal ./coredump
GNU gdb (GDB) Fedora 7.12.1-46.fc25
Copyright (C) 2017 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type &quot;show copying&quot;
and &quot;show warranty&quot; for details.
This GDB was configured as &quot;x86_64-redhat-linux-gnu&quot;.
Type &quot;show configuration&quot; for configuration details.
For bug reporting instructions, please see:
&lt;http://www.gnu.org/software/gdb/bugs/&gt;.
Find the GDB manual and other documentation resources online at:
&lt;http://www.gnu.org/software/gdb/documentation/&gt;.
For help, type &quot;help&quot;.
Type &quot;apropos word&quot; to search for commands related to &quot;word&quot;...
Reading symbols from /usr/bin/gnome-terminal...Reading symbols from /usr/lib/debug/usr/bin/gnome-terminal.debug...done.
done.
[New LWP 2101]
[Thread debugging using libthread_db enabled]
Using host libthread_db library &quot;/lib64/libthread_db.so.1&quot;.
Core was generated by `gnome-terminal&apos;.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  0x00007fb111ac935f in rawmemchr () from /lib64/libc.so.6
Missing separate debuginfos, use: dnf debuginfo-install at-spi2-atk-2.22.0-1.fc25.x86_64 at-spi2-core-2.22.0-1.fc25.x86_64 atk-2.22.0-1.fc25.x86_64 bzip2-libs-1.0.6-21.fc25.x86_64 cairo-1.14.8-1.fc25.x86_64 cairo-gobject-1.14.8-1.fc25.x86_64 dbus-libs-1.11.10-1.fc25.x86_64 dconf-0.26.0-1.fc25.x86_64 expat-2.2.0-1.fc25.x86_64 fontconfig-2.12.1-1.fc25.x86_64 freetype-2.6.5-1.fc25.x86_64 gdk-pixbuf2-2.36.5-1.fc25.x86_64 glib2-2.50.3-1.fc25.x86_64 glibc-2.24-4.fc25.x86_64 gmp-6.1.1-1.fc25.x86_64 gnutls-3.5.9-2.fc25.x86_64 graphite2-1.3.6-1.fc25.x86_64 gtk3-3.22.8-1.fc25.x86_64 harfbuzz-1.3.2-1.fc25.x86_64 libNX_Xinerama-3.5.0.32-4.fc24.x86_64 libX11-1.6.4-4.fc25.x86_64 libXau-1.0.8-6.fc24.x86_64 libXcomposite-0.4.4-8.fc24.x86_64 libXcursor-1.1.14-6.fc24.x86_64 libXdamage-1.1.4-8.fc24.x86_64 libXext-1.3.3-4.fc24.x86_64 libXfixes-5.0.3-1.fc25.x86_64 libXi-1.7.9-1.fc25.x86_64 libXrandr-1.5.1-1.fc25.x86_64 libXrender-0.9.10-1.fc25.x86_64 libblkid-2.28.2-2.fc25.x86_64 libcap-2.25-2.fc25.x86_64 libdatrie-0.2.9-3.fc25.x86_64 libepoxy-1.3.1-3.fc25.x86_64 libffi-3.1-9.fc24.x86_64 libgcc-6.3.1-1.fc25.x86_64 libgcrypt-1.6.6-1.fc25.x86_64 libglvnd-0.2.999-10.gitdc16f8c.fc25.x86_64 libglvnd-egl-0.2.999-10.gitdc16f8c.fc25.x86_64 libglvnd-glx-0.2.999-10.gitdc16f8c.fc25.x86_64 libgpg-error-1.24-1.fc25.x86_64 libidn2-0.16-1.fc25.x86_64 libmount-2.28.2-2.fc25.x86_64 libpng-1.6.27-1.fc25.x86_64 libselinux-2.5-13.fc25.x86_64 libstdc++-6.3.1-1.fc25.x86_64 libtasn1-4.10-1.fc25.x86_64 libthai-0.1.25-1.fc25.x86_64 libunistring-0.9.4-3.fc24.x86_64 libuuid-2.28.2-2.fc25.x86_64 libwayland-client-1.12.0-1.fc25.x86_64 libwayland-cursor-1.12.0-1.fc25.x86_64 libxcb-1.12-1.fc25.x86_64 libxkbcommon-0.7.1-1.fc25.x86_64 lz4-1.7.5-1.fc25.x86_64 mesa-libwayland-egl-13.0.4-1.fc25.x86_64 nettle-3.3-1.fc25.x86_64 p11-kit-0.23.2-2.fc24.x86_64 pango-1.40.3-1.fc25.x86_64 pcre-8.40-4.fc25.x86_64 pcre2-10.23-1.fc25.x86_64 pixman-0.34.0-2.fc24.x86_64 systemd-libs-231-14.fc25.x86_64 vte291-0.46.1-1.fc25.x86_64 xz-libs-5.2.2-2.fc24.x86_64 zlib-1.2.8-10.fc24.x86_64
(gdb) where
#0  0x00007fb111ac935f in rawmemchr () at /lib64/libc.so.6
#1  0x00007fb111ab1832 in _IO_str_init_static_internal () at /lib64/libc.so.6
#2  0x00007fb111a9ecc7 in __isoc99_vsscanf () at /lib64/libc.so.6
#3  0x00007fb111a9ec67 in __isoc99_sscanf () at /lib64/libc.so.6
#4  0x00007fb10f6388e2 in epoxy_glx_version () at /lib64/libepoxy.so.0
#5  0x00007fb1143321e9 in gdk_x11_screen_init_gl () at /lib64/libgdk-3.so.0
#6  0x00007fb11433259a in _gdk_x11_screen_update_visuals_for_gl () at /lib64/libgdk-3.so.0
#7  0x00007fb11433b1f6 in _gdk_x11_screen_init_visuals () at /lib64/libgdk-3.so.0
#8  0x00007fb114338230 in _gdk_x11_screen_new () at /lib64/libgdk-3.so.0
#9  0x00007fb1143280c8 in _gdk_x11_display_open () at /lib64/libgdk-3.so.0
#10 0x00007fb1142fcb85 in gdk_display_manager_open_display () at /lib64/libgdk-3.so.0
#11 0x00007fb1147e6f26 in post_parse_hook () at /lib64/libgtk-3.so.0
#12 0x00007fb112a422d8 in g_option_context_parse () at /lib64/libglib-2.0.so.0
#13 0x000055943ba35834 in terminal_options_parse (working_directory=&lt;optimized out&gt;, startup_id=&lt;optimized out&gt;, argcp=0x7fff9a4ec93c, argvp=0x7fff9a4ec930, error=0x7fff9a4ec940) at terminal-options.c:868
#14 0x000055943ba3237a in main (argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;) at terminal.c:375
(gdb)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10195417</commentid>
    <comment_count>2</comment_count>
    <who name="Norman Gaywood">ngaywood</who>
    <bug_when>2017-02-28 17:44:55 -0500</bug_when>
    <thetext>The work-around I&apos;m using at the moment is to:

dnf downgrade mesa-libGL --allowerasing</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10211931</commentid>
    <comment_count>3</comment_count>
    <who name="Reilly Hall">slymidnight</who>
    <bug_when>2017-03-06 10:06:28 -0500</bug_when>
    <thetext>I too started experiencing this issue since last Monday after receiving the Mesa related updates (and new dependencies) sometime during the weekend just before that Monday.

I am interested in receiving updates related to this bug, as I run an XFCE4 desktop via x2go almost everyday.

Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10214721</commentid>
    <comment_count>4</comment_count>
    <who name="JM">igeorgex</who>
    <bug_when>2017-03-06 20:14:39 -0500</bug_when>
    <thetext>Same problem here wie Mesa 13, downgrade to Mesa 12 solved the problem for the moment.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10218924</commentid>
    <comment_count>5</comment_count>
    <who name="Bradi">brad.inch</who>
    <bug_when>2017-03-07 21:15:16 -0500</bug_when>
    <thetext>(In reply to Norman Gaywood from comment #2)
&gt; The work-around I&apos;m using at the moment is to:
&gt; 
&gt; dnf downgrade mesa-libGL --allowerasing

I am unable to use the workaround mentioned by Norman as I am unable to downgrade.

# sudo dnf downgrade mesa-libGL --allowerasing
Last metadata expiration check: 0:04:29 ago on Wed Mar  8 14:59:42 2017.
Dependencies resolved.
================================================================================
 Package          Arch      Version                           Repository   Size
================================================================================
Removing:
 libglvnd-glx     x86_64    1:0.2.999-10.gitdc16f8c.fc25      @updates    637 k
Downgrading:
 mesa-libGL       x86_64    12.0.3-3.fc25                     fedora      158 k
 mesa-libGLES     x86_64    12.0.3-3.fc25                     fedora       30 k
 mesa-libglapi    x86_64    12.0.3-3.fc25                     fedora       49 k

Transaction Summary
================================================================================
Remove     1 Package
Downgrade  3 Packages

Total size: 236 k
Is this ok [y/N]: y
Downloading Packages:
[SKIPPED] mesa-libGL-12.0.3-3.fc25.x86_64.rpm: Already downloaded
[SKIPPED] mesa-libglapi-12.0.3-3.fc25.x86_64.rpm: Already downloaded
[SKIPPED] mesa-libGLES-12.0.3-3.fc25.x86_64.rpm: Already downloaded
Running transaction check
Transaction check succeeded.
Running transaction test
Error: Transaction check error:
  file /usr/lib64/libGLESv2.so.2.0.0 from install of mesa-libGLES-12.0.3-3.fc25.                           x86_64 conflicts with file from package libglvnd-gles-1:0.2.999-10.gitdc16f8c.fc                           25.x86_64

# sudo dnf downgrade libglvnd-glx --allowerasing
Last metadata expiration check: 0:12:01 ago on Wed Mar  8 14:59:42 2017.
Package libglvnd-glx of lowest version already installed, cannot downgrade it.
Error: Nothing to do.

Hoping a new package is pushed soon, although unsure if this will resolve my issue.  Is there another workaround I am able to use without removing hundreds of packages or enabling packages from updates-testing repo?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10220533</commentid>
    <comment_count>6</comment_count>
    <who name="Pierre Ossman">ossman</who>
    <bug_when>2017-03-08 06:22:59 -0500</bug_when>
    <thetext>You probably need to downgrade all mesa packages. I.e.:

&gt; $ sudo dnf downgrade &apos;mesa-*&apos; --allowerasing</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10221544</commentid>
    <comment_count>7</comment_count>
    <who name="JM">igeorgex</who>
    <bug_when>2017-03-08 09:51:19 -0500</bug_when>
    <thetext>Btw. libepoxy in version 1.4.1 (https://github.com/anholt/libepoxy/releases) solves the problem as well. I usedd the SRPM 

libepoxy-1.3.1-4.fc26.src.rpm 

and replaced the version 1.3.1 with 1.4.1, changed the SPEC-File, recompiled the SRPM and installed the new 1.4.1 RPM on my systems and now I can use Mesa 13 without a &quot;Segmentation fault&quot; :-).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10223011</commentid>
    <comment_count>8</comment_count>
    <who name="Bradi">brad.inch</who>
    <bug_when>2017-03-08 17:36:03 -0500</bug_when>
    <thetext>(In reply to Pierre Ossman from comment #6)
&gt; You probably need to downgrade all mesa packages. I.e.:
&gt; 
&gt; &gt; $ sudo dnf downgrade &apos;mesa-*&apos; --allowerasing

Thanks Pierre, this resolves the problem for me.  Grateful for your assistance.  Hoping the update to mesa-* is not too far away so I can update again.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10223170</commentid>
    <comment_count>9</comment_count>
    <who name="JM">igeorgex</who>
    <bug_when>2017-03-08 19:24:13 -0500</bug_when>
    <thetext>(In reply to Bradi from comment #8)

&gt; Hoping the update to mesa-* is not too far away so I can update again.

The bug is inside &quot;libepoxy&quot;, see Bug #1395366. Mesa 13 triggers only the bug in libepoxy.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10223251</commentid>
    <comment_count>10</comment_count>
    <who name="Norman Gaywood">ngaywood</who>
    <bug_when>2017-03-08 19:41:14 -0500</bug_when>
    <thetext>Bradi,

You can edit /etc/dnf/dnf.conf and place these lines in there:

# https://bugzilla.redhat.com/show_bug.cgi?id=1427174
exclude=mesa-*

Then you can update without updating mesa. Remove the lines when the fix is in.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10223388</commentid>
    <comment_count>11</comment_count>
    <who name="Norman Gaywood">ngaywood</who>
    <bug_when>2017-03-08 21:15:30 -0500</bug_when>
    <thetext>I just tried installing the latest libepoxy-1.4.1-1.fc25 from koji

https://koji.fedoraproject.org/koji/buildinfo?buildID=866615

Good news, XFCE4 desktop apps no longer segfault when running under x2go

xfce4-terminal works. xfce4-settings-manager works, which I think is new, it hasn&apos;t worked under x2go for some time.

emacs still does not work. Long standing bug #1349412

glxinfo has stopped working and now gives:
$ glxinfo
name of display: :50.0
Error: couldn&apos;t find RGB GLX visual or fbconfig

Previously, before mesa update, glxinfo printed:
$ glxinfo
name of display: :51.0
display: :51  screen: 0
direct rendering: Yes
server glx vendor string: SGI
server glx version string: 1.2
server glx extensions:
    GLX_ARB_multisample, GLX_EXT_import_context, GLX_EXT_visual_info, 
    GLX_EXT_visual_rating, GLX_OML_swap_method, GLX_SGIS_multisample, 
    GLX_SGIX_fbconfig, GLX_SGIX_hyperpipe, GLX_SGIX_swap_barrier, 
    GLX_SGI_make_current_read
client glx vendor string: Mesa Project and SGI
client glx version string: 1.4
client glx extensions:
[clip]</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10225855</commentid>
    <comment_count>12</comment_count>
    <who name="JM">igeorgex</who>
    <bug_when>2017-03-09 12:13:58 -0500</bug_when>
    <thetext>(In reply to Norman Gaywood from comment #11)

&gt; emacs still does not work. Long standing bug #1349412

The comment #13 in bug #1349412 suggest to uncomment 

X2GO_NXAGENT_DEFAULT_OPTIONS+=&quot; -extension GLX&quot;

in

/etc/x2go/x2goagent.options

This solved the problem for me. emacs works now with x2go.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10225974</commentid>
    <comment_count>13</comment_count>
    <who name="JM">igeorgex</who>
    <bug_when>2017-03-09 12:47:23 -0500</bug_when>
    <thetext>Hmm... even with 

X2GO_NXAGENT_DEFAULT_OPTIONS+=&quot; -extension GLX&quot;

I still have problems with emacs and x2go. emacs is a little bit more stable but still crashes... Btw. libepoxy is now version 1.4.1.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10227137</commentid>
    <comment_count>14</comment_count>
    <who name="Norman Gaywood">ngaywood</who>
    <bug_when>2017-03-09 23:50:19 -0500</bug_when>
    <thetext>Indications from some other bugs suggest that the problem with glxinfo is in libglvnd

From: https://bugs.freedesktop.org/show_bug.cgi?id=99987#c9

&gt; Seeing as Ubuntu 17.04 also will have Mesa 13, I installed their nightly build to test. My tests show that the problem does not exist on Ubuntu 17.04. Applications such as glxgears work fine in ThinLinc, and it does seem like OpenGL is properly available.
&gt; Briefly looking at the differences between the Fedora installation and the Ubuntu one shows that GLVND isn&apos;t used in the latter. This would further indicate that the problem lies in GLVND?

There is a similar bug #1429894 with regard to xdriinfo also pointing to libglvnd.

https://bugzilla.redhat.com/show_bug.cgi?id=1429894

Summary:
glxinfo works under x2go with mesa 12.0.3-3.fc25
glxinfo does not work under x2go with mesa 13.0.4-1.fc25

mesa 13.0.4-1 introduced libglvnd

Segfault issues with xfce4 programs and others like gnome-terminal were fixed with an update to libepoxy-1.4.1-1.fc25

emacs seg faulted with old libepoxy in same place as xfce4 programs. But with updated libepoxy, segfault has moved to different place as per bug #1349412</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10228137</commentid>
    <comment_count>15</comment_count>
    <who name="JM">igeorgex</who>
    <bug_when>2017-03-10 07:58:09 -0500</bug_when>
    <thetext>glxinfo, etc. works with mesa 13.0.3-5 (https://koji.fedoraproject.org/koji/buildinfo?buildID=837227) without libglvnd, so it looks like that libglvnd is the problem.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10228615</commentid>
    <comment_count>16</comment_count>
    <who name="RobbieTheK">rkudyba</who>
    <bug_when>2017-03-10 09:59:15 -0500</bug_when>
    <thetext>No matter what I try still getting the segfault on Fedora 25:

1)
kernel: mate-session[27468]: segfault at 0 ip 00007fae5a93a6a7 sp 00007ffed6bf9278 error 4 in libX11-xcb.so.1.0.0[7fae5a93a000+1000]
abrt-hook-ccpp: Process 27468 (mate-session) of user xxxx killed by SIGSEGV - dumping core

2) The standard Fedora repos don&apos;t have the koji libexpoxy update as I ran dnf clean all and dnf upgrade to get the latest:
rpm -q libepoxy
libepoxy-1.3.1-3.fc25.x86_64

3) I made sure we&apos;re still downgraded with mesa:
rpm -q mesa-libGL
mesa-libGL-12.0.3-3.fc25.x86_64
mesa-libGL-12.0.3-3.fc25.i686

4) I can confirm that glxinfo work with the above and fails with mesa-libGL-13.

5) There is a copr repo for the emacs X2Go crash: https://copr.fedorainfracloud.org/coprs/nbecker/emacs-x2go/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10230546</commentid>
    <comment_count>17</comment_count>
    <who name="RobbieTheK">rkudyba</who>
    <bug_when>2017-03-11 13:03:45 -0500</bug_when>
    <thetext>Now getting this from def update:
Error: Transaction check error:
  file /usr/lib64/libEGL.so.1.0.0 from install of libglvnd-egl-1:0.2.999-10.gitdc16f8c.fc25.x86_64 conflicts with file from package mesa-libEGL-12.0.3-3.fc25.x86_64</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10231360</commentid>
    <comment_count>18</comment_count>
    <who name="Bradi">brad.inch</who>
    <bug_when>2017-03-12 19:57:06 -0400</bug_when>
    <thetext>Update to libepoxy.x86_64 1.4.1-1.fc25 looks to have resolved the issues I was having with mesa-*.x64_86 13.0.4-1.fc25.

Installing:
 &lt;snip&gt;
 libglvnd-egl                                                       x86_64                                        1:0.2.999-10.gitdc16f8c.fc25                                         updates                                          43 k
 libglvnd-gles                                                      x86_64                                        1:0.2.999-10.gitdc16f8c.fc25                                         updates                                          31 k
 libglvnd-glx                                                       x86_64                                        1:0.2.999-10.gitdc16f8c.fc25                                         updates                                         124 k
Upgrading:
 &lt;snip&gt;
 libepoxy                                                           x86_64                                        1.4.1-1.fc25                                                         updates                                         207 k
 mesa-dri-drivers                                                   x86_64                                        13.0.4-1.fc25                                                        updates                                          11 M
 mesa-filesystem                                                    x86_64                                        13.0.4-1.fc25                                                        updates                                          24 k
 mesa-libEGL                                                        x86_64                                        13.0.4-1.fc25                                                        updates                                         103 k
 mesa-libGL                                                         x86_64                                        13.0.4-1.fc25                                                        updates                                         165 k
 mesa-libGLES                                                       x86_64                                        13.0.4-1.fc25                                                        updates                                          22 k
 mesa-libgbm                                                        x86_64                                        13.0.4-1.fc25                                                        updates                                          42 k
 mesa-libglapi                                                      x86_64                                        13.0.4-1.fc25                                                        updates                                          50 k
 mesa-libwayland-egl                                                x86_64                                        13.0.4-1.fc25                                                        updates                                          25 k
 mesa-libxatracker                                                  x86_64                                        13.0.4-1.fc25                                                        updates                                         1.4 M
 xorg-x11-drv-wacom                                                 x86_64                                        0.34.2-1.fc25                                                        updates                                         312 k

Thanks to all involved.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10232840</commentid>
    <comment_count>19</comment_count>
    <who name="Hans de Goede">hdegoede</who>
    <bug_when>2017-03-13 08:33:37 -0400</bug_when>
    <thetext>I cannot reproduce this I&apos;ve tried both:

Xvnc :1 -rfbauth /home/hans/.vnc/passwd

And then started an xterm on DISPLAY=:1 and in that xterm run glxgears as well as glxinfo fine using lvmpipe.

As well as running &quot;vncserver&quot; and then starting a xterm + glxgears as well as glxinfo fine inside the session running there.

Please provide detailed reproduction instructions, specifically the commandline used to launch Xvnc causing this problem as shown by e.g.: &quot;ps auxw | grep Xvnc&quot;</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10232883</commentid>
    <comment_count>20</comment_count>
    <who name="JM">igeorgex</who>
    <bug_when>2017-03-13 08:46:21 -0400</bug_when>
    <thetext>With x2go I get this for glxinfo and glxgears

glxinfo
name of display: :50
Error: couldn&apos;t find RGB GLX visual or fbconfig

glxgears
Error: couldn&apos;t get an RGB, Double-buffered visual

I know it&apos;s not Xvnc but the problem is the same (see comment #2). libepoxy in version 1.4.1 fixed the segmentation faults but the problem with glxinfo and glxgears is still there.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10232887</commentid>
    <comment_count>21</comment_count>
    <who name="Pierre Ossman">ossman</who>
    <bug_when>2017-03-13 08:47:39 -0400</bug_when>
    <thetext>Do you know which version of Xorg that x2go build is based on? And perhaps which Mesa it was compiled against? Where did you get the build?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10232944</commentid>
    <comment_count>22</comment_count>
    <who name="Pierre Ossman">ossman</who>
    <bug_when>2017-03-13 09:06:22 -0400</bug_when>
    <thetext>If it&apos;s Fedora standard build, it seems like x2go bundles its own version of Mesa and Xorg. Both of them are ancient (Xorg is 6.9.0).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10233063</commentid>
    <comment_count>23</comment_count>
    <who name="Hans de Goede">hdegoede</who>
    <bug_when>2017-03-13 09:38:15 -0400</bug_when>
    <thetext>(In reply to Pierre Ossman from comment #22)
&gt; If it&apos;s Fedora standard build, it seems like x2go bundles its own version of
&gt; Mesa and Xorg. Both of them are ancient (Xorg is 6.9.0).

Right, look at: http://wiki.x2go.org/doku.php/doc:de-compat

Which says:

&quot; As of version 3.5.0.x, nxagent is forked from the X.org 6.9 codebase (from 2005.) Therefore, there are 4 reasons why certain modern “3d-ish” desktops are incompatible with nxagent, and therefore X2Go.

#1    The desktop environment requires the X11 extension “Xcomposite”, which nxagent 3.5.0.x and X.org 6.9 do not support.
#2    The desktop environment requires a newer version of the X11 extension “GLX” (OpenGL) than nxagent 3.5.0.x and X.org 6.9 provide (version 1.2).
#3    The desktop environment requires a newer version of the X11 extension “XRANDR” than nxagent 3.5.0.x provides (version 1.2).
#4    The desktop environment checks for a specific physical graphics driver, but nxagent doesn&apos;t use physical graphics adapters/drivers.

Ultimately, addressing issues #1 and #2 requires a lot of work.&quot;

I believe that #2 is the problem here, when running nxagent as xserver the xserver is presenting libGLX with a glx version of 1.2, where as 1.4 is current now a days. It seems that the libglvnd provided libGLX cannot work with such and old glx server extension ? I will contact libglvnd upstream about this.

So it looks like x2go will need to get fixed to provide a newer glx extension to X-clients running under it, upstream has some docs on this here: http://wiki.x2go.org/doku.php/wiki:development:new-feature-brainstorming#nx-libs . Specifically it seems that a nxagent rewrite is under progress here: https://arctica-project.org/landing/start .

I do apologize for breaking this halfway through F25&apos;s lifetime.

A workaround for this is to downgrade to: mesa-13.0.3-5.fc25 and then version-freeze mesa by adding:

exclude=mesa*

To /etc/dnf/dnf.conf .</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10233087</commentid>
    <comment_count>24</comment_count>
    <who name="Hans de Goede">hdegoede</who>
    <bug_when>2017-03-13 09:41:15 -0400</bug_when>
    <thetext>Can someone please provide *detailed* reproduction instructions for how to reproduce this using Fedora 25&apos;s x2go packages?

I&apos;ve tried installing x2goserver + x2goserver-xsession + x2goclient and then running x2goclient and selecting either GNOME or terminal as session type there, but all I get is a connection being build then 1-2 minutes of nothing and then the connection getting closed again.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10233096</commentid>
    <comment_count>25</comment_count>
    <who name="Pierre Ossman">ossman</who>
    <bug_when>2017-03-13 09:43:07 -0400</bug_when>
    <thetext>(In reply to Hans de Goede from comment #23)
&gt; 
&gt; I believe that #2 is the problem here, when running nxagent as xserver the
&gt; xserver is presenting libGLX with a glx version of 1.2, where as 1.4 is
&gt; current now a days. It seems that the libglvnd provided libGLX cannot work
&gt; with such and old glx server extension ? I will contact libglvnd upstream
&gt; about this.
&gt; 

Very interesting. Do you know what that means in regard to Xorg versions? TigerVNC has been using 1.14 and 1.15 in most builds, as has ThinLinc.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10233138</commentid>
    <comment_count>26</comment_count>
    <who name="JM">igeorgex</who>
    <bug_when>2017-03-13 09:50:18 -0400</bug_when>
    <thetext>(In reply to Hans de Goede from comment #24)
&gt; Can someone please provide *detailed* reproduction instructions for how to
&gt; reproduce this using Fedora 25&apos;s x2go packages?
&gt; 
&gt; I&apos;ve tried installing x2goserver + x2goserver-xsession + x2goclient and then
&gt; running x2goclient and selecting either GNOME or terminal as session type
&gt; there, but all I get is a connection being build then 1-2 minutes of nothing
&gt; and then the connection getting closed again.

Use XFCE as session type (and of course install it on the host :-)). For me only XFCE works as session type, GNOME, etc. fails.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10233176</commentid>
    <comment_count>27</comment_count>
    <who name="Pierre Ossman">ossman</who>
    <bug_when>2017-03-13 09:57:32 -0400</bug_when>
    <thetext>(In reply to Pierre Ossman from comment #25)
&gt; 
&gt; Very interesting. Do you know what that means in regard to Xorg versions?
&gt; TigerVNC has been using 1.14 and 1.15 in most builds, as has ThinLinc.

I had a look myself and 1.8 was the first version with GLX 1.4. Hence that&apos;s not the reason for the failures as Xorg 1.14 fails.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10233184</commentid>
    <comment_count>28</comment_count>
    <who name="JM">igeorgex</who>
    <bug_when>2017-03-13 09:59:30 -0400</bug_when>
    <thetext>(In reply to Hans de Goede from comment #23)

&gt; I believe that #2 is the problem here, when running nxagent as xserver the
&gt; xserver is presenting libGLX with a glx version of 1.2, where as 1.4 is
&gt; current now a days. It seems that the libglvnd provided libGLX cannot work
&gt; with such and old glx server extension ? I will contact libglvnd upstream
&gt; about this.
&gt; 
&gt; So it looks like x2go will need to get fixed to provide a newer glx
&gt; extension to X-clients running under it, upstream has some docs on this
&gt; here:
&gt; http://wiki.x2go.org/doku.php/wiki:development:new-feature-brainstorming#nx-
&gt; libs . Specifically it seems that a nxagent rewrite is under progress here:
&gt; https://arctica-project.org/landing/start .
&gt; 
&gt; I do apologize for breaking this halfway through F25&apos;s lifetime.
&gt; 
&gt; A workaround for this is to downgrade to: mesa-13.0.3-5.fc25 and then
&gt; version-freeze mesa by adding:
&gt; 
&gt; exclude=mesa*
&gt; 
&gt; To /etc/dnf/dnf.conf .

Thank you for looking into this. I already thought that x2go is the real problem here. x2go is using old components but I have no real alternatives for x2go (for multi user connections). For now I version-freeze Mesa and see if I - in the long run - can somehow replace x2go</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10233188</commentid>
    <comment_count>29</comment_count>
    <who name="JM">igeorgex</who>
    <bug_when>2017-03-13 10:00:35 -0400</bug_when>
    <thetext>(In reply to Pierre Ossman from comment #22)
&gt; If it&apos;s Fedora standard build, it seems like x2go bundles its own version of
&gt; Mesa and Xorg. Both of them are ancient (Xorg is 6.9.0).

Yep, it&apos;s the Fedora standard build.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10233466</commentid>
    <comment_count>30</comment_count>
    <who name="Orion Poplawski">orion</who>
    <bug_when>2017-03-13 10:57:51 -0400</bug_when>
    <thetext>*** Bug 1399357 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10234808</commentid>
    <comment_count>31</comment_count>
    <who name="Hans de Goede">hdegoede</who>
    <bug_when>2017-03-13 17:28:49 -0400</bug_when>
    <thetext>Reaction from upstream libglvnd maintainer:

&quot;Do you have a symlink for libGLX_indirect.so.0 that points to Mesa?

Libglvnd relies on a GLX extension to tell it which vendor library to use, and if the server doesn&apos;t support that extension (which I&apos;m assuming it doesn&apos;t), then it&apos;ll try to load a vendor library named libGLX_indirect.so.0 instead. The reason for that is so that indirect rendering can still work when you connect to a remote X server.

libGLX_indirect.so.0 should just be a symlink to another vendor. For indirect rendering, any vendor will do, since they should all speak the same GLX protocol.

But, if libGLX_indirect.so.0 doesn&apos;t exist, then libglvnd won&apos;t be able to find any vendor library to load, so it won&apos;t be able to handle any GLX calls at all.

Alternately, you can just override libglvnd&apos;s vendor library selection by setting an environment variable, like this:
__GLX_VENDOR_LIBRARY_NAME=mesa&quot;

Can someone try running:

&quot;__GLX_VENDOR_LIBRARY_NAME=mesa glxinfo&quot;

and:

&quot;__GLX_VENDOR_LIBRARY_NAME=mesa glxgears&quot;

From a terminal in x2go ?

Also on the server try doing:

sudo ln -s /usr/lib64/libGLX_mesa.so.0 /usr/lib64/libGLX_indirect.so.0

And see if that fixes things without needing to use __GLX_VENDOR_LIBRARY_NAME=mesa ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10235036</commentid>
    <comment_count>32</comment_count>
    <who name="Norman Gaywood">ngaywood</who>
    <bug_when>2017-03-13 18:53:51 -0400</bug_when>
    <thetext>Looks good! Versions listed below. 
This is using x2goclient to connect to an x2goserver with an XFCE desktop
Inside the xfce4-terminal:

$ glxinfo
name of display: :50.0
Error: couldn&apos;t find RGB GLX visual or fbconfig

$ __GLX_VENDOR_LIBRARY_NAME=mesa glxinfo
name of display: :50.0
display: :50  screen: 0
direct rendering: Yes
server glx vendor string: SGI
server glx version string: 1.2
server glx extensions:
    GLX_ARB_multisample, GLX_EXT_import_context, GLX_EXT_visual_info,
    GLX_EXT_visual_rating, GLX_OML_swap_method, GLX_SGIS_multisample,
    GLX_SGIX_fbconfig, GLX_SGIX_hyperpipe, GLX_SGIX_swap_barrier,
    GLX_SGI_make_current_read
client glx vendor string: Mesa Project and SGI
client glx version string: 1.4
[snip]
$ __GLX_VENDOR_LIBRARY_NAME=mesa glxgears
4089 frames in 5.0 seconds = 817.788 FPS
[snip glxgears works]

$ sudo ln -s /usr/lib64/libGLX_mesa.so.0 /usr/lib64/libGLX_indirect.so.0
$ glxinfo
name of display: :50.0
display: :50  screen: 0
direct rendering: Yes
server glx vendor string: SGI
server glx version string: 1.2
[snip]
$ glxgears
4901 frames in 5.0 seconds = 980.084 FPS
[snip glxgears works]

Installed on the server:
x2goserver-fmbindings-4.0.1.20-1.fc25.x86_64
x2goserver-4.0.1.20-1.fc25.x86_64
x2goserver-xsession-4.0.1.20-1.fc25.x86_64
x2goagent-3.5.0.32-4.fc24.x86_64
cups-x2go-3.0.1.3-2.fc24.noarch
x2godesktopsharing-3.1.1.3-1.fc25.x86_64
x2goserver-printing-4.0.1.20-1.fc25.x86_64
mesa-libglapi-13.0.4-1.fc25.i686
mesa-libGL-devel-13.0.4-1.fc25.x86_64
mesa-libGL-13.0.4-1.fc25.x86_64
mesa-libgbm-13.0.4-1.fc25.x86_64
mesa-libOSMesa-13.0.4-1.fc25.x86_64
mesa-libwayland-egl-13.0.4-1.fc25.x86_64
mesa-libwayland-egl-devel-13.0.4-1.fc25.x86_64
mesa-libEGL-13.0.4-1.fc25.x86_64
mesa-libxatracker-13.0.4-1.fc25.x86_64
mesa-libGLES-13.0.4-1.fc25.x86_64
mesa-libGLU-devel-9.0.0-10.fc24.x86_64
mesa-filesystem-13.0.4-1.fc25.x86_64
mesa-libgbm-devel-13.0.4-1.fc25.x86_64
mesa-libEGL-devel-13.0.4-1.fc25.i686
mesa-libglapi-13.0.4-1.fc25.x86_64
mesa-libgbm-13.0.4-1.fc25.i686
mesa-libGLU-9.0.0-10.fc24.x86_64
mesa-libGL-13.0.4-1.fc25.i686
mesa-libEGL-13.0.4-1.fc25.i686
mesa-libEGL-devel-13.0.4-1.fc25.x86_64
mesa-dri-drivers-13.0.4-1.fc25.x86_64
libglvnd-0.2.999-10.gitdc16f8c.fc25.x86_64
libglvnd-0.2.999-10.gitdc16f8c.fc25.i686
libepoxy-1.4.1-1.fc25.x86_64</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10235062</commentid>
    <comment_count>33</comment_count>
    <who name="JM">igeorgex</who>
    <bug_when>2017-03-13 19:08:28 -0400</bug_when>
    <thetext>Btw. 

dnf provides /usr/lib64/libGLX_indirect.so.0

shows

xorg-x11-drv-nvidia-libs-1:375.26-11.fc25.x86_64 : Libraries for xorg-x11-drv-nvidia
Repo        : rpmfusion-nonfree-updates

So I installed a x2go server on a system with NVIDIA-Drivers and there I don&apos;t need any modifications (no __GLX_VENDOR_LIBRARY_NAME=mesa) for glxinfo or glxgears, it just works... I guess because /usr/lib64/libGLX_indirect.so.0 exists? 

lrwxrwxrwx. 1 root root 23 23. Jan 16:10 /usr/lib64/libGLX_indirect.so.0 -&gt; libGLX_nvidia.so.375.26</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10235093</commentid>
    <comment_count>34</comment_count>
    <who name="JM">igeorgex</who>
    <bug_when>2017-03-13 19:29:03 -0400</bug_when>
    <thetext>ln -s /usr/lib64/libGLX_mesa.so.0 /usr/lib64/libGLX_indirect.so.0 

solves the problem with glxinfo and glxgears, 

libepoxy 1.4.1 the problem with the segmentation fault so what&apos;s left is the problem with emacs and x2go :-) (Bug #1349412) but I guess Bug #1349412 is not related to Mesa 13 or libglvnd because Fedora 24 has the same problem.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10236386</commentid>
    <comment_count>35</comment_count>
    <who name="Hans de Goede">hdegoede</who>
    <bug_when>2017-03-14 04:07:59 -0400</bug_when>
    <thetext>Good to hear that &quot;ln -s /usr/lib64/libGLX_mesa.so.0 /usr/lib64/libGLX_indirect.so.0&quot; fixes this. I will prepare an update to add this to the Fedora mesa pkgs, but I need to coordinate this with the rpmfusion packages, since those currently add such a symlink to the nvidia packages.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10249627</commentid>
    <comment_count>36</comment_count>
    <who name="RobbieTheK">rkudyba</who>
    <bug_when>2017-03-17 10:03:20 -0400</bug_when>
    <thetext>Going from Windows 10 X2Go to Fedora 25 using MATE seems to work however with XFCE it just hangs and here&apos;s my .xfce log file:
cat .xfce4-session.verbose-log
log file opened
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;blueman-applet&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;abrt-applet&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;xfce4-power-manager&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;nm-applet&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:649] xfsm_startup_autostart_xdg(): only show in XFCE set, launching
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;/usr/libexec/tracker-miner-apps&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:649] xfsm_startup_autostart_xdg(): only show in XFCE set, launching
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;/usr/libexec/tracker-miner-user-guides&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:649] xfsm_startup_autostart_xdg(): only show in XFCE set, launching
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;xfsettingsd&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:649] xfsm_startup_autostart_xdg(): only show in XFCE set, launching
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;/usr/libexec/evolution/evolution-alarm-notify&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;/usr/bin/vmware-user-suid-wrapper&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:649] xfsm_startup_autostart_xdg(): only show in XFCE set, launching
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;/usr/libexec/tracker-extract&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:649] xfsm_startup_autostart_xdg(): only show in XFCE set, launching
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;/usr/libexec/xfce-polkit&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:649] xfsm_startup_autostart_xdg(): only show in XFCE set, launching
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;xscreensaver -no-splash&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;start-pulseaudio-x11&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:681] xfsm_startup_autostart_xdg(): start_at_spi (a11y support), skipping
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;/usr/bin/seapplet&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;/usr/bin/spice-vdagent&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;/usr/libexec/liveinst-setup.sh&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;xdg-user-dirs-update&quot;
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:629] xfsm_startup_autostart_xdg(): hidden set
TRACE[xfsm-startup.c:712] xfsm_startup_autostart_xdg(): Autostart: running command &quot;imsettings-switch -n -q -x&quot;
TRACE[xfsm-manager.c:823] xfsm_manager_signal_startup_done(): Manager finished startup, entering IDLE mode now

TRACE[xfsm-manager.c:303] xfsm_manager_set_state():
state is now XFSM_MANAGER_IDLE
TRACE[sm-layer.c:162] sm_new_client(): ICE connection fd = 12, received NEW CLIENT

TRACE[sm-layer.c:213] sm_register_client(): ICE connection fd = 12, received REGISTER CLIENT [Previous Id = None]

TRACE[sm-layer.c:162] sm_new_client(): ICE connection fd = 13, received NEW CLIENT

TRACE[sm-layer.c:213] sm_register_client(): ICE connection fd = 13, received REGISTER CLIENT [Previous Id = None]

TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (Program, xfsettingsd)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (UserID, myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (RestartStyleHint, 2)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (ProcessID, 32473)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (CurrentDirectory, /u/ourserver/myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (_GSM_Priority, 25)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (_GSM_DesktopFile, /etc/xdg/autostart/xfsettingsd.desktop)
TRACE[sm-layer.c:162] sm_new_client(): ICE connection fd = 14, received NEW CLIENT

TRACE[sm-layer.c:213] sm_register_client(): ICE connection fd = 14, received REGISTER CLIENT [Previous Id = None]

TRACE[sm-layer.c:162] sm_new_client(): ICE connection fd = 15, received NEW CLIENT

TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (Program, xfce4-panel)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (UserID, myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (RestartStyleHint, 2)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (ProcessID, 32468)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (CurrentDirectory, /u/ourserver/myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (_GSM_Priority, 25)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (Program, xfdesktop)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (UserID, myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (RestartStyleHint, 2)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (ProcessID, 32472)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (CurrentDirectory, /u/ourserver/myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (_GSM_Priority, 35)
TRACE[sm-layer.c:213] sm_register_client(): ICE connection fd = 15, received REGISTER CLIENT [Previous Id = None]

TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (Program, xfce4-power-manager)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (UserID, myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (RestartStyleHint, 0)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (ProcessID, 32506)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (CurrentDirectory, /)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (_GSM_Priority, 50)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (_GSM_DesktopFile, /etc/xdg/autostart/xfce4-power-manager.desktop)
TRACE[xfsm-properties.c:629] xfsm_properties_set_from_smprop(): -&gt; Set strv (RestartCommand)
TRACE[xfsm-properties.c:629] xfsm_properties_set_from_smprop(): -&gt; Set strv (CloneCommand)
TRACE[sm-layer.c:304] sm_save_yourself_done(): Client Id = 219308c1c-d6ec-4027-a938-1a35b2b8a768, received SAVE YOURSELF DONE [Success = True]

TRACE[xfsm-manager.c:1295] xfsm_manager_save_yourself_done(): enteringTRACE[xfsm-properties.c:629] xfsm_properties_set_from_smprop(): -&gt; Set strv (RestartCommand)
TRACE[xfsm-properties.c:629] xfsm_properties_set_from_smprop(): -&gt; Set strv (CloneCommand)
TRACE[sm-layer.c:304] sm_save_yourself_done(): Client Id = 25f978875-2cd3-4974-add4-019a8b875435, received SAVE YOURSELF DONE [Success = True]

TRACE[xfsm-manager.c:1295] xfsm_manager_save_yourself_done(): enteringTRACE[ice-layer.c:99] ice_error_handler(): ICE connection fd = 14, ICE I/O error on connection
TRACE[xfsm-properties.c:629] xfsm_properties_set_from_smprop(): -&gt; Set strv (RestartCommand)
TRACE[xfsm-properties.c:629] xfsm_properties_set_from_smprop(): -&gt; Set strv (CloneCommand)
TRACE[sm-layer.c:304] sm_save_yourself_done(): Client Id = 2c64a9516-a0dd-45dd-88ea-a3cb1c82ff56, received SAVE YOURSELF DONE [Success = True]

TRACE[xfsm-manager.c:1295] xfsm_manager_save_yourself_done(): enteringTRACE[ice-layer.c:99] ice_error_handler(): ICE connection fd = 12, ICE I/O error on connection
TRACE[xfsm-manager.c:404] xfsm_manager_handle_failed_properties(): Client Id = 25f978875-2cd3-4974-add4-019a8b875435 disconnected, restarting
TRACE[sm-layer.c:162] sm_new_client(): ICE connection fd = 12, received NEW CLIENT

TRACE[sm-layer.c:213] sm_register_client(): ICE connection fd = 12, received REGISTER CLIENT [Previous Id = 25f978875-2cd3-4974-add4-019a8b875435]

TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (Program, xfce4-panel)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (UserID, myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (RestartStyleHint, 2)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (ProcessID, 554)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (CurrentDirectory, /u/ourserver/myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (_GSM_Priority, 25)
TRACE[ice-layer.c:99] ice_error_handler(): ICE connection fd = 12, ICE I/O error on connection
TRACE[xfsm-manager.c:404] xfsm_manager_handle_failed_properties(): Client Id = 25f978875-2cd3-4974-add4-019a8b875435 disconnected, restarting
TRACE[sm-layer.c:162] sm_new_client(): ICE connection fd = 12, received NEW CLIENT

TRACE[sm-layer.c:213] sm_register_client(): ICE connection fd = 12, received REGISTER CLIENT [Previous Id = 25f978875-2cd3-4974-add4-019a8b875435]

TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (Program, xfce4-panel)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (UserID, myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (RestartStyleHint, 2)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (ProcessID, 598)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (CurrentDirectory, /u/ourserver/myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (_GSM_Priority, 25)
TRACE[ice-layer.c:99] ice_error_handler(): ICE connection fd = 12, ICE I/O error on connection
TRACE[xfsm-manager.c:404] xfsm_manager_handle_failed_properties(): Client Id = 25f978875-2cd3-4974-add4-019a8b875435 disconnected, restarting
TRACE[sm-layer.c:162] sm_new_client(): ICE connection fd = 12, received NEW CLIENT

TRACE[sm-layer.c:213] sm_register_client(): ICE connection fd = 12, received REGISTER CLIENT [Previous Id = 25f978875-2cd3-4974-add4-019a8b875435]

TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (Program, xfce4-panel)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (UserID, myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (RestartStyleHint, 2)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (ProcessID, 642)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (CurrentDirectory, /u/ourserver/myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (_GSM_Priority, 25)
TRACE[ice-layer.c:99] ice_error_handler(): ICE connection fd = 12, ICE I/O error on connection
TRACE[xfsm-manager.c:404] xfsm_manager_handle_failed_properties(): Client Id = 25f978875-2cd3-4974-add4-019a8b875435 disconnected, restarting
TRACE[sm-layer.c:162] sm_new_client(): ICE connection fd = 12, received NEW CLIENT
TRACE[sm-layer.c:213] sm_register_client(): ICE connection fd = 12, received REGISTER CLIENT [Previous Id = 25f978875-2cd3-4974-add4-019a8b875435]
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (Program, xfce4-panel)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (UserID, myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (RestartStyleHint, 2)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (ProcessID, 714)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (CurrentDirectory, /u/ourserver/myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (_GSM_Priority, 25)
TRACE[ice-layer.c:99] ice_error_handler(): ICE connection fd = 12, ICE I/O error on connection
TRACE[xfsm-manager.c:404] xfsm_manager_handle_failed_properties(): Client Id = 25f978875-2cd3-4974-add4-019a8b875435 disconnected, restarting
TRACE[sm-layer.c:162] sm_new_client(): ICE connection fd = 12, received NEW CLIENT
TRACE[sm-layer.c:213] sm_register_client(): ICE connection fd = 12, received REGISTER CLIENT [Previous Id = 25f978875-2cd3-4974-add4-019a8b875435]
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (Program, xfce4-panel)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (UserID, myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (RestartStyleHint, 2)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (ProcessID, 758)
TRACE[xfsm-properties.c:489] xfsm_properties_set_string(): -&gt; Set string (CurrentDirectory, /u/ourserver/myuser)
TRACE[xfsm-properties.c:555] xfsm_properties_set_uchar(): -&gt; Set uchar (_GSM_Priority, 25)
TRACE[ice-layer.c:99] ice_error_handler(): ICE connection fd = 12, ICE I/O error on connection
TRACE[xfsm-manager.c:397] xfsm_manager_handle_failed_properties(): Client Id = 25f978875-2cd3-4974-add4-019a8b875435, reached maximum attempts [Restart attempts = 6]
   Will be re-scheduled for run on next startup
TRACE[ice-layer.c:99] ice_error_handler(): ICE connection fd = 15, ICE I/O error on connection
TRACE[xfsm-manager.c:428] xfsm_manager_handle_failed_properties(): Client Id 2c64a9516-a0dd-45dd-88ea-a3cb1c82ff56 exited, removing from session.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10253522</commentid>
    <comment_count>37</comment_count>
    <who name="Hans de Goede">hdegoede</who>
    <bug_when>2017-03-20 05:19:20 -0400</bug_when>
    <thetext>There are a lot of different issues being discussed in this bug. I intend to use this bug only to track glxinfo / glxgears not working with indirect rendering (such as under x2go) for any other issues please use either an existing x2go bug or file a new bug against x2go.

The rpmfusion xorg-x11-drv-nvidia pkgs have been updated so that they will no longer conflict with a fixed mesa offering the needed libGLX_indirect.so.0 symlink. I&apos;m preparing fixed package builds for F25+ now.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10254745</commentid>
    <comment_count>38</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-20 11:06:54 -0400</bug_when>
    <thetext>mesa-17.0.1-3.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-20709e6c23</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10254749</commentid>
    <comment_count>39</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-20 11:07:25 -0400</bug_when>
    <thetext>mesa-13.0.4-3.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-a85ea344c6</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10255602</commentid>
    <comment_count>40</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-20 14:50:00 -0400</bug_when>
    <thetext>mesa-17.0.2-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-741d36d0b1</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10257906</commentid>
    <comment_count>41</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-21 01:21:23 -0400</bug_when>
    <thetext>mesa-13.0.4-3.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-a85ea344c6</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10261570</commentid>
    <comment_count>42</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-21 10:25:35 -0400</bug_when>
    <thetext>mesa-17.0.2-1.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-741d36d0b1</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10276003</commentid>
    <comment_count>43</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-24 14:55:34 -0400</bug_when>
    <thetext>mesa-13.0.4-3.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10296806</commentid>
    <comment_count>44</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-04-01 13:18:08 -0400</bug_when>
    <thetext>mesa-17.0.2-1.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
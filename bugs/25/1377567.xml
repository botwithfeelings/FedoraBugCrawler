<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1377567</bug_id>
          
          <creation_ts>2016-09-20 02:29:00 -0400</creation_ts>
          <short_desc>Kdump captures a extremely large vmcore</short_desc>
          <delta_ts>2016-10-31 03:36:59 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>kexec-tools</component>
          <version>25</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>urgent</priority>
          <bug_severity>urgent</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1379192</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Tong Li">tonli</reporter>
          <assigned_to name="Pratyush Anand">panand</assigned_to>
          <cc>bhe</cc>
    
    
    <cc>kdump-team-bugs</cc>
    
    
    <cc>ruyang</cc>
    
    
    <cc>tonli</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>kexec-tools-2.0.13-7.fc25</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-10-31 03:36:59</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9724666</commentid>
    <comment_count>0</comment_count>
      <attachid>1202714</attachid>
    <who name="Tong Li">tonli</who>
    <bug_when>2016-09-20 02:29:10 -0400</bug_when>
    <thetext>Created attachment 1202714
kdump&apos;s configuration

Description of problem:

Kdump captures a extremely large vmcore after a crash, which is several GBs.

Version-Release number of selected component (if applicable):

kexec-tools-2.0.13-5.fc26.x86_64
kernel-4.8.0-0.rc6.git4.1.fc26.x86_64

How reproducible:


Steps to Reproduce:
1.echo c &gt; /proc/sysrq-trigger
2.
3.

Actual results:

A vmcore file of several GBs

Expected results:

A vmcore file whose size is under 100M

Additional info:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9821523</commentid>
    <comment_count>1</comment_count>
    <who name="Dave Young">ruyang</who>
    <bug_when>2016-10-25 22:48:50 -0400</bug_when>
    <thetext>Fedora 25 kernel enabled kaslr by default so kdump default config does not work, Pratyush has patches to fix it, it will be likely accepted by upstream soon.

So we should fix it in F25 compose.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9825596</commentid>
    <comment_count>2</comment_count>
    <who name="Dave Young">ruyang</who>
    <bug_when>2016-10-27 03:23:37 -0400</bug_when>
    <thetext>https://bodhi.fedoraproject.org/updates/kexec-tools-2.0.13-7.fc25</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9829849</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-10-28 10:55:08 -0400</bug_when>
    <thetext>kexec-tools-2.0.13-7.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-7a0e28b12e</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9832629</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-10-31 03:36:59 -0400</bug_when>
    <thetext>kexec-tools-2.0.13-7.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>1202714</attachid>
            <date>2016-09-20 02:29:00 -0400</date>
            <delta_ts>2016-09-20 02:29:10 -0400</delta_ts>
            <desc>kdump&apos;s configuration</desc>
            <filename>file_1377567.txt</filename>
            <type>text/plain</type>
            <size>71</size>
            <attacher name="Tong Li">tonli</attacher>
            
              <data encoding="base64">cGF0aCAvdmFyL2NyYXNoDQpjb3JlX2NvbGxlY3RvciBtYWtlZHVtcGZpbGUgLWwgLS1tZXNzYWdl
LWxldmVsIDEgLWQgMzE=
</data>

          </attachment>
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1332873</bug_id>
          
          <creation_ts>2016-05-04 05:11:00 -0400</creation_ts>
          <short_desc>X1 Yoga: Rotation sensor not working</short_desc>
          <delta_ts>2017-01-15 16:21:21 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>kernel</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Robert de Rooy">rderooy</reporter>
          <assigned_to name="Kernel Maintainer List">kernel-maint</assigned_to>
          <cc>gansalmon</cc>
    
    
    <cc>itamar</cc>
    
    
    <cc>jonathan</cc>
    
    
    <cc>kernel-maint</cc>
    
    
    <cc>madhu.chinakonda</cc>
    
    
    <cc>mchehab</cc>
    
    
    <cc>rderooy</cc>
    
    
    <cc>steven.nfd+rhb</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-01-15 16:21:21</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9290993</commentid>
    <comment_count>0</comment_count>
    <who name="Robert de Rooy">rderooy</who>
    <bug_when>2016-05-04 05:11:48 -0400</bug_when>
    <thetext>Description of problem:
ThinkPad X1 Yoga.
On Fedora 24 (but also 23), automatic rotation based on sensors is not working. Gnome shows the button to block rotation, so it somehow detects the capability.

Version-Release number of selected component (if applicable):
kernel-4.5.2-302.fc24.x86_64

How reproducible:
Boot Fedora 23 or 24 on an X1 Yoga, and try to rotate the system

Steps to Reproduce:
1. Boot F23 or F24 on an X1 Yoga
2. Rotate system
3.

Actual results:
No rotation when rotating the ThinkPad

Expected results:
Automatic rotation

Additional info:
There is no /sys/bus/iio by default, and lsusb does not show any sensors either.
No syslog messages when trying to rotate either.

$ dmesg |grep -i thinkpad
[    4.384628] thinkpad_acpi: ThinkPad ACPI Extras v0.25
[    4.384630] thinkpad_acpi: http://ibm-acpi.sf.net/
[    4.384632] thinkpad_acpi: ThinkPad BIOS N1FET40W (1.14 ), EC unknown
[    4.384633] thinkpad_acpi: Lenovo ThinkPad X1 Carbon 4th, model 20FQ003XMH
[    4.387537] thinkpad_acpi: detected a 8-level brightness capable ThinkPad
[    4.387566] thinkpad_acpi: radio switch found; radios are enabled
[    4.387582] thinkpad_acpi: This ThinkPad has standard ACPI backlight brightness control, supported by the ACPI video driver
[    4.387583] thinkpad_acpi: Disabling thinkpad-acpi brightness events by default...
[    4.395748] thinkpad_acpi: rfkill switch tpacpi_bluetooth_sw: radio is unblocked
[    4.397636] thinkpad_acpi: rfkill switch tpacpi_wwan_sw: radio is unblocked
[    4.411642] thinkpad_acpi: Standard ACPI backlight interface available, not loading native one
[    4.414008] input: ThinkPad Extra Buttons as /devices/platform/thinkpad_acpi/input/input14</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9738806</commentid>
    <comment_count>1</comment_count>
    <who name="Laura Abbott">labbott</who>
    <bug_when>2016-09-23 15:14:09 -0400</bug_when>
    <thetext>*********** MASS BUG UPDATE **************
 
We apologize for the inconvenience.  There is a large number of bugs to go through and several of them have gone stale.  Due to this, we are doing a mass bug update across all of the Fedora 24 kernel bugs.
 
Fedora 24 has now been rebased to 4.7.4-200.fc24.  Please test this kernel update (or newer) and let us know if you issue has been resolved or if it is still present with the newer kernel.
 
If you have moved on to Fedora 25, and are still experiencing this issue, please change the version to Fedora 25.
 
If you experience different issues, please open a new bug report for those.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9815992</commentid>
    <comment_count>2</comment_count>
    <who name="Robert de Rooy">rderooy</who>
    <bug_when>2016-10-24 12:50:21 -0400</bug_when>
    <thetext>same issue with F25, does not work with xorg or wayland desktop</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10064499</commentid>
    <comment_count>3</comment_count>
    <who name="Robert de Rooy">rderooy</who>
    <bug_when>2017-01-15 16:21:21 -0500</bug_when>
    <thetext>Rotation sensor now works with the just released 4.9 kernel update in Fedora 25. Although it does cause a momentary black screen between switches, even when logging in through GDM and not moving the ThinkPad.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
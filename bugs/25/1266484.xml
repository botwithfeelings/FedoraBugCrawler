<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1266484</bug_id>
          
          <creation_ts>2015-09-25 08:03:00 -0400</creation_ts>
          <short_desc>spice + fedora wayland VM + spice-vdagent + resize-guest == flickering display</short_desc>
          <delta_ts>2016-11-16 06:27:27 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>qemu</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          <see_also>https://bugzilla.redhat.com/show_bug.cgi?id=1374028</see_also>
    
    
    
    <see_also>https://bugzilla.redhat.com/show_bug.cgi?id=1375504</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>AcceptedBlocker https://fedoraproject.org/wiki/Common_F25_bugs#boxes-flickering</status_whiteboard>
          <keywords>CommonBugs, Reopened</keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1277927</blocked>
    
    
    <blocked>1277289</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="J. Haas">jonha87</reporter>
          <assigned_to name="Fedora Virtualization Maintainers">virt-maint</assigned_to>
          <cc>amit.shah</cc>
    
    
    <cc>anass.1430</cc>
    
    
    <cc>berrange</cc>
    
    
    <cc>cfergeau</cc>
    
    
    <cc>chmelarz</cc>
    
    
    <cc>crobinso</cc>
    
    
    <cc>david</cc>
    
    
    <cc>dwmw2</cc>
    
    
    <cc>gansalmon</cc>
    
    
    <cc>gdubreui</cc>
    
    
    <cc>gmarr</cc>
    
    
    <cc>hdegoede</cc>
    
    
    <cc>ichavero</cc>
    
    
    <cc>itamar</cc>
    
    
    <cc>jean-baptiste</cc>
    
    
    <cc>jforbes</cc>
    
    
    <cc>jfrieben</cc>
    
    
    <cc>jonathan</cc>
    
    
    <cc>jonha87</cc>
    
    
    <cc>juliux.pigface</cc>
    
    
    <cc>kernel-maint</cc>
    
    
    <cc>kparal</cc>
    
    
    <cc>madhu.chinakonda</cc>
    
    
    <cc>marcandre.lureau</cc>
    
    
    <cc>martin</cc>
    
    
    <cc>mcatanzaro</cc>
    
    
    <cc>mchehab</cc>
    
    
    <cc>nekohayo</cc>
    
    
    <cc>pavel.sklenak</cc>
    
    
    <cc>pbonzini</cc>
    
    
    <cc>pfrields</cc>
    
    
    <cc>pgrunt</cc>
    
    
    <cc>pschindl</cc>
    
    
    <cc>psmis</cc>
    
    
    <cc>reklov</cc>
    
    
    <cc>rhbz2</cc>
    
    
    <cc>rhefner</cc>
    
    
    <cc>rjones</cc>
    
    
    <cc>robatino</cc>
    
    
    <cc>sandmann</cc>
    
    
    <cc>virt-maint</cc>
    
    
    <cc>vondruch</cc>
    
    
    <cc>xgl-maint</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>qemu-2.7.0-6.fc25</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-10-22 00:00:18</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          <external_bugs name="FreeDesktop.org">94950</external_bugs>
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>8668947</commentid>
    <comment_count>0</comment_count>
    <who name="J. Haas">jonha87</who>
    <bug_when>2015-09-25 08:03:01 -0400</bug_when>
    <thetext>Description of problem:

Situation: Fedora 22 host with Fedora 23 Beta guest system using Boxes as virtualization software.

When spice-vdagent is installed on the guest and you start a wayland session on the guest (or just use gdm which uses wayland by default) the screen flickers every second or so, because apparently spice-vdagent wants to resize the screen but the guest screen shize already has the desired size of the host window.

Version-Release number of selected component (if applicable):
0.16.0-1-fc23

How reproducible:
Always

Steps to Reproduce:
1. Install Fedora 22
2. use Boxes to create a Fedora 23 Beta Workstation Guest using live iso
3. Launch wayland session on guest

Actual results:

Screen flickers and it&apos;s unusable until you remove spice-vdagent

Expected results:

Guest working fine</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8690104</commentid>
    <comment_count>1</comment_count>
    <who name="Giulio &apos;juliuxpigface&apos;">juliux.pigface</who>
    <bug_when>2015-10-04 09:04:53 -0400</bug_when>
    <thetext>I&apos;ve encountered this with virt-manager too.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8690180</commentid>
    <comment_count>2</comment_count>
    <who name="Pavel Grunt">pgrunt</who>
    <bug_when>2015-10-04 12:36:47 -0400</bug_when>
    <thetext>it is ok with virt-viewer / remote-viewer</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8692358</commentid>
    <comment_count>3</comment_count>
    <who name="Pavel Grunt">pgrunt</who>
    <bug_when>2015-10-05 10:30:03 -0400</bug_when>
    <thetext>The issue is related to the &apos;resize-guest&apos; property of the spice display widget. Attempts to resize only happen when the spice-vdagent is running, that&apos;s why the issue disappears.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8750692</commentid>
    <comment_count>4</comment_count>
    <who name="Pavel Grunt">pgrunt</who>
    <bug_when>2015-10-23 15:38:52 -0400</bug_when>
    <thetext>Patch posted: http://lists.freedesktop.org/archives/spice-devel/2015-October/022730.html</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9057582</commentid>
    <comment_count>5</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-02-13 05:44:28 -0500</bug_when>
    <thetext>Heavy flickering for (current) Fedora 23 Wayland guest in a (current) Fedora 23 host making the desktop completely unusable.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9154615</commentid>
    <comment_count>6</comment_count>
    <who name="Cole Robinson">crobinso</who>
    <bug_when>2016-03-16 19:12:09 -0400</bug_when>
    <thetext>Pavel, did this patch ever make it upstream? I don&apos;t see it in git</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9163877</commentid>
    <comment_count>7</comment_count>
    <who name="Pavel Grunt">pgrunt</who>
    <bug_when>2016-03-21 05:11:57 -0400</bug_when>
    <thetext>It didn&apos;t. I will look into it again..

scratch build containing the patch:
http://koji.fedoraproject.org/koji/taskinfo?taskID=13408204</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9165466</commentid>
    <comment_count>8</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-03-21 11:59:30 -0400</bug_when>
    <thetext>(In reply to Pavel Grunt from comment #7)
The patched package works as extended, thanks! Please ship a build for Fedora 24, too.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9165472</commentid>
    <comment_count>9</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-03-21 12:01:12 -0400</bug_when>
    <thetext>(In reply to Pavel Grunt from comment #7)
The patched package works as intended, thanks! Please ship a build for Fedora 24, too.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9170579</commentid>
    <comment_count>10</comment_count>
      <attachid>1139230</attachid>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-03-22 16:42:01 -0400</bug_when>
    <thetext>Created attachment 1139230
Patch for spice-gtk-0.31-1.fc24 in order to avoid wayland guest flickering

Wayland guest flickering likewise affects current Fedora 24 with package spice-gtk3-0.31-1.fc24. The attached patch applies the changes from comment 4 to the latter.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9185010</commentid>
    <comment_count>11</comment_count>
    <who name="Mike McCune">mmccune</who>
    <bug_when>2016-03-28 19:16:15 -0400</bug_when>
    <thetext>This bug was accidentally moved from POST to MODIFIED via an error in automation, please see mmccune@redhat.com with any questions</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9243736</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-18 03:46:54 -0400</bug_when>
    <thetext>spice-gtk-0.30-2.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-88264ad5cc</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9243760</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-18 03:57:02 -0400</bug_when>
    <thetext>spice-gtk-0.31-2.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-c7ad5f2566</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9248202</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-18 14:51:21 -0400</bug_when>
    <thetext>spice-gtk-0.31-2.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-c7ad5f2566</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9248305</commentid>
    <comment_count>15</comment_count>
    <who name="J. Haas">jonha87</who>
    <bug_when>2016-04-18 15:24:15 -0400</bug_when>
    <thetext>Are we supposed to update the guest or the host (or both)? Updating the host to spice-gtk-0.30-2.fc23 didn&apos;t cause any improvements. Guest is currently using latest rawhide.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9248415</commentid>
    <comment_count>16</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-04-18 16:13:55 -0400</bug_when>
    <thetext>The patch added in spice-gtk-0.31-2.fc24 differs from that applied in the koji sratch build with task ID 13408204 introduced in comment 7, and unlike the former, it has -no- effect.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9248431</commentid>
    <comment_count>17</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-04-18 16:20:12 -0400</bug_when>
    <thetext>(In reply to J. Haas from comment #15)
Updating the host system is both necessary and sufficient. Alas, the working scratch build from comment 7 has been removed from koji in the meantime.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9248961</commentid>
    <comment_count>18</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-18 22:23:31 -0400</bug_when>
    <thetext>spice-gtk-0.30-2.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-88264ad5cc</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9270975</commentid>
    <comment_count>19</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-26 16:53:41 -0400</bug_when>
    <thetext>spice-gtk-0.30-2.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9271793</commentid>
    <comment_count>20</comment_count>
    <who name="J. Haas">jonha87</who>
    <bug_when>2016-04-27 00:58:40 -0400</bug_when>
    <thetext>Bug is not fixed in spice-gtk-0.30-2.fc23.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9271810</commentid>
    <comment_count>21</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-04-27 01:13:02 -0400</bug_when>
    <thetext>Issue has reported anew as bug 1330824 for Fedora 24 (should also cover Fedora 23).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9271951</commentid>
    <comment_count>22</comment_count>
    <who name="Christophe Fergeau">cfergeau</who>
    <bug_when>2016-04-27 02:39:51 -0400</bug_when>
    <thetext>Yeah, sorry about that, I pushed the update to stable by mistake, I thought I cancelled, but apparently this failed ;)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9272368</commentid>
    <comment_count>23</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-04-27 05:13:16 -0400</bug_when>
    <thetext>Unless I am wrong, it is not correct to reopen a bug report closed with resolution ERRATA. Therefore, I have filed bug 1330824, albeit for Fedora 24.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9286137</commentid>
    <comment_count>24</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-05-02 17:19:05 -0400</bug_when>
    <thetext>(In reply to Pavel Grunt from comment #4)

Please keep in mind that the -successful- scratch build

  http://koji.fedoraproject.org/koji/taskinfo?taskID=13408204

did -not- include the faulty patch committed upstream at

  https://cgit.freedesktop.org/spice/spice-gtk/commit/?id=ec6bfc00f81afddbdcc0fac86d7039385d89c6b6

but rather the modification suggested in message http://lists.freedesktop.org/archives/spice-devel/2015-October/022730.html.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9301493</commentid>
    <comment_count>25</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-07 08:07:07 -0400</bug_when>
    <thetext>spice-gtk-0.31-2.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9301614</commentid>
    <comment_count>26</comment_count>
    <who name="J. Haas">jonha87</who>
    <bug_when>2016-05-07 09:10:54 -0400</bug_when>
    <thetext>Reopened again, as spice-gtk-0.31-2.fc24 is still affected. If you want to use the other bug feel free to close this again.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9377440</commentid>
    <comment_count>27</comment_count>
    <who name="Cole Robinson">crobinso</who>
    <bug_when>2016-06-01 10:09:20 -0400</bug_when>
    <thetext>

*** This bug has been marked as a duplicate of bug 1330824 ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9377447</commentid>
    <comment_count>28</comment_count>
    <who name="Cole Robinson">crobinso</who>
    <bug_when>2016-06-01 10:10:17 -0400</bug_when>
    <thetext>*** Bug 1330824 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9377451</commentid>
    <comment_count>29</comment_count>
    <who name="Cole Robinson">crobinso</who>
    <bug_when>2016-06-01 10:11:56 -0400</bug_when>
    <thetext>FWIW I can still reproduce with virt-manager and spice-gtk3-0.31-2.fc24.x86_64, so like Joachim said there must be something wrong with the backport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9393347</commentid>
    <comment_count>30</comment_count>
    <who name="Gilles Dubreuil">gdubreui</who>
    <bug_when>2016-06-07 05:12:22 -0400</bug_when>
    <thetext>FYI, I cannot reproduce the issue, using Fedora 22 (spice-gtk3-0.30-1.fc22.x86_64) or either RHEL7.2 (spice-gtk3-0.26-5.el7.x86_64) hosts with Fedora 24 guest (spice-vdagent-0.16.0-3.fc24.x86_64).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9437968</commentid>
    <comment_count>31</comment_count>
    <who name="Martin Stefany">martin</who>
    <bug_when>2016-06-21 14:59:15 -0400</bug_when>
    <thetext>I can report it&apos;s still happening on Fedora 24 (just-released) guest on CentOS/RHEL7.2 host.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9447439</commentid>
    <comment_count>32</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-06-23 12:34:25 -0400</bug_when>
    <thetext>Issue still present for the latest rawhide update spice-gtk-0.32-1.fc25.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9519146</commentid>
    <comment_count>33</comment_count>
    <who name="David Strauss">david</who>
    <bug_when>2016-07-18 17:17:53 -0400</bug_when>
    <thetext>Still seeing this with a Fedora 24 guest.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9583854</commentid>
    <comment_count>34</comment_count>
    <who name="Pavel Grunt">pgrunt</who>
    <bug_when>2016-08-04 03:12:13 -0400</bug_when>
    <thetext>Hi, I took a look into DRM_QXL help:
 QXL virtual GPU for Spice virtualization desktop integration.
 Do not enable this driver unless your distro ships a corresponding 
 X.org QXL driver that can handle kernel modesetting.

So has Fedora running GNOME on Wayland X.org QXL driver that can handle kernel modesetting ?

workaround (solution?):
I also found out that virtio graphic doesn&apos;t have this flickering problem and support features like automatic resizing. Please switch from Video QXL to Video virtio. You can use `virsh edit` or virt-manager for it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9584360</commentid>
    <comment_count>35</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-08-04 06:02:23 -0400</bug_when>
    <thetext>Component xorg-x11-drv-qxl is clearly not the right one, because it is used by Xorg alone and -never- by Xwayland. Kernel modesetting in both cases is provided by the kernel DRM modules, here

  /usr/lib/modules/`uname -r`/kernel/drivers/gpu/drm/qxl/qxl.ko.xz .

I would rather think that the default graphics device in QEMU needs to be set to virtio-gpu.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9585031</commentid>
    <comment_count>36</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-08-04 09:06:07 -0400</bug_when>
    <thetext>(In reply to Pavel Grunt from comment #34)
Using virgl instead of QXL indeed suppresses screen flicker. Instructions can be found at http://www.spice-space.org/spice-user-manual.html. To summarize:

&quot;You need to add a virtio-gpu video device to your virtual machine instead of QXL.

&lt;video&gt;
  &lt;model type=&apos;virtio&apos; heads=&apos;1&apos;&gt;
    &lt;acceleration accel3d=&apos;yes&apos;/&gt;
  &lt;/model&gt;
&lt;/video&gt;

Then you need to enable OpenGL on your SPICE graphics node:

&lt;graphics type=&apos;spice&apos; autoport=&apos;no&apos;&gt;
  &lt;gl enable=&apos;yes&apos;/&gt;
&lt;/graphics&gt;&quot;.

Running a Fedora 24 guest on a Fedora 25 host, the machine fails to start up in enforcing mode because of bug 1364075. After switching to permissive mode, the virtual machine starts up as expected, and virgl direct rendering is enabled:

&quot;..
 Extended renderer info (GLX_MESA_query_renderer):
     Vendor: Red Hat (0x1af4)
     Device: virgl (0x1010)
     Version: 12.0.1
     Accelerated: yes
 ..&quot;

However, as long as QXL is configured as the default device, comment 34 provides nothing more than a workaround. I do recall that the flicker issue -was- successfully settled as per comment 7, but the patch was not applied correctly upstream. 
With a private patched build of spice-gtk-0.31, I have been able to run flicker-free GNOME on Wayland guest sessions with QXL on Fedora 24 and Fedora 25 host systems ever since.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9585213</commentid>
    <comment_count>37</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-08-04 09:38:33 -0400</bug_when>
    <thetext>(In reply to Pavel Grunt from comment #34)
Using virgl with direct rendering seems to be fairly unstable and resizing also does not seem to work. The results reported in comment 34 may rather refer to virgl w/o direct rendering. This mode can be obtained by setting &lt;gl enable=no&apos;/&gt;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9585241</commentid>
    <comment_count>38</comment_count>
    <who name="Pavel Grunt">pgrunt</who>
    <bug_when>2016-08-04 09:44:49 -0400</bug_when>
    <thetext>(In reply to Joachim Frieben from comment #37)
&gt; (In reply to Pavel Grunt from comment #34)
&gt; Using virgl with direct rendering seems to be fairly unstable and resizing
&gt; also does not seem to work. 
Works fine in my system
&gt; The results reported in comment 34 may rather
&gt; refer to virgl w/o direct rendering. This mode can be obtained by setting
&gt; &lt;gl enable=no&apos;/&gt;.

I didn&apos;t mention virgl in my comment.

Changing video node (using `virsh edit`) to:

    &lt;video&gt;
      &lt;model type=&apos;virtio&apos; heads=&apos;1&apos; primary=&apos;yes&apos;/&gt;
    &lt;/video&gt;

is enough</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9678745</commentid>
    <comment_count>39</comment_count>
    <who name="Fedora Blocker Bugs Application">blockerbugs</who>
    <bug_when>2016-09-05 03:49:06 -0400</bug_when>
    <thetext>Proposed as a Blocker for 25-final by Fedora user jonha using the blocker tracking app because:

 Violates the following criterion for the Gnome Boxes app:

&quot;All applications that can be launched using the standard graphical mechanism of a release-blocking desktop after a default installation of that desktop must start successfully and withstand a basic functionality test. &quot;

I&apos;d consider creating and using a Fedora 25 guest the most basic functionality test and if the screen is flickering every second or so, it&apos;s clearly not usable at all.

Alternatively could block on the &quot; Guest on current stable release &quot; beta criterion.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9696193</commentid>
    <comment_count>40</comment_count>
    <who name="Michael Catanzaro">mcatanzaro</who>
    <bug_when>2016-09-10 11:34:53 -0400</bug_when>
    <thetext>FWIW I agree with the blocker status: this bug makes it extremely difficult to use Fedora in Boxes VMs. Good luck so much as launching an app, because the shell overview gets dismissed every second when the flicker occurs, so you need to be very fast with the mouse in order to launch anything from favorites with the mouse. I haven&apos;t been able to start any app not in favorites, because it&apos;s too far to go with the mouse and I can&apos;t type a search quickly enough.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9696264</commentid>
    <comment_count>41</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-09-10 14:23:04 -0400</bug_when>
    <thetext>(In reply to Michael Catanzaro from comment #40)
I have resorted to either switching to virtio-gpu or simply launching the virtual machine in &quot;basic graphics mode&quot; which amounts to adding &quot;nomodeset&quot; to the kernel boot options.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9696316</commentid>
    <comment_count>42</comment_count>
    <who name="Pavel Grunt">pgrunt</who>
    <bug_when>2016-09-10 16:40:15 -0400</bug_when>
    <thetext>Boxes can/should create vms with the virtio graphics which works fine with wayland and (compared to qxl) it supports 3D.

There are patches upstream for that, see https://bugzilla.gnome.org/show_bug.cgi?id=762727</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9696385</commentid>
    <comment_count>43</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-09-10 17:09:39 -0400</bug_when>
    <thetext>(In reply to Pavel Grunt from comment #42)
Video device QXL is a valid choice which needs to be supported even in the hypothetic case where virtio-gpu became the default virtual video device. Currently, using video device virtio-gpu requires manual editing of some XML file which can only be considered a workaround for advanced users.

In current Fedora 24, VirGL 3D is inhibited by gnome-boxes which has been reported in bug 1367660; because of bug 1337333, VirGL 3D can only be used in permissive SELinux mode in both of Fedora 24 and Fedora 25 which is definitely a showstopper.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9700486</commentid>
    <comment_count>44</comment_count>
    <who name="">psmis</who>
    <bug_when>2016-09-12 16:18:45 -0400</bug_when>
    <thetext>*** Bug 1372434 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9701046</commentid>
    <comment_count>45</comment_count>
    <who name="Geoffrey Marr">gmarr</who>
    <bug_when>2016-09-12 22:57:13 -0400</bug_when>
    <thetext>Discussed during the 2016-09-12 blocker review meeting: [1]

The decision to delay the classification of this as a bug was made as we&apos;re not entirely clear on the circumstances in which this bug happens or the difficulty of the workaround(s); more information is required before any classification can be made.

[1] https://meetbot.fedoraproject.org/fedora-blocker-review/2016-09-12/f25-blocker-review.2016-09-12-16.01.txt</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9701657</commentid>
    <comment_count>46</comment_count>
    <who name="J. Haas">jonha87</who>
    <bug_when>2016-09-13 03:56:54 -0400</bug_when>
    <thetext>To clarify a few points from the blocker meeting:

- It doesn&apos;t matter if the host uses Wayland or X11, what&apos;s important is that the guest uses Wayland.

- Still reproducible using a F25 Alpha 2 Workstation (Wayland) guest on a standard up-to-date F24 Workstation (X11) host.

- Still reproducible using a live F25 Alpha 2 Workstation (Wayland) guest on a live F25 Alpha 2 Workstation host (Wayland)

Tried on multiple systems, not sure why you couldn&apos;t reproduce this.

Bad screencast: http://webm.land/w/cZJP/

The flickering isn&apos;t really visible and it&apos;s subtle anyway, but it will &quot;defocus&quot; all applications and close the application launcher (if it&apos;s open) every second or so.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9701767</commentid>
    <comment_count>47</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-09-13 04:31:24 -0400</bug_when>
    <thetext>(In reply to J. Haas from comment #46)
This issue is easily reproducible as outlined in muliple comments to this bug report. Now that Fedora 25 is launching a &quot;GNOME&quot; (on Wayland) session by default, it has essentially become inescapable. It is sufficient to boot from a Fedora 25 live image prior or equal to Fedora-Workstation-Live-x86_64-25-20160909.n.0.
Because of bug 1374028 which causes a failure of Xwayland and Xorg to be used forcibly instead in a virtual machine using the QXL video device, live images equal or later than Fedora-Workstation-Live-x86_64-25-20160910.n.0 do -not- exhibit any flicker. This may currently mislead a thoughtless observer.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9702124</commentid>
    <comment_count>48</comment_count>
    <who name="Kamil Páral">kparal</who>
    <bug_when>2016-09-13 06:01:38 -0400</bug_when>
    <thetext>(In reply to Joachim Frieben from comment #47)
&gt; Because of bug 1374028 which causes a failure of Xwayland and Xorg to be
&gt; used forcibly instead in a virtual machine using the QXL video device, live
&gt; images equal or later than Fedora-Workstation-Live-x86_64-25-20160910.n.0 do
&gt; -not- exhibit any flicker. This may currently mislead a thoughtless observer.

This was the critical piece of information. I tried with Fedora-Workstation-Live-x86_64-25-20160907.n.0.iso, and yes, the flicker is there and gnome overview is unusable (can be reproduced just booting the livecd).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9702664</commentid>
    <comment_count>49</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-09-13 08:34:04 -0400</bug_when>
    <thetext>Assignee: this appears to be a QXL/KMS issue showing up in a Wayland session, and the Xorg driver package xorg-x11-drv-qxl has simply nothing to do with it.
What about eventually setting the component to package kernel then?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9707791</commentid>
    <comment_count>50</comment_count>
    <who name="Christophe Fergeau">cfergeau</who>
    <bug_when>2016-09-14 11:22:33 -0400</bug_when>
    <thetext>(In reply to Kamil Páral from comment #48)
&gt; This was the critical piece of information. I tried with
&gt; Fedora-Workstation-Live-x86_64-25-20160907.n.0.iso, and yes, the flicker is
&gt; there and gnome overview is unusable (can be reproduced just booting the
&gt; livecd).

Where would I get this image? I tried installing the latest one, and then downgrading mutter/gnome-shell to avoid bug #1374028, I think my session is a wayland one (gnome-shell is running as a child of /usr/libexec/gdm-wayland-session gnome-session) but I&apos;m not seeing flickering (f24 host).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9708041</commentid>
    <comment_count>51</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-09-14 12:23:26 -0400</bug_when>
    <thetext>(In reply to Christophe Fergeau from comment #50)
You can grab the latest working image at https://kojipkgs.fedoraproject.org/packages/Fedora-Workstation-Live/25/20160909.n.0/images/Fedora-Workstation-Live-x86_64-25-20160909.n.0.iso unless you prefer to use the live media of Fedora Workstation 25 Alpha which should also do the job.
Once the live session is running, check whether a process Xwayland or a process Xorg is running - that is all you need to know ..</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9710274</commentid>
    <comment_count>52</comment_count>
    <who name="Kamil Páral">kparal</who>
    <bug_when>2016-09-15 04:46:09 -0400</bug_when>
    <thetext>(In reply to Christophe Fergeau from comment #50)
&gt; Where would I get this image? 

https://kojipkgs.fedoraproject.org/compose/branched/Fedora-25-20160907.n.0/compose/Workstation/x86_64/iso/Fedora-Workstation-Live-x86_64-25-20160907.n.0.iso

&gt; I tried installing the latest one, and then
&gt; downgrading mutter/gnome-shell to avoid bug #1374028, I think my session is
&gt; a wayland one (gnome-shell is running as a child of
&gt; /usr/libexec/gdm-wayland-session gnome-session) but I&apos;m not seeing
&gt; flickering (f24 host).

You can identify the type of session like this:
https://fedoraproject.org/wiki/How_to_debug_Wayland_problems#Identifying_the_session_type_in_runtime</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9722356</commentid>
    <comment_count>53</comment_count>
    <who name="Petr Schindler">pschindl</who>
    <bug_when>2016-09-19 13:35:59 -0400</bug_when>
    <thetext>Discussed at 2016-09-19 blocker review meeting: [1]. 

We decided to punt the decision: Currently F25 uses X11 in Boxes, but should the switch to Wayland be made in the future, this will inhibit the user from launching applications. If Wayland is confirmed, we will classify this bug as an AcceptedBlocker, but until then we will wait on any decision.

[1] https://meetbot-raw.fedoraproject.org/fedora-blocker-review/2016-09-19/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9722505</commentid>
    <comment_count>54</comment_count>
    <who name="Michael Catanzaro">mcatanzaro</who>
    <bug_when>2016-09-19 14:19:42 -0400</bug_when>
    <thetext>(In reply to Petr Schindler from comment #53)
&gt; If Wayland is confirmed, we will classify this bug
&gt; as an AcceptedBlocker, but until then we will wait on any decision.

We haven&apos;t announced this anywhere besides the Workstation meeting notes yet, but the final vote was made last Wednesday and it was unanimous to stick with Wayland. So: confirmed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9724976</commentid>
    <comment_count>55</comment_count>
    <who name="Kamil Páral">kparal</who>
    <bug_when>2016-09-20 04:02:20 -0400</bug_when>
    <thetext>(In reply to Michael Catanzaro from comment #54)
&gt; We haven&apos;t announced this anywhere besides the Workstation meeting notes
&gt; yet, but the final vote was made last Wednesday and it was unanimous to
&gt; stick with Wayland. So: confirmed.

This was not about the default display stack overall, but the display stack used *in Boxes*. Currently Boxes default to X11 probably due to 1374028. If that gets resolved and Boxes start booting F25 under wayland, this will be a blocker.

Changing component to something more appropriate per comment 49.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9725038</commentid>
    <comment_count>56</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-09-20 04:21:03 -0400</bug_when>
    <thetext>(In reply to Kamil Páral from comment #55)
With the latest bunch of GNOME updates from a few days ago including mutter-3.21.92-1.fc25, Fedora 25 defaults again correctly to session type &quot;GNOME&quot; (on Wayland) when launched in &quot;Boxes&quot; (gnome-boxes). I had added a corresponding comment in bug 1374028.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9739051</commentid>
    <comment_count>57</comment_count>
    <who name="Laura Abbott">labbott</who>
    <bug_when>2016-09-23 15:28:35 -0400</bug_when>
    <thetext>*********** MASS BUG UPDATE **************
 
We apologize for the inconvenience.  There is a large number of bugs to go through and several of them have gone stale.  Due to this, we are doing a mass bug update across all of the Fedora 23 kernel bugs.
 
Fedora 23 has now been rebased to 4.7.4-100.fc23.  Please test this kernel update (or newer) and let us know if you issue has been resolved or if it is still present with the newer kernel.
 
If you have moved on to Fedora 24 or 25, and are still experiencing this issue, please change the version to Fedora 24 or 25.
 
If you experience different issues, please open a new bug report for those.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9739163</commentid>
    <comment_count>58</comment_count>
    <who name="Michael Catanzaro">mcatanzaro</who>
    <bug_when>2016-09-23 15:36:44 -0400</bug_when>
    <thetext>Reassigning to F25 since this is a proposed F25 blocker.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9741872</commentid>
    <comment_count>59</comment_count>
    <who name="Vít Ondruch">vondruch</who>
    <bug_when>2016-09-26 04:45:12 -0400</bug_when>
    <thetext>*** Bug 1377566 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9742968</commentid>
    <comment_count>60</comment_count>
    <who name="Kamil Páral">kparal</who>
    <bug_when>2016-09-26 10:36:52 -0400</bug_when>
    <thetext>Since bug 1374028 got resolved, this is now the default behavior in Boxes (tested with Fedora-Workstation-Live-x86_64-25-20160925.n.0.iso). Setting as AcceptedBlocker per comment 53.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9744107</commentid>
    <comment_count>61</comment_count>
    <who name="Christian Stadelmann">rhbz2</who>
    <bug_when>2016-09-26 19:01:10 -0400</bug_when>
    <thetext>Can somebody confirm or deny that this bug is not only causing flicker, but also a blurness? I&apos;m seeing one on a F24→F25 upgraded physical machine (no virtual machine).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9745156</commentid>
    <comment_count>62</comment_count>
    <who name="Kamil Páral">kparal</who>
    <bug_when>2016-09-27 03:14:49 -0400</bug_when>
    <thetext>(In reply to Christian Stadelmann from comment #61)
That will likely be a different bug, please file a new one and attach screenshots and logs. Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9747807</commentid>
    <comment_count>63</comment_count>
    <who name="Justin M. Forbes">jforbes</who>
    <bug_when>2016-09-27 13:20:22 -0400</bug_when>
    <thetext>From reading the comments here, I am confused as to how this is kernel, comment #24 this was working with the scratch build to spice, but the patch in that build is not the patch that got into the release. Reassigning to spice-gtk.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9748025</commentid>
    <comment_count>64</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-09-27 14:59:11 -0400</bug_when>
    <thetext>(In reply to Justin M. Forbes from comment #63)
This issue can be attacked from either side: it is correct that there was a patch for an older version of spice-gtk which solved the issue; on the other hand, the virtio-gpu device appears to be completely unhampered and resizing works like a charm. This indicates that the root issue is actually related to the KMS properties of the video kernel module. For that reason it seems more appropriate to look at the QXL kernel module and how kernel mode setting is implemented. Tinkering with spice-gtk is possibly rather a workaround than a true solution.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9749476</commentid>
    <comment_count>65</comment_count>
    <who name="Christian Stadelmann">rhbz2</who>
    <bug_when>2016-09-28 04:56:30 -0400</bug_when>
    <thetext>(In reply to Kamil Páral from comment #62)
&gt; (In reply to Christian Stadelmann from comment #61)
&gt; That will likely be a different bug, please file a new one and attach
&gt; screenshots and logs. Thanks.

Ok, see bug #1379959.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9781390</commentid>
    <comment_count>66</comment_count>
    <who name="Cole Robinson">crobinso</who>
    <bug_when>2016-10-11 09:48:03 -0400</bug_when>
    <thetext>Pavel sent patches to upstream spice list, but they are still under discussion: https://lists.freedesktop.org/archives/spice-devel/2016-October/032555.html</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9781953</commentid>
    <comment_count>67</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-10-11 12:48:21 -0400</bug_when>
    <thetext>(In reply to Cole Robinson from comment #66)
Can anybody push a koji build of package spice-gtk applying said patch? This does not need approval by upstream, thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9786154</commentid>
    <comment_count>68</comment_count>
    <who name="Pavel Grunt">pgrunt</who>
    <bug_when>2016-10-12 16:58:30 -0400</bug_when>
    <thetext>*** Bug 1381040 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9788306</commentid>
    <comment_count>69</comment_count>
    <who name="Zdenek Chmelar">chmelarz</who>
    <bug_when>2016-10-13 08:03:40 -0400</bug_when>
    <thetext>*** Bug 1384036 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9792855</commentid>
    <comment_count>70</comment_count>
    <who name="Christophe Fergeau">cfergeau</who>
    <bug_when>2016-10-14 11:38:35 -0400</bug_when>
    <thetext>
I finally have a good grasp of what&apos;s going on, and have a QEMU patch
and a kernel patch, each of these fixing (or avoiding) this bug.

The short version of it is that nothing host/guest-side is checking
whether a monitors config message received from the client is specifying
a new configuration, and resolution changes done by mutter trigger the
blinking and the sending of a monitors config message, so we get in a
monitors config message -&gt; resolution change -&gt; monitors config message
-&gt; ... loop


Long version:
- a monitors config message is received from the client
- spice-server tells QEMU about it witout looking at its content
- QEMU raises an interrupt to let the guest know about the new config,
  and once again, does not make sure it&apos;s different from the current
  one
- the kernel QXL driver gets the new monitors configuration from QEMU
  and notifies userspace about it (as usual, no check whether there were
  actual changes)
- mutter (part of gnome-shell) gets this notification, and reconfigures
  its resolution/monitors (and you already know I&apos;m going to mention
  that it does not check if it&apos;s the same as the existing one ;)

This could be all fine and not cause any problems at all, except that
the way mutter/clutter/cogl handle the resolution change does not play
nice with the above.

The resolution change in mutter will be done with calls to drmModeRmFB,
drmModeAddFB, and drmModeSetCrtc.
The drmModeRmFB call will cause the drmModeSetCrtc call to
notify the client about a destroy/create of the primary surface, which
will schedule the sending of a monitors config message one second
later, which will cause the infinite loop with flickering.

I&apos;ve written a kernel patch for the qxl driver, and a qemu patch, each
of these patches fixes the bug on its own. They only make sure not to
notify userspace or the guest about changes in the monitor configuration
if nothing changed. This avoids this annoying loop.

Now, I don&apos;t know whether the way mutter uses the drm API is correct, or
if a fix belongs there too. I also don&apos;t know whether there is another
bug to fix in the QXL driver which would avoid this destruction/creation
of the primary surface in qxl_crtc_mode_set(). Any input there would be
welcome :)


I&apos;m planning to send these patches upstream unless there is strong disagreement
against them. In the mean time, they can probably be added to the f25
packages to avoid this annoying regression (I&apos;d go with the kernel
patch).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9792858</commentid>
    <comment_count>71</comment_count>
      <attachid>1210590</attachid>
    <who name="Christophe Fergeau">cfergeau</who>
    <bug_when>2016-10-14 11:39:32 -0400</bug_when>
    <thetext>Created attachment 1210590
Patch for the QXL kernel driver</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9792861</commentid>
    <comment_count>72</comment_count>
      <attachid>1210592</attachid>
    <who name="Christophe Fergeau">cfergeau</who>
    <bug_when>2016-10-14 11:40:12 -0400</bug_when>
    <thetext>Created attachment 1210592
QEMU patch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9794165</commentid>
    <comment_count>73</comment_count>
    <who name="Joachim Frieben">jfrieben</who>
    <bug_when>2016-10-15 03:52:07 -0400</bug_when>
    <thetext>(In reply to Christophe Fergeau from comment #71)
Thanks a lot for your great work!

1. The patch from comment 71 applies cleanly and solves the issue successfully.
2. This seems to confirm my comment 64 that the root cause was in the QXL kernel driver (remember that the virtio-gpu video device was not hampered by this issue at all), and that tinkering with spice-gtk etc. was rather a workaround than a proper solution. I therefore strongly recommend dropping the QEMU patch altogether and retaining the kernel patch from comment 71 alone.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9798928</commentid>
    <comment_count>74</comment_count>
    <who name="Cole Robinson">crobinso</who>
    <bug_when>2016-10-17 19:36:03 -0400</bug_when>
    <thetext>I&apos;ll do a qemu build tomorrow to pull in Christophe&apos;s qemu patch. I&apos;ve filed a separate bug to track pulling in the kernel fix:

https://bugzilla.redhat.com/show_bug.cgi?id=1385956</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9809694</commentid>
    <comment_count>75</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-10-20 18:56:28 -0400</bug_when>
    <thetext>qemu-2.7.0-6.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-190e517826</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9812320</commentid>
    <comment_count>76</comment_count>
    <who name="Anass Ahmed">anass.1430</who>
    <bug_when>2016-10-21 15:23:50 -0400</bug_when>
    <thetext>After the last update, I&apos;ve booted F25 Alpha to GNOME Boxes and it finally works without flickering.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9812764</commentid>
    <comment_count>77</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-10-22 00:00:18 -0400</bug_when>
    <thetext>qemu-2.7.0-6.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9813169</commentid>
    <comment_count>78</comment_count>
    <who name="jibecfed">jean-baptiste</who>
    <bug_when>2016-10-22 12:03:28 -0400</bug_when>
    <thetext>hi, thank for your work, but the issue isn&apos;t fixed for me. Host and guest are up to date. Here is a short video:
https://jibecfed.fedorapeople.org/partage/Capture%20d&apos;%c3%a9cran%20vid%c3%a9o%20de%2022-10-2016%2017:57:54.webm</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9813170</commentid>
    <comment_count>79</comment_count>
    <who name="Anass Ahmed">anass.1430</who>
    <bug_when>2016-10-22 12:06:48 -0400</bug_when>
    <thetext>(In reply to jibecfed from comment #78)
&gt; hi, thank for your work, but the issue isn&apos;t fixed for me. Host and guest
&gt; are up to date. Here is a short video:
&gt; https://jibecfed.fedorapeople.org/partage/
&gt; Capture%20d&apos;%c3%a9cran%20vid%c3%a9o%20de%2022-10-2016%2017:57:54.webm

The problem is not in qemu which is inside the guest, it&apos;s in the qemu of the host.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9825073</commentid>
    <comment_count>80</comment_count>
    <who name="Jean-François Fortin Tam">nekohayo</who>
    <bug_when>2016-10-26 22:12:51 -0400</bug_when>
    <thetext>&gt; The problem is not in qemu which is inside the guest,
&gt; it&apos;s in the qemu of the host.

I have a fully updated fedora 24 host with a fully updated fedora 25 guest in gnome-boxes, and the problem still occurs. Why was it closed if there was only an update to the qemu package in &quot;fc25&quot; (from what it seems in comment 77)?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9825437</commentid>
    <comment_count>81</comment_count>
    <who name="J. Haas">jonha87</who>
    <bug_when>2016-10-27 02:05:28 -0400</bug_when>
    <thetext>I also want to ask if this fix can be included in Fedora 24. Launching F25 on a F24 host seems to be a common use case for testing the new release for example.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9825611</commentid>
    <comment_count>82</comment_count>
    <who name="Kamil Páral">kparal</who>
    <bug_when>2016-10-27 03:29:59 -0400</bug_when>
    <thetext>There seems to be an update for F24 claiming to fix this in updates-testing repo:
https://bodhi.fedoraproject.org/updates/FEDORA-2016-9f5fc14b30

Can you try, and add karma if it fixes the problem for you? Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9846228</commentid>
    <comment_count>83</comment_count>
    <who name="Christophe Fergeau">cfergeau</who>
    <bug_when>2016-11-02 11:11:39 -0400</bug_when>
    <thetext>(In reply to Cole Robinson from comment #74)
&gt; I&apos;ll do a qemu build tomorrow to pull in Christophe&apos;s qemu patch. I&apos;ve filed
&gt; a separate bug to track pulling in the kernel fix:
&gt; 
&gt; https://bugzilla.redhat.com/show_bug.cgi?id=1385956

For the record, the QEMU patched is on its way upstream https://lists.nongnu.org/archive/html/qemu-devel/2016-11/msg00018.html
It&apos;s a revised version of the patch which was attached to this bug/added to the package though https://lists.nongnu.org/archive/html/qemu-devel/2016-10/msg07483.html</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9864833</commentid>
    <comment_count>84</comment_count>
    <who name="Cole Robinson">crobinso</who>
    <bug_when>2016-11-06 11:54:50 -0500</bug_when>
    <thetext>(In reply to Christophe Fergeau from comment #83)
&gt; (In reply to Cole Robinson from comment #74)
&gt; &gt; I&apos;ll do a qemu build tomorrow to pull in Christophe&apos;s qemu patch. I&apos;ve filed
&gt; &gt; a separate bug to track pulling in the kernel fix:
&gt; &gt; 
&gt; &gt; https://bugzilla.redhat.com/show_bug.cgi?id=1385956
&gt; 
&gt; For the record, the QEMU patched is on its way upstream
&gt; https://lists.nongnu.org/archive/html/qemu-devel/2016-11/msg00018.html
&gt; It&apos;s a revised version of the patch which was attached to this bug/added to
&gt; the package though
&gt; https://lists.nongnu.org/archive/html/qemu-devel/2016-10/msg07483.html

I filed https://bugzilla.redhat.com/show_bug.cgi?id=1392239 to track backporting/replacing the patch when it lands upstream</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9894515</commentid>
    <comment_count>85</comment_count>
    <who name="Christian Stadelmann">rhbz2</who>
    <bug_when>2016-11-15 17:44:32 -0500</bug_when>
    <thetext>Since this bug is fixed, how about removing the CommonBugs and Wiki entry https://fedoraproject.org/wiki/Common_F25_bugs#boxes-flickering ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9894542</commentid>
    <comment_count>86</comment_count>
    <who name="Paul W. Frields">pfrields</who>
    <bug_when>2016-11-15 18:00:08 -0500</bug_when>
    <thetext>@Christian: Done.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9896276</commentid>
    <comment_count>87</comment_count>
    <who name="Kamil Páral">kparal</who>
    <bug_when>2016-11-16 06:27:27 -0500</bug_when>
    <thetext>(In reply to Christian Stadelmann from comment #85)
&gt; Since this bug is fixed, how about removing the CommonBugs and Wiki entry

We always go through the wiki and update it between Go/No-Go and official release. Of course feel free to update it any time, no problem, just make sure the update has been pushed stable.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1139230</attachid>
            <date>2016-03-22 16:42:00 -0400</date>
            <delta_ts>2016-03-22 16:42:01 -0400</delta_ts>
            <desc>Patch for spice-gtk-0.31-1.fc24 in order to avoid wayland guest flickering</desc>
            <filename>display.patch</filename>
            <type>text/plain</type>
            <size>5246</size>
            <attacher name="Joachim Frieben">jfrieben</attacher>
            
              <data encoding="base64">LS0tIHNwaWNlLWd0ay0wLjMxL3NwaWNlLWd0azMtMC4zMS9zcmMvY2hhbm5lbC1tYWluLmMub3Jp
ZwkyMDE2LTAzLTExIDE5OjEyOjU5LjAwMDAwMDAwMCArMDEwMAorKysgc3BpY2UtZ3RrLTAuMzEv
c3BpY2UtZ3RrMy0wLjMxL3NyYy9jaGFubmVsLW1haW4uYwkyMDE2LTAzLTIyIDE4OjIzOjM4LjEx
MjE3NTQ3NCArMDEwMApAQCAtMTIyLDYgKzEyMiwxNCBAQAogICAgIERJU1BMQVlfRU5BQkxFRCwK
IH0gU3BpY2VEaXNwbGF5U3RhdGU7CiAKK3R5cGVkZWYgc3RydWN0IFNwaWNlTW9uaXRvciB7Cisg
ICAgaW50ICAgICAgICAgICAgICAgICAgICAgeDsKKyAgICBpbnQgICAgICAgICAgICAgICAgICAg
ICB5OworICAgIGludCAgICAgICAgICAgICAgICAgICAgIHdpZHRoOworICAgIGludCAgICAgICAg
ICAgICAgICAgICAgIGhlaWdodDsKKyAgICBTcGljZURpc3BsYXlTdGF0ZSAgICAgICBkaXNwbGF5
X3N0YXRlOworfSBTcGljZU1vbml0b3I7CisKIHN0cnVjdCBfU3BpY2VNYWluQ2hhbm5lbFByaXZh
dGUgIHsKICAgICBlbnVtIFNwaWNlTW91c2VNb2RlICAgICAgICAgbW91c2VfbW9kZTsKICAgICBi
b29sICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnRfY29ubmVjdGVkOwpAQCAtMTQxLDEzICsx
NDksOCBAQAogICAgIGd1aW50ICAgICAgICAgICAgICAgICAgICAgICBhZ2VudF9tc2dfcG9zOwog
ICAgIHVpbnQ4X3QgICAgICAgICAgICAgICAgICAgICBhZ2VudF9tc2dfc2l6ZTsKICAgICB1aW50
MzJfdCAgICAgICAgICAgICAgICAgICAgYWdlbnRfY2Fwc1tWRF9BR0VOVF9DQVBTX1NJWkVdOwot
ICAgIHN0cnVjdCB7Ci0gICAgICAgIGludCAgICAgICAgICAgICAgICAgICAgIHg7Ci0gICAgICAg
IGludCAgICAgICAgICAgICAgICAgICAgIHk7Ci0gICAgICAgIGludCAgICAgICAgICAgICAgICAg
ICAgIHdpZHRoOwotICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ7Ci0gICAg
ICAgIFNwaWNlRGlzcGxheVN0YXRlICAgICAgIGRpc3BsYXlfc3RhdGU7Ci0gICAgfSBkaXNwbGF5
W01BWF9ESVNQTEFZXTsKKyAgICBTcGljZU1vbml0b3IgICAgICAgICAgICAgICAgZGlzcGxheVtN
QVhfRElTUExBWV07IC8qIGN1cnJlbnQgY29uZmlndXJhdGlvbiBvZiBzcGljZS13aWRnZXRzICov
CisgICAgU3BpY2VNb25pdG9yICAgICAgICAgICAgICAgIGRpc3BsYXlfdG9fYmVfc2VudFtNQVhf
RElTUExBWV07IC8qIG5ldyByZXF1ZXN0ZWQgY29uZmlndXJhdGlvbiAqLwogICAgIGdpbnQgICAg
ICAgICAgICAgICAgICAgICAgICB0aW1lcl9pZDsKICAgICBHUXVldWUgICAgICAgICAgICAgICAg
ICAgICAgKmFnZW50X21zZ19xdWV1ZTsKICAgICBHSGFzaFRhYmxlICAgICAgICAgICAgICAgICAg
KmZpbGVfeGZlcl90YXNrczsKQEAgLTExNDgsNyArMTE1MSw3IEBACiAgICAgfSBlbHNlIHsKICAg
ICAgICAgbW9uaXRvcnMgPSAwOwogICAgICAgICBmb3IgKGkgPSAwOyBpIDwgU1BJQ0VfTl9FTEVN
RU5UUyhjLT5kaXNwbGF5KTsgaSsrKSB7Ci0gICAgICAgICAgICBpZiAoYy0+ZGlzcGxheVtpXS5k
aXNwbGF5X3N0YXRlID09IERJU1BMQVlfRU5BQkxFRCkKKyAgICAgICAgICAgIGlmIChjLT5kaXNw
bGF5X3RvX2JlX3NlbnRbaV0uZGlzcGxheV9zdGF0ZSA9PSBESVNQTEFZX0VOQUJMRUQpCiAgICAg
ICAgICAgICAgICAgbW9uaXRvcnMgKz0gMTsKICAgICAgICAgfQogICAgIH0KQEAgLTExNjQsNiAr
MTE2Nyw3IEBACiAgICAgQ0hBTk5FTF9ERUJVRyhjaGFubmVsLCAic2VuZGluZyBuZXcgbW9uaXRv
cnMgY29uZmlnIHRvIGd1ZXN0Iik7CiAgICAgaiA9IDA7CiAgICAgZm9yIChpID0gMDsgaSA8IFNQ
SUNFX05fRUxFTUVOVFMoYy0+ZGlzcGxheSk7IGkrKykgeworICAgICAgICBjLT5kaXNwbGF5W2ld
ID0gYy0+ZGlzcGxheV90b19iZV9zZW50W2ldOyAvKiBjdXJyZW50IGRpc3BsYXkgaXMgbm93IGRp
c3BsYXlfdG9fYmVfc2VudCAqLwogICAgICAgICBpZiAoYy0+ZGlzcGxheVtpXS5kaXNwbGF5X3N0
YXRlICE9IERJU1BMQVlfRU5BQkxFRCkgewogICAgICAgICAgICAgaWYgKHNwaWNlX21haW5fYWdl
bnRfdGVzdF9jYXBhYmlsaXR5KGNoYW5uZWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgVkRfQUdFTlRfQ0FQX1NQQVJTRV9NT05JVE9SU19DT05GSUcpKQpAQCAtMTUxMiwx
MyArMTUxNiwzNyBAQAogICAgIGMgPSBjaGFubmVsLT5wcml2OwogCiAgICAgZm9yIChpID0gMDsg
aSA8IE1BWF9ESVNQTEFZOyBpKyspIHsKLSAgICAgICAgaWYgKGMtPmRpc3BsYXlbaV0ud2lkdGgg
PiAwICYmIGMtPmRpc3BsYXlbaV0uaGVpZ2h0ID4gMCkKKyAgICAgICAgaWYgKGMtPmRpc3BsYXlf
dG9fYmVfc2VudFtpXS53aWR0aCA+IDAgJiYgYy0+ZGlzcGxheV90b19iZV9zZW50W2ldLmhlaWdo
dCA+IDApCiAgICAgICAgICAgICByZXR1cm4gVFJVRTsKICAgICB9CiAKICAgICByZXR1cm4gRkFM
U0U7CiB9CiAKK3N0YXRpYyBnYm9vbGVhbiBzcGljZV9tb25pdG9yX2VxdWFsKFNwaWNlTW9uaXRv
ciAqbW9uX2EsIFNwaWNlTW9uaXRvciAqbW9uX2IpCit7CisgICAgcmV0dXJuIG1vbl9hLT54ID09
IG1vbl9iLT54ICYmCisgICAgICAgICAgIG1vbl9hLT55ID09IG1vbl9iLT55ICYmCisgICAgICAg
ICAgIG1vbl9hLT53aWR0aCA9PSBtb25fYi0+d2lkdGggJiYKKyAgICAgICAgICAgbW9uX2EtPmhl
aWdodCA9PSBtb25fYi0+aGVpZ2h0ICYmCisgICAgICAgICAgIG1vbl9hLT5kaXNwbGF5X3N0YXRl
ID09IG1vbl9iLT5kaXNwbGF5X3N0YXRlOworfQorCitzdGF0aWMgZ2Jvb2xlYW4gc3BpY2VfbW9u
aXRvcl9jb25maWd1cmF0aW9uX2NoYW5nZWQoU3BpY2VNYWluQ2hhbm5lbCAqY2hhbm5lbCkKK3sK
KyAgICBTcGljZU1haW5DaGFubmVsUHJpdmF0ZSAqYzsKKyAgICBndWludCBpOworCisgICAgZ19y
ZXR1cm5fdmFsX2lmX2ZhaWwoU1BJQ0VfSVNfTUFJTl9DSEFOTkVMKGNoYW5uZWwpLCBGQUxTRSk7
CisgICAgYyA9IGNoYW5uZWwtPnByaXY7CisKKyAgICBmb3IgKGkgPSAwOyBpIDwgTUFYX0RJU1BM
QVk7IGkrKykgeworICAgICAgICBpZiAoIXNwaWNlX21vbml0b3JfZXF1YWwoJmMtPmRpc3BsYXlb
aV0sICZjLT5kaXNwbGF5X3RvX2JlX3NlbnRbaV0pKQorICAgICAgICAgICAgcmV0dXJuIFRSVUU7
CisgICAgfSAgICAKKyAgICByZXR1cm4gRkFMU0U7Cit9CisKIC8qIG1haW4gY29udGV4dCovCiBz
dGF0aWMgZ2Jvb2xlYW4gdGltZXJfc2V0X2Rpc3BsYXkoZ3BvaW50ZXIgZGF0YSkKIHsKQEAgLTE1
MzEsNiArMTU1OSwxMSBAQAogICAgIGlmICghYy0+YWdlbnRfY29ubmVjdGVkKQogICAgICAgICBy
ZXR1cm4gRkFMU0U7CiAKKyAgICBpZiAoIXNwaWNlX21vbml0b3JfY29uZmlndXJhdGlvbl9jaGFu
Z2VkKGNoYW5uZWwpKSB7CisgICAgICAgIFNQSUNFX0RFQlVHKCJOb3Qgc2VuZGluZyBtb25pdG9y
cyBjb25maWcsIGNvbmZpZ3VyYXRpb24gaGFzIG5vdCBjaGFuZ2UiKTsKKyAgICAgICAgcmV0dXJu
IEZBTFNFOworICAgIH0KKwogICAgIGlmICghYW55X2Rpc3BsYXlfaGFzX2RpbWVuc2lvbnMoY2hh
bm5lbCkpIHsKICAgICAgICAgU1BJQ0VfREVCVUcoIk5vdCBzZW5kaW5nIG1vbml0b3JzIGNvbmZp
ZywgYXQgbGVhc3Qgb25lIG1vbml0b3IgbXVzdCBoYXZlIGRpbWVuc2lvbnMiKTsKICAgICAgICAg
cmV0dXJuIEZBTFNFOwpAQCAtMTU0Miw3ICsxNTc1LDcgQEAKICAgICAgICAgLyogZW5zdXJlIHdl
IGhhdmUgYW4gZXhwbGljaXQgbW9uaXRvciBjb25maWd1cmF0aW9uIGF0IGxlYXN0IGZvcgogICAg
ICAgICAgICBudW1iZXIgb2YgZGlzcGxheSBjaGFubmVscyAqLwogICAgICAgICBmb3IgKGkgPSAw
OyBpIDwgc3BpY2Vfc2Vzc2lvbl9nZXRfbl9kaXNwbGF5X2NoYW5uZWxzKHNlc3Npb24pOyBpKysp
Ci0gICAgICAgICAgICBpZiAoYy0+ZGlzcGxheVtpXS5kaXNwbGF5X3N0YXRlID09IERJU1BMQVlf
VU5ERUZJTkVEKSB7CisgICAgICAgICAgICBpZiAoYy0+ZGlzcGxheV90b19iZV9zZW50W2ldLmRp
c3BsYXlfc3RhdGUgPT0gRElTUExBWV9VTkRFRklORUQpIHsKICAgICAgICAgICAgICAgICBTUElD
RV9ERUJVRygiTm90IHNlbmRpbmcgbW9uaXRvcnMgY29uZmlnLCBtaXNzaW5nIG1vbml0b3JzIik7
CiAgICAgICAgICAgICAgICAgcmV0dXJuIEZBTFNFOwogICAgICAgICAgICAgfQpAQCAtMjY5Nywx
MCArMjczMCwxMCBAQAogCiAgICAgZ19yZXR1cm5faWZfZmFpbChpZCA8IFNQSUNFX05fRUxFTUVO
VFMoYy0+ZGlzcGxheSkpOwogCi0gICAgYy0+ZGlzcGxheVtpZF0ueCAgICAgID0geDsKLSAgICBj
LT5kaXNwbGF5W2lkXS55ICAgICAgPSB5OwotICAgIGMtPmRpc3BsYXlbaWRdLndpZHRoICA9IHdp
ZHRoOwotICAgIGMtPmRpc3BsYXlbaWRdLmhlaWdodCA9IGhlaWdodDsKKyAgICBjLT5kaXNwbGF5
X3RvX2JlX3NlbnRbaWRdLnggICAgICA9IHg7CisgICAgYy0+ZGlzcGxheV90b19iZV9zZW50W2lk
XS55ICAgICAgPSB5OworICAgIGMtPmRpc3BsYXlfdG9fYmVfc2VudFtpZF0ud2lkdGggID0gd2lk
dGg7CisgICAgYy0+ZGlzcGxheV90b19iZV9zZW50W2lkXS5oZWlnaHQgPSBoZWlnaHQ7CiAKICAg
ICBpZiAodXBkYXRlKQogICAgICAgICB1cGRhdGVfZGlzcGxheV90aW1lcihjaGFubmVsLCAxKTsK
QEAgLTI5MDMsMTMgKzI5MzYsMTMgQEAKICAgICBpZiAoaWQgPT0gLTEpIHsKICAgICAgICAgZ2lu
dCBpOwogICAgICAgICBmb3IgKGkgPSAwOyBpIDwgR19OX0VMRU1FTlRTKGMtPmRpc3BsYXkpOyBp
KyspIHsKLSAgICAgICAgICAgIGMtPmRpc3BsYXlbaV0uZGlzcGxheV9zdGF0ZSA9IGRpc3BsYXlf
c3RhdGU7CisgICAgICAgICAgICBjLT5kaXNwbGF5X3RvX2JlX3NlbnRbaV0uZGlzcGxheV9zdGF0
ZSA9IGRpc3BsYXlfc3RhdGU7CiAgICAgICAgIH0KICAgICB9IGVsc2UgewogICAgICAgICBnX3Jl
dHVybl9pZl9mYWlsKGlkIDwgR19OX0VMRU1FTlRTKGMtPmRpc3BsYXkpKTsKLSAgICAgICAgaWYg
KGMtPmRpc3BsYXlbaWRdLmRpc3BsYXlfc3RhdGUgPT0gZGlzcGxheV9zdGF0ZSkKKyAgICAgICAg
aWYgKGMtPmRpc3BsYXlfdG9fYmVfc2VudFtpZF0uZGlzcGxheV9zdGF0ZSA9PSBkaXNwbGF5X3N0
YXRlKQogICAgICAgICAgICAgcmV0dXJuOwotICAgICAgICBjLT5kaXNwbGF5W2lkXS5kaXNwbGF5
X3N0YXRlID0gZGlzcGxheV9zdGF0ZTsKKyAgICAgICAgYy0+ZGlzcGxheV90b19iZV9zZW50W2lk
XS5kaXNwbGF5X3N0YXRlID0gZGlzcGxheV9zdGF0ZTsKICAgICB9CiAKICAgICBpZiAodXBkYXRl
KQo=
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1210590</attachid>
            <date>2016-10-14 11:39:00 -0400</date>
            <delta_ts>2016-10-14 11:39:32 -0400</delta_ts>
            <desc>Patch for the QXL kernel driver</desc>
            <filename>0001-qxl-Don-t-notify-userspace-when-monitors-config-is-u.patch</filename>
            <type>text/plain</type>
            <size>5329</size>
            <attacher name="Christophe Fergeau">cfergeau</attacher>
            
              <data encoding="base64">RnJvbSA1MmEwYjU1MGUwNDMzNmRmMWJjMDM0ZDExNjRhY2NmZjU1YmFmNjFkIE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBDaHJpc3RvcGhlIEZlcmdlYXUgPGNmZXJnZWF1QHJlZGhhdC5j
b20+CkRhdGU6IEZyaSwgMTQgT2N0IDIwMTYgMTM6Mzc6NTMgKzAyMDAKU3ViamVjdDogW1BBVENI
XSBxeGw6IERvbid0IG5vdGlmeSB1c2Vyc3BhY2Ugd2hlbiBtb25pdG9ycyBjb25maWcgaXMgdW5j
aGFuZ2VkCgpXaGVuIHRoZSBRWEwgZHJpdmVyIHJlY2VpdmVzIGEgUVhMX0lOVEVSUlVQVF9DTElF
TlRfTU9OSVRPUlNfQ09ORklHIGludGVycnVwdCwKd2UgY3VycmVudGx5IGFsd2F5cyBub3RpZnkg
dXNlcnNwYWNlIHRoYXQgdGhlcmUgd2FzIHNvbWUgaG90cGx1ZyBldmVudC4KCkhvd2V2ZXIsIGdu
b21lLXNoZWxsL211dHRlciBpcyByZWFjdGluZyB0byB0aGlzIGV2ZW50IGJ5IGF0dGVtcHRpbmcg
YQpyZXNvbHV0aW9uIGNoYW5nZSwgd2hpY2ggaXQgZG9lcyBieSBpc3N1ZWluZyBkcm1Nb2RlUm1G
QiwgZHJtTW9kZUFkZEZCLAphbmQgdGhlbiBkcm1Nb2RlU2V0Q3J0Yy4gVGhpcyBoYXMgdGhlIHNp
ZGUtZWZmZWN0IG9mIGNhdXNpbmcKcXhsX2NydGNfbW9kZV9zZXQoKSB0byB0ZWxsIHRoZSBRWEwg
dmlydHVhbCBoYXJkd2FyZSB0aGF0IGEgcHJpbWFyeQpzdXJmYWNlIHdhcyBkZXN0cm95ZWQgYW5k
IGNyZWF0ZWQuIEFmdGVyIGdvaW5nIHRocm91Z2ggUUVNVSBhbmQgdGhlbiB0aGUKcmVtb3RlIFNQ
SUNFIGNsaWVudCwgYSBuZXcgaWRlbnRpY2FsIG1vbml0b3JzIGNvbmZpZyBtZXNzYWdlIHdpbGwg
YmUKc2VudCwgcmVzdWx0aW5nIGluIGEgUVhMX0lOVEVSUlVQVF9DTElFTlRfTU9OSVRPUlNfQ09O
RklHIGludGVycnVwdCB0bwpiZSBlbWl0dGVkLCBhbmQgdGhlIHNhbWUgc2NlbmFyaW8gb2NjdXJy
aW5nIGFnYWluLgoKQXMgZGVzdHJveWluZy9jcmVhdGluZyB0aGUgcHJpbWFyeSBzdXJmYWNlIGNh
dXNlcyBhIHZpc2libGUgc2NyZWVuCmZsaWNrZXIsIHRoaXMgbWFrZXMgdGhlIGd1ZXN0IGhhcmQg
dG8gdXNlICgKaHR0cHM6Ly9idWd6aWxsYS5yZWRoYXQuY29tL3Nob3dfYnVnLmNnaT9pZD0xMjY2
NDg0ICkuCgpUaGlzIGNvbW1pdCBjaGVja3MgaWYgdGhlIHNjcmVlbiBjb25maWd1cmF0aW9uIHdl
IHJlY2VpdmVkIGlzIHRoZSBzYW1lCm9uZSBhcyB0aGUgY3VycmVudCBvbmUsIGFuZCBkb2VzIG5v
dCBub3RpZnkgdXNlcnNwYWNlIGFib3V0IGl0IGlmIHRoYXQncwp0aGUgY2FzZS4KClNpZ25lZC1v
ZmYtYnk6IENocmlzdG9waGUgRmVyZ2VhdSA8Y2ZlcmdlYXVAcmVkaGF0LmNvbT4KLS0tCiBkcml2
ZXJzL2dwdS9kcm0vcXhsL3F4bF9kaXNwbGF5LmMgfCA2NSArKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKystLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCA1NSBpbnNlcnRpb25zKCspLCAxMCBk
ZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcXhsL3F4bF9kaXNwbGF5
LmMgYi9kcml2ZXJzL2dwdS9kcm0vcXhsL3F4bF9kaXNwbGF5LmMKaW5kZXggYTYxYzBkNC4uODJl
YmNmOSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfZGlzcGxheS5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX2Rpc3BsYXkuYwpAQCAtNTcsMTEgKzU3LDE4IEBAIHZv
aWQgcXhsX2FsbG9jX2NsaWVudF9tb25pdG9yc19jb25maWcoc3RydWN0IHF4bF9kZXZpY2UgKnFk
ZXYsIHVuc2lnbmVkIGNvdW50KQogCXFkZXYtPmNsaWVudF9tb25pdG9yc19jb25maWctPmNvdW50
ID0gY291bnQ7CiB9CiAKK2VudW0gTW9uaXRvcnNDb25maWdDb3B5U3RhdHVzIHsKKwlNT05JVE9S
U19DT05GSUdfQ09QSUVELAorCU1PTklUT1JTX0NPTkZJR19VTkNIQU5HRUQsCisJTU9OSVRPUlNf
Q09ORklHX0JBRF9DUkMsCit9OworCiBzdGF0aWMgaW50IHF4bF9kaXNwbGF5X2NvcHlfcm9tX2Ns
aWVudF9tb25pdG9yc19jb25maWcoc3RydWN0IHF4bF9kZXZpY2UgKnFkZXYpCiB7CiAJaW50IGk7
CiAJaW50IG51bV9tb25pdG9yczsKIAl1aW50MzJfdCBjcmM7CisJYm9vbCBjaGFuZ2VkID0gZmFs
c2U7CiAKIAludW1fbW9uaXRvcnMgPSBxZGV2LT5yb20tPmNsaWVudF9tb25pdG9yc19jb25maWcu
Y291bnQ7CiAJY3JjID0gY3JjMzIoMCwgKGNvbnN0IHVpbnQ4X3QgKikmcWRldi0+cm9tLT5jbGll
bnRfbW9uaXRvcnNfY29uZmlnLApAQCAtNzAsNyArNzcsNyBAQCBzdGF0aWMgaW50IHF4bF9kaXNw
bGF5X2NvcHlfcm9tX2NsaWVudF9tb25pdG9yc19jb25maWcoc3RydWN0IHF4bF9kZXZpY2UgKnFk
ZXYpCiAJCXF4bF9pb19sb2cocWRldiwgImNyYyBtaXNtYXRjaDogaGF2ZSAlWCAoJXpkKSAhPSAl
WFxuIiwgY3JjLAogCQkJICAgc2l6ZW9mKHFkZXYtPnJvbS0+Y2xpZW50X21vbml0b3JzX2NvbmZp
ZyksCiAJCQkgICBxZGV2LT5yb20tPmNsaWVudF9tb25pdG9yc19jb25maWdfY3JjKTsKLQkJcmV0
dXJuIDE7CisJCXJldHVybiBNT05JVE9SU19DT05GSUdfQkFEX0NSQzsKIAl9CiAJaWYgKG51bV9t
b25pdG9ycyA+IHFkZXYtPm1vbml0b3JzX2NvbmZpZy0+bWF4X2FsbG93ZWQpIHsKIAkJRFJNX0RF
QlVHX0tNUygiY2xpZW50IG1vbml0b3JzIGxpc3Qgd2lsbCBiZSB0cnVuY2F0ZWQ6ICVkIDwgJWRc
biIsCkBAIC03OSw2ICs4NiwxMCBAQCBzdGF0aWMgaW50IHF4bF9kaXNwbGF5X2NvcHlfcm9tX2Ns
aWVudF9tb25pdG9yc19jb25maWcoc3RydWN0IHF4bF9kZXZpY2UgKnFkZXYpCiAJfSBlbHNlIHsK
IAkJbnVtX21vbml0b3JzID0gcWRldi0+cm9tLT5jbGllbnRfbW9uaXRvcnNfY29uZmlnLmNvdW50
OwogCX0KKwlpZiAocWRldi0+Y2xpZW50X21vbml0b3JzX2NvbmZpZworCSAgICAgICYmIChudW1f
bW9uaXRvcnMgIT0gcWRldi0+Y2xpZW50X21vbml0b3JzX2NvbmZpZy0+Y291bnQpKSB7CisJCWNo
YW5nZWQgPSB0cnVlOworCX0KIAlxeGxfYWxsb2NfY2xpZW50X21vbml0b3JzX2NvbmZpZyhxZGV2
LCBudW1fbW9uaXRvcnMpOwogCS8qIHdlIGNvcHkgbWF4IGZyb20gdGhlIGNsaWVudCBidXQgaXQg
aXNuJ3QgdXNlZCAqLwogCXFkZXYtPmNsaWVudF9tb25pdG9yc19jb25maWctPm1heF9hbGxvd2Vk
ID0KQEAgLTg4LDE3ICs5OSw0MiBAQCBzdGF0aWMgaW50IHF4bF9kaXNwbGF5X2NvcHlfcm9tX2Ns
aWVudF9tb25pdG9yc19jb25maWcoc3RydWN0IHF4bF9kZXZpY2UgKnFkZXYpCiAJCQkmcWRldi0+
cm9tLT5jbGllbnRfbW9uaXRvcnNfY29uZmlnLmhlYWRzW2ldOwogCQlzdHJ1Y3QgcXhsX2hlYWQg
KmNsaWVudF9oZWFkID0KIAkJCSZxZGV2LT5jbGllbnRfbW9uaXRvcnNfY29uZmlnLT5oZWFkc1tp
XTsKLQkJY2xpZW50X2hlYWQtPnggPSBjX3JlY3QtPmxlZnQ7Ci0JCWNsaWVudF9oZWFkLT55ID0g
Y19yZWN0LT50b3A7Ci0JCWNsaWVudF9oZWFkLT53aWR0aCA9IGNfcmVjdC0+cmlnaHQgLSBjX3Jl
Y3QtPmxlZnQ7Ci0JCWNsaWVudF9oZWFkLT5oZWlnaHQgPSBjX3JlY3QtPmJvdHRvbSAtIGNfcmVj
dC0+dG9wOwotCQljbGllbnRfaGVhZC0+c3VyZmFjZV9pZCA9IDA7Ci0JCWNsaWVudF9oZWFkLT5p
ZCA9IGk7Ci0JCWNsaWVudF9oZWFkLT5mbGFncyA9IDA7CisJCWlmIChjbGllbnRfaGVhZC0+eCAh
PSBjX3JlY3QtPmxlZnQpIHsKKwkJCWNsaWVudF9oZWFkLT54ID0gY19yZWN0LT5sZWZ0OworCQkJ
Y2hhbmdlZCA9IHRydWU7CisJCX0KKwkJaWYgKGNsaWVudF9oZWFkLT55ICE9IGNfcmVjdC0+dG9w
KSB7CisJCQljbGllbnRfaGVhZC0+eSA9IGNfcmVjdC0+dG9wOworCQkJY2hhbmdlZCA9IHRydWU7
CisJCX0KKwkJaWYgKGNsaWVudF9oZWFkLT53aWR0aCAhPSBjX3JlY3QtPnJpZ2h0IC0gY19yZWN0
LT5sZWZ0KSB7CisJCQljbGllbnRfaGVhZC0+d2lkdGggPSBjX3JlY3QtPnJpZ2h0IC0gY19yZWN0
LT5sZWZ0OworCQkJY2hhbmdlZCA9IHRydWU7CisJCX0KKwkJaWYgKGNsaWVudF9oZWFkLT5oZWln
aHQgIT0gY19yZWN0LT5ib3R0b20gLSBjX3JlY3QtPnRvcCkgeworCQkJY2xpZW50X2hlYWQtPmhl
aWdodCA9IGNfcmVjdC0+Ym90dG9tIC0gY19yZWN0LT50b3A7CisJCQljaGFuZ2VkID0gdHJ1ZTsK
KwkJfQorCQlpZiAoY2xpZW50X2hlYWQtPnN1cmZhY2VfaWQgIT0gMCkgeworCQkJY2xpZW50X2hl
YWQtPnN1cmZhY2VfaWQgPSAwOworCQkJY2hhbmdlZCA9IHRydWU7CisJCX0KKwkJaWYgKGNsaWVu
dF9oZWFkLT5pZCAhPSBpKSB7CisJCQljbGllbnRfaGVhZC0+aWQgPSBpOworCQkJY2hhbmdlZCA9
IHRydWU7CisJCX0KKwkJaWYgKGNsaWVudF9oZWFkLT5mbGFncyAhPSAwKSB7CisJCQljbGllbnRf
aGVhZC0+ZmxhZ3MgPSAwOworCQkJY2hhbmdlZCA9IHRydWU7CisJCX0KIAkJRFJNX0RFQlVHX0tN
UygicmVhZCAlZHglZCslZCslZFxuIiwgY2xpZW50X2hlYWQtPndpZHRoLCBjbGllbnRfaGVhZC0+
aGVpZ2h0LAogCQkJICBjbGllbnRfaGVhZC0+eCwgY2xpZW50X2hlYWQtPnkpOwogCX0KLQlyZXR1
cm4gMDsKKwlpZiAoY2hhbmdlZCkgeworCQlyZXR1cm4gTU9OSVRPUlNfQ09ORklHX0NPUElFRDsK
Kwl9IGVsc2UgeworCQlyZXR1cm4gTU9OSVRPUlNfQ09ORklHX1VOQ0hBTkdFRDsKKwl9CiB9CiAK
IHN0YXRpYyB2b2lkIHF4bF91cGRhdGVfb2Zmc2V0X3Byb3BzKHN0cnVjdCBxeGxfZGV2aWNlICpx
ZGV2KQpAQCAtMTI0LDkgKzE2MCwxOCBAQCB2b2lkIHF4bF9kaXNwbGF5X3JlYWRfY2xpZW50X21v
bml0b3JzX2NvbmZpZyhzdHJ1Y3QgcXhsX2RldmljZSAqcWRldikKIHsKIAogCXN0cnVjdCBkcm1f
ZGV2aWNlICpkZXYgPSBxZGV2LT5kZGV2OwotCXdoaWxlIChxeGxfZGlzcGxheV9jb3B5X3JvbV9j
bGllbnRfbW9uaXRvcnNfY29uZmlnKHFkZXYpKSB7CisJZW51bSBNb25pdG9yc0NvbmZpZ0NvcHlT
dGF0dXMgc3RhdHVzOworCisJc3RhdHVzID0gcXhsX2Rpc3BsYXlfY29weV9yb21fY2xpZW50X21v
bml0b3JzX2NvbmZpZyhxZGV2KTsKKwl3aGlsZSAoc3RhdHVzID09IE1PTklUT1JTX0NPTkZJR19C
QURfQ1JDKSB7CiAJCXF4bF9pb19sb2cocWRldiwgImZhaWxlZCBjcmMgY2hlY2sgZm9yIGNsaWVu
dF9tb25pdG9yc19jb25maWcsIgogCQkJCSAiIHJldHJ5aW5nXG4iKTsKKwkJc3RhdHVzID0gcXhs
X2Rpc3BsYXlfY29weV9yb21fY2xpZW50X21vbml0b3JzX2NvbmZpZyhxZGV2KTsKKwl9CisJaWYg
KHN0YXR1cyA9PSBNT05JVE9SU19DT05GSUdfVU5DSEFOR0VEKSB7CisJCXF4bF9pb19sb2cocWRl
diwgImNvbmZpZyB1bmNoYW5nZWRcbiIpOworCQlEUk1fREVCVUcoImlnbm9yaW5nIHVuY2hhbmdl
ZCBjbGllbnQgbW9uaXRvcnMgY29uZmlnIik7CisJCXJldHVybjsKIAl9CiAKIAlkcm1fbW9kZXNl
dF9sb2NrX2FsbChkZXYpOwotLSAKMi45LjMKCg==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1210592</attachid>
            <date>2016-10-14 11:40:00 -0400</date>
            <delta_ts>2016-10-14 11:40:12 -0400</delta_ts>
            <desc>QEMU patch</desc>
            <filename>0001-qxl-Only-emit-QXL_INTERRUPT_CLIENT_MONITORS_CONFIG-o.patch</filename>
            <type>text/plain</type>
            <size>3317</size>
            <attacher name="Christophe Fergeau">cfergeau</attacher>
            
              <data encoding="base64">RnJvbSA5NGYyOTZjZmJiMDNmMGZjMDZmMmZkOGY5NTAyZjA4Nzg4NjMwMTY1IE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBDaHJpc3RvcGhlIEZlcmdlYXUgPGNmZXJnZWF1QHJlZGhhdC5j
b20+CkRhdGU6IEZyaSwgMTQgT2N0IDIwMTYgMTQ6MjI6MzYgKzAyMDAKU3ViamVjdDogW1BBVENI
XSBxeGw6IE9ubHkgZW1pdCBRWExfSU5URVJSVVBUX0NMSUVOVF9NT05JVE9SU19DT05GSUcgb24g
Y29uZmlnCiBjaGFuZ2VzCgpDdXJyZW50bHkgaWYgdGhlIGNsaWVudCBrZWVwcyBzZW5kaW5nIHRo
ZSBzYW1lIG1vbml0b3IgY29uZmlnIHRvClFFTVUvc3BpY2Utc2VydmVyLCBRRU1VIHdpbGwgYWx3
YXlzIHJhaXNlCmEgUVhMX0lOVEVSUlVQVF9DTElFTlRfTU9OSVRPUlNfQ09ORklHIHJlZ2FyZGxl
c3Mgb2Ygd2hldGhlciB0aGVyZSB3YXMgYQpjaGFuZ2Ugb3Igbm90LgpHdWVzdC1zaWRlICh3aXRo
IGZlZG9yYSAyNSksIHRoZSBrZXJuZWwgUVhMIEtNUyBkcml2ZXIgd2lsbCBhbHNvIGZvcndhcmQg
dGhlCmV2ZW50IHRvIHVzZXItc3BhY2Ugd2l0aG91dCBjaGVja2luZyBpZiB0aGVyZSB3ZXJlIGFj
dHVhbCBjaGFuZ2VzLgpOZXh0IGluIGxpbmUgYXJlIGdub21lLXNoZWxsL211dHRlciAob24gYSBk
ZWZhdWx0IGYyNSBpbnN0YWxsKSwgd2hpY2gKd2lsbCB0cnkgdG8gcmVjb25maWd1cmUgZXZlcnl0
aGluZyB3aXRob3V0IGNoZWNraW5nIGlmIHRoZXJlIGlzIGFueXRoaW5nCnRvIGRvLgpXaGVyZSB0
aGlzIGdldHMgdWdseSBpcyB0aGF0IHdoZW4gYXBwbHlpbmcgdGhlIHJlc29sdXRpb24gY2hhbmdl
cywKZ25vbWUtc2hlbGwvbXV0dGVyIHdpbGwgY2FsbCBkcm1Nb2RlUm1GQiwgZHJtTW9kZUFkZEZC
LCBhbmQKZHJtTW9kZVNldENydGMsIHdoaWNoIHdpbGwgY2F1c2UgdGhlIHByaW1hcnkgc3VyZmFj
ZSB0byBiZSBkZXN0cm95ZWQgYW5kCnJlY3JlYXRlZCBieSB0aGUgUVhMIEtNUyBkcml2ZXIuIFRo
aXMgaW4gdHVybiB3aWxsIGNhdXNlIHRoZSBjbGllbnQgdG8KcmVzZW5kIGEgY2xpZW50IG1vbml0
b3JzIGNvbmZpZyBtZXNzYWdlLCB3aGljaCB3aWxsIGNhdXNlIFFFTVUgdG8gcmVlbWl0CmFuIGlu
dGVycnVwdCB3aXRoIGFuIHVuY2hhbmdlZCBtb25pdG9ycyBjb25maWd1cmF0aW9uLCAuLi4KVGhp
cyBjYXVzZXMgaHR0cHM6Ly9idWd6aWxsYS5yZWRoYXQuY29tL3Nob3dfYnVnLmNnaT9pZD0xMjY2
NDg0CgpUaGlzIGNvbW1pdCBtYWtlcyBzdXJlIHRoYXQgd2Ugb25seSBlbWl0ClFYTF9JTlRFUlJV
UFRfQ0xJRU5UX01PTklUT1JTX0NPTkZJRyB3aGVuIHRoZXJlIGFyZSBhY3R1YWwgY29uZmlndXJh
dGlvbgpjaGFuZ2VzIHRoZSBndWVzdCBzaG91bGQgYWN0IG9uLgotLS0KIGh3L2Rpc3BsYXkvcXhs
LmMgfCAyMCArKysrKysrKysrKysrKysrKysrLQogMSBmaWxlIGNoYW5nZWQsIDE5IGluc2VydGlv
bnMoKyksIDEgZGVsZXRpb24oLSkKCmRpZmYgLS1naXQgYS9ody9kaXNwbGF5L3F4bC5jIGIvaHcv
ZGlzcGxheS9xeGwuYwppbmRleCAwZTI2ODJkLi41Njc1OWY4IDEwMDY0NAotLS0gYS9ody9kaXNw
bGF5L3F4bC5jCisrKyBiL2h3L2Rpc3BsYXkvcXhsLmMKQEAgLTEwMDAsNiArMTAwMCw3IEBAIHN0
YXRpYyBpbnQgaW50ZXJmYWNlX2NsaWVudF9tb25pdG9yc19jb25maWcoUVhMSW5zdGFuY2UgKnNp
biwKICAgICBRWExSb20gKnJvbSA9IG1lbW9yeV9yZWdpb25fZ2V0X3JhbV9wdHIoJnF4bC0+cm9t
X2Jhcik7CiAgICAgaW50IGk7CiAgICAgdW5zaWduZWQgbWF4X291dHB1dHMgPSBBUlJBWV9TSVpF
KHJvbS0+Y2xpZW50X21vbml0b3JzX2NvbmZpZy5oZWFkcyk7CisgICAgYm9vbCBjb25maWdfY2hh
bmdlZCA9IGZhbHNlOwogCiAgICAgaWYgKHF4bC0+cmV2aXNpb24gPCA0KSB7CiAgICAgICAgIHRy
YWNlX3F4bF9jbGllbnRfbW9uaXRvcnNfY29uZmlnX3Vuc3VwcG9ydGVkX2J5X2RldmljZShxeGwt
PmlkLApAQCAtMTAzMCw2ICsxMDMxLDIxIEBAIHN0YXRpYyBpbnQgaW50ZXJmYWNlX2NsaWVudF9t
b25pdG9yc19jb25maWcoUVhMSW5zdGFuY2UgKnNpbiwKICAgICB9CiAjZW5kaWYKIAorICAgIGlm
IChyb20tPmNsaWVudF9tb25pdG9yc19jb25maWcuY291bnQgIT0gTUlOKG1vbml0b3JzX2NvbmZp
Zy0+bnVtX29mX21vbml0b3JzLCBtYXhfb3V0cHV0cykpIHsKKyAgICAgICAgY29uZmlnX2NoYW5n
ZWQgPSB0cnVlOworICAgIH0KKyAgICBmb3IgKGkgPSAwIDsgaSA8IHJvbS0+Y2xpZW50X21vbml0
b3JzX2NvbmZpZy5jb3VudCA7ICsraSkgeworICAgICAgICBWREFnZW50TW9uQ29uZmlnICptb25p
dG9yID0gJm1vbml0b3JzX2NvbmZpZy0+bW9uaXRvcnNbaV07CisgICAgICAgIFFYTFVSZWN0ICpy
ZWN0ID0gJnJvbS0+Y2xpZW50X21vbml0b3JzX2NvbmZpZy5oZWFkc1tpXTsKKyAgICAgICAgLyog
bW9uaXRvci0+ZGVwdGggaWdub3JlZCAqLworICAgICAgICBpZiAoKHJlY3QtPmxlZnQgIT0gbW9u
aXRvci0+eCkgfHwKKyAgICAgICAgICAgIChyZWN0LT50b3AgIT0gbW9uaXRvci0+eSkgIHx8Cisg
ICAgICAgICAgICAocmVjdC0+cmlnaHQgIT0gbW9uaXRvci0+eCArIG1vbml0b3ItPndpZHRoKSB8
fAorICAgICAgICAgICAgKHJlY3QtPmJvdHRvbSAhPSBtb25pdG9yLT55ICsgbW9uaXRvci0+aGVp
Z2h0KSkgeworICAgICAgICAgICAgY29uZmlnX2NoYW5nZWQgPSB0cnVlOworICAgICAgICB9Cisg
ICAgfQorCiAgICAgbWVtc2V0KCZyb20tPmNsaWVudF9tb25pdG9yc19jb25maWcsIDAsCiAgICAg
ICAgICAgIHNpemVvZihyb20tPmNsaWVudF9tb25pdG9yc19jb25maWcpKTsKICAgICByb20tPmNs
aWVudF9tb25pdG9yc19jb25maWcuY291bnQgPSBtb25pdG9yc19jb25maWctPm51bV9vZl9tb25p
dG9yczsKQEAgLTEwNTksNyArMTA3NSw5IEBAIHN0YXRpYyBpbnQgaW50ZXJmYWNlX2NsaWVudF9t
b25pdG9yc19jb25maWcoUVhMSW5zdGFuY2UgKnNpbiwKICAgICB0cmFjZV9xeGxfaW50ZXJydXB0
X2NsaWVudF9tb25pdG9yc19jb25maWcocXhsLT5pZCwKICAgICAgICAgICAgICAgICAgICAgICAg
IHJvbS0+Y2xpZW50X21vbml0b3JzX2NvbmZpZy5jb3VudCwKICAgICAgICAgICAgICAgICAgICAg
ICAgIHJvbS0+Y2xpZW50X21vbml0b3JzX2NvbmZpZy5oZWFkcyk7Ci0gICAgcXhsX3NlbmRfZXZl
bnRzKHF4bCwgUVhMX0lOVEVSUlVQVF9DTElFTlRfTU9OSVRPUlNfQ09ORklHKTsKKyAgICBpZiAo
Y29uZmlnX2NoYW5nZWQpIHsKKyAgICAgICAgcXhsX3NlbmRfZXZlbnRzKHF4bCwgUVhMX0lOVEVS
UlVQVF9DTElFTlRfTU9OSVRPUlNfQ09ORklHKTsKKyAgICB9CiAgICAgcmV0dXJuIDE7CiB9CiAK
LS0gCjIuOS4zCgo=
</data>

          </attachment>
      

    </bug>

</bugzilla>
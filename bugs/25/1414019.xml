<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1414019</bug_id>
          
          <creation_ts>2017-01-17 09:40:00 -0500</creation_ts>
          <short_desc>Incorrect Content-Type header in ECP PAOS response, should be application/vnd.paos+xml</short_desc>
          <delta_ts>2017-01-27 14:21:33 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>mod_auth_mellon</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1414021</blocked>
    
    
    <blocked>1414020</blocked>
    
    
    <blocked>1414024</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="John Dennis">jdennis</reporter>
          <assigned_to name="John Dennis">jdennis</assigned_to>
          <cc>jdennis</cc>
    
    
    <cc>ssorce</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>mod_auth_mellon-0.12.0-4.fc25</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-01-27 14:21:33</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          <external_bugs name="Github">https://github.com/UNINETT/mod_auth_mellon/issues/108</external_bugs>
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10071948</commentid>
    <comment_count>0</comment_count>
    <who name="John Dennis">jdennis</who>
    <bug_when>2017-01-17 09:40:54 -0500</bug_when>
    <thetext>When an ECP client signals it is ECP capable and authentication is required for the protected resource it is trying to access mellon responds with PAOS content that wraps the SAML AuthnRequest. The HTTP Content-Type header must be &quot;application/vnd.paos+xml&quot;. However in some versions of Apache the returned Content-Type header is &quot;text/html&quot; which breaks the ECP flow because the ECP client does not expect it.

The problem arises because mellon was using the wrong Apache call to set the Content-Type header. In some versions of Apache this worked but in others it did not.

Upstream bug: https://github.com/UNINETT/mod_auth_mellon/issues/108

Upstream git commit: 040a1ae5cb2aab38b2bc716cc3d0d6fa7b998a7a</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10072679</commentid>
    <comment_count>1</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-01-17 12:02:00 -0500</bug_when>
    <thetext>mod_auth_mellon-0.12.0-4.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-d1e7da20dd</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10079273</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-01-19 04:10:10 -0500</bug_when>
    <thetext>mod_auth_mellon-0.12.0-4.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-d1e7da20dd</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10102621</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-01-27 14:21:33 -0500</bug_when>
    <thetext>mod_auth_mellon-0.12.0-4.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
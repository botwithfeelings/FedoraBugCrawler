<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1427835</bug_id>
          
          <creation_ts>2017-03-01 06:08:00 -0500</creation_ts>
          <short_desc>Terminator fails with &quot;TypeError: argument window: Expected GdkX11.X11Window, but got __gi__.GdkWaylandWindow&quot;</short_desc>
          <delta_ts>2017-03-03 07:28:06 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>terminator</component>
          <version>25</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Nitin Bansal">nbansal</reporter>
          <assigned_to name="Dominic Hopf">dmaphy</assigned_to>
          <cc>allanlewis99</cc>
    
    
    <cc>allyouneedis</cc>
    
    
    <cc>dmaphy</cc>
    
    
    <cc>fcoelho_9</cc>
    
    
    <cc>jp.louvel</cc>
    
    
    <cc>mattrose</cc>
    
    
    <cc>MikeDawg</cc>
    
    
    <cc>thomas</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>terminator-1.91-2.fc25</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-03-02 22:55:30</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10196856</commentid>
    <comment_count>0</comment_count>
    <who name="Nitin Bansal">nbansal</who>
    <bug_when>2017-03-01 06:08:13 -0500</bug_when>
    <thetext>Description of problem:
Terminator fails to launch since upgrading to terminator-1.91-1.fc25.noarch:

$ terminator
(terminator:30796): Gtk-WARNING **: Allocating size to GtkVScrollbar 0x55c2e06bc650 without calling gtk_widget_get_preferred_width/height(). How does the code know the size to allocate?
Traceback (most recent call last):
  File &quot;/usr/bin/terminator&quot;, line 126, in &lt;module&gt;
    TERMINATOR.layout_done()
  File &quot;/usr/lib/python2.7/site-packages/terminatorlib/terminator.py&quot;, line 402, in layout_done
    t = GdkX11.x11_get_server_time(window.get_window())
TypeError: argument window: Expected GdkX11.X11Window, but got __gi__.GdkWaylandWindow

Version-Release number of selected component (if applicable):
terminator-1.91-1.fc25.noarch

How reproducible:
Always

Steps to Reproduce:
1. Try to launch terminator, it fails with the error given in description.

Actual results:
Terminator fails to launch

Expected results:
Terminator should launch

Additional info:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10196867</commentid>
    <comment_count>1</comment_count>
    <who name="Nitin Bansal">nbansal</who>
    <bug_when>2017-03-01 06:10:56 -0500</bug_when>
    <thetext>Looks same as https://bugs.launchpad.net/terminator/+bug/1668481</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10196902</commentid>
    <comment_count>2</comment_count>
    <who name="Nitin Bansal">nbansal</who>
    <bug_when>2017-03-01 06:17:05 -0500</bug_when>
    <thetext>wayland_fix.diff from comment #3 fixed the issue.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10199106</commentid>
    <comment_count>3</comment_count>
    <who name="Mike">MikeDawg</who>
    <bug_when>2017-03-01 16:11:43 -0500</bug_when>
    <thetext>Seeing this error as well. I just upgraded the package today 3/1/17, looks like an update was released for this package either on 2/27/17 or 2/28/17.

Here is the error message I&apos;m seeing:  

Mar 01 15:09:10 blah.name terminator[5461]: Allocating size to GtkVScrollbar 0x562ba4ade650 without calling gtk_widget_get_preferred_width/height(). How does the code know the size to allocate?
Mar 01 15:09:10 blah.name terminator.desktop[5461]: Traceback (most recent call last):
Mar 01 15:09:10 blah.name terminator.desktop[5461]:   File &quot;/usr/bin/terminator&quot;, line 126, in &lt;module&gt;
Mar 01 15:09:10 blah.name terminator.desktop[5461]:     TERMINATOR.layout_done()
Mar 01 15:09:10 blah.name terminator.desktop[5461]:   File &quot;/usr/lib/python2.7/site-packages/terminatorlib/terminator.py&quot;, line 402, in layout_done
Mar 01 15:09:10 blah.name terminator.desktop[5461]:     t = GdkX11.x11_get_server_time(window.get_window())
Mar 01 15:09:10 blah.name terminator.desktop[5461]: TypeError: argument window: Expected GdkX11.X11Window, but got __gi__.GdkWaylandWindow</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10199116</commentid>
    <comment_count>4</comment_count>
    <who name="Matt Rose">mattrose</who>
    <bug_when>2017-03-01 16:15:05 -0500</bug_when>
    <thetext>Hopefully I&apos;ll be able to fix this up tonight.  Should just be a matter of taking the patch from launchpad and applying it to the rpm.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10199119</commentid>
    <comment_count>5</comment_count>
    <who name="Matt Rose">mattrose</who>
    <bug_when>2017-03-01 16:18:03 -0500</bug_when>
    <thetext>Hah, upstream has released a new version that fixes this.  I&apos;ll see if I can push this out tonight EST.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10199120</commentid>
    <comment_count>6</comment_count>
    <who name="Mike">MikeDawg</who>
    <bug_when>2017-03-01 16:18:17 -0500</bug_when>
    <thetext>Yeah, I was just going to confirm that the patch that Nitin Bansal mentioned, did work for my release as well. Purely as an FYI.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10200389</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-01 23:54:17 -0500</bug_when>
    <thetext>terminator-1.91-2.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-3e11859cc5</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10200391</commentid>
    <comment_count>8</comment_count>
    <who name="Matt Rose">mattrose</who>
    <bug_when>2017-03-01 23:58:08 -0500</bug_when>
    <thetext>Should fix it.  I reproduced the issue and then built and installed the new package, and didn&apos;t see the issue.

I hope everyone appreciates me doing this instead of going to bed at a decent hour :)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10200414</commentid>
    <comment_count>9</comment_count>
    <who name="Nitin Bansal">nbansal</who>
    <bug_when>2017-03-02 00:14:49 -0500</bug_when>
    <thetext>(In reply to Matt Rose from comment #8)
&gt; Should fix it.  I reproduced the issue and then built and installed the new
&gt; package, and didn&apos;t see the issue.
&gt; 
&gt; I hope everyone appreciates me doing this instead of going to bed at a
&gt; decent hour :)

Definitely, thank you for speedy resolution. matt++ :)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10202016</commentid>
    <comment_count>10</comment_count>
    <who name="Matt Rose">mattrose</who>
    <bug_when>2017-03-02 09:01:08 -0500</bug_when>
    <thetext>*** Bug 1428374 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10204593</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-02 22:55:30 -0500</bug_when>
    <thetext>terminator-1.91-2.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10205758</commentid>
    <comment_count>12</comment_count>
    <who name="James Hogarth">james.hogarth</who>
    <bug_when>2017-03-03 07:28:06 -0500</bug_when>
    <thetext>*** Bug 1428304 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
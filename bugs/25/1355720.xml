<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1355720</bug_id>
          
          <creation_ts>2016-07-12 06:46:00 -0400</creation_ts>
          <short_desc>crash: double-free with --ignore-lock</short_desc>
          <delta_ts>2017-04-12 20:20:21 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>createrepo_c</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          <see_also>https://bugzilla.redhat.com/show_bug.cgi?id=1331787</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>Reopened</keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1415791</blocked>
    
    
    <blocked>1420243</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Pavel Raiskup">praiskup</reporter>
          <assigned_to name="Tomas Mlcoch">tmlcoch</assigned_to>
          <cc>kdudka</cc>
    
    
    <cc>praiskup</cc>
    
    
    <cc>tmlcoch</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>createrepo_c-0.10.0-6.el7</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-04-12 20:20:21</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9500953</commentid>
    <comment_count>0</comment_count>
      <attachid>1178852</attachid>
    <who name="Pavel Raiskup">praiskup</who>
    <bug_when>2016-07-12 06:46:48 -0400</bug_when>
    <thetext>Created attachment 1178852
fedora-23-x86_64.tar.gz

Reproducer directory attached:

$ tar xf fedora-23-x86_64.tar.gz
$ craterepo_c --ignore-lock fedora-23-x86_64</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9500985</commentid>
    <comment_count>1</comment_count>
    <who name="Pavel Raiskup">praiskup</who>
    <bug_when>2016-07-12 06:58:18 -0400</bug_when>
    <thetext>Probably src/createrepo_shared.c:
- tmp_repodata_dir = tmp;
+ tmp_repodata_dir = g_strdup(tmp);</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9652292</commentid>
    <comment_count>2</comment_count>
    <who name="Tomas Mlcoch">tmlcoch</who>
    <bug_when>2016-08-26 05:30:40 -0400</bug_when>
    <thetext>Should be resolved in this commit:
https://github.com/rpm-software-management/createrepo_c/commit/3519f493ce51bac53d178f7ff9e5b84ca98a158a</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9689435</commentid>
    <comment_count>3</comment_count>
    <who name="Tomas Mlcoch">tmlcoch</who>
    <bug_when>2016-09-08 03:49:14 -0400</bug_when>
    <thetext>The previous fix wasn&apos;t complete:
https://github.com/rpm-software-management/createrepo_c/commit/07f5cce3eff5c62f0c16143c7eaab64eb0e3ebf8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9928647</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-11-25 04:25:33 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 23 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 23. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as EOL if it remains open with a Fedora  &apos;version&apos;
of &apos;23&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version.

Thank you for reporting this issue and we are sorry that we were not 
able to fix it before Fedora 23 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior this bug is closed as described in the policy above.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10089616</commentid>
    <comment_count>5</comment_count>
    <who name="Pavel Raiskup">praiskup</who>
    <bug_when>2017-01-23 12:38:13 -0500</bug_when>
    <thetext>Can we please backport to F25?  Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10090748</commentid>
    <comment_count>6</comment_count>
    <who name="Pavel Raiskup">praiskup</who>
    <bug_when>2017-01-24 00:34:30 -0500</bug_when>
    <thetext>Proposing fix in private branch: private-praiskup-rhbz-1355720

Tomas, I&apos;m OK to merge this f25+ and submit update if you gave me an ACK.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10137668</commentid>
    <comment_count>7</comment_count>
    <who name="Pavel Raiskup">praiskup</who>
    <bug_when>2017-02-10 06:26:25 -0500</bug_when>
    <thetext>No ACK so far; fixing F25 is not on my radar now (both copr instances
have it fixed), but I&apos;ll push to F26 very soon to avoid the same issue
again in future copr updates.

Please stop me now if you think this is a bad idea.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10142136</commentid>
    <comment_count>8</comment_count>
    <who name="Tomas Mlcoch">tmlcoch</who>
    <bug_when>2017-02-13 03:47:17 -0500</bug_when>
    <thetext>Looks good Pavel.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10142221</commentid>
    <comment_count>9</comment_count>
    <who name="Pavel Raiskup">praiskup</who>
    <bug_when>2017-02-13 04:11:21 -0500</bug_when>
    <thetext>Would you be OK if I submitted EPEL7 update, too?  There is initiative to
make Copr work on el7 machines so it would be nice to have it fixed now
when we are on it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10142244</commentid>
    <comment_count>10</comment_count>
    <who name="Tomas Mlcoch">tmlcoch</who>
    <bug_when>2017-02-13 04:22:46 -0500</bug_when>
    <thetext>Ack. Feel free to update EPEL7 too.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10142483</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-13 06:00:18 -0500</bug_when>
    <thetext>createrepo_c-0.10.0-6.el7 has been submitted as an update to Fedora EPEL 7. https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2017-94499a3eb7</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10144663</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-13 18:19:19 -0500</bug_when>
    <thetext>createrepo_c-0.10.0-6.el7 has been pushed to the Fedora EPEL 7 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2017-94499a3eb7</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10331385</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-04-12 20:20:21 -0400</bug_when>
    <thetext>createrepo_c-0.10.0-6.el7 has been pushed to the Fedora EPEL 7 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>1178852</attachid>
            <date>2016-07-12 06:46:00 -0400</date>
            <delta_ts>2016-07-12 06:46:48 -0400</delta_ts>
            <desc>fedora-23-x86_64.tar.gz</desc>
            <filename>fedora-23-x86_64.tar.gz</filename>
            <type>application/x-gzip</type>
            <size>2148</size>
            <attacher name="Pavel Raiskup">praiskup</attacher>
            
              <data encoding="base64">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
</data>

          </attachment>
      

    </bug>

</bugzilla>
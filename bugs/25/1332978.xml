<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1332978</bug_id>
          
          <creation_ts>2016-05-04 09:10:00 -0400</creation_ts>
          <short_desc>update to a newer release or merge with pypy package</short_desc>
          <delta_ts>2016-11-19 16:18:30 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>pypy3</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          <dependson>1307889</dependson>
          <blocked>467765</blocked>
    
    
    <blocked>1071880</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Dan Horák">dan</reporter>
          <assigned_to name="Miro Hrončok">mhroncok</assigned_to>
          <cc>dan</cc>
    
    
    <cc>mcyprian</cc>
    
    
    <cc>mhroncok</cc>
    
    
    <cc>mstuchli</cc>
    
    
    <cc>pbrobinson</cc>
    
    
    <cc>pingou</cc>
    
    
    <cc>python-sig</cc>
    
    
    <cc>upstream-release-monitoring</cc>
    
    
    <cc>zbyszek</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>pypy3-5.5.0-3.fc25</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-11-19 16:18:30</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9291828</commentid>
    <comment_count>0</comment_count>
    <who name="Dan Horák">dan</who>
    <bug_when>2016-05-04 09:10:11 -0400</bug_when>
    <thetext>The last successful build of pypy3 is pypy3-2.4.0-3.fc24. It would be very useful to rebase it to later version because they include support for additional architectures - ppc64/ppc64le for sure, maybe also s390 or aarch64.

Isn&apos;t it possible to merge pypy3 with pypy packages and build both py2 and py3 specific versions from a common package?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9291839</commentid>
    <comment_count>1</comment_count>
    <who name="Peter Robinson">pbrobinson</who>
    <bug_when>2016-05-04 09:12:34 -0400</bug_when>
    <thetext>
&gt; Isn&apos;t it possible to merge pypy3 with pypy packages and build both py2 and
&gt; py3 specific versions from a common package?

I believe originally the reason for the separate base package was because py3 support was a fork/separate tarball but this isn&apos;t the case now since v4 with both py2 and py3 support being buildable from the same tar file.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9295238</commentid>
    <comment_count>2</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-05-05 07:41:55 -0400</bug_when>
    <thetext>Oh, I didn&apos;t know that

http://pypy.org/download.html still lists pypy3 as the one with Python 3 support and 2.4.0 as the latest version.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9320649</commentid>
    <comment_count>3</comment_count>
    <who name="Dan Horák">dan</who>
    <bug_when>2016-05-12 06:34:40 -0400</bug_when>
    <thetext>Hm, sounds we are out of luck then. Peter, what&apos;s the source of your information?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9320655</commentid>
    <comment_count>4</comment_count>
    <who name="Peter Robinson">pbrobinson</who>
    <bug_when>2016-05-12 06:37:54 -0400</bug_when>
    <thetext>I&apos;m sure it was on their main site, when I have a moment I&apos;ll see if I can find it again, it was a while ago that I read it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9794310</commentid>
    <comment_count>5</comment_count>
    <who name="Peter Robinson">pbrobinson</who>
    <bug_when>2016-10-15 10:31:21 -0400</bug_when>
    <thetext>So there&apos;s now a new 5.5.0 release with support for a number of new architectures:

    x86 machines on most common operating systems except Windows 
    newer ARM hardware (ARMv6 or ARMv7, with VFPv3) running Linux 
    big- and little-endian variants of PPC64 running Linux 
    s390x running Linux

https://morepypy.blogspot.co.uk/2016/10/pypy3-550-released.html</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9794406</commentid>
    <comment_count>6</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-10-15 12:56:10 -0400</bug_when>
    <thetext>Cool. I already have an alpha ready in https://copr.fedorainfracloud.org/coprs/churchyard/pypy33/ will try to package this ASAP.

The real question is, shall I do rawhide only? Probably yes, because the virtualenvs tend to be broken between pypy releases.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9794414</commentid>
    <comment_count>7</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-10-15 13:19:10 -0400</bug_when>
    <thetext>I&apos;m now stuck at:

    Exception: OpenSSL version &gt;= 1.1 not supported yet.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9794424</commentid>
    <comment_count>8</comment_count>
    <who name="Zbigniew Jędrzejewski-Szmek">zbyszek</who>
    <bug_when>2016-10-15 13:42:29 -0400</bug_when>
    <thetext>I&apos;d go for F25 too. It&apos;d be much nicer to have this in stable Fedora for next 6 months.

And it&apos;d get around the OpenSSL issue :) A bit later the openssl-1.0-compat-devel package will almost certainly be added to rawhide, or pypy will get support for 1.1. Either way, it makes sense to proceed without openssl-1.1 for now.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9794433</commentid>
    <comment_count>9</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-10-15 13:52:46 -0400</bug_when>
    <thetext>Ye, I&apos;m trying to build for F25 to have it ready.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9812563</commentid>
    <comment_count>10</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-10-21 18:32:27 -0400</bug_when>
    <thetext>*** Bug 1353595 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9812968</commentid>
    <comment_count>11</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-10-22 06:35:26 -0400</bug_when>
    <thetext>I&apos;m having trouble with https://github.com/yyuu/pyenv-virtualenv/issues/188 which would be a blocker.

    $ python3 -m virtualenv -p /usr/bin/pypy3 pypy3
    (exceptions, errors, problems)

But I&apos;m doing it on F23, so will also test on F25 to see if it perhaps does work there.

In case anyone would like to help with that see https://copr.fedorainfracloud.org/coprs/churchyard/pypy33</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9812977</commentid>
    <comment_count>12</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-10-22 06:57:51 -0400</bug_when>
    <thetext>$ python3 -m virtualenv -p /usr/bin/pypy3 pypy3

works on F25. will test with tox, but I think it will work as well.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9813020</commentid>
    <comment_count>13</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-10-22 08:12:16 -0400</bug_when>
    <thetext>It works. Going to build in rawhide.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9813024</commentid>
    <comment_count>14</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-10-22 08:12:56 -0400</bug_when>
    <thetext>http://koji.fedoraproject.org/koji/taskinfo?taskID=16163517</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9813052</commentid>
    <comment_count>15</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-10-22 08:18:57 -0400</bug_when>
    <thetext>Forgot to commit the sources, sorry about that.

http://koji.fedoraproject.org/koji/taskinfo?taskID=16163590</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9813104</commentid>
    <comment_count>16</comment_count>
    <who name="Peter Robinson">pbrobinson</who>
    <bug_when>2016-10-22 08:37:27 -0400</bug_when>
    <thetext>And you&apos;ll likely want to ExcludeArch aarch64 as I&apos;m not sure (sadly) it&apos;s supported yet (although would love to be proven wrong)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9813129</commentid>
    <comment_count>17</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-10-22 10:17:30 -0400</bug_when>
    <thetext>Find out the hard way :(

http://koji.fedoraproject.org/koji/taskinfo?taskID=16164154</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9813501</commentid>
    <comment_count>18</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-10-23 06:51:34 -0400</bug_when>
    <thetext>I&apos;m getting &quot;Memory exhausted&quot; on armv7hl twice in a row.

Will try to get it build less parallel and see if that works.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9813502</commentid>
    <comment_count>19</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-10-23 07:03:20 -0400</bug_when>
    <thetext>Hmm, there is http://pkgs.fedoraproject.org/cgit/rpms/pypy.git/commit/pypy.spec?id=5164c65be2c803608d92eb05cf38fd269c7bd402 - I&apos;ll try to use the line with PYPY_GC_MAX_DELTA.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9814355</commentid>
    <comment_count>20</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-10-24 03:11:36 -0400</bug_when>
    <thetext>So making it less parallel doesn&apos;t help And I was unable to port the PYPY_GC_MAX_DELTA command to this package, as I have no idea how does that work.

Michal, could you please have a look? It was in your commit in pypy.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9814605</commentid>
    <comment_count>21</comment_count>
    <who name="Michal Cyprian">mcyprian</who>
    <bug_when>2016-10-24 05:07:26 -0400</bug_when>
    <thetext>This command changes settings of PyPy&apos;s garbage collector to reduce RAM usage. It don&apos;t know any details, I put command from documentation to the specfile and it worked for PyPy2. Documentation links:
http://pypy.org/download.html
http://doc.pypy.org/en/latest/gc_info.html</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9851014</commentid>
    <comment_count>22</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-11-03 07:23:52 -0400</bug_when>
    <thetext>I&apos;m sorry. I don&apos;t have time to fix this in time.

Zbigniew, if you want to get this to Fedora 25, please have a look at it. If you don&apos;t have time as well, ask Michal.

Also, we could ask for help on python-devel@</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9886093</commentid>
    <comment_count>23</comment_count>
    <who name="Zbigniew Jędrzejewski-Szmek">zbyszek</who>
    <bug_when>2016-11-13 18:28:44 -0500</bug_when>
    <thetext>I switched the linker to gold (but not on ppc64*, because it isn&apos;t available there), which got around the linking issues on arm and made some small hack in the build process. sharkcz fixed the build on s390x by bumping the minimum architecture version to z10.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9886095</commentid>
    <comment_count>24</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-13 18:30:51 -0500</bug_when>
    <thetext>pypy3-5.5.0-3.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2016-6f621ad361</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9886923</commentid>
    <comment_count>25</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-11-14 02:59:59 -0500</bug_when>
    <thetext>You are awesome! I&apos;ll test the build and give karma accordingly.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9892599</commentid>
    <comment_count>26</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-15 08:26:24 -0500</bug_when>
    <thetext>pypy3-5.5.0-3.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-6f621ad361</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9905932</commentid>
    <comment_count>27</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-19 16:18:30 -0500</bug_when>
    <thetext>pypy3-5.5.0-3.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1337605</bug_id>
          
          <creation_ts>2016-05-19 11:26:00 -0400</creation_ts>
          <short_desc>pdf-stapler includes unexpanded macro %srcname in provides</short_desc>
          <delta_ts>2016-10-15 01:50:34 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>pdf-stapler</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          <see_also>https://bugzilla.redhat.com/show_bug.cgi?id=1337559</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Till Maas">opensource</reporter>
          <assigned_to name="Ranjan Maitra">itsme_410</assigned_to>
          <cc>itsme_410</cc>
    
    
    <cc>opensource</cc>
    
    
    <cc>projects.rg</cc>
    
    
    <cc>zbyszek</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>pdf-stapler-0.3.3-8.fc25 pdf-stapler-0.3.3-8.fc24 pdf-stapler-0.3.3-8.fc23</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-10-14 15:35:45</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9341493</commentid>
    <comment_count>0</comment_count>
    <who name="Till Maas">opensource</who>
    <bug_when>2016-05-19 11:26:25 -0400</bug_when>
    <thetext>Description of problem:
The spec contains
%{?python_provide:%python_provide python2-%{srcname}}
but does not define srcname

Version-Release number of selected component (if applicable):
0.3.3-6

see also bug 1337559</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9354900</commentid>
    <comment_count>1</comment_count>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2016-05-24 12:11:20 -0400</bug_when>
    <thetext>pdf-stapler has broken dependencies in the rawhide tree:
On x86_64:
	pdf-stapler-0.3.3-6.fc24.noarch requires python-PyPDF2
On i386:
	pdf-stapler-0.3.3-6.fc24.noarch requires python-PyPDF2
On armhfp:
	pdf-stapler-0.3.3-6.fc24.noarch requires python-PyPDF2
Please resolve this as soon as possible.

We tried to fix that in bug #1337559, but does not work for unknown reasons. Generally, it&apos;s better for pdf-stapler to BR: python2-PyPDF2 anyways.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9354963</commentid>
    <comment_count>2</comment_count>
    <who name="Till Maas">opensource</who>
    <bug_when>2016-05-24 12:29:12 -0400</bug_when>
    <thetext>(In reply to Raphael Groner from comment #1)

&gt; We tried to fix that in bug #1337559, but does not work for unknown reasons.
&gt; Generally, it&apos;s better for pdf-stapler to BR: python2-PyPDF2 anyways.

This bug is about pdf-stapler containing the same bug as python-PyPDF2 initially btw. Therefore this BR: python2-PyPDF2 does not help to fix this bug. And just to make sure it is known: The best solution would be to port pdf-stapler to python3 to fix bug 1337559 but still this bug needs a fix in the pdf-stapler spec file.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9358837</commentid>
    <comment_count>3</comment_count>
    <who name="Till Maas">opensource</who>
    <bug_when>2016-05-25 14:52:06 -0400</bug_when>
    <thetext>(In reply to Raphael Groner from comment #1)

&gt; We tried to fix that in bug #1337559, but does not work for unknown reasons.
&gt; Generally, it&apos;s better for pdf-stapler to BR: python2-PyPDF2 anyways.

FYI: python-PyPDF2 was not yet updated in Rawhide, therefore it was not fixed there, but afaics it should be fixed with the next Rawhide push.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9384474</commentid>
    <comment_count>4</comment_count>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2016-06-03 07:25:01 -0400</bug_when>
    <thetext>%python_provide was explicitly requested in the package review:
https://bugzilla.redhat.com/show_bug.cgi?id=1234210#c37

IMHO this line can be removed. Our guidelines want it for any subpackage only and stapler neither has subpackages nor is it a library for general usage. When we (or upstream) decide to port to python3, this application moves as a whole to python3. No need to keep compatibility between python2 and 3.
https://fedoraproject.org/wiki/Packaging:Python#The_.25python_provide_macro

What do you think?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9384629</commentid>
    <comment_count>5</comment_count>
      <attachid>1164456</attachid>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2016-06-03 08:13:21 -0400</bug_when>
    <thetext>Created attachment 1164456
Split staplelib as module into a subpackage</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9549143</commentid>
    <comment_count>6</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2016-07-26 00:21:29 -0400</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 25 development cycle.
Changing version to &apos;25&apos;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9766399</commentid>
    <comment_count>7</comment_count>
    <who name="Ranjan Maitra">itsme_410</who>
    <bug_when>2016-10-04 19:24:39 -0400</bug_when>
    <thetext>(In reply to Raphael Groner from comment #4)
&gt; %python_provide was explicitly requested in the package review:
&gt; https://bugzilla.redhat.com/show_bug.cgi?id=1234210#c37
&gt; 
&gt; IMHO this line can be removed. Our guidelines want it for any subpackage
&gt; only and stapler neither has subpackages nor is it a library for general
&gt; usage. When we (or upstream) decide to port to python3, this application
&gt; moves as a whole to python3. No need to keep compatibility between python2
&gt; and 3.
&gt; https://fedoraproject.org/wiki/Packaging:Python#The_.25python_provide_macro
&gt; 
&gt; What do you think?

I am okay with removing this line. Let us do so and see if we can fix and close this bug.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9766446</commentid>
    <comment_count>8</comment_count>
    <who name="Zbigniew Jędrzejewski-Szmek">zbyszek</who>
    <bug_when>2016-10-04 20:01:00 -0400</bug_when>
    <thetext>There is no reason to remove this line. The guidelines say that python_provide should be used, and there&apos;s no significant reason to stray from that here.
It would be better to either:
1. change %{?python_provide:%python_provide python2-%{srcname}} to %{?python_provide:%python_provide python2-staplelib}
or
2. apply the patch comment #c5.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9766451</commentid>
    <comment_count>9</comment_count>
    <who name="Ranjan Maitra">itsme_410</who>
    <bug_when>2016-10-04 20:08:49 -0400</bug_when>
    <thetext>(In reply to Zbigniew Jędrzejewski-Szmek from comment #8)
&gt; There is no reason to remove this line. The guidelines say that
&gt; python_provide should be used, and there&apos;s no significant reason to stray
&gt; from that here.
&gt; It would be better to either:
&gt; 1. change %{?python_provide:%python_provide python2-%{srcname}} to
&gt; %{?python_provide:%python_provide python2-staplelib}
&gt; or
&gt; 2. apply the patch comment #c5.

Is there a compelling reason for #2? #1 seems simpler, though I must confess that I do not know the intricacies of the two options.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9766454</commentid>
    <comment_count>10</comment_count>
    <who name="Zbigniew Jędrzejewski-Szmek">zbyszek</who>
    <bug_when>2016-10-04 20:12:20 -0400</bug_when>
    <thetext>#2 assume that pdf-stapler will move to python3 by default at some point, and that you&apos;ll want to keep the python2 version of the library around. If that&apos;s true (or at least likely), this patch will save you some work in the future. If not, #1 is probably better.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9766460</commentid>
    <comment_count>11</comment_count>
    <who name="Ranjan Maitra">itsme_410</who>
    <bug_when>2016-10-04 20:18:32 -0400</bug_when>
    <thetext>OK, let us go with the patch then. Perhaps Ralph wants to take this forward? I don&apos;t quite know what to do with this. 

Btw, there has been talk upstream (on github) about the fact that more-itertools has not been packaged for fedora. So i have put together a Fedora package https://bugzilla.redhat.com/show_bug.cgi?id=1381029
in case wanted to provide feedback.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9772132</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-10-06 16:58:47 -0400</bug_when>
    <thetext>pdf-stapler-0.3.3-8.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-c8ed6f3b95</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9772948</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-10-07 05:25:18 -0400</bug_when>
    <thetext>pdf-stapler-0.3.3-8.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-67faa301bd</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9773019</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-10-07 05:58:46 -0400</bug_when>
    <thetext>pdf-stapler-0.3.3-8.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-c3b2e1c00e</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9793593</commentid>
    <comment_count>15</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-10-14 15:35:45 -0400</bug_when>
    <thetext>pdf-stapler-0.3.3-8.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9794076</commentid>
    <comment_count>16</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-10-14 22:50:19 -0400</bug_when>
    <thetext>pdf-stapler-0.3.3-8.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9794126</commentid>
    <comment_count>17</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-10-15 01:50:34 -0400</bug_when>
    <thetext>pdf-stapler-0.3.3-8.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1164456</attachid>
            <date>2016-06-03 08:13:00 -0400</date>
            <delta_ts>2016-06-03 08:13:21 -0400</delta_ts>
            <desc>Split staplelib as module into a subpackage</desc>
            <filename>module.patch</filename>
            <type>text/plain</type>
            <size>2338</size>
            <attacher name="Raphael Groner">projects.rg</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL3BkZi1zdGFwbGVyLnNwZWMgYi9wZGYtc3RhcGxlci5zcGVjCmluZGV4IDcy
YjhhZjQuLjlhOTliZDMgMTAwNjQ0Ci0tLSBhL3BkZi1zdGFwbGVyLnNwZWMKKysrIGIvcGRmLXN0
YXBsZXIuc3BlYwpAQCAtMyw3ICszLDcgQEAKIAogTmFtZTogICAgICAgICAgIHBkZi1zdGFwbGVy
CiBWZXJzaW9uOiAgICAgICAgMC4zLjMKLVJlbGVhc2U6ICAgICAgICA2JXs/ZGlzdH0KK1JlbGVh
c2U6ICAgICAgICA3JXs/ZGlzdH0KIFN1bW1hcnk6ICAgICAgICBUb29sIGZvciBtYW5pcHVsYXRp
bmcgUERGIGRvY3VtZW50cyBmcm9tIHRoZSBjb21tYW5kIGxpbmUKIExpY2Vuc2U6ICAgICAgICBC
U0QKIFVSTDogICAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vaGVsbGVyYmFyZGUvc3RhcGxl
cgpAQCAtMTEsOSArMTEsNyBAQCBTb3VyY2UwOiAgICAgICAgaHR0cHM6Ly9weXBpLnB5dGhvbi5v
cmcvcGFja2FnZXMvc291cmNlL3Mvc3RhcGxlci9zdGFwbGVyLSV7dmVycwogQnVpbGRBcmNoOiAg
ICAgIG5vYXJjaAogQnVpbGRSZXF1aXJlczogIHB5dGhvbjItZGV2ZWwKIEJ1aWxkUmVxdWlyZXM6
ICBweXRob24tc2V0dXB0b29scwotUmVxdWlyZXM6ICAgICAgIHB5dGhvbi1QeVBERjIKLVByb3Zp
ZGVzOiBweXRob24yLXN0YXBsZWxpYiA9ICV7dmVyc2lvbn0tJXtyZWxlYXNlfQotJXs/cHl0aG9u
X3Byb3ZpZGU6JXB5dGhvbl9wcm92aWRlIHB5dGhvbjItJXtzcmNuYW1lfX0KK1JlcXVpcmVzOiAg
ICAgICBweXRob24yLXN0YXBsZWxpYiA9ICV7dmVyc2lvbn0tJXtyZWxlYXNlfQogCiAlZGVzY3Jp
cHRpb24KIHBkZi1zdGFwbGVyIGlzIHRoZSBGZWRvcmEgcGFja2FnZSBmb3Igc3RhcGxlciwgdGhl
IG9wZW5zb3VyY2UgcHl0aG9uCkBAIC0zMCw2ICsyOCwxMyBAQCB3cml0aW5nIGhpcyBvd24uCiBU
aGlzIHZlcnNpb24gb2Ygc3RhcGxlciBpcyBGcmVkIFdlbnplbCdzIGZvcmsgb2YgdGhlIHByb2pl
Y3QsIHdpdGgKIGEgY29tcGxldGVseSByZWZhY3RvcmVkIHNvdXJjZSBjb2RlLCB0ZXN0cywgYW5k
IGFkZGVkIGZ1bmN0aW9uYWxpdHkuCiAKKyVwYWNrYWdlIC1uIHB5dGhvbjItc3RhcGxlbGliCitT
dW1tYXJ5OiAgICAgICAgTW9kdWxlIHN0YXBsZWxpYiBvZiBwZGYtc3RhcGxlcgorUmVxdWlyZXM6
ICAgICAgIHB5dGhvbjItUHlQREYyCislez9weXRob25fcHJvdmlkZTolcHl0aG9uX3Byb3ZpZGUg
cHl0aG9uMi1zdGFwbGVsaWJ9CisKKyVkZXNjcmlwdGlvbiAtbiBweXRob24yLXN0YXBsZWxpYgor
JXtzdW1tYXJ5fS4KIAogJXByZXAKICVzZXR1cCAtcSAtbiBzdGFwbGVyLSV7dmVyc2lvbn0KQEAg
LTUwLDEyICs1NSwxOCBAQCBtdiAkUlBNX0JVSUxEX1JPT1QvJXtfYmluZGlyfS9zdGFwbGVyICRS
UE1fQlVJTERfUk9PVC8le19iaW5kaXJ9LyV7bmFtZX0KIAogJWZpbGVzCiAle19iaW5kaXJ9LyV7
bmFtZX0KLSV7cHl0aG9uMl9zaXRlbGlifS9zdGFwbGVyLSV7dmVyc2lvbn0qLmVnZy1pbmZvCi0l
e3B5dGhvbjJfc2l0ZWxpYn0vc3RhcGxlbGliCiAlZG9jIFJFQURNRS5yc3QgUEtHLUlORk8KICVs
aWNlbnNlIExJQ0VOU0UKIAorJWZpbGVzIC1uIHB5dGhvbjItc3RhcGxlbGliCisle3B5dGhvbjJf
c2l0ZWxpYn0vc3RhcGxlci0le3ZlcnNpb259Ki5lZ2ctaW5mbworJXtweXRob24yX3NpdGVsaWJ9
L3N0YXBsZWxpYi8KKyVsaWNlbnNlIExJQ0VOU0UKKwogJWNoYW5nZWxvZworKiBGcmkgSnVuIDAz
IDIwMTYgUmFwaGFlbCBHcm9uZXIgPHByb2plY3RzLnJnQHNtYXJ0Lm1zPiAtIDAuMy4zLTcKKy0g
c3BsaXQgbW9kdWxlIGludG8gc3VicGFja2FnZSwgcmhieiMxMzM3NjA1CisKICogVGh1IEZlYiAw
NCAyMDE2IEZlZG9yYSBSZWxlYXNlIEVuZ2luZWVyaW5nIDxyZWxlbmdAZmVkb3JhcHJvamVjdC5v
cmc+IC0gMC4zLjMtNgogLSBSZWJ1aWx0IGZvciBodHRwczovL2ZlZG9yYXByb2plY3Qub3JnL3dp
a2kvRmVkb3JhXzI0X01hc3NfUmVidWlsZAogCkBAIC02NCw3ICs3NSw2IEBAIG12ICRSUE1fQlVJ
TERfUk9PVC8le19iaW5kaXJ9L3N0YXBsZXIgJFJQTV9CVUlMRF9ST09ULyV7X2JpbmRpcn0vJXtu
YW1lfQogMS4gY29ycmVjdGVkIG1hY3JvIHNpZ25zIGluIGNoYW5nZWxvZyB0byByZXByZXNlbnQg
dGhhdCB0aGVzZSBhcmUgY29tbWVudHMuCiAyLiBQcm92aWRlZCBleHBsaWNpdCBQcm92aWRlczog
aW4gcGFja2FnaW5nCiAKLQogKiBTdW4gRGVjIDIwIDIwMTUgYWFyZW0gQVQgZmVkb3JhcHJvamVj
dCBET1Qgb3JnIC0gMC4zLjMtNAogLSBtYWRlIGNoYW5nZXMgYXMgcGVyIFpiaWduaWV3IErEmWRy
emVqZXdza2ktU3ptZWsKICAgMS4gY2hhbmdlZCBidWlsZCBhbmQgaW5zdGFsbCBzdGF0ZW1lbnRz
Cg==
</data>

          </attachment>
      

    </bug>

</bugzilla>
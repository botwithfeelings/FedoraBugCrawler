<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1410983</bug_id>
          
          <creation_ts>2017-01-07 00:19:00 -0500</creation_ts>
          <short_desc>texlive-ebgaramond contains historical flags (i.e., flags obsolete for centuries) as Unicode flag emoji</short_desc>
          <delta_ts>2017-02-25 20:38:08 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>texlive</component>
          <version>25</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>medium</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Kevin Kofler">kevin</reporter>
          <assigned_to name="Tom &quot;spot&quot; Callaway">tcallawa</assigned_to>
          <cc>tcallawa</cc>
    
    
    <cc>than</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>texlive-2016-32.20160520.fc25</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-02-25 20:38:08</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10042256</commentid>
    <comment_count>0</comment_count>
    <who name="Kevin Kofler">kevin</who>
    <bug_when>2017-01-07 00:19:27 -0500</bug_when>
    <thetext>Description of problem:
What I am seeing is really a conjunction of unfortunate design decisions, which really mess things up:
* The EB Garamond upstream font decided to map some historical flags (i.e., flags obsolete for centuries) to the Unicode flag emoji code points:
https://bitbucket.org/georgd/eb-garamond/commits/all?search=flag
* TeXLive includes that font as part of the texlive-ebgaramond package. That package is required by (at least) texlive-collection-latexextra, texlive-collection-fontsextra and texlive-moderncv.
* Somehow (I don&apos;t know whether this is by design or something messed up in my configuration), the TeXLive fonts end up in my system-wide font search path. (Is that a deliberate feature or a bug?)
* Since most other fonts do not include the relevant code points, Fontconfig decides to pick up the EB Garamond flags through the fallback font mechanism for almost all fonts on the system, including DejaVu Sans, Liberation Sans, etc.

As a result, I end up with web pages such as:
http://emojipedia.org/flags/
displaying really weird &quot;Chinese&quot;, &quot;French&quot;, &quot;Norwegian&quot;, and &quot;Spanish&quot; flags. (Only the UK one makes any sense in today&apos;s world.)

Version-Release number of selected component (if applicable):
texlive-ebgaramond-svn35662.0.16-24.fc24.1.noarch

How reproducible:
Always? (It needs to be confirmed whether it is normal that TeXLive fonts end up in the system-wide search path or not, and if not, what did that.)

Steps to Reproduce:
1. Install texlive-ebgaramond.
2. Browse to http://emojipedia.org/flags/ with a browser other than Firefox. (Try, e.g., QupZilla.) The &quot;other than Firefox&quot; restriction is because Firefox uses its own bundled Emoji One font to display emoji, not fontconfig fonts.

I also have the gdouros-symbola-fonts package installed, which sorta covers those code-points (it displays the flags just as their country code, i.e., the characters composing them, because it does not implement the ligatures), but fontconfig decides to not use that one. I have not tested yet whether installing other Emoji fonts such as the google-noto-emoji-fonts would help.

Actual results:
Unrecognizable obsolete (centuries-old) flags.

Expected results:
Modern-day flags, or the country code, or a replacement character (the box or the Unicode boxed question mark). Anything is better than a wrong/outdated flag.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10042860</commentid>
    <comment_count>1</comment_count>
    <who name="Kevin Kofler">kevin</who>
    <bug_when>2017-01-07 22:08:31 -0500</bug_when>
    <thetext>The same happens on Fedora 25:
texlive-ebgaramond-svn35662.0.16-22.fc25.1.noarch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10068004</commentid>
    <comment_count>2</comment_count>
    <who name="Tom &quot;spot&quot; Callaway">tcallawa</who>
    <bug_when>2017-01-16 16:47:54 -0500</bug_when>
    <thetext>Users wanted TeXLive fonts to end in the system-wide search path, so that is intentional. This situation is obviously an unintended consequence. :/

I&apos;ve removed ebgaramond from the system path in -31, which is building now for F25/rawhide.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10072020</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-01-17 09:49:52 -0500</bug_when>
    <thetext>texlive-2016-24.20160520.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-edf549ecaf</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10079234</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-01-19 04:07:16 -0500</bug_when>
    <thetext>texlive-2016-24.20160520.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-edf549ecaf</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10173126</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-21 22:21:20 -0500</bug_when>
    <thetext>texlive-2016-32.20160520.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-b10c075994</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10176323</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-22 16:09:16 -0500</bug_when>
    <thetext>texlive-2016-32.20160520.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-b10c075994</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184105</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-25 20:38:08 -0500</bug_when>
    <thetext>texlive-2016-32.20160520.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
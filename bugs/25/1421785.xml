<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1421785</bug_id>
          
          <creation_ts>2017-02-13 11:33:00 -0500</creation_ts>
          <short_desc>fails to connect to x11vnc server</short_desc>
          <delta_ts>2017-06-09 15:03:52 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>gtk-vnc</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Martin Kourim">mkourim</reporter>
          <assigned_to name="Daniel Berrange">berrange</assigned_to>
          <cc>amigadave</cc>
    
    
    <cc>ari.reads</cc>
    
    
    <cc>berrange</cc>
    
    
    <cc>brian</cc>
    
    
    <cc>brian.murrell</cc>
    
    
    <cc>cfergeau</cc>
    
    
    <cc>debarshir</cc>
    
    
    <cc>feborges</cc>
    
    
    <cc>jdieter</cc>
    
    
    <cc>marcandre.lureau</cc>
    
    
    <cc>pokorra.mailinglists</cc>
    
    
    <cc>teppot</cc>
    
    
    <cc>virt-maint</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>gtk-vnc-0.7.1-1.fc25 gtk-vnc-0.7.1-1.fc24 gtk-vnc-0.7.1-1.fc26</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-05-22 20:41:18</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10143711</commentid>
    <comment_count>0</comment_count>
    <who name="Martin Kourim">mkourim</who>
    <bug_when>2017-02-13 11:33:44 -0500</bug_when>
    <thetext>Description of problem:
This used to work, but after last &apos;dnf update&apos; I can no longer connect to x11vnc server (running in docker container). It works with TigerVNC client.

The updated packages that might be related are gvnc-0.7.0-1.fc25.x86_64 and gtk-vnc2-0.7.0-1.fc25.x86_64

The version of x11vnc: 0.9.14 lastmod: 2013-11-21


Version-Release number of selected component (if applicable):
vinagre-3.22.0-1.fc25.x86_64


How reproducible:
100%


Steps to Reproduce:
1. run as root: docker pull cfmeqe/sel_ff_chrome; docker run -d -p 59988:5999
2. run as normal user: sleep 20; vinagre --gtk-vnc-debug 127.0.0.1:59988


Actual results:
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Init VncConnection=0x55fe7b047200
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Using X11 backend
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c XKB keyboard map name &apos;evdev+aliases(qwerty)&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Server vendor is &apos;Fedora Project&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;Generic Event Extension&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;SHAPE&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;MIT-SHM&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XInputExtension&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XTEST&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;BIG-REQUESTS&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;SYNC&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XKEYBOARD&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XC-MISC&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XFIXES&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;RENDER&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;RANDR&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XINERAMA&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;Composite&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DAMAGE&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;MIT-SCREEN-SAVER&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DOUBLE-BUFFER&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;RECORD&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DPMS&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;Present&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DRI3&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;X-Resource&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XVideo&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XFree86-VidModeExtension&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XFree86-DGA&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DRI2&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;GLX&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;SGI-GLX&apos;
(vinagre:28060): gtk-vnc-DEBUG: vncdisplaykeymap.c Using evdev keycode mapping
(vinagre:28060): gtk-vnc-DEBUG: vncdisplay.c Grab sequence is now Control_L+Alt_L
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Open host=127.0.0.1 port=60255
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Open coroutine starting
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Started background coroutine
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Resolving host 127.0.0.1 60255
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Trying one socket
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Socket pending
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Finally connected
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Emit main context 13
(vinagre:28060): gtk-vnc-DEBUG: vncdisplay.c Connected to VNC server
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Protocol initialization
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Read error Resource temporarily unavailable
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Closing the connection: vnc_connection_read() - ret=0
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Error: Server closed the connection
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Emit main context 16
(vinagre:28060): gtk-vnc-DEBUG: vncdisplay.c VNC server error
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Error while reading server version
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Doing final VNC cleanup
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Close VncConnection=0x55fe7b047200
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Emit main context 15
(vinagre:28060): gtk-vnc-DEBUG: vncdisplay.c Disconnected from VNC server
(vinagre:28060): gtk-vnc-DEBUG: vncdisplay.c Display destroy, requesting that VNC connection close
(vinagre:28060): gtk-vnc-DEBUG: vncdisplay.c Display destroy, requesting that VNC connection close
(vinagre:28060): gtk-vnc-DEBUG: vncdisplay.c Releasing VNC widget
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Delayed unref VncConnection=0x55fe7b047200
(vinagre:28060): gtk-vnc-DEBUG: vncconnection.c Finalize VncConnection=0x55fe7b047200</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10143728</commentid>
    <comment_count>1</comment_count>
    <who name="Martin Kourim">mkourim</who>
    <bug_when>2017-02-13 11:39:10 -0500</bug_when>
    <thetext>Correction - command was incomplete:
Steps to Reproduce:
1. run as root: docker pull cfmeqe/sel_ff_chrome; docker run -d -p 59988:5999 cfmeqe/sel_ff_chrome</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10173352</commentid>
    <comment_count>2</comment_count>
    <who name="Ariel">ari.reads</who>
    <bug_when>2017-02-22 01:29:31 -0500</bug_when>
    <thetext>Seeing the same problem, vinagre can no longer connect to a VNC server, it used to work up until 2-3 weeks ago. Applying the same workaround as the original post.

In my case the server is dispmanx_vncserver  running on raspberry pi.
Vinagre is running on Fedora 25 / workstation.

Using a different client (TigerVNC / vncviewer) on the same workstation can connect to the VNC server/dispmanx_vncserver with no issue, showing that the problem is with vinagre.

Below is a snippet of the server log. It seems that Vinagre sends an incorrect header whereas vncviewer has no problem.


22/02/2017 09:24:04 Got connection from client 192.168.1.2
22/02/2017 09:24:04   other clients:
22/02/2017 09:24:04 webSocketsHandshake: invalid client header</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10224391</commentid>
    <comment_count>3</comment_count>
      <attachid>1261510</attachid>
    <who name="poma">pomidorabelisima</who>
    <bug_when>2017-03-09 05:55:53 -0500</bug_when>
    <thetext>Created attachment 1261510
Reverted &quot;Add workaround to avoid hangs when connecting to SPICE&quot;


- vinagre-3.20.2-2.fc24.x86_64
  &amp; gtk-vnc2-0.7.0-1.fc24.x86_64 (stock):

x11vnc
 ...
 Got connection from client &lt;IP&gt;
   other clients:
 webSocketsHandshake: invalid client header
 Client &lt;IP&gt; gone
 ...

= BROKEN connection

------------------------------

- vinagre-3.20.2-2.fc24.x86_64
  &amp; gtk-vnc2-0.7.0-2.fc24.x86_64 (patched)

i.e. with reverted
&quot;Add workaround to avoid hangs when connecting to SPICE&quot;
https://git.gnome.org/browse/gtk-vnc/commit/?id=7f4f2fe

= OK connection

x11vnc
 ...
 Got connection from client &lt;IP&gt;
   other clients:
 Normal socket connection
 ...
 incr accepted_client=1 for &lt;IP&gt;:35426  sock=13
 ...

-----------------------------------------------

For comparison - x0vncserver

- vinagre-3.20.2-2.fc24.x86_64
  &amp; gtk-vnc2-0.7.0-[12].fc24.x86_64

x0vncserver
 ...
 Connections: accepted: &lt;IP&gt;::32908
 SConnection: Client needs protocol version 3.8
 ...

= OK connection - with both, stock &amp; patched gtk-vnc</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10427742</commentid>
    <comment_count>4</comment_count>
    <who name="Jonathan Dieter">jdieter</who>
    <bug_when>2017-05-19 02:13:49 -0400</bug_when>
    <thetext>Just a heads up that this is fixed on the server side at https://bodhi.fedoraproject.org/updates/FEDORA-2017-dd5d2381e4 (also available for all other active Fedora releases)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10429048</commentid>
    <comment_count>5</comment_count>
    <who name="Brian J. Murrell">brian</who>
    <bug_when>2017-05-19 09:35:56 -0400</bug_when>
    <thetext>(In reply to Jonathan Dieter from comment #4)
&gt; Just a heads up that this is fixed on the server side at
&gt; https://bodhi.fedoraproject.org/updates/FEDORA-2017-dd5d2381e4 (also
&gt; available for all other active Fedora releases)

Sadly, I don&apos;t think so:

$ rpm -q libvncserver
libvncserver-0.9.11-2.fc25.1.x86_64
$ vinagre --gtk-vnc-debug host
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Init VncConnection=0x55f9a09e86a0
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Using X11 backend
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c XKB keyboard map name &apos;evdev+aliases(qwerty)&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Server vendor is &apos;Fedora Project&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;Generic Event Extension&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;SHAPE&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;MIT-SHM&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XInputExtension&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XTEST&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;BIG-REQUESTS&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;SYNC&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XKEYBOARD&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XC-MISC&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XFIXES&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;RENDER&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;RANDR&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XINERAMA&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;Composite&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DAMAGE&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;MIT-SCREEN-SAVER&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DOUBLE-BUFFER&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;RECORD&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DPMS&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;Present&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DRI3&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;X-Resource&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XVideo&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XFree86-VidModeExtension&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XFree86-DGA&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DRI2&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;GLX&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;SGI-GLX&apos;
(vinagre:11074): gtk-vnc-DEBUG: vncdisplaykeymap.c Using evdev keycode mapping
(vinagre:11074): gtk-vnc-DEBUG: vncdisplay.c Grab sequence is now Control_L+Alt_L
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Open host=host port=5900

(vinagre:11074): Gtk-WARNING **: Theme parsing error: &lt;data&gt;:2:28: The style property GtkButton:default-border is deprecated and shouldn&apos;t be used anymore. It will be removed in a future version

(vinagre:11074): Gtk-WARNING **: Theme parsing error: &lt;data&gt;:3:36: The style property GtkButton:default-outside-border is deprecated and shouldn&apos;t be used anymore. It will be removed in a future version

(vinagre:11074): Gtk-WARNING **: Theme parsing error: &lt;data&gt;:4:25: The style property GtkButton:inner-border is deprecated and shouldn&apos;t be used anymore. It will be removed in a future version

(vinagre:11074): Gtk-WARNING **: Theme parsing error: &lt;data&gt;:5:30: The style property GtkWidget:focus-line-width is deprecated and shouldn&apos;t be used anymore. It will be removed in a future version

(vinagre:11074): Gtk-WARNING **: Theme parsing error: &lt;data&gt;:6:27: The style property GtkWidget:focus-padding is deprecated and shouldn&apos;t be used anymore. It will be removed in a future version
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Open coroutine starting
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Started background coroutine
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Resolving host host 5900
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Trying one socket
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Socket pending
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Finally connected
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Emit main context 13
(vinagre:11074): gtk-vnc-DEBUG: vncdisplay.c Connected to VNC server
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Protocol initialization
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Read error Resource temporarily unavailable

(vinagre:11074): Gtk-WARNING **: Drawing a gadget with negative dimensions. Did you forget to allocate a size? (node box owner ViewAutoDrawer)
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Closing the connection: vnc_connection_read() - ret=0
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Error: Server closed the connection
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Emit main context 16
(vinagre:11074): gtk-vnc-DEBUG: vncdisplay.c VNC server error
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Error while reading server version
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Doing final VNC cleanup
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Close VncConnection=0x55f9a09e86a0
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Emit main context 15
(vinagre:11074): gtk-vnc-DEBUG: vncdisplay.c Disconnected from VNC server
(vinagre:11074): gtk-vnc-DEBUG: vncdisplay.c Display destroy, requesting that VNC connection close
(vinagre:11074): gtk-vnc-DEBUG: vncdisplay.c Display destroy, requesting that VNC connection close
(vinagre:11074): gtk-vnc-DEBUG: vncdisplay.c Releasing VNC widget
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Delayed unref VncConnection=0x55f9a09e86a0
(vinagre:11074): gtk-vnc-DEBUG: vncconnection.c Finalize VncConnection=0x55f9a09e86a0

I&apos;m also not sure how a libvncserver package update is supposed to fix a vinagre VNC *client* issue.

RPM doesn&apos;t indicate that libvncserver is in any way related to vinagre:

$ rpm -q --whatrequires libvncserver
no package requires libvncserver
$ rpm -q --requires vinagre | xargs -i rpm -q --whatprovides &quot;{}&quot; | sort -u
atk-2.22.0-1.fc25.x86_64
avahi-glib-0.6.32-4.fc25.x86_64
avahi-gobject-0.6.32-4.fc25.x86_64
avahi-libs-0.6.32-4.fc25.x86_64
avahi-ui-gtk3-0.6.32-4.fc25.x86_64
bash-4.3.43-4.fc25.x86_64
cairo-1.14.8-1.fc25.x86_64
cairo-gobject-1.14.8-1.fc25.x86_64
dbus-1.11.12-1.fc25.x86_64
dbus-glib-0.108-1.fc25.x86_64
dbus-libs-1.11.12-1.fc25.x86_64
freerdp-libs-2.0.0-5.git.b02943a.fc24.x86_64
gdk-pixbuf2-2.36.6-1.fc25.x86_64
glib2-2.50.3-1.fc25.x86_64
glibc-2.24-4.fc25.i686
glibc-2.24-4.fc25.x86_64
gnutls-3.5.10-1.fc25.x86_64
gtk3-3.22.11-1.fc25.x86_64
gtk-vnc2-0.7.0-1.fc25.x86_64
gvnc-0.7.0-1.fc25.x86_64
libsecret-0.18.5-2.fc25.x86_64
libX11-1.6.4-4.fc25.x86_64
libxml2-2.9.3-4.fc25.x86_64
no package provides desktop-file-utils &gt;= 0.22-6
no package provides glib2 &gt;= 2.45.4-2
no package provides rpmlib(CompressedFileNames) &lt;= 3.0.4-1
no package provides rpmlib(FileDigests) &lt;= 4.6.0-1
no package provides rpmlib(PayloadFilesHavePrefix) &lt;= 4.0-1
no package provides rpmlib(PayloadIsXz) &lt;= 5.2-1
no package provides shared-mime-info &gt;= 1.4-7
pango-1.40.4-1.fc25.x86_64
spice-glib-0.33-2.fc25.x86_64
spice-gtk3-0.33-2.fc25.x86_64
telepathy-filesystem-0.0.2-9.fc24.noarch
telepathy-glib-0.24.1-4.fc25.x86_64
vte291-0.46.1-1.fc25.x86_64
zlib-1.2.8-10.fc24.x86_64

As you can see there seems to be no apparent usage of libvncserver by vinagre.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10429063</commentid>
    <comment_count>6</comment_count>
    <who name="Brian J. Murrell">brian</who>
    <bug_when>2017-05-19 09:41:29 -0400</bug_when>
    <thetext>(In reply to Brian J. Murrell from comment #5)
&gt; 
&gt; Sadly, I don&apos;t think so:

Unless perhaps you are suggesting that the &quot;fix&quot; is to make x11vnc work with the broken vinagre?

If so, that&apos;s not a solution.  Vinagre used to work with existing x11vnc installations.  Then an update to vinagre broke working with those same existing x11vnc installations.

I don&apos;t control all of the x11vnc installations out there and cannot ask them all to update because vinagre broke something.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10429195</commentid>
    <comment_count>7</comment_count>
    <who name="Daniel Berrange">berrange</who>
    <bug_when>2017-05-19 10:18:35 -0400</bug_when>
    <thetext>This is a regression in gtk-vnc 0.7.0. I recently fixed it upstream in

https://git.gnome.org/browse/gtk-vnc/commit/?id=f5623cbc63bb0a835bc662d451cc5128d683bd5d

commit f5623cbc63bb0a835bc662d451cc5128d683bd5d
Author: Daniel P. Berrange &lt;berrange@redhat.com&gt;
Date:   Tue Apr 11 11:41:03 2017 +0100

    Fix incompatibility with libvncserver websockets handling
    
    The previous commit:
    
      commit 7f4f2fe8da72ed9fef5dd4319e19feb2b4f3d62e
      Author: Daniel P. Berrange &lt;berrange@redhat.com&gt;
      Date:   Thu Jan 26 09:31:40 2017 +0000
    
        Add workaround to avoid hangs when connecting to SPICE
    
    changed the code so that it would send the bytes &quot;RFB &quot; to the
    server before we received its own greeting. This works fine for
    VNC servers which follow the RFB protocol spec exclusively. The
    libvncserver code though tries to implement websockets tunnelling
    support on the same port as the normal RFB service. The way it
    does this is by waiting 100ms after the client connects to see
    if the client sends any data. If the client sends data, then it
    tries to interpret this as an HTTP GET request to initiate the
    websockets connection. This breaks when it sees our &quot;RFB &quot; bytes
    being sent. Ideally the libvncserver would have just run a normal
    RFB connection in this case, but that&apos;s not what happens, and
    given the libvncserver code is in the wild we need a workaround.
    
    So instead of immediately sending the &apos;RFB &apos; bytes to the VNC
    server, we introduce a 2 second wait. ie, we&apos;ll wait for the
    normal VNC server greeting and if it doesn&apos;t arrive after 2 seconds,
    we&apos;ll send our &apos;RFB &apos; bytes proactively, and continue waiting. If we
    are on a real VNC server, we&apos;ll get our connection initialized
    eventually. If connecting to a SPICE server by mistake, we&apos;ll get a
    clean disconnect, and we&apos;ll avoid upsetting libvncserver, because its
    100ms wait for HTTP GET will have long since finished.
    
    Signed-off-by: Daniel P. Berrange &lt;berrange@redhat.com&gt;</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10429355</commentid>
    <comment_count>8</comment_count>
    <who name="Jonathan Dieter">jdieter</who>
    <bug_when>2017-05-19 10:53:35 -0400</bug_when>
    <thetext>(In reply to Brian J. Murrell from comment #6)
&gt; Unless perhaps you are suggesting that the &quot;fix&quot; is to make x11vnc work with
&gt; the broken vinagre?

Yes.  As Daniel has pointed out, there&apos;s an upstream fix coming to gtk-vnc, but the latest releases of x11vnc will work just fine with current gtk-vnc and vinagre.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10429365</commentid>
    <comment_count>9</comment_count>
    <who name="Jonathan Dieter">jdieter</who>
    <bug_when>2017-05-19 10:55:16 -0400</bug_when>
    <thetext>(In reply to Jonathan Dieter from comment #8)
&lt;snip&gt;
&gt; but the latest releases of x11vnc will work just fine with current gtk-vnc

Sorry, that should be &quot;the latest releases of libvncserver will cause x11vnc to work just fine with current gtk-vnc and vinagre&quot;</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10429470</commentid>
    <comment_count>10</comment_count>
    <who name="Brian J. Murrell">brian</who>
    <bug_when>2017-05-19 11:18:32 -0400</bug_when>
    <thetext>(In reply to Daniel Berrange from comment #7)
&gt; This is a regression in gtk-vnc 0.7.0. I recently fixed it upstream in
&gt; 
&gt; https://git.gnome.org/browse/gtk-vnc/commit/
&gt; ?id=f5623cbc63bb0a835bc662d451cc5128d683bd5d
&gt; 
&gt; commit f5623cbc63bb0a835bc662d451cc5128d683bd5d
&gt; Author: Daniel P. Berrange &lt;berrange@redhat.com&gt;
&gt; Date:   Tue Apr 11 11:41:03 2017 +0100

I rebuilt gtk-vnc2-0.7.0-1 with that patch applied and I still get:

$ vinagre --gtk-vnc-debug host
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Init VncConnection=0x55dc095b61a0
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Using X11 backend
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c XKB keyboard map name &apos;evdev+aliases(qwerty)&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Server vendor is &apos;Fedora Project&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;Generic Event Extension&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;SHAPE&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;MIT-SHM&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XInputExtension&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XTEST&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;BIG-REQUESTS&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;SYNC&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XKEYBOARD&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XC-MISC&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XFIXES&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;RENDER&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;RANDR&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XINERAMA&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;Composite&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DAMAGE&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;MIT-SCREEN-SAVER&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DOUBLE-BUFFER&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;RECORD&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DPMS&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;Present&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DRI3&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;X-Resource&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XVideo&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XFree86-VidModeExtension&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;XFree86-DGA&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;DRI2&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;GLX&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Found extension &apos;SGI-GLX&apos;
(vinagre:31250): gtk-vnc-DEBUG: vncdisplaykeymap.c Using evdev keycode mapping
(vinagre:31250): gtk-vnc-DEBUG: vncdisplay.c Grab sequence is now Control_L+Alt_L
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Open host=host port=5900

(vinagre:31250): Gtk-WARNING **: Theme parsing error: &lt;data&gt;:2:28: The style property GtkButton:default-border is deprecated and shouldn&apos;t be used anymore. It will be removed in a future version

(vinagre:31250): Gtk-WARNING **: Theme parsing error: &lt;data&gt;:3:36: The style property GtkButton:default-outside-border is deprecated and shouldn&apos;t be used anymore. It will be removed in a future version

(vinagre:31250): Gtk-WARNING **: Theme parsing error: &lt;data&gt;:4:25: The style property GtkButton:inner-border is deprecated and shouldn&apos;t be used anymore. It will be removed in a future version

(vinagre:31250): Gtk-WARNING **: Theme parsing error: &lt;data&gt;:5:30: The style property GtkWidget:focus-line-width is deprecated and shouldn&apos;t be used anymore. It will be removed in a future version

(vinagre:31250): Gtk-WARNING **: Theme parsing error: &lt;data&gt;:6:27: The style property GtkWidget:focus-padding is deprecated and shouldn&apos;t be used anymore. It will be removed in a future version
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Open coroutine starting
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Started background coroutine
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Resolving host host 5900
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Trying one socket
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Socket pending
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Finally connected
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Emit main context 13
(vinagre:31250): gtk-vnc-DEBUG: vncdisplay.c Connected to VNC server
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Protocol initialization
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Read error Resource temporarily unavailable

(vinagre:31250): Gtk-WARNING **: Drawing a gadget with negative dimensions. Did you forget to allocate a size? (node box owner ViewAutoDrawer)
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Closing the connection: vnc_connection_read() - ret=0
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Error: Server closed the connection
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Emit main context 16
(vinagre:31250): gtk-vnc-DEBUG: vncdisplay.c VNC server error
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Error while reading server version
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Doing final VNC cleanup
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Close VncConnection=0x55dc095b61a0
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Emit main context 15
(vinagre:31250): gtk-vnc-DEBUG: vncdisplay.c Disconnected from VNC server
(vinagre:31250): gtk-vnc-DEBUG: vncdisplay.c Display destroy, requesting that VNC connection close
(vinagre:31250): gtk-vnc-DEBUG: vncdisplay.c Display destroy, requesting that VNC connection close
(vinagre:31250): gtk-vnc-DEBUG: vncdisplay.c Releasing VNC widget
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Delayed unref VncConnection=0x55dc095b61a0
(vinagre:31250): gtk-vnc-DEBUG: vncconnection.c Finalize VncConnection=0x55dc095b61a0</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10429540</commentid>
    <comment_count>11</comment_count>
    <who name="Daniel Berrange">berrange</who>
    <bug_when>2017-05-19 11:35:08 -0400</bug_when>
    <thetext>(In reply to Brian J. Murrell from comment #10)
&gt; (In reply to Daniel Berrange from comment #7)
&gt; &gt; This is a regression in gtk-vnc 0.7.0. I recently fixed it upstream in
&gt; &gt; 
&gt; &gt; https://git.gnome.org/browse/gtk-vnc/commit/
&gt; &gt; ?id=f5623cbc63bb0a835bc662d451cc5128d683bd5d
&gt; &gt; 
&gt; &gt; commit f5623cbc63bb0a835bc662d451cc5128d683bd5d
&gt; &gt; Author: Daniel P. Berrange &lt;berrange@redhat.com&gt;
&gt; &gt; Date:   Tue Apr 11 11:41:03 2017 +0100
&gt; 
&gt; I rebuilt gtk-vnc2-0.7.0-1 with that patch applied and I still get:

The fix applies to the gvnc sub-RPM, not the gtk-vnc2 sub-RPM.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10429574</commentid>
    <comment_count>12</comment_count>
    <who name="Brian J. Murrell">brian</who>
    <bug_when>2017-05-19 11:44:18 -0400</bug_when>
    <thetext>(In reply to Daniel Berrange from comment #11)
&gt; 
&gt; The fix applies to the gvnc sub-RPM, not the gtk-vnc2 sub-RPM.

Right.  But you can&apos;t (without evilly forcing it) install/upgrade gtk-vnc2 without also installing/upgrading gvnc, so I did upgrade both:

$ rpm -q gtk-vnc2 gvnc
gtk-vnc2-0.7.0-1.01.fc25.x86_64
gvnc-0.7.0-1.01.fc25.x86_64</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10429615</commentid>
    <comment_count>13</comment_count>
    <who name="Daniel Berrange">berrange</who>
    <bug_when>2017-05-19 12:00:31 -0400</bug_when>
    <thetext>(In reply to Brian J. Murrell from comment #12)
&gt; (In reply to Daniel Berrange from comment #11)
&gt; &gt; 
&gt; &gt; The fix applies to the gvnc sub-RPM, not the gtk-vnc2 sub-RPM.
&gt; 
&gt; Right.  But you can&apos;t (without evilly forcing it) install/upgrade gtk-vnc2
&gt; without also installing/upgrading gvnc, so I did upgrade both:
&gt; 
&gt; $ rpm -q gtk-vnc2 gvnc
&gt; gtk-vnc2-0.7.0-1.01.fc25.x86_64
&gt; gvnc-0.7.0-1.01.fc25.x86_64

Assuming you&apos;ve correctly applied the fix in the build, I don&apos;t know why you still see a failure. I&apos;ve tested against x11vnc, with &amp; without the fix, and confirmed it was broken before &amp; fixed afterwards.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10429759</commentid>
    <comment_count>14</comment_count>
    <who name="Brian J. Murrell">brian</who>
    <bug_when>2017-05-19 12:51:34 -0400</bug_when>
    <thetext>My patched RPM can be found here:

https://copr.fedorainfracloud.org/coprs/brianjmurrell/gtk-vnc2/package/gtk-vnc/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10429854</commentid>
    <comment_count>15</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-19 13:20:20 -0400</bug_when>
    <thetext>gtk-vnc-0.7.1-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-48637ce1a7</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10429874</commentid>
    <comment_count>16</comment_count>
    <who name="Daniel Berrange">berrange</who>
    <bug_when>2017-05-19 13:29:09 -0400</bug_when>
    <thetext>@Brian: your specfile is wrong:

%setup -q -n gtk-vnc-%{version} -c
%if %{with_gtk3}
cp -a gtk-vnc-%{version} gtk-vnc2-%{version}
%endif
cd gtk-vnc-%{version}
%patch0 -p1

This applies the source code used to build the GTK2 version only - the GTK3 source code is in the separate directory created a few lines above, so missing the patch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10429876</commentid>
    <comment_count>17</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-19 13:29:35 -0400</bug_when>
    <thetext>gtk-vnc-0.7.1-1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-e996a3cd68</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10429877</commentid>
    <comment_count>18</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-19 13:30:11 -0400</bug_when>
    <thetext>gtk-vnc-0.7.1-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-8093e4668d</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10430561</commentid>
    <comment_count>19</comment_count>
    <who name="Brian J. Murrell">brian</who>
    <bug_when>2017-05-19 21:26:40 -0400</bug_when>
    <thetext>(In reply to Daniel Berrange from comment #16)
&gt; @Brian: your specfile is wrong:
&gt; 
&gt; %setup -q -n gtk-vnc-%{version} -c
&gt; %if %{with_gtk3}
&gt; cp -a gtk-vnc-%{version} gtk-vnc2-%{version}
&gt; %endif
&gt; cd gtk-vnc-%{version}
&gt; %patch0 -p1
&gt; 
&gt; This applies the source code used to build the GTK2 version only - the GTK3
&gt; source code is in the separate directory created a few lines above, so
&gt; missing the patch.

I see.  I thought it was strange the copying being done but I guess I was not familiar with this pattern to notice it was some kind of gtk2/gtk3 thing.

In any case I have installed:

&gt; gtk-vnc-0.7.1-1.fc25 has been submitted as an update to Fedora 25.
&gt; https://bodhi.fedoraproject.org/updates/FEDORA-2017-e996a3cd68

and it&apos;s working.  Left Karma on Bodhi.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10430702</commentid>
    <comment_count>20</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-20 04:17:25 -0400</bug_when>
    <thetext>gtk-vnc-0.7.1-1.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-48637ce1a7</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10430853</commentid>
    <comment_count>21</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-20 10:31:37 -0400</bug_when>
    <thetext>gtk-vnc-0.7.1-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-8093e4668d</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10431020</commentid>
    <comment_count>22</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-20 18:32:21 -0400</bug_when>
    <thetext>gtk-vnc-0.7.1-1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-e996a3cd68</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10437585</commentid>
    <comment_count>23</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-22 20:41:18 -0400</bug_when>
    <thetext>gtk-vnc-0.7.1-1.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10442124</commentid>
    <comment_count>24</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-24 00:56:00 -0400</bug_when>
    <thetext>gtk-vnc-0.7.1-1.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10494092</commentid>
    <comment_count>25</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-09 15:03:52 -0400</bug_when>
    <thetext>gtk-vnc-0.7.1-1.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1261510</attachid>
            <date>2017-03-09 05:55:00 -0500</date>
            <delta_ts>2017-03-09 05:55:53 -0500</delta_ts>
            <desc>Reverted &quot;Add workaround to avoid hangs when connecting to SPICE&quot;</desc>
            <filename>0001-Revert-Add-workaround-to-avoid-hangs-when-connecting_v2.patch</filename>
            <type>text/plain</type>
            <size>2255</size>
            <attacher name="poma">pomidorabelisima</attacher>
            
              <data encoding="base64">RnJvbSBmNDhiYmFlMjU1MTM4YjgxYTYwMmZmZmIxNTNmNWNmZGEyYWEzOTRjIE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBwb21hIDxwb21hQGdtYWlsLmNvbT4KRGF0ZTogVGh1LCA5IE1h
ciAyMDE3IDA3OjA4OjIzICswMTAwClN1YmplY3Q6IFtQQVRDSF0gUmV2ZXJ0ICJBZGQgd29ya2Fy
b3VuZCB0byBhdm9pZCBoYW5ncyB3aGVuIGNvbm5lY3RpbmcgdG8KIFNQSUNFIiB2MgoKdmluYWdy
ZSAoZ3RrLXZuYzIgLSBsaWJndGstdm5jLTIuMC5zby4wKSAtPiB4MTF2bmMgKGxpYnZuY3NlcnZl
ciAtIGxpYnZuY3NlcnZlci5zby4wKQoKeDExdm5jCiAuLi4KIEdvdCBjb25uZWN0aW9uIGZyb20g
Y2xpZW50IDxJUD4KICAgb3RoZXIgY2xpZW50czoKIHdlYlNvY2tldHNIYW5kc2hha2U6IGludmFs
aWQgY2xpZW50IGhlYWRlcgogQ2xpZW50IDxJUD4gZ29uZQogLi4uCgpUaGlzIHJldmVydHMgY29t
bWl0IDdmNGYyZmU4ZGE3MmVkOWZlZjVkZDQzMTllMTlmZWIyYjRmM2Q2MmUuCi0tLQogZ3RrLXZu
Yy0wLjcuMC9zcmMvdm5jY29ubmVjdGlvbi5jIHwgMjIgKystLS0tLS0tLS0tLS0tLS0tLS0tLQog
MSBmaWxlIGNoYW5nZWQsIDIgaW5zZXJ0aW9ucygrKSwgMjAgZGVsZXRpb25zKC0pCgpkaWZmIC0t
Z2l0IGEvZ3RrLXZuYy0wLjcuMC9zcmMvdm5jY29ubmVjdGlvbi5jIGIvZ3RrLXZuYy0wLjcuMC9z
cmMvdm5jY29ubmVjdGlvbi5jCmluZGV4IDE5ZGJmZWUuLjkxNTQxMzEgMTAwNjQ0Ci0tLSBhL2d0
ay12bmMtMC43LjAvc3JjL3ZuY2Nvbm5lY3Rpb24uYworKysgYi9ndGstdm5jLTAuNy4wL3NyYy92
bmNjb25uZWN0aW9uLmMKQEAgLTUyNDMsMjQgKzUyNDMsNiBAQCBzdGF0aWMgZ2Jvb2xlYW4gdm5j
X2Nvbm5lY3Rpb25faW5pdGlhbGl6ZShWbmNDb25uZWN0aW9uICpjb25uKQogCiAgICAgcHJpdi0+
YWJzUG9pbnRlciA9IFRSVUU7CiAKLSAgICAvKiBXZSBzaG91bGQgdGVjaG5pY2FsbHkgcmVhZCB0
aGUgc2VydmVyIGdyZWV0aW5nIGZpcnN0LgotICAgICAqIElmIHRoZSB1c2VyIG1pc3Rha2VubHkg
Y29ubmVjdHMgdG8gYSBTUElDRSBzZXJ2ZXIKLSAgICAgKiB0aG91Z2gsIHdlJ2xsIG5ldmVyIHNl
ZSB0aGUgZ3JlZXRpbmcsIGJlY2F1c2Ugd2l0aAotICAgICAqIFNQSUNFIHRoZSBjbGllbnQgc3Rh
cnRzIGZpcnN0LgotICAgICAqCi0gICAgICogQnkgc2VuZGluZyB0aGVzZSA0IGJ5dGVzIGZpcnN0
LCBpZiB0aGUgdXNlciBoYXMKLSAgICAgKiBhY2NpZGVudGFsbHkgY29ubmVjdGVkIHRvIGEgU1BJ
Q0Ugc2VydmVyLCBpdCB3aWxsCi0gICAgICogbm90aWNlIHRoaXMgZ2FyYmFnZSBhbmQgY2xvc2Ug
dGhlIGNvbm5lY3Rpb24sIGF2b2lkaW5nCi0gICAgICogdXMgd2FpdGluZyBmb3JldmVyIGZvciBh
IFZOQyBncmVldGluZyB0aGF0J2xsIG5ldmVyCi0gICAgICogY29tZS4KLSAgICAgKgotICAgICAq
IFRoaXMgaXMgaGFybWxlc3MgZm9yIHJlYWwgVk5DIHNlcnZlcnMsIHNpbmNlIHRoZQotICAgICAq
IGVhcmx5IHNlbmQgd2lsbCBqdXN0IGJlIHF1ZXVlZCB1bnRpbCB0aGV5J3ZlIHNlbnQKLSAgICAg
KiB0aGVpciBncmVldGluZwotICAgICAqLwotICAgIHZuY19jb25uZWN0aW9uX3dyaXRlKGNvbm4s
ICJSRkIgIiwgNCk7Ci0gICAgdm5jX2Nvbm5lY3Rpb25fZmx1c2goY29ubik7Ci0KICAgICB2bmNf
Y29ubmVjdGlvbl9yZWFkKGNvbm4sIHZlcnNpb24sIDEyKTsKICAgICBpZiAodm5jX2Nvbm5lY3Rp
b25faGFzX2Vycm9yKGNvbm4pKSB7CiAgICAgICAgIFZOQ19ERUJVRygiRXJyb3Igd2hpbGUgcmVh
ZGluZyBzZXJ2ZXIgdmVyc2lvbiIpOwpAQCAtNTI4OSw4ICs1MjcxLDggQEAgc3RhdGljIGdib29s
ZWFuIHZuY19jb25uZWN0aW9uX2luaXRpYWxpemUoVm5jQ29ubmVjdGlvbiAqY29ubikKICAgICAg
ICAgcHJpdi0+bWlub3IgPSA4OwogICAgIH0KIAotICAgIHNucHJpbnRmKHZlcnNpb24sIDEzLCAi
JTAzZC4lMDNkXG4iLCBwcml2LT5tYWpvciwgcHJpdi0+bWlub3IpOwotICAgIHZuY19jb25uZWN0
aW9uX3dyaXRlKGNvbm4sIHZlcnNpb24sIDgpOworICAgIHNucHJpbnRmKHZlcnNpb24sIDEzLCAi
UkZCICUwM2QuJTAzZFxuIiwgcHJpdi0+bWFqb3IsIHByaXYtPm1pbm9yKTsKKyAgICB2bmNfY29u
bmVjdGlvbl93cml0ZShjb25uLCB2ZXJzaW9uLCAxMik7CiAgICAgdm5jX2Nvbm5lY3Rpb25fZmx1
c2goY29ubik7CiAgICAgVk5DX0RFQlVHKCJVc2luZyB2ZXJzaW9uOiAlZC4lZCIsIHByaXYtPm1h
am9yLCBwcml2LT5taW5vcik7CiAKLS0gCjIuNy40Cgo=
</data>

          </attachment>
      

    </bug>

</bugzilla>
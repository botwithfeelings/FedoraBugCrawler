<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1426741</bug_id>
          
          <creation_ts>2017-02-24 12:51:00 -0500</creation_ts>
          <short_desc>SELinux is preventing modprobe from &apos;module_load&apos; accesses on the system /usr/lib/modules/4.9.10-200.fc25.x86_64/extra/nvidia-340xx/nvidia.ko.</short_desc>
          <delta_ts>2017-03-01 14:20:14 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>selinux-policy</component>
          <version>25</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>abrt_hash:1167f2d670402b2f219315c68e0dee1c51b4d364ac58aeece3f383eb8bbf18b1;</status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Alexander Ploumistos">alex.ploumistos</reporter>
          <assigned_to name="Lukas Vrabec">lvrabec</assigned_to>
          <cc>alan.ernhart</cc>
    
    
    <cc>bigletter</cc>
    
    
    <cc>cliff.free</cc>
    
    
    <cc>daniell1</cc>
    
    
    <cc>dominick.grift</cc>
    
    
    <cc>dwalsh</cc>
    
    
    <cc>fedora</cc>
    
    
    <cc>jch</cc>
    
    
    <cc>johann.scheepers</cc>
    
    
    <cc>jython234</cc>
    
    
    <cc>kacnow</cc>
    
    
    <cc>klaus</cc>
    
    
    <cc>linuxat400</cc>
    
    
    <cc>lvrabec</cc>
    
    
    <cc>madsmh</cc>
    
    
    <cc>mgrepl</cc>
    
    
    <cc>msdeleonpeque</cc>
    
    
    <cc>plautrba</cc>
    
    
    <cc>pmoore</cc>
    
    
    <cc>red</cc>
    
    
    <cc>sergei.litvinenko</cc>
    
    
    <cc>sevo65</cc>
    
    
    <cc>ssekidde</cc>
    
    
    <cc>sudhir</cc>
    
    
    <cc>szoke.karcsi</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>selinux-policy-3.13.1-225.11.fc25</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-02-28 03:49:46</cf_last_closed>
          <cf_type>---</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10182681</commentid>
    <comment_count>0</comment_count>
    <who name="Alexander Ploumistos">alex.ploumistos</who>
    <bug_when>2017-02-24 12:51:02 -0500</bug_when>
    <thetext>Description of problem:
It happened at first boot after upgrading selinux-policy to 3.13.1-225.10.fc25 from updates-testing.
SELinux is preventing modprobe from &apos;module_load&apos; accesses on the system /usr/lib/modules/4.9.10-200.fc25.x86_64/extra/nvidia-340xx/nvidia.ko.

*****  Plugin catchall (100. confidence) suggests   **************************

If you believe that modprobe should be allowed module_load access on the nvidia.ko system by default.
Then you should report this as a bug.
You can generate a local policy module to allow this access.
Do
allow this access for now by executing:
# ausearch -c &apos;modprobe&apos; --raw | audit2allow -M my-modprobe
# semodule -X 300 -i my-modprobe.pp

Additional Information:
Source Context                unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1
                              023
Target Context                system_u:object_r:modules_object_t:s0
Target Objects                /usr/lib/modules/4.9.10-200.fc25.x86_64/extra/nvid
                              ia-340xx/nvidia.ko [ system ]
Source                        modprobe
Source Path                   modprobe
Port                          &lt;Unknown&gt;
Host                          (removed)
Source RPM Packages           
Target RPM Packages           
Policy RPM                    &lt;Unknown&gt;
Selinux Enabled               True
Policy Type                   targeted
Enforcing Mode                Enforcing
Host Name                     (removed)
Platform                      Linux (removed) 4.9.10-200.fc25.x86_64 #1 SMP Wed
                              Feb 15 23:28:59 UTC 2017 x86_64 x86_64
Alert Count                   1
First Seen                    2017-02-24 19:38:01 EET
Last Seen                     2017-02-24 19:38:01 EET
Local ID                      9038c903-12d0-4d1c-9823-ad62a193c40f

Raw Audit Messages
type=AVC msg=audit(1487957881.109:279): avc:  denied  { module_load } for  pid=1812 comm=&quot;modprobe&quot; path=&quot;/usr/lib/modules/4.9.10-200.fc25.x86_64/extra/nvidia-340xx/nvidia.ko&quot; dev=&quot;md0&quot; ino=3932799 scontext=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 tcontext=system_u:object_r:modules_object_t:s0 tclass=system permissive=0


Hash: modprobe,unconfined_t,modules_object_t,system,module_load


Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.9.11-200.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184363</commentid>
    <comment_count>1</comment_count>
    <who name="Szőke Károly">szoke.karcsi</who>
    <bug_when>2017-02-26 04:50:23 -0500</bug_when>
    <thetext>Description of problem:
After automatic install of new package, kmod-wl-4.9.11-200.fc25.x86_64.x86_64 6.30.223.271-7.fc25, the system no longer able to insert the wl module.
# modprobe wl
modprobe: ERROR: could not insert &apos;wl&apos;: Permission denied

When I disable SELiinux, it works again:
# setenforce 0
# modprobe wl
# setenforce 1

Version-Release number of selected component:
selinux-policy-3.13.1-225.10.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.9.11-200.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184372</commentid>
    <comment_count>2</comment_count>
    <who name="Ricardo Garcia">fedora</who>
    <bug_when>2017-02-26 05:01:43 -0500</bug_when>
    <thetext>This problem also bit me today in a slightly different way.

I received the SELinux update together with some MESA updates, so I decided to uninstall the NVIDIA proprietary driver first. Now the NVIDIA installer fails because it&apos;s unable to load the kernel module after compiling it.

type=AVC msg=audit(1488099764.479:160): avc:  denied  { module_load } for  pid=4922 comm=&quot;nvidia-installe&quot; path=&quot;/tmp/selfgz4888/NVIDIA-Linux-x86_64-378.13/kernel/nvidia.ko&quot; dev=&quot;tmpfs&quot; ino=25841 scontext=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 tcontext=unconfined_u:object_r:user_tmp_t:s0 tclass=system permissive=0

Note in this case the module resides in a tmpfs with an unpredictable path due to the self-extracting installer.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184544</commentid>
    <comment_count>3</comment_count>
    <who name="">cliff.free</who>
    <bug_when>2017-02-26 09:16:09 -0500</bug_when>
    <thetext>Description of problem:
1 Ran a dnf update in a Fedora 25 Virtualbox guest.
2 sudo reboot
3 mount VBOXADDITIONS_5.0.32_112930 CD image
3 run ./VBoxLinuxAdditions.run 
4 SELinux gives an error indicating modprobe is blocked form doing module_load near the end of the process.




Version-Release number of selected component:
selinux-policy-3.13.1-225.10.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.9.11-200.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184616</commentid>
    <comment_count>4</comment_count>
    <who name="Steve">linuxat400</who>
    <bug_when>2017-02-26 11:21:55 -0500</bug_when>
    <thetext>Similar problem:
Here is my log.
Feb 26 06:20:40 Study.localdomain audit[673]: AVC avc:  denied  { module_load } for  pid=673 comm=&quot;systemd-udevd&quot; path=&quot;/usr/lib/modules/4.9.11-200.fc25.x86_64/extra/nvidia/nvidia.ko&quot; dev=&quot;dm-0&quot; ino=3032718 scontext=system_u:system_r:udev_t:s0-s0:c0.c1023 tcontext=system_u:object_r:modules_object_t:s0 tclass=system permissive=0
Feb 26 06:20:40 Study.localdomain audit[673]: SYSCALL arch=c000003e syscall=313 success=no exit=-13 a0=10 a1=7f839e96b995 a2=0 a3=10 items=0 ppid=653 pid=673 auid=4294967295 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=4294967295 comm=&quot;systemd-udevd&quot; exe=&quot;/usr/lib/systemd/systemd-udevd&quot; subj=system_u:system_r:udev_t:s0-s0:c0.c1023 key=(null)
Feb 26 06:20:40 Study.localdomain audit: PROCTITLE proctitle=&quot;/usr/lib/systemd/systemd-udevd&quot;
Feb 26 06:20:40 Study.localdomain kernel: audit: type=1400 audit(1488108040.210:64): avc:  denied  { module_load } for  pid=673 comm=&quot;systemd-udevd&quot; path=&quot;/usr/lib/modules/4.9.11-200.fc25.x86_64/extra/nvidia/nvidia.ko&quot; dev=&quot;dm-0&quot; ino=3032718 scontext=system_u:system_r:udev_t:s0-s0:c0.c1023 tcontext=system_u:object_r:modules_object_t:s0 tclass=system permissive=0
Feb 26 06:20:40 Study.localdomain kernel: audit: type=1300 audit(1488108040.210:64): arch=c000003e syscall=313 success=no exit=-13 a0=10 a1=7f839e96b995 a2=0 a3=10 items=0 ppid=653 pid=673 auid=4294967295 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=4294967295 comm=&quot;systemd-udevd&quot; exe=&quot;/usr/lib/systemd/systemd-udevd&quot; subj=system_u:system_r:udev_t:s0-s0:c0.c1023 key=(null)
Feb 26 06:20:40 Study.localdomain kernel: audit: type=1327 audit(1488108040.210:64): proctitle=&quot;/usr/lib/systemd/systemd-udevd&quot;
Feb 26 06:20:40 Study.localdomain kernel: audit: type=1400 audit(1488108040.210:65): avc:  denied  { module_load } for  pid=673 comm=&quot;systemd-udevd&quot; path=&quot;/usr/lib/modules/4.9.11-200.fc25.x86_64/extra/nvidia/nvidia.ko&quot; dev=&quot;dm-0&quot; ino=3032718 scontext=system_u:system_r:udev_t:s0-s0:c0.c1023 tcontext=system_u:object_r:modules_object_t:s0 tclass=system permissive=0
Feb 26 06:20:40 Study.localdomain kernel: audit: type=1300 audit(1488108040.210:65): arch=c000003e syscall=313 success=no exit=-13 a0=11 a1=7f839e96b995 a2=0 a3=11 items=0 ppid=653 pid=673 auid=4294967295 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=4294967295 comm=&quot;systemd-udevd&quot; exe=&quot;/usr/lib/systemd/systemd-udevd&quot; subj=system_u:system_r:udev_t:s0-s0:c0.c1023 key=(null)
Feb 26 06:20:40 Study.localdomain kernel: audit: type=1327 audit(1488108040.210:65): proctitle=&quot;/usr/lib/systemd/systemd-udevd&quot;
Feb 26 06:20:40 Study.localdomain audit[673]: AVC avc:  denied  { module_load } for  pid=673 comm=&quot;systemd-udevd&quot; path=&quot;/usr/lib/modules/4.9.11-200.fc25.x86_64/extra/nvidia/nvidia.ko&quot; dev=&quot;dm-0&quot; ino=3032718 scontext=system_u:system_r:udev_t:s0-s0:c0.c1023 tcontext=system_u:object_r:modules_object_t:s0 tclass=system permissive=0
Feb 26 06:20:40 Study.localdomain audit[673]: SYSCALL arch=c000003e syscall=313 success=no exit=-13 a0=11 a1=7f839e96b995 a2=0 a3=11 items=0 ppid=653 pid=673 auid=4294967295 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=4294967295 comm=&quot;systemd-udevd&quot; exe=&quot;/usr/lib/systemd/systemd-udevd&quot; subj=system_u:system_r:udev_t:s0-s0:c0.c1023 key=(null)

I can create a policy to load it with modprobe but not with systemd-udevd as it doesnt put out the full message to the logs with how to do it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184691</commentid>
    <comment_count>5</comment_count>
    <who name="Sergei LITVINENKO">sergei.litvinenko</who>
    <bug_when>2017-02-26 13:06:23 -0500</bug_when>
    <thetext>Description of problem:
Standard update and reboot. 

After reboot nvidia.ko was not loaded any more. Manual loaded by `modprobe nvidia` return error - permission deny
Relabeling do not help. Disabling SELinux help. It looks like issue is related to update selinux.

  selinux-policy.noarch 3.13.1-225.10.fc25
  selinux-policy-devel.noarch 3.13.1-225.10.fc25
  selinux-policy-doc.noarch 3.13.1-225.10.fc25
  selinux-policy-targeted.noarch 3.13.1-225.10.fc25


Version-Release number of selected component:
selinux-policy-3.13.1-225.10.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.9.12-200.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184707</commentid>
    <comment_count>6</comment_count>
    <who name="Steve">linuxat400</who>
    <bug_when>2017-02-26 13:58:53 -0500</bug_when>
    <thetext>This is how I solved it 

sudo echo &quot;type=AVC msg=audit(1488128621.443:65): avc:  denied  { module_load } for  pid=663 comm=&quot;systemd-udevd&quot; path=&quot;/usr/lib/modules/4.9.11-200.fc25.x86_64/extra/nvidia/nvidia.ko&quot; dev=&quot;dm-0&quot; ino=137785 scontext=system_u:system_r:udev_t:s0-s0:c0.c1023 tcontext=system_u:object_r:modules_object_t:s0 tclass=system permissive=0&quot;| audit2allow -M my-modprobe

and then followed the apply instructions.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184743</commentid>
    <comment_count>7</comment_count>
    <who name="Sergei LITVINENKO">sergei.litvinenko</who>
    <bug_when>2017-02-26 15:45:41 -0500</bug_when>
    <thetext>I have used reccomendation of selinux diagnostic and have created by
# ausearch -c &apos;modprobe&apos; --raw | audit2allow -M my-nvidia

[root@homedesk ~]# cat my-nvidia.te                                                                                                                      
--
module my-nvidia 1.0;

require {
        type modules_object_t;
        type unconfined_t;
        class system module_load;
}

#============= unconfined_t ==============
allow unconfined_t modules_object_t:system module_load;
--

But installing of this rule do not help

--
[root@homedesk log]# grep denied messages 
Feb 26 21:28:14 homedesk audit: AVC avc:  denied  { module_load } for  pid=682 comm=&quot;systemd-udevd&quot; path=&quot;/usr/lib/modules/4.9.12-200.fc25.x86_64/extra/nvidia/nvidia.ko&quot; dev=&quot;sda4&quot; ino=1592990 scontext=system_u:system_r:udev_t:s0-s0:c0.c1023 tcontext=system_u:object_r:modules_object_t:s0 tclass=system permissive=1

Feb 26 22:02:10 homedesk audit: AVC avc:  denied  { module_load } for  pid=683 comm=&quot;systemd-udevd&quot; path=&quot;/usr/lib/modules/4.9.12-200.fc25.x86_64/extra/nvidia/nvidia.ko&quot; dev=&quot;sda4&quot; ino=1592990 scontext=system_u:system_r:udev_t:s0-s0:c0.c1023 tcontext=system_u:object_r:modules_object_t:s0 tclass=system permissive=1

Feb 26 22:06:25 homedesk audit: AVC avc:  denied  { module_load } for  pid=690 comm=&quot;systemd-udevd&quot; path=&quot;/usr/lib/modules/4.9.12-200.fc25.x86_64/extra/nvidia/nvidia.ko&quot; dev=&quot;sda4&quot; ino=1592990 scontext=system_u:system_r:udev_t:s0-s0:c0.c1023 tcontext=system_u:object_r:modules_object_t:s0 tclass=system permissive=0

Feb 26 22:06:25 homedesk audit: AVC avc:  denied  { module_load } for  pid=690 comm=&quot;systemd-udevd&quot; path=&quot;/usr/lib/modules/4.9.12-200.fc25.x86_64/extra/nvidia/nvidia.ko&quot; dev=&quot;sda4&quot; ino=1592990 scontext=system_u:system_r:udev_t:s0-s0:c0.c1023 tcontext=system_u:object_r:modules_object_t:s0 tclass=system permissive=0

Feb 26 22:09:22 homedesk audit: AVC avc:  denied  { module_load } for  pid=683 comm=&quot;systemd-udevd&quot; path=&quot;/usr/lib/modules/4.9.12-200.fc25.x86_64/extra/nvidia/nvidia.ko&quot; dev=&quot;sda4&quot; ino=1592990 scontext=system_u:system_r:udev_t:s0-s0:c0.c1023 tcontext=system_u:object_r:modules_object_t:s0 tclass=system permissive=0

Feb 26 22:09:22 homedesk audit: AVC avc:  denied  { module_load } for  pid=683 comm=&quot;systemd-udevd&quot; path=&quot;/usr/lib/modules/4.9.12-200.fc25.x86_64/extra/nvidia/nvidia.ko&quot; dev=&quot;sda4&quot; ino=1592990 scontext=system_u:system_r:udev_t:s0-s0:c0.c1023 tcontext=system_u:object_r:modules_object_t:s0 tclass=system permissive=0

Feb 26 22:23:23 homedesk audit: AVC avc:  denied  { module_load } for  pid=675 comm=&quot;systemd-udevd&quot; path=&quot;/usr/lib/modules/4.9.12-200.fc25.x86_64/extra/nvidia/nvidia.ko&quot; dev=&quot;sda4&quot; ino=1592990 scontext=system_u:system_r:udev_t:s0-s0:c0.c1023 tcontext=system_u:object_r:modules_object_t:s0 tclass=system permissive=1

--

OK, set standatd setting SELINUX=enforcing and boot into level 3

--
[root@homedesk ~]# lsmod | grep nvidia

==&gt; module is not loaded

==&gt; try to load it manually

[root@homedesk ~]# modprobe nvidia
[   76.455295] nvidia: loading out-of-tree module taints kernel.
[   76.457423] nvidia: module license &apos;NVIDIA&apos; taints kernel.
[   76.459490] Disabling lock debugging due to kernel taint
[   76.467480] nvidia: module verification failed: signature and/or required key missing - tainting kernel
[   76.478471] vgaarb: device changed decodes: PCI:0000:01:00.0,olddecodes=io+mem,decodes=none:owns=io+mem
[   76.480409] nvidia-nvlink: Nvlink Core is being initialized, major device number 240
[   76.482540] NVRM: loading NVIDIA UNIX x86_64 Kernel Module  375.26  Thu Dec  8 18:36:43 PST 2016[   76.482633]  (using threaded interrupts)
[   76.486043]
--

So, module can be loaded manually, but not in boot time.


PS: In case of SELINUX=permissive, module will be loaded in boot time</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184756</commentid>
    <comment_count>8</comment_count>
    <who name="Klaus Wolfgram">klaus</who>
    <bug_when>2017-02-26 16:28:03 -0500</bug_when>
    <thetext>Description of problem:
ok pode continuar.

Version-Release number of selected component:
selinux-policy-3.13.1-225.10.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.9.11-200.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184757</commentid>
    <comment_count>9</comment_count>
    <who name="Klaus Wolfgram">klaus</who>
    <bug_when>2017-02-26 16:29:54 -0500</bug_when>
    <thetext>Description of problem:
instalacao do virtual box deve ser liberada

Version-Release number of selected component:
selinux-policy-3.13.1-225.10.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.9.11-200.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184828</commentid>
    <comment_count>10</comment_count>
    <who name="Kalle Näslund">bigletter</who>
    <bug_when>2017-02-26 18:15:47 -0500</bug_when>
    <thetext>Description of problem:
Just updated the computer with a &quot;sudo dnf upgrade&quot; command. After that selinux refuses to load the nvidia kernel module.


Version-Release number of selected component:
selinux-policy-3.13.1-225.10.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.9.10-200.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10185309</commentid>
    <comment_count>11</comment_count>
    <who name="">kacnow</who>
    <bug_when>2017-02-27 01:39:26 -0500</bug_when>
    <thetext>Description of problem:
modprobe vboxdrv
results in selinux block and alert

Version-Release number of selected component:
selinux-policy-3.13.1-225.10.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.9.11-200.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10185445</commentid>
    <comment_count>12</comment_count>
    <who name="">johann.scheepers</who>
    <bug_when>2017-02-27 02:32:19 -0500</bug_when>
    <thetext>Description of problem:
This happened after upgrading to the latest kernel (and selinux packages) after which virtualbox rebuilt its kernel modules. 

Version-Release number of selected component:
selinux-policy-3.13.1-225.10.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.9.11-200.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10185594</commentid>
    <comment_count>13</comment_count>
    <who name="Peque">msdeleonpeque</who>
    <bug_when>2017-02-27 03:45:37 -0500</bug_when>
    <thetext>Downgrading to `selinux-policy-3.13.1-224.fc25` seems to fix the issues I was having with my display and the proprietary NVIDIA drivers:

    sudo dnf --allowerasing install selinux-policy-3.13.1-224.fc25</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10186091</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-27 06:29:17 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-225.11.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-e06f91350b</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10188312</commentid>
    <comment_count>15</comment_count>
    <who name="Sergei LITVINENKO">sergei.litvinenko</who>
    <bug_when>2017-02-27 14:29:45 -0500</bug_when>
    <thetext>&gt;&gt; selinux-policy-3.13.1-225.11.fc25

Looks OK, SELINUX=enforcing
Nvidia module is loaded as expected in boot time</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10188491</commentid>
    <comment_count>16</comment_count>
    <who name="Ricardo Garcia">fedora</who>
    <bug_when>2017-02-27 15:39:29 -0500</bug_when>
    <thetext>Installation from the installer is still not working with the upgrade. Should I open a new bug?

type=AVC msg=audit(1488227814.767:163): avc:  denied  { module_load } for  pid=4939 comm=&quot;nvidia-installe&quot; path=&quot;/tmp/selfgz4905/NVIDIA-Linux-x86_64-378.13/kernel/nvidia.ko&quot; dev=&quot;tmpfs&quot; ino=25309 scontext=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 tcontext=unconfined_u:object_r:user_tmp_t:s0 tclass=system permissive=1</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10189111</commentid>
    <comment_count>17</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-27 18:51:52 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-225.11.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-e06f91350b</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10190192</commentid>
    <comment_count>18</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-28 03:49:46 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-225.11.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10193098</commentid>
    <comment_count>19</comment_count>
    <who name="Davide Repetto">red</who>
    <bug_when>2017-02-28 07:08:04 -0500</bug_when>
    <thetext>Description of problem:
Happens with latest selinux policies only.

Version-Release number of selected component:
selinux-policy-3.13.1-225.10.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.9.12-201.ReD.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10194598</commentid>
    <comment_count>20</comment_count>
    <who name="Sudhir Khanger">sudhir</who>
    <bug_when>2017-02-28 11:56:03 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-225.11.fc25.noarch doesn&apos;t work. I can still not build nvidia module.

See the logs here https://github.com/Bumblebee-Project/Bumblebee/issues/153#issuecomment-283097478</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10194759</commentid>
    <comment_count>21</comment_count>
    <who name="">jython234</who>
    <bug_when>2017-02-28 12:49:12 -0500</bug_when>
    <thetext>Description of problem:
After SELinux policy  upgrade through DNF, bbswitch kernel module failed to be inserted due to SELinux. 
BBswitch is an important kernel module used to switch mobile NVIDIA GPUs on and off.

Version-Release number of selected component:
selinux-policy-3.13.1-225.10.fc25.noarch

Additional info:
reporter:       libreport-2.8.0
hashmarkername: setroubleshoot
kernel:         4.9.12-200.fc25.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10194785</commentid>
    <comment_count>22</comment_count>
    <who name="Szőke Károly">szoke.karcsi</who>
    <bug_when>2017-02-28 12:56:53 -0500</bug_when>
    <thetext>(In reply to Szőke Károly from comment #1)
&gt; Description of problem:
&gt; After automatic install of new package,
&gt; kmod-wl-4.9.11-200.fc25.x86_64.x86_64 6.30.223.271-7.fc25, the system no
&gt; longer able to insert the wl module.
&gt; # modprobe wl
&gt; modprobe: ERROR: could not insert &apos;wl&apos;: Permission denied
&gt; 
&gt; When I disable SELiinux, it works again:
&gt; # setenforce 0
&gt; # modprobe wl
&gt; # setenforce 1
&gt; 
&gt; Version-Release number of selected component:
&gt; selinux-policy-3.13.1-225.10.fc25.noarch
&gt; 
&gt; Additional info:
&gt; reporter:       libreport-2.8.0
&gt; hashmarkername: setroubleshoot
&gt; kernel:         4.9.11-200.fc25.x86_64
&gt; type:           libreport

I got these packages now:
 selinux-policy-3.13.1-225.11.fc25.noarch
 selinux-policy-targeted-3.13.1-225.11.fc25.noarch
and it works perfectly.
Thank you.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10196757</commentid>
    <comment_count>23</comment_count>
    <who name="John Haxby">jch</who>
    <bug_when>2017-03-01 05:31:20 -0500</bug_when>
    <thetext>It seems that selinux-policy[-targeted]-3.13.1-225.11.fc25.noarch works for some and not others.  It doesn&apos;t work for me installing ksplice updates:

audit: AVC avc:  denied  { module_load } for  pid=6378 comm=&quot;insmod&quot; path=2F7661722F63616368652F7570747261636B2F4C696E75782F7838365F36342F342E392E362D3230302E666332352E7838365F36342F233120534D5020546875204A616E2032362031303A31373A34352055544320323031372F757064617465732F6B73706C6963652D633137646575667A2F6B73706C6963652D633137646575667A2E6B6F dev=&quot;sda4&quot; ino=2319568 scontext=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 tcontext=unconfined_u:object_r:var_t:s0 tclass=system permissive=1

(obviously it works with permissive)

I can add an fcontext for this:

semanage fcontext -a -t modules_object_t &apos;/var/cache/uptrack/Linux(/.*)?&apos;

but I&apos;m not at all sure what the general solution should be.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10198092</commentid>
    <comment_count>24</comment_count>
    <who name="Alan Ernhart">alan.ernhart</who>
    <bug_when>2017-03-01 10:48:39 -0500</bug_when>
    <thetext>Just a Thank you: 3.13.1-225.10 started failure of kmod-wl (rpmfusion for broadcom on Macbook) to load on boot. The 3.13.1-225.11.fc25 has fixed the issue.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10198678</commentid>
    <comment_count>25</comment_count>
    <who name="Daniel Laczi">daniell1</who>
    <bug_when>2017-03-01 13:39:46 -0500</bug_when>
    <thetext>Unfortunately selinux-policy-3.13.1-225.10.fc25 started making problems on one of my systems:

type=AVC msg=audit(1488238684.354:208): avc:  denied  { module_load } for  pid=1158 comm=&quot;modprobe&quot; path=&quot;/usr/lib/modules/4.9.11-200.fc25.armv7hl/kernel/drivers/md/dm-crypt.ko&quot; dev=&quot;mmcblk0p3&quot; ino=6785000 scontext=system_u:system_r:insmod_t:s0 tcontext=system_u:object_r:modules_object_t:s0 tclass=system permissive=0

I came across it after a server didn&apos;t get up, because it couldn&apos;t encrypt a drive.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10198838</commentid>
    <comment_count>26</comment_count>
    <who name="Daniel Laczi">daniell1</who>
    <bug_when>2017-03-01 14:20:14 -0500</bug_when>
    <thetext>Sorry, I&apos;ve seen too late, that I didn&apos;t have the current version...

3.13.1-225.11.fc25 is working fine! Thanks for the quick fix!</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
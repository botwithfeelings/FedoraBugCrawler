<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1417431</bug_id>
          
          <creation_ts>2017-01-29 04:34:00 -0500</creation_ts>
          <short_desc>Mesa upgrade to version 13.0.3-4.fc25 fails - missing dependencies</short_desc>
          <delta_ts>2017-03-01 09:32:54 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>mesa</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Steve Bryant">stephenbryant</reporter>
          <assigned_to name="Adam Jackson">ajax</assigned_to>
          <cc>agurenko</cc>
    
    
    <cc>aivaras.laimikis</cc>
    
    
    <cc>ajax</cc>
    
    
    <cc>andy.john.richardson</cc>
    
    
    <cc>boldingd</cc>
    
    
    <cc>bugzilla</cc>
    
    
    <cc>bz</cc>
    
    
    <cc>clplaza23</cc>
    
    
    <cc>djuran</cc>
    
    
    <cc>esteban.xandri</cc>
    
    
    <cc>fschwarz</cc>
    
    
    <cc>germano.massullo</cc>
    
    
    <cc>gsgatlin</cc>
    
    
    <cc>ignatenko</cc>
    
    
    <cc>jguiditt</cc>
    
    
    <cc>klember</cc>
    
    
    <cc>matt</cc>
    
    
    <cc>michael</cc>
    
    
    <cc>michal.jnn</cc>
    
    
    <cc>mikhail.v.gavrilov</cc>
    
    
    <cc>novak.david</cc>
    
    
    <cc>paul.destefano-redhat</cc>
    
    
    <cc>pointedstick</cc>
    
    
    <cc>rkudyba</cc>
    
    
    <cc>robatino</cc>
    
    
    <cc>seppo.yli-olli</cc>
    
    
    <cc>sgraf</cc>
    
    
    <cc>simone.spam</cc>
    
    
    <cc>ttomasz</cc>
    
    
    <cc>vbraun.name</cc>
    
    
    <cc>woiling</cc>
    
    
    <cc>wpoely86</cc>
    
    
    <cc>znmeb</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>mesa-13.0.3-5.fc25</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-01-30 19:48:35</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10104083</commentid>
    <comment_count>0</comment_count>
    <who name="Steve Bryant">stephenbryant</who>
    <bug_when>2017-01-29 04:34:23 -0500</bug_when>
    <thetext>Description of problem:
Upgrade of various mesa packages from 13.0.3-1.fc25 to 13.0.3-4.fc25 fails due to missing dependencies on &quot;libglvnd-glx(x86-32)&quot; and &quot;libglvnd-glx(x86-64)&quot;:

# dnf upgrade
Last metadata expiration check: 0:43:38 ago on Sun Jan 29 08:36:07 2017.
Dependencies resolved.
================================================================================
 Package                  Arch         Version              Repository     Size
================================================================================
Skipping packages with broken dependencies:
 mesa-libEGL              i686         13.0.3-4.fc25        updates       105 k
 mesa-libEGL              x86_64       13.0.3-4.fc25        updates       103 k
 mesa-libEGL-devel        x86_64       13.0.3-4.fc25        updates        38 k
 mesa-libGL               i686         13.0.3-4.fc25        updates       181 k
 mesa-libGL               x86_64       13.0.3-4.fc25        updates       164 k
 mesa-libGL-devel         x86_64       13.0.3-4.fc25        updates       161 k
 mesa-libGLES             x86_64       13.0.3-4.fc25        updates        21 k
 mesa-libGLES-devel       x86_64       13.0.3-4.fc25        updates        62 k
 mesa-libOSMesa           i686         13.0.3-4.fc25        updates       2.0 M
 mesa-libOSMesa           x86_64       13.0.3-4.fc25        updates       1.9 M
 mesa-libglapi            i686         13.0.3-4.fc25        updates        59 k
 mesa-libglapi            x86_64       13.0.3-4.fc25        updates        49 k

Transaction Summary
================================================================================
Skip  12 Packages

# dnf repoquery --whatprovides &apos;libglvnd-egl(x86-64)&apos;
Last metadata expiration check: 0:52:59 ago on Sun Jan 29 08:36:07 2017.
#

Version-Release number of selected component (if applicable):
(See above)

How reproducible:
Run &quot;dnf upgrade when mesa packages at 13.0.3-1.fc25 are installed.

Steps to Reproduce:
1.
2.
3.

Actual results:
Upgrade to various Mesa packages fail with &quot;broken dependencies&quot;.

Expected results:
Upgrade proceeds without error.

Additional info:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10104099</commentid>
    <comment_count>1</comment_count>
    <who name="Steve Bryant">stephenbryant</who>
    <bug_when>2017-01-29 04:55:06 -0500</bug_when>
    <thetext>Enabling repo &quot;updates-testing&quot; allows Mesa to be upgraded by providing the mssing &quot;libglvnd&quot; packages:

# dnf --enablerepo updates-testing upgrade mesa-\*
Last metadata expiration check: 0:01:12 ago on Sun Jan 29 09:51:03 2017.
Dependencies resolved.
================================================================================
 Package             Arch   Version                       Repository       Size
================================================================================
Installing:
 libglvnd-core-devel x86_64 1:0.2.999-7.gitdc16f8c.fc25   updates-testing  19 k
 libglvnd-devel      x86_64 1:0.2.999-7.gitdc16f8c.fc25   updates-testing  11 k
 libglvnd-egl        i686   1:0.2.999-7.gitdc16f8c.fc25   updates-testing  43 k
 libglvnd-egl        x86_64 1:0.2.999-7.gitdc16f8c.fc25   updates-testing  42 k
 libglvnd-gles       x86_64 1:0.2.999-7.gitdc16f8c.fc25   updates-testing  30 k
 libglvnd-glx        i686   1:0.2.999-7.gitdc16f8c.fc25   updates-testing 118 k
 libglvnd-glx        x86_64 1:0.2.999-7.gitdc16f8c.fc25   updates-testing 124 k
 libglvnd-opengl     x86_64 1:0.2.999-7.gitdc16f8c.fc25   updates-testing  43 k
Upgrading:
 libglvnd            i686   1:0.2.999-7.gitdc16f8c.fc25   updates-testing  82 k
 libglvnd            x86_64 1:0.2.999-7.gitdc16f8c.fc25   updates-testing  88 k
 mesa-libEGL         i686   13.0.3-4.fc25                 updates         105 k
 mesa-libEGL         x86_64 13.0.3-4.fc25                 updates         103 k
 mesa-libEGL-devel   x86_64 13.0.3-4.fc25                 updates          38 k
 mesa-libGL          i686   13.0.3-4.fc25                 updates         181 k
 mesa-libGL          x86_64 13.0.3-4.fc25                 updates         164 k
 mesa-libGL-devel    x86_64 13.0.3-4.fc25                 updates         161 k
 mesa-libGLES        x86_64 13.0.3-4.fc25                 updates          21 k
 mesa-libGLES-devel  x86_64 13.0.3-4.fc25                 updates          62 k
 mesa-libOSMesa      i686   13.0.3-4.fc25                 updates         2.0 M
 mesa-libOSMesa      x86_64 13.0.3-4.fc25                 updates         1.9 M
 mesa-libglapi       i686   13.0.3-4.fc25                 updates          59 k
 mesa-libglapi       x86_64 13.0.3-4.fc25                 updates          49 k

Transaction Summary
================================================================================
Install   8 Packages
Upgrade  14 Packages

Total download size: 5.4 M</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10104562</commentid>
    <comment_count>2</comment_count>
    <who name="Volker Braun">vbraun.name</who>
    <bug_when>2017-01-29 16:08:01 -0500</bug_when>
    <thetext>I just updated fedora 24 -&gt; 25 and X would not start any more. Only after installing the missing dependencies from updates-testing does X start again.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10104612</commentid>
    <comment_count>3</comment_count>
    <who name="Andy Richardson">andy.john.richardson</who>
    <bug_when>2017-01-29 17:45:00 -0500</bug_when>
    <thetext>I can confirm the same issue here. The dependencies need to be made available on the update repo.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10104641</commentid>
    <comment_count>4</comment_count>
    <who name="Woi">woiling</who>
    <bug_when>2017-01-29 18:25:43 -0500</bug_when>
    <thetext>Volker, Andy: Have you tried a distro-sync as suggested in the System Upgrade documentation &lt;http://fedoraproject.org/wiki/DNF_system_upgrade&gt;?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10104663</commentid>
    <comment_count>5</comment_count>
    <who name="Volker Braun">vbraun.name</who>
    <bug_when>2017-01-29 18:43:00 -0500</bug_when>
    <thetext>I didn&apos;t use distro-sync, possibly that would have fixed the issue too. Though there was no indication that anything is wrong during the update process, it was all smooth sailing until the reboot and then X didn&apos;t start (and the auto-restarting gdm prevented me initially from logging in on the console, but that does stop after a while)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10104778</commentid>
    <comment_count>6</comment_count>
    <who name="David Bolding">boldingd</who>
    <bug_when>2017-01-29 20:21:10 -0500</bug_when>
    <thetext>FWIW, I had the same issue; broken dependencies on EGL packages, which prevented the graphical environment from starting.  Neither distro-sync not update --best --allowerasing fixed the problem, but enabling updates-testing fixed it.

After the the dnf-update and reboot that broke my system, I also noticed that the SElabels on my home directory were wrong.  I think that can happen if an rpmoperation fails, so that might be related?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10104928</commentid>
    <comment_count>7</comment_count>
    <who name="Paul DeStefano">paul.destefano-redhat</who>
    <bug_when>2017-01-30 00:21:29 -0500</bug_when>
    <thetext>Wow, I&apos;m feeling very lucky to have searched this before I let my system continue the upgrade without these broken packages.  Two questions:

1) You had a working system, up-to-date recently, and then you did dnf upgrade, and then X11 as completely broken?  Is that right?  So now is it possible that DNF broke the system if it *didn&apos;t* install packages for which the dependencies couldn&apos;t be fulfilled?  Does that mean that other packages were missing the proper dependencies that should have also been held back, but weren&apos;t?

2) How do these dependencies end up in updates-testing while the dependents pass on to updates without them?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10105072</commentid>
    <comment_count>8</comment_count>
    <who name="Volker Braun">vbraun.name</who>
    <bug_when>2017-01-30 03:13:33 -0500</bug_when>
    <thetext>For the record, I did have an up-to-date Fedora 24 system before updating. After updating, I had a mix of mesa rpm package versions and got the following crash in Xorg.log:

[  1608.095] (EE) Backtrace:
[  1608.096] (EE) 0: /usr/libexec/Xorg (OsLookupColor+0x139) [0x59e8e9]
[  1608.096] (EE) 1: /lib64/libpthread.so.0 (__restore_rt+0x0) [0x7f69975c45bf]
[  1608.096] (EE) 2: /lib64/libEGL.so.1 (eglCreateSync+0xedd9) [0x7f698a2a5269]
[  1608.097] (EE) 3: /lib64/libEGL.so.1 (eglCreateSync+0x71a5) [0x7f698a295c25]
[  1608.097] (EE) 4: /lib64/libEGL.so.1 (eglCreateSync+0x3d05) [0x7f698a28f2e5]
[  1608.097] (EE) 5: /lib64/libEGL.so.1 (eglCreateSync+0x3dc9) [0x7f698a28f519]
[  1608.097] (EE) 6: /lib64/libEGL.so.1 (eglInitialize+0xe2) [0x7f698a2864e2]
[  1608.097] (EE) 7: /usr/lib64/xorg/modules/libglamoregl.so (glamor_egl_init+0x109) [0x7f6991b2e029]
[  1608.098] (EE) 8: /usr/lib64/xorg/modules/drivers/radeon_drv.so (_init+0x4a276) [0x7f6992a51396]
[  1608.098] (EE) 9: /usr/lib64/xorg/modules/drivers/radeon_drv.so (_init+0x3f0db) [0x7f6992a3a60b]
[  1608.098] (EE) 10: /usr/libexec/Xorg (InitOutput+0xac2) [0x47d742]
[  1608.098] (EE) 11: /usr/libexec/Xorg (InitFonts+0x216) [0x43ae46]
[  1608.099] (EE) 12: /lib64/libc.so.6 (__libc_start_main+0xf1) [0x7f699720d401]
[  1608.099] (EE) 13: /usr/libexec/Xorg (_start+0x2a) [0x424cfa]
[  1608.100] (EE) 14: ? (?+0x2a) [0x2a]
[  1608.100] (EE) 
[  1608.100] (EE) Segmentation fault at address 0x0
[  1608.100] (EE) 
Fatal server error:
[  1608.100] (EE) Caught signal 11 (Segmentation fault). Server aborting</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10105983</commentid>
    <comment_count>9</comment_count>
    <who name="">clplaza23</who>
    <bug_when>2017-01-30 09:03:09 -0500</bug_when>
    <thetext>Just as an additional feedback, this heavily affects fresh installs and new users. Yesterday I spent a whole lot of time thinking why my system suddenly stopped working after the first update done via store.

I just realized the dependency problem after doing everything manually and noticing the missing dependency.

After fixing it with the suggested workaround, the system works well, but I&apos;m unable to install software which has mesa dependency. For example, Wine won&apos;t install unless I set it to be installed from the &quot;updates-testing&quot;.

See where this is going? It&apos;s 2017 already and I can feel the dependency hell starting.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10106112</commentid>
    <comment_count>10</comment_count>
    <who name="Andy Richardson">andy.john.richardson</who>
    <bug_when>2017-01-30 09:40:18 -0500</bug_when>
    <thetext>This issue should effect everyone with the mesa packages installed. Distro-sync won&apos;t/hasn&apos;t make a difference; either the mesa package update has the incorrect dependencies or the dependencies in question should have been pushed to the update repository alongside the latest mesa package.

If necessary, I can test if this issue persists inside a fresh install (Docker container) but it seems as though we already have confirmation that this is the case.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10106337</commentid>
    <comment_count>11</comment_count>
    <who name="Igor Gnatenko">ignatenko</who>
    <bug_when>2017-01-30 10:55:17 -0500</bug_when>
    <thetext>*** Bug 1417672 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10106889</commentid>
    <comment_count>12</comment_count>
    <who name="M. Edward (Ed) Borasky">znmeb</who>
    <bug_when>2017-01-30 14:22:36 -0500</bug_when>
    <thetext>(In reply to clplaza23 from comment #9)
&gt; Just as an additional feedback, this heavily affects fresh installs and new
&gt; users. Yesterday I spent a whole lot of time thinking why my system suddenly
&gt; stopped working after the first update done via store.
&gt; 
&gt; I just realized the dependency problem after doing everything manually and
&gt; noticing the missing dependency.
&gt; 
&gt; After fixing it with the suggested workaround, the system works well, but
&gt; I&apos;m unable to install software which has mesa dependency. For example, Wine
&gt; won&apos;t install unless I set it to be installed from the &quot;updates-testing&quot;.
&gt; 
&gt; See where this is going? It&apos;s 2017 already and I can feel the dependency
&gt; hell starting.

I have a system that&apos;s been running just fine with F25 (updates-testing *enabled*). I did an upgrade the other day and it no longer booted up. I *think* it&apos;s the same bug; I re-installed from the F25 workstation media, did a full update and the machine no longer came up. I finally ended up doing a reinstall from the 20 January Workstation respin and selectively updating from there package by package, skipping the Mesa stuff.

So ... how do I tell when it&apos;s safe to let the Mesa packages install? Am I safer with or without updates-testing enabled?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10107131</commentid>
    <comment_count>13</comment_count>
    <who name="Seppo Yli-Olli">seppo.yli-olli</who>
    <bug_when>2017-01-30 16:27:21 -0500</bug_when>
    <thetext>Under no circumstances enable updates-testing. It&apos;s entirely possible the libglvnd will be rolled back which will make the next upgrade more painful to you. Just wait until situation resolves by itself</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10107133</commentid>
    <comment_count>14</comment_count>
    <who name="Gary Gatling">gsgatlin</who>
    <bug_when>2017-01-30 16:30:19 -0500</bug_when>
    <thetext>At least one user is reporting that the mesa packages from updates-testing broke bumblebee for them. 

I was going to test myself but on my optimus test system freshly installed today with no bumblebee and mesa-*-13.0.3-4.fc25 gdm refuses to start.

http://i.imgur.com/q3qmCiB.jpg</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10107143</commentid>
    <comment_count>15</comment_count>
    <who name="M. Edward (Ed) Borasky">znmeb</who>
    <bug_when>2017-01-30 16:39:08 -0500</bug_when>
    <thetext>(In reply to Seppo Yli-Olli from comment #13)
&gt; Under no circumstances enable updates-testing. It&apos;s entirely possible the
&gt; libglvnd will be rolled back which will make the next upgrade more painful
&gt; to you. Just wait until situation resolves by itself

How do I know when it has resolved itself though? Is it even safe to do the update &quot;Software&quot; keeps bugging me to do?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10107146</commentid>
    <comment_count>16</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-01-30 16:41:21 -0500</bug_when>
    <thetext>mesa-13.0.3-5.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-0d59b99f18</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10107183</commentid>
    <comment_count>17</comment_count>
    <who name="Seppo Yli-Olli">seppo.yli-olli</who>
    <bug_when>2017-01-30 16:57:57 -0500</bug_when>
    <thetext>(In reply to M. Edward (Ed) Borasky from comment #15)
&gt; (In reply to Seppo Yli-Olli from comment #13)
&gt; &gt; Under no circumstances enable updates-testing. It&apos;s entirely possible the
&gt; &gt; libglvnd will be rolled back which will make the next upgrade more painful
&gt; &gt; to you. Just wait until situation resolves by itself
&gt; 
&gt; How do I know when it has resolved itself though? Is it even safe to do the
&gt; update &quot;Software&quot; keeps bugging me to do?

The situation has resolved itself when you can update without enabling updates-testing which should happen once above package hits stable. The migration path from system without libglvnd to one without may be potentially painful so waiting is the best option at the moment.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10107260</commentid>
    <comment_count>18</comment_count>
    <who name="Doug Maxey">bz</who>
    <bug_when>2017-01-30 17:40:47 -0500</bug_when>
    <thetext>(In reply to Seppo Yli-Olli from comment #17)
...
&gt; migration path from system without libglvnd to one without may be
&gt; potentially painful so waiting is the best option at the moment.

On at least one occasion after rolling a system from probably f14 forward, removal and reinstall of the offending package was a quick fix.
 
ahem :)

dnf remove mesa-libGL-13.0.3-1.fc25
...
Transaction Summary
===============================================================================
Remove  908 Packages

I think I will wait for the update on this one.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10107456</commentid>
    <comment_count>19</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-01-30 19:48:35 -0500</bug_when>
    <thetext>mesa-13.0.3-5.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10107991</commentid>
    <comment_count>20</comment_count>
    <who name="Tomas Toth">ttomasz</who>
    <bug_when>2017-01-31 03:10:53 -0500</bug_when>
    <thetext>The mesa 13.0.3-5.fc25 update creates a new issue for those of us, who worked around the (13.0.3-4) dependency issue by enabling updates-testing, got libglvnd-* installed.

The new mesa 13.0.3-5.fc25 conflicts with libglvnd-*, see below, and half the system depends on ibglvnd-*.

# dnf update
Last metadata expiration check: 0:42:16 ago on Tue Jan 31 08:23:53 2017.
Dependencies resolved.
===========================================================================
 Package                 Arch       Version              Repository   Size
===========================================================================
Upgrading:
 mesa-dri-drivers        x86_64     13.0.3-5.fc25        updates      11 M
 mesa-filesystem         x86_64     13.0.3-5.fc25        updates      24 k
 mesa-libEGL             x86_64     13.0.3-5.fc25        updates     101 k
 mesa-libGL              x86_64     13.0.3-5.fc25        updates     163 k
 mesa-libGLES            x86_64     13.0.3-5.fc25        updates      33 k
 mesa-libOSMesa          x86_64     13.0.3-5.fc25        updates     1.9 M
 mesa-libOpenCL          x86_64     13.0.3-5.fc25        updates     579 k
 mesa-libgbm             x86_64     13.0.3-5.fc25        updates      42 k
 mesa-libglapi           x86_64     13.0.3-5.fc25        updates      49 k
 mesa-libwayland-egl     x86_64     13.0.3-5.fc25        updates      25 k
 mesa-libxatracker       x86_64     13.0.3-5.fc25        updates     1.4 M
 mesa-vdpau-drivers      x86_64     13.0.3-5.fc25        updates     1.8 M

Transaction Summary
===========================================================================
Upgrade  12 Packages

Total size: 17 M
Is this ok [y/N]: y
Downloading Packages:
[SKIPPED] mesa-dri-drivers-13.0.3-5.fc25.x86_64.rpm: Already downloaded   
[SKIPPED] mesa-filesystem-13.0.3-5.fc25.x86_64.rpm: Already downloaded    
[SKIPPED] mesa-vdpau-drivers-13.0.3-5.fc25.x86_64.rpm: Already downloaded 
[SKIPPED] mesa-libEGL-13.0.3-5.fc25.x86_64.rpm: Already downloaded        
[SKIPPED] mesa-libGL-13.0.3-5.fc25.x86_64.rpm: Already downloaded         
[SKIPPED] mesa-libglapi-13.0.3-5.fc25.x86_64.rpm: Already downloaded      
[SKIPPED] mesa-libOSMesa-13.0.3-5.fc25.x86_64.rpm: Already downloaded     
[SKIPPED] mesa-libGLES-13.0.3-5.fc25.x86_64.rpm: Already downloaded       
[SKIPPED] mesa-libOpenCL-13.0.3-5.fc25.x86_64.rpm: Already downloaded     
[SKIPPED] mesa-libgbm-13.0.3-5.fc25.x86_64.rpm: Already downloaded        
[SKIPPED] mesa-libwayland-egl-13.0.3-5.fc25.x86_64.rpm: Already downloaded
[SKIPPED] mesa-libxatracker-13.0.3-5.fc25.x86_64.rpm: Already downloaded  
Running transaction check
Transaction check succeeded.
Running transaction test
The downloaded packages were saved in cache until the next successful transaction.
You can remove cached packages by executing &apos;dnf clean packages&apos;.
Error: Transaction check error:
  file /usr/lib64/libEGL.so.1.0.0 from install of mesa-libEGL-13.0.3-5.fc25.x86_64 conflicts with file from package libglvnd-egl-1:0.2.999-7.gitdc16f8c.fc25.x86_64
  file /usr/lib64/libGL.so.1 from install of mesa-libGL-13.0.3-5.fc25.x86_64 conflicts with file from package libglvnd-glx-1:0.2.999-7.gitdc16f8c.fc25.x86_64
  file /usr/lib64/libGLESv2.so.2.0.0 from install of mesa-libGLES-13.0.3-5.fc25.x86_64 conflicts with file from package libglvnd-gles-1:0.2.999-7.gitdc16f8c.fc25.x86_64

Error Summary
-------------</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10108038</commentid>
    <comment_count>21</comment_count>
    <who name="Simone">simone.spam</who>
    <bug_when>2017-01-31 03:39:51 -0500</bug_when>
    <thetext>I report that after a # dnf distro-sync (see logs below) I wasn&apos;t able to login (X not starting?) and it was impossible to use my laptop. To solve I had to update the system with # dnf --enablerepo updates-testing upgrade mesa-* from liveUSB.

I think that such problems should be avoided... 

Codice di uscita    : Completato
Linea di comando   : distro-sync
Transazione eseguita con:
    Installati            dnf-1.1.10-5.fc25.noarch @updates
    Installati            rpm-4.13.0-6.fc25.x86_64 @updates
Pacchetti modificati:
    A versione precedente mesa-libEGL-12.0.3-3.fc25.i686      @fedora
    A versione precedente mesa-libEGL-12.0.3-3.fc25.x86_64    @fedora
    A versione precedente             13.0.3-1.fc25.i686      @updates
    A versione precedente             13.0.3-1.fc25.x86_64    @updates
    A versione precedente mesa-libGL-12.0.3-3.fc25.i686       @fedora
    A versione precedente mesa-libGL-12.0.3-3.fc25.x86_64     @fedora
    A versione precedente            13.0.3-1.fc25.i686       @updates
    A versione precedente            13.0.3-1.fc25.x86_64     @updates
    A versione precedente mesa-libGLES-12.0.3-3.fc25.x86_64   @fedora
    A versione precedente              13.0.3-1.fc25.x86_64   @updates
    A versione precedente mesa-libOSMesa-12.0.3-3.fc25.x86_64 @fedora
    A versione precedente                13.0.3-1.fc25.x86_64 @updates
    A versione precedente mesa-libglapi-12.0.3-3.fc25.i686    @fedora
    A versione precedente mesa-libglapi-12.0.3-3.fc25.x86_64  @fedora
    A versione precedente               13.0.3-1.fc25.i686    @updates
    A versione precedente               13.0.3-1.fc25.x86_64  @updates</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10108109</commentid>
    <comment_count>22</comment_count>
    <who name="Gurenko Alex">agurenko</who>
    <bug_when>2017-01-31 04:11:53 -0500</bug_when>
    <thetext>@Tomas Toth
 I had same issue, I did dnf history unde #num (the transaction where I used test repo) and then dnf update. That worked for me.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10108178</commentid>
    <comment_count>23</comment_count>
    <who name="Paul DeStefano">paul.destefano-redhat</who>
    <bug_when>2017-01-31 04:40:06 -0500</bug_when>
    <thetext>I don&apos;t think the issue is closed.

The error reported here is that packages were published that made it to updates that were broken *beyond* what DNF could handle.  That&apos;s this bug and nothing in the bug suggests it was fixed.  Publishing a fixed package is good, but, that&apos;s not the root cause of this bug.

Case and point: guidance was distributed on this bug to get the needed packages--rpms needed by *official published* pacakges--and that was not contradicted until much later.  Clearly this bug has not been addressed.

Pkg maintainers must give instructions to people who packages from updates-testing.  Is comment 22 right?  I don&apos;t know.  I could be another error where DNF thinks that is a valid action, but it isn&apos;t.  I don&apos;t know anymore.

If someone made a mistake, fine, no big deal; just say so.  Otherwise, you&apos;re saying that DNF could break systems at any moment and no effort whatsoever is being made to prevent that and I know that&apos;s not the case.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10108183</commentid>
    <comment_count>24</comment_count>
    <who name="David Novák">novak.david</who>
    <bug_when>2017-01-31 04:41:41 -0500</bug_when>
    <thetext>(In reply to Gurenko Alex from comment #22)
&gt; @Tomas Toth
&gt;  I had same issue, I did dnf history unde #num (the transaction where I used
&gt; test repo) and then dnf update. That worked for me.

I got:
Undoing transaction 192, from Mon Jan 30 10:53:45 2017
    Upgraded mesa-libEGL-13.0.3-1.fc25.i686                         @updates
    Upgraded mesa-libEGL-13.0.3-1.fc25.x86_64                       @updates
    Upgrade              13.0.3-4.fc25.i686                         @updates
    Upgrade              13.0.3-4.fc25.x86_64                       @updates
    Upgraded mesa-libEGL-devel-13.0.3-1.fc25.x86_64                 @updates
    Upgrade                    13.0.3-4.fc25.x86_64                 @updates
    Upgraded mesa-libGL-13.0.3-1.fc25.i686                          @updates
    Upgraded mesa-libGL-13.0.3-1.fc25.x86_64                        @updates
    Upgrade             13.0.3-4.fc25.i686                          @updates
    Upgrade             13.0.3-4.fc25.x86_64                        @updates
    Upgraded mesa-libGL-devel-13.0.3-1.fc25.x86_64                  @updates
    Upgrade                   13.0.3-4.fc25.x86_64                  @updates
    Upgraded mesa-libGLES-13.0.3-1.fc25.x86_64                      @updates
    Upgrade               13.0.3-4.fc25.x86_64                      @updates
    Upgraded mesa-libglapi-13.0.3-1.fc25.i686                       @updates
    Upgraded mesa-libglapi-13.0.3-1.fc25.x86_64                     @updates
    Upgrade                13.0.3-4.fc25.i686                       @updates
    Upgrade                13.0.3-4.fc25.x86_64                     @updates
    Install  libglvnd-1:0.2.999-7.gitdc16f8c.fc25.i686              @updates-testing
    Install  libglvnd-1:0.2.999-7.gitdc16f8c.fc25.x86_64            @updates-testing
    Install  libglvnd-core-devel-1:0.2.999-7.gitdc16f8c.fc25.x86_64 @updates-testing
    Install  libglvnd-devel-1:0.2.999-7.gitdc16f8c.fc25.x86_64      @updates-testing
    Install  libglvnd-egl-1:0.2.999-7.gitdc16f8c.fc25.i686          @updates-testing
    Install  libglvnd-egl-1:0.2.999-7.gitdc16f8c.fc25.x86_64        @updates-testing
    Install  libglvnd-gles-1:0.2.999-7.gitdc16f8c.fc25.x86_64       @updates-testing
    Install  libglvnd-glx-1:0.2.999-7.gitdc16f8c.fc25.i686          @updates-testing
    Install  libglvnd-glx-1:0.2.999-7.gitdc16f8c.fc25.x86_64        @updates-testing
    Install  libglvnd-opengl-1:0.2.999-7.gitdc16f8c.fc25.x86_64     @updates-testing
No package mesa-libGL-0:13.0.3-1.fc25.x86_64 available.
Error: An operation cannot be undone

Do you know how to fix it?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10108240</commentid>
    <comment_count>25</comment_count>
    <who name="Gurenko Alex">agurenko</who>
    <bug_when>2017-01-31 05:03:03 -0500</bug_when>
    <thetext> @David Novák Right, I have keepcache=True in my dnf.conf, so that&apos;s why it worked for me. Maybe downgrading/forcing other package version will work? 13.0.3-1 was really removed from all repos.
 You should be able to see available versions by doing dnf --showduplicates list mesa-libGL</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10108251</commentid>
    <comment_count>26</comment_count>
    <who name="Igor Gnatenko">ignatenko</who>
    <bug_when>2017-01-31 05:08:33 -0500</bug_when>
    <thetext>*** Bug 1417793 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10108269</commentid>
    <comment_count>27</comment_count>
    <who name="David Novák">novak.david</who>
    <bug_when>2017-01-31 05:16:35 -0500</bug_when>
    <thetext>(In reply to Gurenko Alex from comment #25)
&gt;  @David Novák Right, I have keepcache=True in my dnf.conf, so that&apos;s why it
&gt; worked for me. Maybe downgrading/forcing other package version will work?
&gt; 13.0.3-1 was really removed from all repos.
&gt;  You should be able to see available versions by doing dnf --showduplicates
&gt; list mesa-libGL

Installed Packages
mesa-libGL.i686                       13.0.3-4.fc25                     @updates
mesa-libGL.x86_64                     13.0.3-4.fc25                     @updates
Available Packages
mesa-libGL.i686                       12.0.3-3.fc25                     fedora  
mesa-libGL.x86_64                     12.0.3-3.fc25                     fedora  
mesa-libGL.i686                       13.0.3-4.fc25                     @updates
mesa-libGL.x86_64                     13.0.3-4.fc25                     @updates
mesa-libGL.i686                       13.0.3-5.fc25                     updates 
mesa-libGL.x86_64                     13.0.3-5.fc25                     updates 

I&apos;d have to downgrade back to mesa 12..

Can I get rid of the packages from updates-testing somehow?

When I tried &quot;dnf remove libglvnd-egl-1:0.2.999-7.gitdc16f8c.fc25.x86_64&quot;, it wanted to remove basically everything (6 GB of packages).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10108308</commentid>
    <comment_count>28</comment_count>
    <who name="David Novák">novak.david</who>
    <bug_when>2017-01-31 05:22:14 -0500</bug_when>
    <thetext>OK, I fixed it by running:
dnf repository-packages updates-testing remove 

It automatically did update corresponding mesa libs..

Upgrading:
 mesa-libEGL         i686   13.0.3-5.fc25                updates          102 k
 mesa-libEGL         x86_64 13.0.3-5.fc25                updates          101 k
 mesa-libEGL-devel   x86_64 13.0.3-5.fc25                updates           39 k
 mesa-libGL          i686   13.0.3-5.fc25                updates          179 k
 mesa-libGL          x86_64 13.0.3-5.fc25                updates          163 k
 mesa-libGL-devel    x86_64 13.0.3-5.fc25                updates          162 k
 mesa-libGLES        x86_64 13.0.3-5.fc25                updates           33 k
 mesa-libglapi       i686   13.0.3-5.fc25                updates           59 k
 mesa-libglapi       x86_64 13.0.3-5.fc25                updates           49 k
Removing:
 libglvnd            i686   1:0.2.999-7.gitdc16f8c.fc25  @updates-testing 357 k
 libglvnd            x86_64 1:0.2.999-7.gitdc16f8c.fc25  @updates-testing 649 k
 libglvnd-core-devel x86_64 1:0.2.999-7.gitdc16f8c.fc25  @updates-testing  39 k
 libglvnd-devel      x86_64 1:0.2.999-7.gitdc16f8c.fc25  @updates-testing   0  
 libglvnd-egl        i686   1:0.2.999-7.gitdc16f8c.fc25  @updates-testing  77 k
 libglvnd-egl        x86_64 1:0.2.999-7.gitdc16f8c.fc25  @updates-testing  77 k
 libglvnd-gles       x86_64 1:0.2.999-7.gitdc16f8c.fc25  @updates-testing 101 k
 libglvnd-glx        i686   1:0.2.999-7.gitdc16f8c.fc25  @updates-testing 467 k
 libglvnd-glx        x86_64 1:0.2.999-7.gitdc16f8c.fc25  @updates-testing 637 k
 libglvnd-opengl     x86_64 1:0.2.999-7.gitdc16f8c.fc25  @updates-testing 197 k</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10108317</commentid>
    <comment_count>29</comment_count>
    <who name="Gurenko Alex">agurenko</who>
    <bug_when>2017-01-31 05:29:38 -0500</bug_when>
    <thetext>(In reply to David Novák from comment #28)
&gt; OK, I fixed it by running:
&gt; dnf repository-packages updates-testing remove 
&gt; 
&gt; It automatically did update corresponding mesa libs..

Glad it worked :)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10108513</commentid>
    <comment_count>30</comment_count>
    <who name="Kalev Lember">klember</who>
    <bug_when>2017-01-31 06:23:00 -0500</bug_when>
    <thetext>(In reply to Paul DeStefano from comment #23)
&gt; I don&apos;t think the issue is closed.
&gt; 
&gt; The error reported here is that packages were published that made it to
&gt; updates that were broken *beyond* what DNF could handle.  That&apos;s this bug
&gt; and nothing in the bug suggests it was fixed.  Publishing a fixed package is
&gt; good, but, that&apos;s not the root cause of this bug.

This should be fixed now.

We had a bit of a coordination issue where a mesa -4 build with libglvnd support got pushed to stable before it was supposed to (without a matching libglvnd build) and caused broken dependencies.

We&apos;ve now tried to address this in two steps:

1) For people who don&apos;t have updates-testing enabled, mesa -5 build that got pushed to stable last night reverts the libglvnd support, making the stable updates stream properly installable again and self-contained

2) For people who use updates-testing, there&apos;s a new mesa -6 build in updates-testing that continues offering the libglvnd support

This should fix update issues for most people, especially those who waited for the broken deps to resolve itself.

For those who _temporarily_ enabled the updates-testing repo and already got libglvnd, I would recommend continuing to use the mesa and libglvnd from updates-testing repo (dnf update --enablerepo updates-testing &apos;mesa*&apos;).

Sorry for the mess. https://pagure.io/fesco/issue/1675 has some background info if you want to read up on this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10109519</commentid>
    <comment_count>31</comment_count>
    <who name="Nate Graham">pointedstick</who>
    <bug_when>2017-01-31 10:37:38 -0500</bug_when>
    <thetext>`dnf repository-packages updates-testing remove` isn&apos;t working for me:

$ sudo dnf repository-packages updates-testing remove
[sudo] password for nate: 
Last metadata expiration check: 0:48:18 ago on Tue Jan 31 07:45:22 2017.
Error: package ffmpeg-libs-3.1.5-1.fc25.x86_64 requires libva-x11.so.1()(64bit), but none of the providers can be installed.
package sssd-common-1.14.2-2.fc25.x86_64 requires libhttp_parser_strict.so.2()(64bit), but none of the providers can be installed.
package java-1.8.0-openjdk-headless-1:1.8.0.121-1.b14.fc25.x86_64 requires javapackages-tools, but none of the providers can be installed.
package webkitgtk4-plugin-process-gtk2-2.14.3-1.fc25.x86_64 requires libicuuc.so.57()(64bit), but none of the providers can be installed.
package libvirt-daemon-driver-storage-2.2.0-2.fc25.x86_64 requires nfs-utils, but none of the providers can be installed.
package deja-dup-34.3-1.fc25.x86_64 requires python-gobject-base, but none of the providers can be installed.
package gnome-shell-3.22.2-2.fc25.x86_64 requires switcheroo-control, but none of the providers can be installed.
package javapackages-tools-4.7.0-6.1.fc25.noarch requires python3-javapackages = 4.7.0-6.1.fc25, but none of the providers can be installed
(try to add &apos;--allowerasing&apos; to command line to replace conflicting packages)



But sticking with getting mesa from the updates-testing repo isn&apos;t working either:

$ sudo dnf update --refresh
google-chrome                                                             31 kB/s | 3.7 kB     00:00    
Fedora 25 openh264 (From Cisco) - x86_64                                  16 kB/s | 3.0 kB     00:00    
SpiderOakONE Stable Distribution                                          32 kB/s | 4.2 kB     00:00    
Dependencies resolved.
=========================================================================================================
 Package                             Arch             Version                    Repository         Size
=========================================================================================================
Upgrading:
 mesa-dri-drivers                    i686             13.0.3-5.fc25              updates            12 M
 mesa-dri-drivers                    x86_64           13.0.3-5.fc25              updates            11 M
 mesa-filesystem                     i686             13.0.3-5.fc25              updates            24 k
 mesa-filesystem                     x86_64           13.0.3-5.fc25              updates            24 k
 mesa-libEGL                         i686             13.0.3-5.fc25              updates           102 k
 mesa-libEGL                         x86_64           13.0.3-5.fc25              updates           101 k
 mesa-libEGL-devel                   x86_64           13.0.3-5.fc25              updates            39 k
 mesa-libGL                          i686             13.0.3-5.fc25              updates           179 k
 mesa-libGL                          x86_64           13.0.3-5.fc25              updates           163 k
 mesa-libGL-devel                    x86_64           13.0.3-5.fc25              updates           162 k
 mesa-libGLES                        x86_64           13.0.3-5.fc25              updates            33 k
 mesa-libGLES-devel                  x86_64           13.0.3-5.fc25              updates            62 k
 mesa-libgbm                         i686             13.0.3-5.fc25              updates            43 k
 mesa-libgbm                         x86_64           13.0.3-5.fc25              updates            42 k
 mesa-libglapi                       i686             13.0.3-5.fc25              updates            59 k
 mesa-libglapi                       x86_64           13.0.3-5.fc25              updates            49 k
 mesa-libwayland-egl                 x86_64           13.0.3-5.fc25              updates            25 k
 mesa-libwayland-egl-devel           x86_64           13.0.3-5.fc25              updates            22 k
 mesa-libxatracker                   x86_64           13.0.3-5.fc25              updates           1.4 M
 nfs-utils                           x86_64           1:2.1.1-1.fc25             updates           393 k

Transaction Summary
=========================================================================================================
Upgrade  20 Packages

Total download size: 26 M
Is this ok [y/N]: y
Downloading Packages:
(1/20): mesa-libEGL-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm              107 kB/s |  37 kB     00:00    
(2/20): mesa-libEGL-13.0.3-4.fc25_13.0.3-5.fc25.i686.drpm                240 kB/s |  35 kB     00:00    
[DRPM] mesa-libEGL-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm: done                                        
(3/20): mesa-dri-drivers-13.0.3-4.fc25_13.0.3-5.fc25.i686.drpm           943 kB/s | 603 kB     00:00    
[DRPM] mesa-libEGL-13.0.3-4.fc25_13.0.3-5.fc25.i686.drpm: done                                          
(4/20): mesa-libGL-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm               364 kB/s |  63 kB     00:00    
(5/20): mesa-dri-drivers-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm         920 kB/s | 652 kB     00:00    
(6/20): mesa-libglapi-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm            169 kB/s |  20 kB     00:00    
(7/20): mesa-libGL-devel-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm         164 kB/s |  21 kB     00:00    
[DRPM] mesa-libGL-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm: done                                         
[DRPM] mesa-libglapi-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm: done                                      
(8/20): mesa-libGL-13.0.3-4.fc25_13.0.3-5.fc25.i686.drpm                 567 kB/s |  63 kB     00:00    
(9/20): mesa-libglapi-13.0.3-4.fc25_13.0.3-5.fc25.i686.drpm              162 kB/s |  20 kB     00:00    
(10/20): mesa-libGLES-devel-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm      159 kB/s |  21 kB     00:00    
(11/20): mesa-libgbm-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm             157 kB/s |  20 kB     00:00    
(12/20): mesa-libgbm-13.0.3-4.fc25_13.0.3-5.fc25.i686.drpm               167 kB/s |  20 kB     00:00    
[DRPM] mesa-libGL-devel-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm: done                                   
[DRPM] mesa-libGL-13.0.3-4.fc25_13.0.3-5.fc25.i686.drpm: done                                           
(13/20): mesa-libxatracker-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm       173 kB/s |  20 kB     00:00    
[DRPM] mesa-libglapi-13.0.3-4.fc25_13.0.3-5.fc25.i686.drpm: done                                        
(14/20): mesa-filesystem-13.0.3-5.fc25.x86_64.rpm                        192 kB/s |  24 kB     00:00    
(15/20): mesa-filesystem-13.0.3-5.fc25.i686.rpm                          238 kB/s |  24 kB     00:00    
(16/20): mesa-libEGL-devel-13.0.3-5.fc25.x86_64.rpm                      311 kB/s |  39 kB     00:00    
(17/20): mesa-libGLES-13.0.3-5.fc25.x86_64.rpm                           232 kB/s |  33 kB     00:00    
(18/20): mesa-libwayland-egl-13.0.3-5.fc25.x86_64.rpm                    250 kB/s |  25 kB     00:00    
(19/20): mesa-libwayland-egl-devel-13.0.3-5.fc25.x86_64.rpm              159 kB/s |  22 kB     00:00    
(20/20): nfs-utils-2.1.1-1.fc25.x86_64.rpm                               2.3 MB/s | 393 kB     00:00    
[DRPM] mesa-libGLES-devel-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm: done                                 
[DRPM] mesa-libgbm-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm: done                                        
[DRPM] mesa-libgbm-13.0.3-4.fc25_13.0.3-5.fc25.i686.drpm: done                                          
[DRPM] mesa-libxatracker-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm: done                                  
[DRPM] mesa-dri-drivers-13.0.3-4.fc25_13.0.3-5.fc25.x86_64.drpm: done                                   
[DRPM] mesa-dri-drivers-13.0.3-4.fc25_13.0.3-5.fc25.i686.drpm: done                                     
---------------------------------------------------------------------------------------------------------
Total                                                                    211 kB/s | 2.1 MB     00:10     
Delta RPMs reduced 26.0 MB of updates to 2.1 MB (91.1% saved)
Running transaction check
Transaction check succeeded.
Running transaction test
The downloaded packages were saved in cache until the next successful transaction.
You can remove cached packages by executing &apos;dnf clean packages&apos;.
Error: Transaction check error:
  file /usr/lib64/libGL.so.1 from install of mesa-libGL-13.0.3-5.fc25.x86_64 conflicts with file from package libglvnd-glx-1:0.2.999-7.gitdc16f8c.fc25.x86_64
  file /usr/lib64/libGLESv2.so.2.0.0 from install of mesa-libGLES-13.0.3-5.fc25.x86_64 conflicts with file from package libglvnd-gles-1:0.2.999-7.gitdc16f8c.fc25.x86_64
  file /usr/lib64/libEGL.so.1.0.0 from install of mesa-libEGL-13.0.3-5.fc25.x86_64 conflicts with file from package libglvnd-egl-1:0.2.999-7.gitdc16f8c.fc25.x86_64
  file /usr/lib64/libGL.so from install of mesa-libGL-devel-13.0.3-5.fc25.x86_64 conflicts with file from package libglvnd-devel-1:0.2.999-7.gitdc16f8c.fc25.x86_64
  file /usr/lib/libGL.so.1 from install of mesa-libGL-13.0.3-5.fc25.i686 conflicts with file from package libglvnd-glx-1:0.2.999-7.gitdc16f8c.fc25.i686
  file /usr/lib/libEGL.so.1.0.0 from install of mesa-libEGL-13.0.3-5.fc25.i686 conflicts with file from package libglvnd-egl-1:0.2.999-7.gitdc16f8c.fc25.i686

Error Summary





This is a pretty sucky situation...</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10109525</commentid>
    <comment_count>32</comment_count>
    <who name="Nate Graham">pointedstick</who>
    <bug_when>2017-01-31 10:39:36 -0500</bug_when>
    <thetext>It&apos;s not just me, either: https://www.reddit.com/r/Fedora/comments/5r8t6w/mesa_conflicts_after_update_again/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10109881</commentid>
    <comment_count>33</comment_count>
    <who name="Michal Jaegermann">michal.jnn</who>
    <bug_when>2017-01-31 12:19:06 -0500</bug_when>
    <thetext>(In reply to Nate Graham from comment #31)
&gt; `dnf repository-packages updates-testing remove` isn&apos;t working for me:
&gt; 
&gt; $ sudo dnf repository-packages updates-testing remove
....
&gt; 
&gt; Error Summary .... (with file conflicts)

With &apos;updates-testing&apos; out of the way and mesa-3.0.3-5.fc25 packages already in &apos;update&apos; repositories (check before proceeding with &apos;dnf list available | grep mesa&apos;) the following should work:

  rpm -e -v --nodeps &apos;libglvnd*&apos;
  dnf update

If the above &apos;rpm&apos; command is not enough add &apos;--force&apos; to options.  You may want to follow with &apos;dnf distro-sync&apos; just to be sure that you do not have
any leftovers. You may possibly need to issue before doing all that, as root, &apos;telinit 3&apos;

This is not tested but I do not see how this would not work based on a similar knots I bumped into in the past while hacking with &apos;rawhide&apos;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10110123</commentid>
    <comment_count>34</comment_count>
    <who name="Gary Gatling">gsgatlin</who>
    <bug_when>2017-01-31 12:59:25 -0500</bug_when>
    <thetext>mesa-13.0.3-6.fc25 from &quot;updates-testing&quot; breaks bumblebee on my test machine.

https://paste.fedoraproject.org/541714/85132148/

I notice a undefined symbol: _glapi_tls_Current in the output.

Any clues on how I can get it working again?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10110300</commentid>
    <comment_count>35</comment_count>
    <who name="Kalev Lember">klember</who>
    <bug_when>2017-01-31 13:55:25 -0500</bug_when>
    <thetext>(In reply to Gary Gatling from comment #34)
&gt; mesa-13.0.3-6.fc25 from &quot;updates-testing&quot; breaks bumblebee on my test
&gt; machine.
&gt; 
&gt; https://paste.fedoraproject.org/541714/85132148/
&gt; 
&gt; I notice a undefined symbol: _glapi_tls_Current in the output.
&gt; 
&gt; Any clues on how I can get it working again?

Can you file a separate bug about this, please?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10110575</commentid>
    <comment_count>36</comment_count>
    <who name="Tomas Toth">ttomasz</who>
    <bug_when>2017-01-31 15:58:16 -0500</bug_when>
    <thetext>The following worked for me:
# dnf repository-packages updates-testing remove --allowerasing
Last metadata expiration check: 1:17:30 ago on Tue Jan 31 20:35:53 2017.
Dependencies resolved.
====================================================================================
 Package          Arch      Version			  Repository	       Size
====================================================================================
Upgrading:
 mesa-libEGL      x86_64    13.0.3-5.fc25		  updates	      101 k
 mesa-libGL       x86_64    13.0.3-5.fc25		  updates	      163 k
 mesa-libGLES     x86_64    13.0.3-5.fc25		  updates	       33 k
 mesa-libOSMesa   x86_64    13.0.3-5.fc25		  updates	      1.9 M
 mesa-libglapi    x86_64    13.0.3-5.fc25		  updates	       49 k
Removing:
 libglvnd         x86_64    1:0.2.999-7.gitdc16f8c.fc25   @updates-testing    649 k
 libglvnd-egl     x86_64    1:0.2.999-7.gitdc16f8c.fc25   @updates-testing     77 k
 libglvnd-gles    x86_64    1:0.2.999-7.gitdc16f8c.fc25   @updates-testing    101 k
 libglvnd-glx     x86_64    1:0.2.999-7.gitdc16f8c.fc25   @updates-testing    637 k

Transaction Summary
====================================================================================
Upgrade  5 Packages
Remove   4 Packages
 . . . .</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10110637</commentid>
    <comment_count>37</comment_count>
    <who name="Gary Gatling">gsgatlin</who>
    <bug_when>2017-01-31 16:24:15 -0500</bug_when>
    <thetext>(In reply to Kalev Lember from comment #35)
&gt; (In reply to Gary Gatling from comment #34)
&gt; &gt; mesa-13.0.3-6.fc25 from &quot;updates-testing&quot; breaks bumblebee on my test
&gt; &gt; machine.
&gt; &gt; 
&gt; &gt; https://paste.fedoraproject.org/541714/85132148/
&gt; &gt; 
&gt; &gt; I notice a undefined symbol: _glapi_tls_Current in the output.
&gt; &gt; 
&gt; &gt; Any clues on how I can get it working again?
&gt; 
&gt; Can you file a separate bug about this, please?

Sure. Thanks. opened https://bugzilla.redhat.com/show_bug.cgi?id=1418103</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10110926</commentid>
    <comment_count>38</comment_count>
    <who name="Paul DeStefano">paul.destefano-redhat</who>
    <bug_when>2017-01-31 18:26:48 -0500</bug_when>
    <thetext>@Kalev Lember, thank you!  I think that&apos;s an excellent response; much appreciated.  And thanks for the background details; I&apos;m interested in that stuff.  Many thanks.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
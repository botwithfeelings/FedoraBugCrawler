<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1416863</bug_id>
          
          <creation_ts>2017-01-26 11:01:00 -0500</creation_ts>
          <short_desc>sagemath package dependencies prevent update of git</short_desc>
          <delta_ts>2017-02-22 12:25:48 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>sagemath</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="N. Jackson">nljlistbox2</reporter>
          <assigned_to name="Paulo Andrade">paulo.cesar.pereira.de.andrade</assigned_to>
          <cc>lennart.jern</cc>
    
    
    <cc>paulo.cesar.pereira.de.andrade</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-02-22 12:25:48</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10099414</commentid>
    <comment_count>0</comment_count>
    <who name="N. Jackson">nljlistbox2</who>
    <bug_when>2017-01-26 11:01:37 -0500</bug_when>
    <thetext>Description of problem:

Since a few days ago the sagemath package is blocking package update of the git package. This seems to be due do conflicting version requirements for the perl package.

I think (but I don&apos;t know how to confirm [1]) that sagemath has a requirement for Perl 5.24.0 (which is what I have installed) and git has a dependency on Perl 5.24.1 which I can&apos;t update to because the dependency in the sagemath package is blocking the update.

By the way, Sage version 7.5.1 is available upstream. Is there anything that package users can do to help the package maintainer package new versions of Sage for Fedora?

[1] In the past I used repoquery from yum-utils to discover the dependencies of a package, but now that yum has been displaced by dnf there no longer seems to be an equivalent command -- there is no dnf-utils package.


Version-Release number of selected component (if applicable):

sagemath x86_64 7.3-7.fc25


How reproducible:

Consistently, since a few days ago.


Steps to Reproduce:

1. Run `dnf --refresh update&apos;.

Note: This assumes that the system was up-to-date as of about 2017-01-18, with the following packages installed: sagemath 7.3-7.fc25, perl 5.24.0-380.fc25, git 2.9.3-1.fc25.

Actual results:

dnf reports that it will skip updates of git and perl (and various git-* and perl-* packages) due to broken dependencies.


Expected results:

dnf does not report any broken dependencies, and successfully updates perl and git.


Additional info:

The output from `dnf --refresh update&apos; is:

  Dependencies resolved.
  ============================================================================
   Package                       Arch     Version             Repository
									 Size
  ============================================================================
  Skipping packages with broken dependencies:
   git                           x86_64   2.9.3-2.fc25        updates   1.0 M
   git-core                      x86_64   2.9.3-2.fc25        updates   3.6 M
   git-core-doc                  x86_64   2.9.3-2.fc25        updates   2.3 M
   perl                          x86_64   4:5.24.1-382.fc25   updates   6.0 M
   perl-Errno                    x86_64   1.25-382.fc25       updates    65 k
   perl-Git                      noarch   2.9.3-2.fc25        updates    64 k
   perl-IO                       x86_64   1.36-382.fc25       updates   131 k
   perl-IO-Zlib                  noarch   1:1.10-382.fc25     updates    70 k
   perl-Locale-Maketext-Simple   noarch   1:0.21-382.fc25     updates    68 k
   perl-Math-Complex             noarch   1.59-382.fc25       updates    98 k
   perl-Net-Ping                 noarch   2.43-382.fc25       updates    85 k
   perl-Pod-Html                 noarch   1.22.01-382.fc25    updates    77 k
   perl-SelfLoader               noarch   1.23-382.fc25       updates    73 k
   perl-devel                    x86_64   4:5.24.1-382.fc25   updates   573 k
   perl-libs                     x86_64   4:5.24.1-382.fc25   updates   1.5 M
   perl-macros                   x86_64   4:5.24.1-382.fc25   updates    62 k
   perl-open                     noarch   1.10-382.fc25       updates    67 k
   vim-X11                       x86_64   2:8.0.206-1.fc25    updates   1.4 M
   vim-common                    x86_64   2:8.0.206-1.fc25    updates   6.5 M
   vim-enhanced                  x86_64   2:8.0.206-1.fc25    updates   1.2 M


The output from `dnf --best --allowerasing update perl&apos; is:

  Last metadata expiration check: 0:01:23 ago on Thu Jan 26 10:48:22 2017.
  Dependencies resolved.
  ============================================================================
   Package                          Arch   Version             Repository
									 Size
  ============================================================================
  Upgrading:
   perl                             x86_64 4:5.24.1-382.fc25   updates  6.0 M
   perl-Errno                       x86_64 1.25-382.fc25       updates   65 k
   perl-devel                       x86_64 4:5.24.1-382.fc25   updates  573 k
   perl-libs                        x86_64 4:5.24.1-382.fc25   updates  1.5 M
  Removing:
   Singular                         x86_64 3.1.7-9.fc25        @fedora   24 M
   gap-pkg-polymaking               noarch 0.8.1-5.fc25        @fedora  702 k
   polymake                         x86_64 3.0r2-1.fc25        @fedora   74 M
   qepcad-B                         x86_64 1.69-12.fc24        @fedora  1.1 M
   sagemath                         x86_64 7.3-7.fc25          @updates 7.7 M
   sagemath-core                    x86_64 7.3-7.fc25          @updates 220 M
   sagemath-data                    noarch 7.3-7.fc25          @updates 164  
   sagemath-data-conway_polynomials noarch 7.3-7.fc25          @updates 300 k
   sagemath-data-elliptic_curves    noarch 7.3-7.fc25          @updates  10 M
   sagemath-data-etc                noarch 7.3-7.fc25          @updates 300 k
   sagemath-data-graphs             noarch 7.3-7.fc25          @updates 3.4 M
   sagemath-data-polytopes_db       noarch 7.3-7.fc25          @updates 281 k
   sagemath-notebook                x86_64 7.3-7.fc25          @updates 7.2 M
   sagemath-rubiks                  x86_64 7.3-7.fc25          @updates 331 k
   sagemath-sagetex                 x86_64 7.3-7.fc25          @updates 1.0 M


The output from `dnf --best --allowerasing update git&apos; is:

  Last metadata expiration check: 0:02:19 ago on Thu Jan 26 10:48:22 2017.
  Dependencies resolved.
  ============================================================================
   Package                          Arch   Version             Repository
									 Size
  ============================================================================
  Upgrading:
   git                              x86_64 2.9.3-2.fc25        updates  1.0 M
   git-core                         x86_64 2.9.3-2.fc25        updates  3.6 M
   git-core-doc                     x86_64 2.9.3-2.fc25        updates  2.3 M
   perl                             x86_64 4:5.24.1-382.fc25   updates  6.0 M
   perl-Errno                       x86_64 1.25-382.fc25       updates   65 k
   perl-Git                         noarch 2.9.3-2.fc25        updates   64 k
   perl-devel                       x86_64 4:5.24.1-382.fc25   updates  573 k
   perl-libs                        x86_64 4:5.24.1-382.fc25   updates  1.5 M
  Removing:
   Singular                         x86_64 3.1.7-9.fc25        @fedora   24 M
   gap-pkg-polymaking               noarch 0.8.1-5.fc25        @fedora  702 k
   polymake                         x86_64 3.0r2-1.fc25        @fedora   74 M
   qepcad-B                         x86_64 1.69-12.fc24        @fedora  1.1 M
   sagemath                         x86_64 7.3-7.fc25          @updates 7.7 M
   sagemath-core                    x86_64 7.3-7.fc25          @updates 220 M
   sagemath-data                    noarch 7.3-7.fc25          @updates 164  
   sagemath-data-conway_polynomials noarch 7.3-7.fc25          @updates 300 k
   sagemath-data-elliptic_curves    noarch 7.3-7.fc25          @updates  10 M
   sagemath-data-etc                noarch 7.3-7.fc25          @updates 300 k
   sagemath-data-graphs             noarch 7.3-7.fc25          @updates 3.4 M
   sagemath-data-polytopes_db       noarch 7.3-7.fc25          @updates 281 k
   sagemath-notebook                x86_64 7.3-7.fc25          @updates 7.2 M
   sagemath-rubiks                  x86_64 7.3-7.fc25          @updates 331 k
   sagemath-sagetex                 x86_64 7.3-7.fc25          @updates 1.0 M</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10110636</commentid>
    <comment_count>1</comment_count>
    <who name="N. Jackson">nljlistbox2</who>
    <bug_when>2017-01-31 16:22:48 -0500</bug_when>
    <thetext>[Caveat: The following information might not be exactly correct since I still haven&apos;t discovered how to determine package dependencies now that we have dnf instead of yum.]

It seems that the dependency chain is:

sagemath requires Singular (or course)
Singular requires polymake
polymake requires perl = 4:5.24.0

But the perl package is now at 5.24.1.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10165306</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-19 21:37:16 -0500</bug_when>
    <thetext>polymake-3.0r2-4.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-4fb3162cef</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10168651</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-20 16:22:24 -0500</bug_when>
    <thetext>polymake-3.0r2-4.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-4fb3162cef</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10172396</commentid>
    <comment_count>4</comment_count>
    <who name="N. Jackson">nljlistbox2</who>
    <bug_when>2017-02-21 15:39:54 -0500</bug_when>
    <thetext>Short version: I installed polymake from testing and now everything seems to be working normally again. Thank you.

Longer version:

Further to my OP, I uninstalled Sage (and Singular and polymake), so that I could update Perl and thence update git.

My attempts to (re-)install Sage since then (approximately daily over the last couple of weeks maybe), have all failed with the same problem (that is, the problem of polymake&apos;s dependency Perl 5.24.0).

Today I installed polymake from testing with:

  su -c &apos;dnf install polymake --enablerepo=updates-testing&apos;

This resulted in polymake being successfully installed from testing (along with Singular and mpfr-devel from the fedora repository).

I was then able to successfully (re-)install Sage.

Now I&apos;m back in business, and everything appears to be working normally.

When the new polymake moves from testing to fedora, I think this bug can be closed.

Thank you.

N.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10175510</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-22 12:25:48 -0500</bug_when>
    <thetext>polymake-3.0r2-4.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
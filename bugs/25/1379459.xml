<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1379459</bug_id>
          
          <creation_ts>2016-09-26 15:40:00 -0400</creation_ts>
          <short_desc>Fedora 25 official backgrounds not yet present in images / installed systems</short_desc>
          <delta_ts>2017-03-28 07:32:29 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>desktop-backgrounds</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>AcceptedFreezeException AcceptedBlocker</status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1277288</blocked>
    
    
    <blocked>1277289</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Adam Williamson">awilliam</reporter>
          <assigned_to name="Martin Sourada">martin.sourada</assigned_to>
          <cc>cschalle</cc>
    
    
    <cc>cwickert</cc>
    
    
    <cc>dennis</cc>
    
    
    <cc>kevin</cc>
    
    
    <cc>kevin</cc>
    
    
    <cc>kparal</cc>
    
    
    <cc>luya</cc>
    
    
    <cc>martin.sourada</cc>
    
    
    <cc>mclasen</cc>
    
    
    <cc>otaylor</cc>
    
    
    <cc>pschindl</cc>
    
    
    <cc>rdieter</cc>
    
    
    <cc>robatino</cc>
    
    
    <cc>sgallagh</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-10-20 09:14:01</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9743769</commentid>
    <comment_count>0</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-09-26 15:40:27 -0400</bug_when>
    <thetext>Current F25 images and installs are using the generic pre-release backgrounds, not the official F25 backgrounds. https://bodhi.fedoraproject.org/updates/f25-backgrounds-25.0.0-1.fc25%20desktop-backgrounds-25.0.0-1.fc25 provides the necessary packages, there may also be kickstart / comps changes needed, not sure. This bug should be a Final blocker, also nominating as Beta FE as Beta freeze is coming up.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9743788</commentid>
    <comment_count>1</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-09-26 15:48:41 -0400</bug_when>
    <thetext>looks like some non-blocking desktops specify f24-backgrounds subpackages in kickstarts and comps so we should fix those after the update goes stable, but blocking desktops should be OK with just the update, I think.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9745179</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-09-27 03:21:07 -0400</bug_when>
    <thetext>desktop-backgrounds-25.0.0-1.fc25, f25-backgrounds-25.0.0-1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-01b667a139</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9747437</commentid>
    <comment_count>3</comment_count>
    <who name="Stephen Gallagher">sgallagh</who>
    <bug_when>2016-09-27 11:14:15 -0400</bug_when>
    <thetext>Obvious +1 FE</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9748777</commentid>
    <comment_count>4</comment_count>
    <who name="Dennis Gilmore">dennis</who>
    <bug_when>2016-09-27 21:17:16 -0400</bug_when>
    <thetext>+1 FE</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9748793</commentid>
    <comment_count>5</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-09-27 21:29:21 -0400</bug_when>
    <thetext>That&apos;s +3, setting accepted.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9750021</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-09-28 09:09:33 -0400</bug_when>
    <thetext>desktop-backgrounds-25.0.0-1.fc25, f25-backgrounds-25.0.0-1.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9751214</commentid>
    <comment_count>7</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-09-28 15:42:09 -0400</bug_when>
    <thetext>I didn&apos;t set the update to close the bug, just so we can check if all the blocking images are actually OK now, or if we still need any further changes. We need to check at least the x86_64 KDE and Workstation lives, and the ARM Xfce image. Note that Fedora-25-20160928.n.0 did not include the update, it just missed making it into that compose.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9762212</commentid>
    <comment_count>8</comment_count>
    <who name="Petr Schindler">pschindl</who>
    <bug_when>2016-10-03 13:14:57 -0400</bug_when>
    <thetext>Discussed at 2016-10-03 blocker review meeting: [1]. 

This bug was accepted as Final blocker: This bug violates &quot;The proposed final Fedora artwork must be included and used as the background on release-blocking desktops. All Fedora artwork visible in critical path actions on release-blocking desktops must be consistent with the proposed final theme.&quot;

[1] https://meetbot-raw.fedoraproject.org/fedora-blocker-review/2016-10-03/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9762822</commentid>
    <comment_count>9</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-10-03 17:53:57 -0400</bug_when>
    <thetext>It seems like not everything is done here, yet. The official F25 background is used in SDDM:

https://openqa.fedoraproject.org/tests/38253#step/_graphical_wait_login/5

but not as the actual KDE background:

https://openqa.fedoraproject.org/tests/38253#step/_graphical_wait_login/6

and isn&apos;t used by Workstation at all, AFAICS:

https://openqa.fedoraproject.org/tests/38237#step/_graphical_wait_login/12

KDE and Workstation folks, what do we still need in order for those desktops to actually use the correct backgrounds?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9762843</commentid>
    <comment_count>10</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-10-03 18:11:32 -0400</bug_when>
    <thetext>Ah. So, I know the problem for GNOME:

* Wed Apr 27 2016 Owen Taylor &lt;otaylor@redhat.com&gt; - 3.20.1-2 - Remove dependency on system-backgrounds-gnome; this made sense when gnome-desktop contained the GConf schemas, but now the background settings live in gsettings-desktop-schemas and are overridden to point to a Fedora background with a file we drop in from desktop-backgrounds-gnome.

since that change, there has been nothing pulling desktop-backgrounds-gnome into the Workstation spin at all. It only has gnome-backgrounds , which is an upstream package. There is no desktop-backgrounds-(anything) or f25-backgrounds-(anything) on the current F25 Workstation nightlies at all.

The simplest fix for that would be to add desktop-backgrounds-gnome to the &apos;gnome-desktop&apos; or &apos;workstation-product&apos; group in comps, I guess.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9762849</commentid>
    <comment_count>11</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-10-03 18:15:37 -0400</bug_when>
    <thetext>sorry, I didn&apos;t mention, that changelog entry is from gnome-desktop3. Prior to that change, gnome-desktop3 pulled in desktop-backgrounds-gnome , which is why it&apos;s on the F24 (and earlier) images. Now nothing does, and it isn&apos;t on current F25 or Rawhide nightlies.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9762861</commentid>
    <comment_count>12</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-10-03 18:28:34 -0400</bug_when>
    <thetext>For KDE, rdieter says:

&lt;rdieter&gt; adamw: we need to make a corresponding f25-kde-theme yet
&lt;rdieter&gt; usually takes a bit after the usual backgrounds land
&lt;rdieter&gt; and yay, latest plasma release seems to have broke/changed how that works (default backgrounds)
&lt;adamw&gt; well, i don&apos;t understand why there needs to be an f25-kde-theme
&lt;adamw&gt; isn&apos;t it possible to have an unversioned one, though, which would point to a location that&apos;d be fulfilled by desktop-backgrounds-kde somehow?
&lt;rdieter&gt; adamw: &lt;nod&gt;, I&apos;ll see if I can come up with something a bit more futureproof this time around</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9762862</commentid>
    <comment_count>13</comment_count>
    <who name="Rex Dieter">rdieter</who>
    <bug_when>2016-10-03 18:30:03 -0400</bug_when>
    <thetext>As far as kde goes, we still need to make a custom plasma theme to use the new f25 backgrounds (similar to f24-kde-theme).  

For posterity, would be nice if we had more time (only had a week between backgrounds landing and beta release). :(  We have some ideas on how to make this more future proof so that fXX-backgrounds can &quot;just work&quot; on kde spin without any extra fuss.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9762874</commentid>
    <comment_count>14</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-10-03 18:38:03 -0400</bug_when>
    <thetext>for the record, the way it works on GNOME is that desktop-backgrounds-gnome ships a gsettings schema override (actually two, one for background, one for lock screen) which points the settings key org.gnome.desktop.background.picture-uri to the appropriate background definition from fXX-backgrounds-base (currently, they point to /usr/share/backgrounds/f25/default/f25.xml ). So when a new release comes we have to create the fXX-backgrounds package , and update desktop-backgrounds-gnome&apos;s overrides to point to those; but there is no release-specific package besides fXX-backgrounds , and no comps or spin-kickstarts changes are needed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9766424</commentid>
    <comment_count>15</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-10-04 19:46:07 -0400</bug_when>
    <thetext>https://pagure.io/fedora-comps/pull-request/56 should hopefully fix this for Workstation in Beta. KDE still won&apos;t have the right background, the theme package isn&apos;t ready yet.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9775559</commentid>
    <comment_count>16</comment_count>
    <who name="Rex Dieter">rdieter</who>
    <bug_when>2016-10-08 20:12:04 -0400</bug_when>
    <thetext>kde-wise, f25-backgrounds-25.0.0-2 includes steps to make this more sustainable in the future.  the -kde subpkg now includes both wallpaper and plasma desktoptheme.

Now all that&apos;s missing is a configuration change to use it by default.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9776367</commentid>
    <comment_count>17</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-10-09 08:29:06 -0400</bug_when>
    <thetext>f25-backgrounds-25.0.0-2.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-05472a7746</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9776602</commentid>
    <comment_count>18</comment_count>
    <who name="Luya Tshimbalanga">luya</who>
    <bug_when>2016-10-09 14:26:37 -0400</bug_when>
    <thetext>(In reply to Rex Dieter from comment #16)
&gt; kde-wise, f25-backgrounds-25.0.0-2 includes steps to make this more
&gt; sustainable in the future.  the -kde subpkg now includes both wallpaper and
&gt; plasma desktoptheme.
&gt; 
&gt; Now all that&apos;s missing is a configuration change to use it by default.

New kde schema will be implemented for supplemental wallpapers as well.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9776656</commentid>
    <comment_count>19</comment_count>
    <who name="Rex Dieter">rdieter</who>
    <bug_when>2016-10-09 15:39:29 -0400</bug_when>
    <thetext>The plasma desktoptheme&apos;s primary purpose is to provide a way to use a wallpaper by default.  Given that, adding desktoptheme&apos;s for supplemental wallpapers is probably not needed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9776968</commentid>
    <comment_count>20</comment_count>
    <who name="Luya Tshimbalanga">luya</who>
    <bug_when>2016-10-09 22:16:41 -0400</bug_when>
    <thetext>(In reply to Rex Dieter from comment #19)
&gt; The plasma desktoptheme&apos;s primary purpose is to provide a way to use a
&gt; wallpaper by default.  Given that, adding desktoptheme&apos;s for supplemental
&gt; wallpapers is probably not needed.

Noted. Once supplemental wallpapers are available you can test them.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9780272</commentid>
    <comment_count>21</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-10-11 00:57:01 -0400</bug_when>
    <thetext>f25-backgrounds-25.0.0-2.fc25, kde-settings-25-2.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-05472a7746</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9781714</commentid>
    <comment_count>22</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-10-11 11:42:06 -0400</bug_when>
    <thetext>f25-backgrounds-25.0.0-2.fc25, kde-settings-25-2.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9808201</commentid>
    <comment_count>23</comment_count>
    <who name="Kamil Páral">kparal</who>
    <bug_when>2016-10-20 09:14:01 -0400</bug_when>
    <thetext>I booted Fedora-Workstation-Live-x86_64-25-20161019.n.0.iso and Fedora-KDE-Live-x86_64-25-20160919.n.0.iso and both contain the new wallpaper. Closing.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10281877</commentid>
    <comment_count>24</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2017-03-28 01:24:28 -0400</bug_when>
    <thetext>Well, your new system didn&apos;t work perfectly, Rex. F26 Alpha RC3 still shows the F25 background when logged into KDE.

I notice kde-settings-plasma has a specific requirement for f25-backgrounds-kde, which no-one knew to bump. I&apos;m bumping that now. I *think* this should solve the problem.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10281982</commentid>
    <comment_count>25</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2017-03-28 02:22:53 -0400</bug_when>
    <thetext>Also, the usr/share/kde-settings/kde-profile/default/xdg/plasmarc file in kde-settings has to be changed to get the correct background to appear. All this is stuff someone has to know to do every cycle. See also https://bugzilla.redhat.com/show_bug.cgi?id=1435423 , I&apos;m going to document this stuff there.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10282850</commentid>
    <comment_count>26</comment_count>
    <who name="Rex Dieter">rdieter</who>
    <bug_when>2017-03-28 07:32:29 -0400</bug_when>
    <thetext>Sure, the prior changes were only an incremental improvement, not a complete solution (yet).  Sorry if I&apos;d suggested otherwise.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
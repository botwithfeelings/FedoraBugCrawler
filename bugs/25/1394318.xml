<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1394318</bug_id>
          
          <creation_ts>2016-11-11 12:13:00 -0500</creation_ts>
          <short_desc>Change in format of DN reporting in 3.5.6 breaks compatibility for libvirt</short_desc>
          <delta_ts>2016-12-09 17:29:47 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>gnutls</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Daniel Berrange">berrange</reporter>
          <assigned_to name="Nikos Mavrogiannopoulos">nmavrogi</assigned_to>
          <cc>nmavrogi</cc>
    
    
    <cc>tmraz</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>gnutls-3.5.7-1.fc25</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-12-09 17:29:47</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9884007</commentid>
    <comment_count>0</comment_count>
    <who name="Daniel Berrange">berrange</who>
    <bug_when>2016-11-11 12:13:20 -0500</bug_when>
    <thetext>Description of problem:
Previously the client cert DN would get reported as

    C=UK,CN=libvirt

and with new version we&apos;re getting back

    CN=libvirt,C=UK

This is causing a regression for libvirt. The libvirt server has ablity
to set a whitelist against the DN string, against which we do a regex
match.

eg the sysadmin may have defined a whitelist of

    C=UK,CN=libvirt-client-*

to allow all certs issed to libvirt clients.

This change in DN ordering by gnutls breaks any existing whitelists
our admins have setup, as well as breaking the libvirt test suite
which validates this.

Also reported at https://lists.gnupg.org/pipermail/gnutls-devel/2016-November/008224.html

Just filing this bug to track request that 3.5.6 not be pushed to Fedora 25 updates

Version-Release number of selected component (if applicable):
3.5.6-1.fc25</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9887070</commentid>
    <comment_count>1</comment_count>
    <who name="Nikos Mavrogiannopoulos">nmavrogi</who>
    <bug_when>2016-11-14 03:58:32 -0500</bug_when>
    <thetext>https://gitlab.com/gnutls/gnutls/merge_requests/140</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9967307</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-08 04:08:06 -0500</bug_when>
    <thetext>gnutls-3.5.7-1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2016-4b4b8f7e3d</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9969344</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-08 14:26:36 -0500</bug_when>
    <thetext>gnutls-3.5.7-1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-4b4b8f7e3d</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9973036</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-09 17:29:47 -0500</bug_when>
    <thetext>gnutls-3.5.7-1.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
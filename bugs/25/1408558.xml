<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1408558</bug_id>
          
          <creation_ts>2016-12-24 17:44:00 -0500</creation_ts>
          <short_desc>ssh config broken after f25 upgrade</short_desc>
          <delta_ts>2017-02-26 23:22:16 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>openssh</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Paul DeStefano">paul.destefano-redhat</reporter>
          <assigned_to name="Jakub Jelen">jjelen</assigned_to>
          <cc>jjelen</cc>
    
    
    <cc>mattias.ellert</cc>
    
    
    <cc>mgrepl</cc>
    
    
    <cc>paul.destefano-redhat</cc>
    
    
    <cc>plautrba</cc>
    
    
    <cc>tmraz</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>openssh-7.4p1-3.fc25</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-02-26 23:22:16</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          <external_bugs name="OpenSSH Project">2653</external_bugs>
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10019206</commentid>
    <comment_count>0</comment_count>
    <who name="Paul DeStefano">paul.destefano-redhat</who>
    <bug_when>2016-12-24 17:44:26 -0500</bug_when>
    <thetext>Description of problem:
Config is unusable after F25 upgrade

1) new pkg config references /etc/crypto-policies/back-ends/openssh.txt which does not exist, gives error, ssh broken:
/etc/ssh/ssh_config: terminating, 1 bad configuration options

2) When the aforementioned line is commented out, ssh gives same error.
/etc/ssh/ssh_config: terminating, 1 bad configuration options

Version-Release number of selected component (if applicable):
openssh-clients-7.3p1-7.fc25.x86_64

I&apos;ve deleting these config files and reinstalling with DNF, but that doesn&apos;t help, default configuration is broken.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10020591</commentid>
    <comment_count>1</comment_count>
    <who name="Jakub Jelen">jjelen</who>
    <bug_when>2016-12-26 10:33:42 -0500</bug_when>
    <thetext>I can&apos;t reproduce it with my install of Fedora 25. You will probably have different errors in the configuration. Not existing files are not errors while including in openssh configuration files.

Please, post the whole error you can see (ideally with -vvv switches to get even more verbosity) and post your configuration files (both system wide in /etc/ssh/ssh_config and per-user ~/.ssh/config).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10020702</commentid>
    <comment_count>2</comment_count>
    <who name="Paul DeStefano">paul.destefano-redhat</who>
    <bug_when>2016-12-26 14:22:30 -0500</bug_when>
    <thetext>Ah, -vvv helped.  Thanks much.  Sorry for the trouble.

with only one -v, it says:
...
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config.d/05-redhat.conf line 8: Applying options for *
/etc/ssh/ssh_config: terminating, 1 bad configuration options

But, my added file, which had lines known to work in ssh_config, didn&apos;t have correct context.  With -vvv I see:
...
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config.d/05-redhat.conf line 8: Applying options for *
debug3: /etc/ssh/ssh_config line 56: Including file /etc/ssh/ssh_config.d/10-local.conf depth 0
/etc/ssh/ssh_config: terminating, 1 bad configuration options

Very misleading in both cases since it says implicates the default config in first case and says it included the local file in the second case, but, in fact, it *failed* to include the file.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10020753</commentid>
    <comment_count>3</comment_count>
    <who name="Jakub Jelen">jjelen</who>
    <bug_when>2016-12-26 17:42:05 -0500</bug_when>
    <thetext>Oh ... bad permissions. I didn&apos;t test how does it behave and yes, it is confusing. I filled a bug upstream. Thank you for filling the bug and coming back with the problem.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10174900</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-22 10:09:49 -0500</bug_when>
    <thetext>openssh-7.4p1-3.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-95d95b8725</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10180267</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-23 18:20:57 -0500</bug_when>
    <thetext>openssh-7.4p1-3.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-95d95b8725</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10185149</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-26 23:22:16 -0500</bug_when>
    <thetext>openssh-7.4p1-3.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
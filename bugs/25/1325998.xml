<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1325998</bug_id>
          
          <creation_ts>2016-04-11 10:30:00 -0400</creation_ts>
          <short_desc>Cockpit is missing version-dependencies between subpackages</short_desc>
          <delta_ts>2017-04-05 03:21:39 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>cockpit</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Stephen Gallagher">sgallagh</reporter>
          <assigned_to name="Dominik Perpeet">dperpeet</assigned_to>
          <cc>dperpeet</cc>
    
    
    <cc>stefw</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-04-05 03:21:39</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9226016</commentid>
    <comment_count>0</comment_count>
    <who name="Stephen Gallagher">sgallagh</who>
    <bug_when>2016-04-11 10:30:00 -0400</bug_when>
    <thetext>Description of problem:
This morning, I installed a Fedora 24 Server on bare metal, then decided to add several additional cockpit packages. The bare-metal install used the stable repository (containing Cockpit 0.99) and the dnf install also had the unstable repo available (this would also apply later to the frozen install repo and the updates repo). I ended up with a mixture of cockpit sub-packages with different versions.

Version-Release number of selected component (if applicable):
cockpit-sosreport-0.101-1.fc24.noarch
cockpit-bridge-0.99-1.fc24.x86_64
cockpit-selinux-0.101-1.fc24.noarch
cockpit-storaged-0.99-1.fc24.noarch
cockpit-shell-0.99-1.fc24.noarch
cockpit-ws-0.99-1.fc24.x86_64
cockpit-0.99-1.fc24.x86_64
cockpit-networkmanager-0.99-1.fc24.noarch
cockpit-docker-0.101-1.fc24.x86_64


How reproducible:


Steps to Reproduce:
1. See description

Actual results:
Various subpackages have mismatched versions and may not function properly together.

Expected results:
When installing a new subpackage that has a higher version, the existing packages should be updated to match.

Additional info:
This probably means playing around with `Conflicts: cockpit-foo != %{version}-%{release}` and `Requires: cockpit-bar = %{version}-%{release}` in each of the subpackages, so it will force the dependency resolver to look for a version of that other package that fits.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9239501</commentid>
    <comment_count>1</comment_count>
    <who name="Dominik Perpeet">dperpeet</who>
    <bug_when>2016-04-15 04:56:21 -0400</bug_when>
    <thetext>Thanks for catching this, Stephen.

Since the API isn&apos;t yet stable, most packages should indeed ensure that others are of the same version. Some, cockpit-ws comes to mind, are sufficiently stable that different versions shouldn&apos;t be an issue.

We&apos;ll look into this and update the dependencies!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9240246</commentid>
    <comment_count>2</comment_count>
    <who name="Stephen Gallagher">sgallagh</who>
    <bug_when>2016-04-15 09:03:24 -0400</bug_when>
    <thetext>(In reply to Dominik Perpeet from comment #1)
&gt; Thanks for catching this, Stephen.
&gt; 
&gt; Since the API isn&apos;t yet stable, most packages should indeed ensure that
&gt; others are of the same version. Some, cockpit-ws comes to mind, are
&gt; sufficiently stable that different versions shouldn&apos;t be an issue.
&gt; 
&gt; We&apos;ll look into this and update the dependencies!

Even if they are *compatible*, it&apos;s certainly in our users&apos; best interests if they still maintain the same versions anyway. It would be very confusing (and perhaps concerning) if only some pieces of the cockpit service were on the latest bits.

See https://fedoraproject.org/wiki/Packaging:Guidelines?rd=Packaging/Guidelines#Requiring_Base_Package</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9735188</commentid>
    <comment_count>3</comment_count>
    <who name="Stephen Gallagher">sgallagh</who>
    <bug_when>2016-09-22 14:11:22 -0400</bug_when>
    <thetext>*bump*

Just going through old tickets; did this ever get fixed?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9739224</commentid>
    <comment_count>4</comment_count>
    <who name="Stef Walter">stefw</who>
    <bug_when>2016-09-23 15:40:57 -0400</bug_when>
    <thetext>I think so. Dominik could confirm.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10305670</commentid>
    <comment_count>5</comment_count>
    <who name="Dominik Perpeet">dperpeet</who>
    <bug_when>2017-04-05 03:21:39 -0400</bug_when>
    <thetext>This got fixed a while ago, but recently we clarified the dependencies a bit further.
It&apos;s still possible and viable to have different versions of packages, but they are properly marked to &quot;require&quot; their actual dependencies (e.g. cockpit-selinux requires a bridge &gt;= 122). The package cockpit-ws isn&apos;t tied to a specific bridge, but that&apos;s because it can also be shipped in a container and can work without a bridge.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
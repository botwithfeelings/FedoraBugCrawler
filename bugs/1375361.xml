<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1" urlbase="https://bugzilla.redhat.com/" maintainer="bugzilla-error-list@redhat.com">

  <bug>
    <bug_id>1375361</bug_id>

    <creation_ts>2016-09-12 16:38:00 -0400</creation_ts>
    <short_desc>Set enginesdir in libcrypto.pc</short_desc>
    <delta_ts>2017-02-06 05:37:44 -0500</delta_ts>
    <reporter_accessible>1</reporter_accessible>
    <cclist_accessible>1</cclist_accessible>
    <classification_id>2</classification_id>
    <classification>Fedora</classification>
    <product>Fedora</product>
    <component>openssl</component>
    <version>24</version>
    <rep_platform>Unspecified</rep_platform>
    <op_sys>Unspecified</op_sys>
    <bug_status>CLOSED</bug_status>
    <resolution>CURRENTRELEASE</resolution>

    <bug_file_loc></bug_file_loc>
    <status_whiteboard></status_whiteboard>
    <keywords></keywords>
    <priority>unspecified</priority>
    <bug_severity>unspecified</bug_severity>
    <target_milestone>---</target_milestone>

    <everconfirmed>1</everconfirmed>
    <reporter name="David Woodhouse">dwmw2</reporter>
    <assigned_to name="Tomas Mraz">tmraz</assigned_to>
    <cc>tmraz</cc>
    <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>

    <cf_fixed_in></cf_fixed_in>
  <cf_doc_type>If docs needed, set a value</cf_doc_type>
<cf_release_notes></cf_release_notes>
<cf_story_points>---</cf_story_points>

<cf_environment></cf_environment>
<cf_last_closed>2017-02-06 05:37:44</cf_last_closed>
<cf_type>Bug</cf_type>
<cf_regression_status>---</cf_regression_status>
<cf_mount_type>---</cf_mount_type>
<cf_documentation_action>---</cf_documentation_action>
<cf_crm></cf_crm>
<cf_verified_branch></cf_verified_branch>
<cf_category>---</cf_category>
<cf_ovirt_team>---</cf_ovirt_team>

<cf_cloudforms_team>---</cf_cloudforms_team>

<target_release>---</target_release>

<votes>0</votes>

<comment_sort_order>oldest_to_newest</comment_sort_order>
<long_desc isprivate="0">
<commentid>9700517</commentid>
<comment_count>0</comment_count>
<who name="David Woodhouse">dwmw2</who>
<bug_when>2016-09-12 16:38:59 -0400</bug_when>
<thetext>From the next OpenSSL 1.0.2 and 1.1.0 release, libcrypto.pc will provide an &apos;enginesdir&apos; variable. Please make sure when we override enginesdir, we fix that too. In fact we can fix things to provide enginesdir even before we update...</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9740398</commentid>
<comment_count>1</comment_count>
<who name="David Woodhouse">dwmw2</who>
<bug_when>2016-09-24 14:26:30 -0400</bug_when>
<thetext>This happened in 1.0.2i and it looks like openssl-1.0.2i-1.fc24 isn&apos;t fixed. $ pkg-config --variable enginesdir libcrypto /usr/lib64/engines</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9740420</commentid>
<comment_count>2</comment_count>
<who name="David Woodhouse">dwmw2</who>
<bug_when>2016-09-24 15:45:02 -0400</bug_when>
<thetext>I have pushed to git, but not built, a 1.0.2i-2 version for f23, f24, f25, master.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9741804</commentid>
<comment_count>3</comment_count>
<who name="Tomas Mraz">tmraz</who>
<bug_when>2016-09-26 04:27:25 -0400</bug_when>
<thetext>I think we should get the security update out and I&apos;ll make another update with this fix.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9741816</commentid>
<comment_count>4</comment_count>
<who name="Tomas Mraz">tmraz</who>
<bug_when>2016-09-26 04:31:29 -0400</bug_when>
<thetext>Or not. Let&apos;s do it at once.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9742069</commentid>
<comment_count>5</comment_count>
<who name="David Woodhouse">dwmw2</who>
<bug_when>2016-09-26 05:46:04 -0400</bug_when>
<thetext>The latter was my intention when I preemptively filed the bug as soon as it landed in OpenSSL git :) The point in having enginesdir in libcrypto.pc is that stuff can just trust it instead of having horrible distribution-specific hacks to
find the right place. I would be very sad if we ever shipped, even briefly, an update where it was present, but wrong. We really do need to *remove* it, or fix it. Preferably the latter. I probably should have added a test case so that &apos;make
check&apos; fails if you forgot :)</thetext>
</long_desc>

</bug>

</bugzilla>

<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1322626</bug_id>
          
          <creation_ts>2016-03-30 18:42:00 -0400</creation_ts>
          <short_desc>[XINPUT2] Cannot type into any window other than most recently opened window in firefox using twm</short_desc>
          <delta_ts>2016-05-07 11:49:30 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>firefox</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>Reopened</keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Bryan Ischo">bryanischo</reporter>
          <assigned_to name="Martin Stransky">stransky</assigned_to>
          <cc>gecko-bugs-nobody</cc>
    
    
    <cc>jhorak</cc>
    
    
    <cc>pjasicek</cc>
    
    
    <cc>stransky</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>firefox-46.0-5.fc23 firefox-46.0.1-1.fc23 firefox-46.0.1-1.fc24 firefox-46.0-5.fc24 firefox-46.0.1-1.fc22</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-05-05 10:54:10</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9193407</commentid>
    <comment_count>0</comment_count>
    <who name="Bryan Ischo">bryanischo</who>
    <bug_when>2016-03-30 18:42:12 -0400</bug_when>
    <thetext>Description of problem:

When I create a new window in Firefox, it is the only window which will take keyboard input.  Switching to other (previously opened windows) allows normal mouse interaction, but all keyboard events always go to the most-recently-opened window.  I also noticed that trying to open the preferences page in any window other than the most recently opened window opens that page in the most recently opened window.

Version-Release number of selected component (if applicable):

Fedora 24.  firefox-45.0.1-2.fc24.x86_64

How reproducible:

100%


Steps to Reproduce:
1. Start firefox while using TWM window manager.
2. Open a second window.
3. Try to type into a text box in the first window.  You cannot.

Actual results:

All keyboard input always goes to the most recently opened window regardless of which window currently has focus.

Expected results:

The window with focus will receive keyboard input.

Additional info:

I have also reported this on the firefox bugzilla when I at first thought it was a firefox flaw.  However, I tried &apos;stock&apos; versions of firefox provided by mozilla.org and they all worked fine, including the 45.0.1 version matching the version used by Fedora 24.  I conclude that this bug is introduced by some patch that Fedora is applying when building firefox.

Link to that bug:

https://bugzilla.mozilla.org/show_bug.cgi?id=1260902</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9194389</commentid>
    <comment_count>1</comment_count>
    <who name="Martin Stransky">stransky</who>
    <bug_when>2016-03-31 03:14:28 -0400</bug_when>
    <thetext>Thanks, I&apos;ll try to reproduce it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9207763</commentid>
    <comment_count>2</comment_count>
    <who name="Martin Stransky">stransky</who>
    <bug_when>2016-04-05 06:59:11 -0400</bug_when>
    <thetext>The TWM is actually a great reproducer for the XINPUT2 issue, which is disabled by upstream Firefox.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9207786</commentid>
    <comment_count>3</comment_count>
    <who name="Martin Stransky">stransky</who>
    <bug_when>2016-04-05 07:04:49 -0400</bug_when>
    <thetext>As a workaround you can remove &quot;export MOZ_USE_XINPUT2=1&quot; from /usr/bin/firefox.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9276614</commentid>
    <comment_count>4</comment_count>
    <who name="Martin Stransky">stransky</who>
    <bug_when>2016-04-28 08:50:57 -0400</bug_when>
    <thetext>Fix is added to firefox-46.0-5</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9277432</commentid>
    <comment_count>5</comment_count>
    <who name="Bryan Ischo">bryanischo</who>
    <bug_when>2016-04-28 12:22:03 -0400</bug_when>
    <thetext>(In reply to Martin Stransky from comment #3)
&gt; As a workaround you can remove &quot;export MOZ_USE_XINPUT2=1&quot; from
&gt; /usr/bin/firefox.

I can confirm that this workaround does work to fix the problem.

Thank you very much!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9279007</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-29 02:31:58 -0400</bug_when>
    <thetext>firefox-46.0-5.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-0a40ae993e</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9279008</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-29 02:32:03 -0400</bug_when>
    <thetext>firefox-46.0-5.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-e4c126ab13</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9279009</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-29 02:32:07 -0400</bug_when>
    <thetext>firefox-46.0-5.fc22 has been submitted as an update to Fedora 22. https://bodhi.fedoraproject.org/updates/FEDORA-2016-ad6926a3c8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9280750</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-29 13:21:47 -0400</bug_when>
    <thetext>firefox-46.0-5.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-e4c126ab13</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9281534</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-29 22:23:00 -0400</bug_when>
    <thetext>firefox-46.0-5.fc22 has been pushed to the Fedora 22 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-ad6926a3c8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9281543</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-29 22:23:39 -0400</bug_when>
    <thetext>firefox-46.0-5.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-0a40ae993e</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9282106</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-30 19:52:37 -0400</bug_when>
    <thetext>firefox-46.0-5.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9290902</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-04 04:42:07 -0400</bug_when>
    <thetext>firefox-46.0.1-1.fc22 has been submitted as an update to Fedora 22. https://bodhi.fedoraproject.org/updates/FEDORA-2016-e2acbd739f</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9290903</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-04 04:42:11 -0400</bug_when>
    <thetext>firefox-46.0.1-1.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-25843fda6b</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9290904</commentid>
    <comment_count>15</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-04 04:42:16 -0400</bug_when>
    <thetext>firefox-46.0.1-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-b732d126f9</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9292200</commentid>
    <comment_count>16</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-04 10:28:58 -0400</bug_when>
    <thetext>firefox-46.0.1-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-b732d126f9</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9293206</commentid>
    <comment_count>17</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-04 15:51:42 -0400</bug_when>
    <thetext>firefox-46.0.1-1.fc22 has been pushed to the Fedora 22 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-e2acbd739f</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9293214</commentid>
    <comment_count>18</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-04 15:52:39 -0400</bug_when>
    <thetext>firefox-46.0.1-1.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-25843fda6b</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9296020</commentid>
    <comment_count>19</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-05 10:54:08 -0400</bug_when>
    <thetext>firefox-46.0.1-1.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9301186</commentid>
    <comment_count>20</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-07 07:38:24 -0400</bug_when>
    <thetext>firefox-46.0.1-1.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9301264</commentid>
    <comment_count>21</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-07 07:46:08 -0400</bug_when>
    <thetext>firefox-46.0-5.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9301675</commentid>
    <comment_count>22</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-07 11:49:27 -0400</bug_when>
    <thetext>firefox-46.0.1-1.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
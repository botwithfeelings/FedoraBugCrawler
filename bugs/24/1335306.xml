<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1335306</bug_id>
          
          <creation_ts>2016-05-11 16:45:00 -0400</creation_ts>
          <short_desc>`dnf install langpacks-da` doesn&apos;t install glibc-langpack-da</short_desc>
          <delta_ts>2017-05-09 00:05:45 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>langpacks</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Christian Stadelmann">rhbz2</reporter>
          <assigned_to name="Parag Nemade">pnemade</assigned_to>
          <cc>arjun.is</cc>
    
    
    <cc>codonell</cc>
    
    
    <cc>dj</cc>
    
    
    <cc>fweimer</cc>
    
    
    <cc>jakub</cc>
    
    
    <cc>law</cc>
    
    
    <cc>mfabian</cc>
    
    
    <cc>pfrankli</cc>
    
    
    <cc>pnemade</cc>
    
    
    <cc>rhbz2</cc>
    
    
    <cc>robatino</cc>
    
    
    <cc>sid</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-05-09 00:05:45</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9318263</commentid>
    <comment_count>0</comment_count>
    <who name="Christian Stadelmann">rhbz2</who>
    <bug_when>2016-05-11 16:45:35 -0400</bug_when>
    <thetext>Description of problem:
glibc-langpacks are not installed in the same way as other language packs are.

Version-Release number of selected component (if applicable):
dnf-1.1.8-1.fc24.noarch
glibc-2.23.1-6.fc24.x86_64
rpm-4.13.0-0.rc1.27.fc24.x86_64
dnf-langpacks-0.15.1-4.fc24.noarch

How reproducible:
on Fedora 24 fully updated (updates-testing) installation,
on Fedora 24 Alpha build 7 live workstation instance

Steps to Reproduce:
1. run `dnf langinstall da` or `dnf langinstall xx` with any glibc locale `xx` you don&apos;t have installed yet
2. check output before confirming

Actual results:
Many langpacks get installed, including eclipse, kde, libreoffice, hypen, hunspell; but the glibc-langpack-da doesn&apos;t get installed.

Expected results:
glibc-langpack-da (or any other locale) must get installed

Additional info:
Other langpacks work fine so I guess this is an issue in the glibc spec file. I might be wrong here though.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9318273</commentid>
    <comment_count>1</comment_count>
    <who name="Fedora Blocker Bugs Application">blockerbugs</who>
    <bug_when>2016-05-11 16:49:04 -0400</bug_when>
    <thetext>Proposed as a Blocker and Freeze Exception for 24-final by Fedora user genodeftest using the blocker tracking app because:

 This bug violates section &quot;Critical path translations&quot; [1] of the Fedora 24 Final Release Criteria. Since nobody else complained about this yet it seems that this issue doesn&apos;t affect installation by dracut but only changes to already installed system when using the dnf langpacks plugin.

[1] https://fedoraproject.org/wiki/Fedora_24_Final_Release_Criteria#Critical_path_translations</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9319433</commentid>
    <comment_count>2</comment_count>
    <who name="Mike FABIAN">mfabian</who>
    <bug_when>2016-05-12 02:21:30 -0400</bug_when>
    <thetext>When using &quot;dnf install langpacks-xx&quot;, everything works fine.
(To delete packages, use &quot;dnf remove langpacks-xx&quot;)

&quot;dnf langinstall xx&quot; is deprecated.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9319434</commentid>
    <comment_count>3</comment_count>
    <who name="Mike FABIAN">mfabian</who>
    <bug_when>2016-05-12 02:22:19 -0400</bug_when>
    <thetext>[mfabian@Fedora-Workstation-netinst-x86_6 ~]$ sudo dnf install langpacks-da
Last metadata expiration check: 0:09:38 ago on Thu May 12 08:12:18 2016.
Dependencies resolved.
================================================================================
 Package                   Arch     Version                      Repository
                                                                           Size
================================================================================
Installing:
 autocorr-da               noarch   1:5.1.3.2-2.fc24             fedora   176 k
 glibc-langpack-da         x86_64   2.23.1-5.fc24                fedora   251 k
 hyphen-da                 noarch   0.20070903-13.fc24           fedora    13 k
 kde-l10n-da               noarch   16.04.0-1.fc24               fedora    12 M
 langpacks-da              noarch   1.0-7.fc24                   fedora   8.2 k
 libreoffice-langpack-da   x86_64   1:5.1.3.2-2.fc24             fedora   6.9 M
 mythes-da                 noarch   0.20100629.15.16-10.fc24     fedora   824 k
 qt5-qttranslations        noarch   5.6.0-2.fc24                 fedora   1.4 M

Transaction Summary
================================================================================
Install  8 Packages

Total size: 22 M
Total download size: 20 M
Installed size: 63 M
Is this ok [y/N]:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9319473</commentid>
    <comment_count>4</comment_count>
    <who name="Parag Nemade">pnemade</who>
    <bug_when>2016-05-12 02:39:04 -0400</bug_when>
    <thetext>Please use new way of installing langpacks https://fedoraproject.org/wiki/I18N/Language_Support_Using_Dnf

I and Mike tried to debug this issue, if we are using glibc-2.23.1-5 then we can see

[parag@localhost ~]$ sudo dnf install langpacks-da
Last metadata expiration check: 0:00:57 ago on Thu May 12 11:58:59 2016.
Dependencies resolved.
================================================================================
 Package               Arch       Version                      Repository  Size
================================================================================
Installing:
 glibc-langpack-da     x86_64     2.23.1-5.fc24                fedora     251 k
 hunspell-da           noarch     1.7.42-6.fc24                fedora     336 k
 hyphen-da             noarch     0.20070903-13.fc24           fedora      13 k
 langpacks-da          noarch     1.0-7.fc24                   fedora     8.2 k
 mythes-da             noarch     0.20100629.15.16-10.fc24     fedora     824 k

Transaction Summary
================================================================================


But if you are already using glibc-2.23.1-6 then its not working now, see

[parag@f24 ~]$ sudo dnf install langpacks-da
Last metadata expiration check: 1:23:54 ago on Thu May 12 10:25:02 2016.
Dependencies resolved.
================================================================================
 Package                 Arch    Version                          Repository
                                                                           Size
================================================================================
Installing:
 calligra-l10n-da        noarch  2.9.11-2.fc24                    fedora  381 k
 eclipse-nls-da          noarch  4.5.0.v20150804081228-3.fc24     fedora  1.6 M
 hunspell-da             noarch  1.7.42-6.fc24                    fedora  336 k
 hyphen-da               noarch  0.20070903-13.fc24               fedora   13 k
 langpacks-da            noarch  1.0-7.fc24                       fedora  8.2 k
 mythes-da               noarch  0.20100629.15.16-10.fc24         fedora  824 k
 tesseract-langpack-dan  noarch  3.04.01-1.fc24                   fedora  2.3 M

Transaction Summary
================================================================================</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9319479</commentid>
    <comment_count>5</comment_count>
    <who name="Mike FABIAN">mfabian</who>
    <bug_when>2016-05-12 02:40:56 -0400</bug_when>
    <thetext>(In reply to Mike FABIAN from comment #3)
&gt; [mfabian@Fedora-Workstation-netinst-x86_6 ~]$ sudo dnf install langpacks-da
&gt; Last metadata expiration check: 0:09:38 ago on Thu May 12 08:12:18 2016.
&gt; Dependencies resolved.
&gt; =============================================================================
&gt; ===
&gt;  Package                   Arch     Version                      Repository
&gt;                                                                           
&gt; Size
&gt; =============================================================================
&gt; ===
&gt; Installing:
&gt;  autocorr-da               noarch   1:5.1.3.2-2.fc24             fedora  
&gt; 176 k
&gt;  glibc-langpack-da         x86_64   2.23.1-5.fc24                fedora  
&gt; 251 k
&gt;  hyphen-da                 noarch   0.20070903-13.fc24           fedora   
&gt; 13 k
&gt;  kde-l10n-da               noarch   16.04.0-1.fc24               fedora   
&gt; 12 M
&gt;  langpacks-da              noarch   1.0-7.fc24                   fedora  
&gt; 8.2 k
&gt;  libreoffice-langpack-da   x86_64   1:5.1.3.2-2.fc24             fedora  
&gt; 6.9 M
&gt;  mythes-da                 noarch   0.20100629.15.16-10.fc24     fedora  
&gt; 824 k
&gt;  qt5-qttranslations        noarch   5.6.0-2.fc24                 fedora  
&gt; 1.4 M
&gt; 
&gt; Transaction Summary
&gt; =============================================================================
&gt; ===
&gt; Install  8 Packages
&gt; 
&gt; Total size: 22 M
&gt; Total download size: 20 M
&gt; Installed size: 63 M
&gt; Is this ok [y/N]:

This was tested on Fedora-Workstation-netinst-x86_64-24_Beta-1.6.iso (The released Beta). When I update everything with &quot;dnf update&quot;, it does not work anymore:

[mfabian@Fedora-Workstation-netinst-x86_6 ~]$ sudo dnf install langpacks-da
Last metadata expiration check: 0:27:57 ago on Thu May 12 08:12:18 2016.
Dependencies resolved.
================================================================================
 Package                 Arch   Version                   Repository       Size
================================================================================
Installing:
 autocorr-da             noarch 1:5.1.3.2-2.fc24          updates-testing 176 k
 hyphen-da               noarch 0.20070903-13.fc24        fedora           13 k
 langpacks-da            noarch 1.0-7.fc24                fedora          8.2 k
 libreoffice-langpack-da x86_64 1:5.1.3.2-2.fc24          fedora          6.9 M
 mythes-da               noarch 0.20100629.15.16-10.fc24  fedora          824 k

Transaction Summary
================================================================================
Install  5 Packages

Total download size: 7.9 M
Installed size: 32 M
Is this ok [y/N]:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9319513</commentid>
    <comment_count>6</comment_count>
    <who name="Christian Stadelmann">rhbz2</who>
    <bug_when>2016-05-12 02:56:47 -0400</bug_when>
    <thetext>(In reply to Mike FABIAN from comment #2)
&gt; When using &quot;dnf install langpacks-xx&quot;, everything works fine.
&gt; (To delete packages, use &quot;dnf remove langpacks-xx&quot;)
&gt; 
&gt; &quot;dnf langinstall xx&quot; is deprecated.

(In reply to Parag Nemade from comment #4)
&gt; Please use new way of installing langpacks
&gt; https://fedoraproject.org/wiki/I18N/Language_Support_Using_Dnf
&gt; 
&gt; I and Mike tried to debug this issue, if we are using glibc-2.23.1-5 then we
&gt; can see

Could you please orphan+remove the dnf-langpacks plugin then?


(In reply to Parag Nemade from comment #4)
&gt; But if you are already using glibc-2.23.1-6 then its not working now,
&gt; […]

That&apos;s exactly what I&apos;m running into. Thanks for clarification.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9319517</commentid>
    <comment_count>7</comment_count>
    <who name="Parag Nemade">pnemade</who>
    <bug_when>2016-05-12 03:00:35 -0400</bug_when>
    <thetext>Further looking into repodata files, I found fedora repodata is correct and listing all the rpm tags but updates-testing repodata do not contain any rpm tags like supplements, recommends, suggests, enhances.

Looks like issue in repodata generation for updates-testing repo only and not related to glibc packaging.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9319523</commentid>
    <comment_count>8</comment_count>
    <who name="Parag Nemade">pnemade</who>
    <bug_when>2016-05-12 03:03:09 -0400</bug_when>
    <thetext>(In reply to Christian Stadelmann from comment #6)
&gt; (In reply to Parag Nemade from comment #4)
&gt; &gt; Please use new way of installing langpacks
&gt; &gt; https://fedoraproject.org/wiki/I18N/Language_Support_Using_Dnf
&gt; &gt; 
&gt; &gt; I and Mike tried to debug this issue, if we are using glibc-2.23.1-5 then we
&gt; &gt; can see
&gt; 
&gt; Could you please orphan+remove the dnf-langpacks plugin then?
&gt; 

I will but nothing is perfect currently related to langpacks in Fedora. Langpacks are still not working via anaconda installation. Anyways, I decided to retire it from F25+ release.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9321229</commentid>
    <comment_count>9</comment_count>
    <who name="Carlos O&apos;Donell">codonell</who>
    <bug_when>2016-05-12 09:54:53 -0400</bug_when>
    <thetext>Shall we mark this as CLOSED/NOTABUG given that the problem is not in glibc?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9321278</commentid>
    <comment_count>10</comment_count>
    <who name="Parag Nemade">pnemade</who>
    <bug_when>2016-05-12 10:08:02 -0400</bug_when>
    <thetext>I am just waiting for someone from #fedora-releng to provide some information on this. Definitely this is not a glibc bug but bug is there in repodata generation.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9321283</commentid>
    <comment_count>11</comment_count>
    <who name="Carlos O&apos;Donell">codonell</who>
    <bug_when>2016-05-12 10:09:56 -0400</bug_when>
    <thetext>(In reply to Parag Nemade from comment #10)
&gt; I am just waiting for someone from #fedora-releng to provide some
&gt; information on this. Definitely this is not a glibc bug but bug is there in
&gt; repodata generation.

Sounds good. Please close it out once you get confirmation about the repo data issue. Thanks again for all of your help. Thanks also to Mike for reviewing the issue.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9321620</commentid>
    <comment_count>12</comment_count>
    <who name="Parag Nemade">pnemade</who>
    <bug_when>2016-05-12 11:19:43 -0400</bug_when>
    <thetext>I got the information that the issue is in bodhi and bodhi runs on rhel7. I will move this bug to langpacks component for further tracking.

Dropping blocker status as its not really a blocker.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10394796</commentid>
    <comment_count>13</comment_count>
    <who name="Parag Nemade">pnemade</who>
    <bug_when>2017-05-09 00:05:45 -0400</bug_when>
    <thetext>On Fedora 26, I see this is fixed now See
$ sudo dnf install langpacks-da
Last metadata expiration check: 1:02:01 ago on Tue May 09 08:31:38 2017 IST.
Dependencies resolved.
===============================================================================
 Package                 Arch   Version                  Repository       Size
===============================================================================
Installing:
 langpacks-da            noarch 1.0-9.fc26               fedora          7.6 k
Installing dependencies:
 autocorr-da             noarch 1:5.3.2.1-2.fc26         updates-testing 178 k
 hunspell-da             noarch 1.7.42-7.fc26            fedora          335 k
 hyphen-da               noarch 0.20070903-14.fc26       fedora           12 k
 mythes-da               noarch 0.20100629.15.16-11.fc26 fedora          823 k
Installing weak dependencies:
 glibc-langpack-da       x86_64 2.25-4.fc26              fedora          267 k
 kde-l10n-da             noarch 16.12.3-1.fc26           updates-testing  12 M
 libreoffice-langpack-da x86_64 1:5.3.2.1-2.fc26         updates-testing 7.0 M
 tesseract-langpack-dan  noarch 3.05.00-1.fc26           fedora          2.3 M

Transaction Summary
===============================================================================
Install  9 Packages

Total download size: 23 M
Installed size: 61 M
Is this ok [y/N]: 


Please reopen if needs any more fixes or file a new bug.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
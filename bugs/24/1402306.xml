<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1402306</bug_id>
          
          <creation_ts>2016-12-07 03:44:00 -0500</creation_ts>
          <short_desc>Can&apos;t find CMap Identity-UTF16-H</short_desc>
          <delta_ts>2016-12-11 16:54:39 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>poppler-data</component>
          <version>24</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Attila">bugs.kde.attila</reporter>
          <assigned_to name="David Kaspar [Dee&apos;Kej]">dkaspar</assigned_to>
          <cc>dkaspar</cc>
    
    
    <cc>mkasik</cc>
    
    
    <cc>rdieter</cc>
    
    
    <cc>twaugh</cc>
    
    
    <cc>zdohnal</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>poppler-data-0.4.7-6.fc25 poppler-data-0.4.7-6.fc24</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-12-11 14:27:29</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9963622</commentid>
    <comment_count>0</comment_count>
    <who name="Attila">bugs.kde.attila</who>
    <bug_when>2016-12-07 03:44:36 -0500</bug_when>
    <thetext>Description of problem:
Running the command

gs -q -dNOPAUSE -dBATCH -dPDFSETTINGS=/prepress -sDEVICE=pdfwrite -sOutputFile=Output.pdf Input1.pdf Input2.pdf Input3.pdf

shows me an error as followed:

Can&apos;t find CMap Identity-UTF16-H building a CIDDecoding resource.
Warning: falling back to Identity ordering
Can&apos;t find CMap Identity-UTF16-H building a CIDDecoding resource. 
   **** Error: can&apos;t process embedded font stream,
        attempting to load the font using its name.
               Output may be incorrect.
Can&apos;t find CMap Identity-UTF16-H building a CIDDecoding resource. 
Warning: falling back to Identity ordering
Can&apos;t find CMap Identity-UTF16-H building a CIDDecoding resource. 
   **** Error reading a content stream. The page may be incomplete.
               Output may be incorrect.
   **** Error: File did not complete the page properly and may be damaged.
               Output may be incorrect.


Version-Release number of selected component (if applicable):
ghostscript-core-9.20-5.fc24.x86_64
ghostscript-9.20-5.fc24.x86_64
ghostscript-x11-9.20-5.fc24.x86_64
ghostscript-fonts-5.50-35.fc24.noarch


How reproducible:
Run the command (see above) with 3 PDF-Files. The Bug is always reproducible.


Steps to Reproduce:
1. Choose 3 PDF-Files of your choice. IMPORTANT! One of the PDF-Files must contain the font-type &quot;CID TrueType&quot;. In my case &quot;Arial CID TrueType&quot;.
2. Run the command (see above) in a terminal.


Actual results:
The output is incorrect and damaged.


Expected results:
The output should be correct.


Additional info:
One possible workaround is to link or copy the files from

/usr/share/ghostscript/9.16/Resource/CMap

to

/usr/share/ghostscript/9.20/Resource/CMap

Ghostscript is up to date (version 9.20-5) on my system.
However there are parts from version 9.16 where all the CMap files exist as a link to ../../../../poppler/cMap/. I think version 9.16 was not cleared completly.

The directory /usr/share/ghostscript/9.20/Resource/CMap is empty.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9968933</commentid>
    <comment_count>1</comment_count>
    <who name="David Kaspar [Dee&apos;Kej]">dkaspar</who>
    <bug_when>2016-12-08 11:53:18 -0500</bug_when>
    <thetext>Okay, so this is the problem of poppler-data:
http://pkgs.fedoraproject.org/cgit/rpms/poppler-data.git/tree/poppler-data.spec#n26

It is the package that provides the missing files, but this package has not been rebuilt since 9.16 was out.

I&apos;m starting the rebuilt now, but this will have to be fixed somehow different in the future.

Thank you for pointing that out for us. :)

Best regards,

Dee&apos;Kej</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9968957</commentid>
    <comment_count>2</comment_count>
    <who name="Rex Dieter">rdieter</who>
    <bug_when>2016-12-08 12:04:34 -0500</bug_when>
    <thetext>Fwiw, if ghostscript could grow support for an unversioned data directory (in addition to standard versioned ones), then we could avoid rebuilding poppler-data for *every* ghostscript version bump.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9968958</commentid>
    <comment_count>3</comment_count>
    <who name="Rex Dieter">rdieter</who>
    <bug_when>2016-12-08 12:05:51 -0500</bug_when>
    <thetext>If ^^ is not feasible in the short-term, would you be ok with my filing a RFE tracking bug to add that feature to ghostscript packaging ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9968966</commentid>
    <comment_count>4</comment_count>
    <who name="David Kaspar [Dee&apos;Kej]">dkaspar</who>
    <bug_when>2016-12-08 12:09:52 -0500</bug_when>
    <thetext>Rex, yes you&apos;re completely right. And it&apos;s actually on my todo-list right now. :)

The problem is a little bit more complex, because ghostscript consists of many parts that we actually package separately.

For me, first step is to deal with urw-fonts, which is the biggest pain in the a** right now, then to fix the ghostscript specfile (it&apos;s complete mess), and in that time fix poppler as well... :)

I hope this will be done by the time F26 will fork, but I don&apos;t plan to bring those changes back to F25 and older. IMHO, it could break something and I don&apos;t want to make Fedora unstable for our users.

Cheers,

Dee&apos;Kej</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9970826</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-09 03:58:24 -0500</bug_when>
    <thetext>poppler-data-0.4.7-6.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2016-d6a352eeca</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9970828</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-09 03:58:32 -0500</bug_when>
    <thetext>poppler-data-0.4.7-5.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-6ecaf251f6</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9970829</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-09 03:58:39 -0500</bug_when>
    <thetext>poppler-data-0.4.7-6.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-975dfd5c27</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9973287</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-09 22:53:03 -0500</bug_when>
    <thetext>poppler-data-0.4.7-5.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-6ecaf251f6</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9973315</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-09 22:57:18 -0500</bug_when>
    <thetext>poppler-data-0.4.7-6.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-d6a352eeca</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9973361</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-09 23:28:53 -0500</bug_when>
    <thetext>poppler-data-0.4.7-6.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-975dfd5c27</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9974964</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-11 14:27:29 -0500</bug_when>
    <thetext>poppler-data-0.4.7-6.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9975046</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-11 16:54:39 -0500</bug_when>
    <thetext>poppler-data-0.4.7-6.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
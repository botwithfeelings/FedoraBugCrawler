<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1330318</bug_id>
          
          <creation_ts>2016-04-25 17:08:00 -0400</creation_ts>
          <short_desc>rpm-ostree status error: Error calling StartServiceByName for org.projectatomic.rpmostree1: Timeout was reached</short_desc>
          <delta_ts>2016-05-14 19:27:59 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>selinux-policy</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>AcceptedFreezeException https://fedoraproject.org/wiki/Common_F24_bugs#ostree-status-error</status_whiteboard>
          <keywords>CommonBugs</keywords>
          <priority>high</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1230434</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Chris Murphy">bugzilla</reporter>
          <assigned_to name="Lukas Vrabec">lvrabec</assigned_to>
          <cc>awilliam</cc>
    
    
    <cc>dominick.grift</cc>
    
    
    <cc>dustymabe</cc>
    
    
    <cc>dwalsh</cc>
    
    
    <cc>lbrabec</cc>
    
    
    <cc>lslebodn</cc>
    
    
    <cc>lvrabec</cc>
    
    
    <cc>mail</cc>
    
    
    <cc>mattdm</cc>
    
    
    <cc>mgrepl</cc>
    
    
    <cc>plautrba</cc>
    
    
    <cc>sgallagh</cc>
    
    
    <cc>surajnarwade353</cc>
    
    
    <cc>tflink</cc>
    
    
    <cc>walters</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>selinux-policy-3.13.1-185.fc24</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-05-14 19:27:59</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9266875</commentid>
    <comment_count>0</comment_count>
    <who name="Chris Murphy">bugzilla</who>
    <bug_when>2016-04-25 17:08:34 -0400</bug_when>
    <thetext>Description of problem:

Command fails after 30 second hang.

Version-Release number of selected component (if applicable):
rpm-ostree-2015.11-2.fc24.x86_64


How reproducible:
Always

Steps to Reproduce:
1. rpm-ostree status
2.
3.

Actual results:

error: Error calling StartServiceByName for org.projectatomic.rpmostree1: Timeout was reached


Expected results:

Status


Additional info:

Apr 25 15:06:30 localhost.localdomain dbus[861]: [system] Activating via systemd: service name=&apos;org.projectatomic.rpmostree1&apos; unit=&apos;rpm-ostreed.service&apos;
Apr 25 15:06:30 localhost.localdomain audit[1191]: AVC avc:  denied  { execute } for  pid=1191 comm=&quot;(-ostreed)&quot; name=&quot;rpm-ostreed&quot; dev=&quot;dm-0&quot; ino=1585 scontext=system_u:system_r:init_t:s0 tcontext=system_u:object_r:install_exec_t:s0 tclass=file permissive=0
Apr 25 15:06:30 localhost.localdomain audit[1191]: SYSCALL arch=c000003e syscall=59 success=no exit=-13 a0=5557d3394e20 a1=5557d334f7f0 a2=5557d33954c0 a3=5557d338bc90 items=0 ppid=1 pid=1191 auid=4294967295 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=4294967295 comm=&quot;(-ostreed)&quot; exe=&quot;/usr/lib/systemd/systemd&quot; subj=system_u:system_r:init_t:s0 key=(null)
Apr 25 15:06:30 localhost.localdomain audit: PROCTITLE proctitle=&quot;(-ostreed)&quot;
Apr 25 15:06:30 localhost.localdomain systemd[1]: Starting RPM OSTree Manager...
Apr 25 15:06:30 localhost.localdomain systemd[1191]: rpm-ostreed.service: Failed at step EXEC spawning /usr/libexec/rpm-ostreed: Permission denied
Apr 25 15:06:30 localhost.localdomain systemd[1]: rpm-ostreed.service: Main process exited, code=exited, status=203/EXEC
Apr 25 15:06:30 localhost.localdomain systemd[1]: Failed to start RPM OSTree Manager.
Apr 25 15:06:30 localhost.localdomain systemd[1]: rpm-ostreed.service: Unit entered failed state.
Apr 25 15:06:30 localhost.localdomain audit[1]: SERVICE_START pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg=&apos;unit=rpm-ostreed comm=&quot;systemd&quot; exe=&quot;/usr/lib/systemd/systemd&quot; hostname=? addr=? terminal=? res=failed&apos;
Apr 25 15:06:30 localhost.localdomain systemd[1]: rpm-ostreed.service: Failed with result &apos;exit-code&apos;.
Apr 25 15:06:55 localhost.localdomain dbus[861]: [system] Failed to activate service &apos;org.projectatomic.rpmostree1&apos;: timed out</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9266878</commentid>
    <comment_count>1</comment_count>
    <who name="Chris Murphy">bugzilla</who>
    <bug_when>2016-04-25 17:10:16 -0400</bug_when>
    <thetext>Installed to a libvirt VM with Fedora-Atomic-dvd-x86_64-24-20160424.n.0.iso which pulled down tree 24.16.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9266889</commentid>
    <comment_count>2</comment_count>
    <who name="Colin Walters">walters</who>
    <bug_when>2016-04-25 17:25:28 -0400</bug_when>
    <thetext>This needs a policy change.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9266919</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Blocker Bugs Application">blockerbugs</who>
    <bug_when>2016-04-25 17:46:14 -0400</bug_when>
    <thetext>Proposed as a Freeze Exception for 24-beta by Fedora user walters using the blocker tracking app because:

 The update system doesn&apos;t start for Atomic Host.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9266947</commentid>
    <comment_count>4</comment_count>
    <who name="Chris Murphy">bugzilla</who>
    <bug_when>2016-04-25 18:04:05 -0400</bug_when>
    <thetext>+1FE</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9280683</commentid>
    <comment_count>5</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-04-29 13:02:09 -0400</bug_when>
    <thetext>I think Dennis said something along the lines that Atomic would not ship with Beta, instead it would have it&apos;s own 2-week-y release process. Still, I guess it would make sense to push a fix for this so we can work on the composes, so +1 FE.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9284675</commentid>
    <comment_count>6</comment_count>
    <who name="Stephen Gallagher">sgallagh</who>
    <bug_when>2016-05-02 08:18:46 -0400</bug_when>
    <thetext>+1 FE</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9285398</commentid>
    <comment_count>7</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-05-02 11:07:01 -0400</bug_when>
    <thetext>as we have a 1.4 build without this, tagging as CommonBugs...</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9285600</commentid>
    <comment_count>8</comment_count>
    <who name="Tim Flink">tflink</who>
    <bug_when>2016-05-02 12:27:02 -0400</bug_when>
    <thetext>Discussed at the 2016-05-02 blocker review meeting:

Accepted as a Freeze Exception for F24 Beta because this causes a significant problem in the Atomic images and we must push the fix stable to remedy that. The fix should be safe per selinux-policy update policies, so this is accepted as a freeze exception</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9285608</commentid>
    <comment_count>9</comment_count>
    <who name="Colin Walters">walters</who>
    <bug_when>2016-05-02 12:29:48 -0400</bug_when>
    <thetext>*** Bug 1332119 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9293401</commentid>
    <comment_count>10</comment_count>
    <who name="Colin Walters">walters</who>
    <bug_when>2016-05-04 17:09:05 -0400</bug_when>
    <thetext>*** Bug 1333176 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9293474</commentid>
    <comment_count>11</comment_count>
    <who name="Lukas Slebodnik">lslebodn</who>
    <bug_when>2016-05-04 17:49:21 -0400</bug_when>
    <thetext>It should be fixed in selinux-policy-3.13.1-185.fc24.
But I can reproduce it with -186 on rawhide

-bash-4.3# rpm -q rpm-ostree selinux-policy
rpm-ostree-2016.1-3.fc25.x86_64
selinux-policy-3.13.1-186.fc25.noarch

Is fixed version somewhere in koji?
either for f24 or rawhide</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9295168</commentid>
    <comment_count>12</comment_count>
    <who name="Lukas Vrabec">lvrabec</who>
    <bug_when>2016-05-05 06:59:12 -0400</bug_when>
    <thetext>Hi Lukas,

Rawhide:
http://koji.fedoraproject.org/koji/buildinfo?buildID=760201

F24:
http://koji.fedoraproject.org/koji/buildinfo?buildID=760223</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9295352</commentid>
    <comment_count>13</comment_count>
    <who name="Lukas Slebodnik">lslebodn</who>
    <bug_when>2016-05-05 08:08:19 -0400</bug_when>
    <thetext>(In reply to Lukas Vrabec from comment #12)
&gt; Hi Lukas,
&gt;
Thank you very much Lukas for fast response :-)

&gt; Rawhide:
&gt; http://koji.fedoraproject.org/koji/buildinfo?buildID=760201
&gt;
I tested fedora rawhide ostree with selinux policy from this koji build
(selinux-policy-3.13.1-187.fc25) and it fixed bug for me.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9295601</commentid>
    <comment_count>14</comment_count>
    <who name="Lukas Vrabec">lvrabec</who>
    <bug_when>2016-05-05 09:06:24 -0400</bug_when>
    <thetext>Great! Thank you for testing.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9309420</commentid>
    <comment_count>15</comment_count>
    <who name="kushaldas@gmail.com">mail</who>
    <bug_when>2016-05-10 02:48:56 -0400</bug_when>
    <thetext>I am having the same issue while doing F24 nightly image test on the cloud test day.

# rpm-ostree status
error: Error calling StartServiceByName for org.projectatomic.rpmostree1: Timeout was reached</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9310159</commentid>
    <comment_count>16</comment_count>
    <who name="Suraj Narwade">surajnarwade353</who>
    <bug_when>2016-05-10 06:48:51 -0400</bug_when>
    <thetext>I am facing same issue on Fedora 24 atomic host on cloud test day.

$ sudo rpm-ostree status
error: Error calling StartServiceByName for org.projectatomic.rpmostree1: Timeout was reached</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9310222</commentid>
    <comment_count>17</comment_count>
    <who name="Lukas Slebodnik">lslebodn</who>
    <bug_when>2016-05-10 07:03:51 -0400</bug_when>
    <thetext>Lukas,
could you push selinux-policy-3.13.1-185.fc24 into fedora 24 testing?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9320411</commentid>
    <comment_count>20</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-12 05:42:59 -0400</bug_when>
    <thetext>selinux-policy-3.13.1-185.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-0f4619cd21</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9326676</commentid>
    <comment_count>21</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-14 19:27:38 -0400</bug_when>
    <thetext>selinux-policy-3.13.1-185.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
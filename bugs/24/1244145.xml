<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1244145</bug_id>
          
          <creation_ts>2015-07-17 06:09:00 -0400</creation_ts>
          <short_desc>Update python2-mock AND python3-mock to 2.0</short_desc>
          <delta_ts>2016-08-18 19:19:40 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>python-mock</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          <dependson>1270079</dependson>
    
    
    <dependson>1341262</dependson>
    
    
    <dependson>1346143</dependson>
          <blocked>1279789</blocked>
    
    
    <blocked>1301384</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Pierre-YvesChibon">pingou</reporter>
          <assigned_to name="Praveen Kumar">kumarpraveen.nitdgp</assigned_to>
          <cc>apevec</cc>
    
    
    <cc>james.hogarth</cc>
    
    
    <cc>jujens</cc>
    
    
    <cc>kparal</cc>
    
    
    <cc>kumarpraveen.nitdgp</cc>
    
    
    <cc>lbrabec</cc>
    
    
    <cc>mrunge</cc>
    
    
    <cc>pabelanger</cc>
    
    
    <cc>pingou</cc>
    
    
    <cc>prkumar</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>python-mock-2.0.0-1.fc24 python-mock-2.0.0-1.fc23</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-07-20 13:50:01</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>8451740</commentid>
    <comment_count>0</comment_count>
    <who name="Pierre-YvesChibon">pingou</who>
    <bug_when>2015-07-17 06:09:18 -0400</bug_when>
    <thetext>Description of problem:
The current version in rawhide is 1.0.1-5.fc23 while upstream is now at 1.1.4

Could you see about updating rawhide ?

(Note: 1.1.3 was broken, 1.1.4 looks better, it does require setuptools &gt;= 17.1 but rawhide seems to be up to date for this)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8673791</commentid>
    <comment_count>1</comment_count>
    <who name="Julien Enselme">jujens</who>
    <bug_when>2015-09-28 05:14:03 -0400</bug_when>
    <thetext>Hi,

mock 1.3.0 was release on 2015-07-23 (https://pypi.python.org/pypi/mock/1.3.0). Can you please update rawhide?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8729476</commentid>
    <comment_count>2</comment_count>
    <who name="Julien Enselme">jujens</who>
    <bug_when>2015-10-17 13:12:13 -0400</bug_when>
    <thetext>Hi,

I managed to do the update. Can you push it on rawhide?

- SPEC: http://jenselme.perso.centrale-marseille.fr/visible/SPECS/python-mock.spec
- SRPMS: http://jenselme.perso.centrale-marseille.fr/visible/SRPMS/python-mock-1.3.0-1.fc24.src.rpm
- koji: http://koji.fedoraproject.org/koji/taskinfo?taskID=11491520</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8730099</commentid>
    <comment_count>3</comment_count>
    <who name="Praveen Kumar">kumarpraveen.nitdgp</who>
    <bug_when>2015-10-18 07:34:09 -0400</bug_when>
    <thetext>I updated spec file and for python3 build it&apos;s only passing for rawhide not for f23 branch because of python3-pbr package is not available for f23 branch.

f23: http://koji.fedoraproject.org/koji/taskinfo?taskID=11493605

What would be better option, should be update python2 package (python3 flag disabled) and for other branch and rawhide have both packages?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8814439</commentid>
    <comment_count>4</comment_count>
    <who name="Alan Pevec">apevec</who>
    <bug_when>2015-11-12 05:51:55 -0500</bug_when>
    <thetext>&gt; I updated spec file and for python3 build it&apos;s only passing for rawhide not
&gt; for f23 branch because of python3-pbr package is not available for f23
&gt; branch.

@mrunge I&apos;ll update PBR in f23,
we were not doing that b/c upsteam OpenStack stable/kilo branch (which f23 corresponds to) has upper cap pbr&gt;=0.6,!=0.7,&lt;1.0
https://github.com/openstack/requirements/blob/stable/kilo/global-requirements.txt#L91
but latest PBR should work, I&apos;ll confirm it in -override before pushing the update.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8814902</commentid>
    <comment_count>5</comment_count>
    <who name="Alan Pevec">apevec</who>
    <bug_when>2015-11-12 08:02:28 -0500</bug_when>
    <thetext>openstack-keystone f23 scratch rebuild with python-pbr-1.8.1-1.fc23 in buildroot worked</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8872566</commentid>
    <comment_count>6</comment_count>
    <who name="Praveen Kumar">kumarpraveen.nitdgp</who>
    <bug_when>2015-12-01 04:27:24 -0500</bug_when>
    <thetext>Latest version of mock need &apos;funcsigs&apos;[0] which is not built in fedora and also failing rawhide bits[1]

[0] https://github.com/testing-cabal/mock/blob/master/requirements.txt#L1
[1] http://koji.fedoraproject.org/koji/taskinfo?taskID=12021349</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8885404</commentid>
    <comment_count>7</comment_count>
    <who name="Haïkel Guémar">karlthered</who>
    <bug_when>2015-12-02 18:31:29 -0500</bug_when>
    <thetext>To unblock the situation, I submitted a package review for funcsigs. It should be a trivial one.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9049880</commentid>
    <comment_count>8</comment_count>
    <who name="Paul Belanger">pabelanger</who>
    <bug_when>2016-02-10 10:24:19 -0500</bug_when>
    <thetext>Anything I can do to help move this along?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9051671</commentid>
    <comment_count>9</comment_count>
    <who name="Praveen Kumar">kumarpraveen.nitdgp</who>
    <bug_when>2016-02-11 01:40:47 -0500</bug_when>
    <thetext>As per my understanding mock is now core module for python3, for python2 I will update it to latest version.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9052802</commentid>
    <comment_count>10</comment_count>
    <who name="Paul Belanger">pabelanger</who>
    <bug_when>2016-02-11 09:13:10 -0500</bug_when>
    <thetext>Great, thanks for the update.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9083140</commentid>
    <comment_count>11</comment_count>
    <who name="Matthias Runge">mrunge</who>
    <bug_when>2016-02-22 03:00:37 -0500</bug_when>
    <thetext>Any update here?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9091895</commentid>
    <comment_count>12</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2016-02-24 08:26:15 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 24 development cycle.
Changing version to &apos;24&apos;.

More information and reason for this action is here:
https://fedoraproject.org/wiki/Fedora_Program_Management/HouseKeeping/Fedora24#Rawhide_Rebase</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9100214</commentid>
    <comment_count>13</comment_count>
    <who name="Alan Pevec">apevec</who>
    <bug_when>2016-02-26 05:50:17 -0500</bug_when>
    <thetext>(In reply to Praveen Kumar from comment #9)
&gt; As per my understanding mock is now core module for python3, for python2 I
&gt; will update it to latest version.

mock is available in py3 in different namespace unittest.mock so having python3-mock is fine and should be kept to not break existing code using it
Also, upstream mock says
&quot;This package contains a rolling backport of the standard library mock code compatible with Python 2.6 and up, and 3.2 and up.&quot;
so there is value to provide those updates ahead of python core libs update.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9109789</commentid>
    <comment_count>14</comment_count>
    <who name="Matthias Runge">mrunge</who>
    <bug_when>2016-03-01 06:50:03 -0500</bug_when>
    <thetext>It looks like Haïkel already updated this for rawhide, I guess, this can be closed then?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9120636</commentid>
    <comment_count>15</comment_count>
    <who name="Julien Enselme">jujens</who>
    <bug_when>2016-03-04 04:16:52 -0500</bug_when>
    <thetext>Can we have this in f24? I just tried to build a package that requires python-mock 1.3.0 with fedpkg mockbuild and I got this error:

Error: No Package found for python-mock &gt;= 1.3.0
Error: No Package found for python3-mock &gt;= 1.3.0

I&apos;d like to avoid waiting for f25 before getting this update.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9120648</commentid>
    <comment_count>16</comment_count>
    <who name="Matthias Runge">mrunge</who>
    <bug_when>2016-03-04 04:20:04 -0500</bug_when>
    <thetext>just pushed it to f24 and submitted a build
http://koji.fedoraproject.org/koji/taskinfo?taskID=13225011</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9232037</commentid>
    <comment_count>17</comment_count>
    <who name="Kamil Páral">kparal</who>
    <bug_when>2016-04-13 03:53:56 -0400</bug_when>
    <thetext>Can we get a newer python-mock in F23? Version 1.0.1 and above fixes a bug I care about:
https://github.com/testing-cabal/mock/issues/190

Also please note that there is now mock 2.0.0 available:
https://github.com/testing-cabal/mock/releases

But for F23, getting at least 1.1.0 would help.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9291386</commentid>
    <comment_count>18</comment_count>
    <who name="Lukas Brabec">lbrabec</who>
    <bug_when>2016-05-04 07:16:13 -0400</bug_when>
    <thetext>mock_open() in mock 1.0.1 doesn&apos;t mimic builtin open() properly. 

read() of builtin open() reads a file (or part of it) and keeps pointer into file, and so without seek you cannot read() whole file more than one time. However the read() of mock_open() can be called again and again.

Python xml parser reads file in an infinite loop by chunks using read(65536) and breaks the loop when nothing was read. Unfortunately the behaviour of mock 1.0.1 causes infinite loop and breaks the xml parsing.

Please, bump the version in F23 to at least 1.1.0</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9291521</commentid>
    <comment_count>19</comment_count>
    <who name="Matthias Runge">mrunge</who>
    <bug_when>2016-05-04 07:53:27 -0400</bug_when>
    <thetext>Praveen, is that something you can do?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9330563</commentid>
    <comment_count>20</comment_count>
    <who name="Praveen Kumar">kumarpraveen.nitdgp</who>
    <bug_when>2016-05-16 12:29:38 -0400</bug_when>
    <thetext>Apologize for very late response.

http://koji.fedoraproject.org/koji/buildinfo?buildID=765092</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9372385</commentid>
    <comment_count>21</comment_count>
    <who name="James Hogarth">james.hogarth</who>
    <bug_when>2016-05-31 08:34:33 -0400</bug_when>
    <thetext>PyPi mock is now at 2.0 

https://pypi.python.org/pypi/mock

One of the tests a package I maintain (python-acme) is calling assert_called_once() which was added here:

https://github.com/testing-cabal/mock/issues/342

Naturally I can skip the test, but of course I&apos;d rather not skip upstream tests where possible.

Can you please issue an update to rawhide/f24/f23 with the new version?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9373118</commentid>
    <comment_count>22</comment_count>
    <who name="James Hogarth">james.hogarth</who>
    <bug_when>2016-05-31 11:33:02 -0400</bug_when>
    <thetext>Changing the blocker to point to the funcsigs 1.0+ bug as mock 2.0 needs that and the review was only against the old 0.4 revision so not valid for this bug.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9409977</commentid>
    <comment_count>23</comment_count>
    <who name="Praveen Kumar">prkumar</who>
    <bug_when>2016-06-13 09:10:17 -0400</bug_when>
    <thetext>I will update this package tomorrow morning and create update request.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9412496</commentid>
    <comment_count>24</comment_count>
    <who name="Praveen Kumar">prkumar</who>
    <bug_when>2016-06-14 02:12:45 -0400</bug_when>
    <thetext>I updated spec and it build fine with rawhide ( http://koji.fedoraproject.org/koji/buildinfo?buildID=772640) but failed in f24 because funcsigs 1.0+ not updated for f24 branch ( http://koji.fedoraproject.org/koji/packageinfo?packageID=21510 ).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9480917</commentid>
    <comment_count>25</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-07-05 06:53:00 -0400</bug_when>
    <thetext>python-mock-2.0.0-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-439ff07550</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9480945</commentid>
    <comment_count>26</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-07-05 07:03:45 -0400</bug_when>
    <thetext>python-mock-2.0.0-1.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-e3a7ea1156</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9483305</commentid>
    <comment_count>27</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-07-06 02:24:53 -0400</bug_when>
    <thetext>python-mock-2.0.0-1.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-e3a7ea1156</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9493559</commentid>
    <comment_count>28</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-07-09 11:58:34 -0400</bug_when>
    <thetext>python-mock-2.0.0-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-439ff07550</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9533570</commentid>
    <comment_count>29</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-07-20 13:49:56 -0400</bug_when>
    <thetext>python-mock-2.0.0-1.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9628526</commentid>
    <comment_count>30</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-08-18 19:19:35 -0400</bug_when>
    <thetext>python-mock-2.0.0-1.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
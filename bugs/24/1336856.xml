<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1336856</bug_id>
          
          <creation_ts>2016-05-17 11:12:00 -0400</creation_ts>
          <short_desc>kernel 4.5 freezes system on streaming v4l device</short_desc>
          <delta_ts>2016-05-26 18:01:54 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>kernel</component>
          <version>24</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Barry Fishman">barry_fishman</reporter>
          <assigned_to name="Kernel Maintainer List">kernel-maint</assigned_to>
          <cc>gansalmon</cc>
    
    
    <cc>itamar</cc>
    
    
    <cc>jonathan</cc>
    
    
    <cc>kernel-maint</cc>
    
    
    <cc>madhu.chinakonda</cc>
    
    
    <cc>mchehab</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-05-26 18:01:54</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9333864</commentid>
    <comment_count>0</comment_count>
      <attachid>1158364</attachid>
    <who name="Barry Fishman">barry_fishman</who>
    <bug_when>2016-05-17 11:12:45 -0400</bug_when>
    <thetext>Created attachment 1158364
Output of lsmod

Description of problem:

NOTE: I do not expect you to fix a problem with 3-party software, but I am filling to record an incompability between kernel 4.5 and previous kernels which may get logged by others and help in identifying the code involved.

When it tried streaming from pcHDTV 3000 the system will freeze.  I can no longer see what is happening, but a window with journalctl -f running last message is when the devices firmware is loaded.  This seems to be independent of the X drivers since it happens when I run &quot;getatsc 23 &gt;/dev/null&quot; effectively streaming into the null device.

Using &quot;dtvsignal 23&quot; which shows the signal level works fine.  These are tools in the dvb-atsc-tools package from pchdtv.com. 

Version-Release number of selected component (if applicable):

kernel release 4.5.4-300.fc24.x86_64

How reproducible:

Every time.

This seems to be related to the 4.5 kernel.  Things work fine in Fedora 23, and in Arch Linux with its LTS 4.4 kernel, but fails in the same way with its latest 4.5 kernel.

Steps to Reproduce:
1. Install firmware in /lib/firmware from pchdtv.com.
2. Install dvp-atsc-tools from pchdtv.com
3. Run a command like &apos;getatsc 23 &gt;/dev/null&apos;

Actual results:

A system freeze and no trace of the problem seeming to show up in the journalctl log.

Expected results:

Streaming atsc channel 23 data to /dev/null.  System not crashing.

Additional info:

This code has worked for a considerable amount of time, going back to kernels prior to 3.0.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9363838</commentid>
    <comment_count>1</comment_count>
    <who name="Barry Fishman">barry_fishman</who>
    <bug_when>2016-05-26 18:01:54 -0400</bug_when>
    <thetext>Seems fixed in kernel 4.5.5-300.fc24.x86_64</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>1158364</attachid>
            <date>2016-05-17 11:12:00 -0400</date>
            <delta_ts>2016-05-17 11:12:45 -0400</delta_ts>
            <desc>Output of lsmod</desc>
            <filename>module.list</filename>
            <type>text/plain</type>
            <size>5596</size>
            <attacher name="Barry Fishman">barry_fishman</attacher>
            
              <data encoding="base64">TW9kdWxlICAgICAgICAgICAgICAgICAgU2l6ZSAgVXNlZCBieQpmdXNlICAgICAgICAgICAgICAg
ICAgIDk4MzA0ICAzCnh0X0NIRUNLU1VNICAgICAgICAgICAgMTYzODQgIDEKaXB0X01BU1FVRVJB
REUgICAgICAgICAxNjM4NCAgMwpuZl9uYXRfbWFzcXVlcmFkZV9pcHY0ICAgIDE2Mzg0ICAxIGlw
dF9NQVNRVUVSQURFCnR1biAgICAgICAgICAgICAgICAgICAgMjg2NzIgIDEKbmZfY29ubnRyYWNr
X25ldGJpb3NfbnMgICAgMTYzODQgIDAKbmZfY29ubnRyYWNrX2Jyb2FkY2FzdCAgICAxNjM4NCAg
MSBuZl9jb25udHJhY2tfbmV0Ymlvc19ucwppcDZ0X3JwZmlsdGVyICAgICAgICAgIDE2Mzg0ICAx
CmlwNnRfUkVKRUNUICAgICAgICAgICAgMTYzODQgIDIKbmZfcmVqZWN0X2lwdjYgICAgICAgICAx
NjM4NCAgMSBpcDZ0X1JFSkVDVAp4dF9jb25udHJhY2sgICAgICAgICAgIDE2Mzg0ICAyMgppcF9z
ZXQgICAgICAgICAgICAgICAgIDM2ODY0ICAwCm5mbmV0bGluayAgICAgICAgICAgICAgMTYzODQg
IDEgaXBfc2V0CmVidGFibGVfYnJvdXRlICAgICAgICAgMTYzODQgIDEKYnJpZGdlICAgICAgICAg
ICAgICAgIDEyNjk3NiAgMSBlYnRhYmxlX2Jyb3V0ZQplYnRhYmxlX25hdCAgICAgICAgICAgIDE2
Mzg0ICAxCmlwNnRhYmxlX3NlY3VyaXR5ICAgICAgMTYzODQgIDEKaXA2dGFibGVfcmF3ICAgICAg
ICAgICAxNjM4NCAgMQppcDZ0YWJsZV9tYW5nbGUgICAgICAgIDE2Mzg0ICAxCmlwNnRhYmxlX25h
dCAgICAgICAgICAgMTYzODQgIDEKbmZfY29ubnRyYWNrX2lwdjYgICAgICAyMDQ4MCAgMTIKbmZf
ZGVmcmFnX2lwdjYgICAgICAgICAzNjg2NCAgMSBuZl9jb25udHJhY2tfaXB2NgpuZl9uYXRfaXB2
NiAgICAgICAgICAgIDE2Mzg0ICAxIGlwNnRhYmxlX25hdAppcHRhYmxlX3NlY3VyaXR5ICAgICAg
IDE2Mzg0ICAxCmlwdGFibGVfcmF3ICAgICAgICAgICAgMTYzODQgIDEKaXB0YWJsZV9tYW5nbGUg
ICAgICAgICAxNjM4NCAgMQppcHRhYmxlX25hdCAgICAgICAgICAgIDE2Mzg0ICAxCm5mX2Nvbm50
cmFja19pcHY0ICAgICAgMTYzODQgIDEyCm5mX2RlZnJhZ19pcHY0ICAgICAgICAgMTYzODQgIDEg
bmZfY29ubnRyYWNrX2lwdjQKbmZfbmF0X2lwdjQgICAgICAgICAgICAxNjM4NCAgMSBpcHRhYmxl
X25hdApuZl9uYXQgICAgICAgICAgICAgICAgIDI4NjcyICAzIG5mX25hdF9pcHY0LG5mX25hdF9p
cHY2LG5mX25hdF9tYXNxdWVyYWRlX2lwdjQKbmZfY29ubnRyYWNrICAgICAgICAgIDEwNjQ5NiAg
OSBuZl9jb25udHJhY2tfbmV0Ymlvc19ucyxuZl9uYXQsbmZfbmF0X2lwdjQsbmZfbmF0X2lwdjYs
eHRfY29ubnRyYWNrLG5mX25hdF9tYXNxdWVyYWRlX2lwdjQsbmZfY29ubnRyYWNrX2Jyb2FkY2Fz
dCxuZl9jb25udHJhY2tfaXB2NCxuZl9jb25udHJhY2tfaXB2NgplYnRhYmxlX2ZpbHRlciAgICAg
ICAgIDE2Mzg0ICAxCmVidGFibGVzICAgICAgICAgICAgICAgMzI3NjggIDMgZWJ0YWJsZV9icm91
dGUsZWJ0YWJsZV9uYXQsZWJ0YWJsZV9maWx0ZXIKaXA2dGFibGVfZmlsdGVyICAgICAgICAxNjM4
NCAgMQppcDZfdGFibGVzICAgICAgICAgICAgIDI4NjcyICA1IGlwNnRhYmxlX2ZpbHRlcixpcDZ0
YWJsZV9tYW5nbGUsaXA2dGFibGVfc2VjdXJpdHksaXA2dGFibGVfbmF0LGlwNnRhYmxlX3Jhdwpv
cjUxMTMyICAgICAgICAgICAgICAgIDE2Mzg0ICAxCmN4ODhfZHZiICAgICAgICAgICAgICAgMzY4
NjQgIDAKY3g4OF92cDMwNTRfaTJjICAgICAgICAxNjM4NCAgMSBjeDg4X2R2Ygp2aWRlb2J1ZjJf
ZHZiICAgICAgICAgIDE2Mzg0ICAxIGN4ODhfZHZiCmR2Yl9jb3JlICAgICAgICAgICAgICAxMTg3
ODQgIDMgY3g4OF9kdmIsb3I1MTEzMix2aWRlb2J1ZjJfZHZiCnJjX2hhdXBwYXVnZSAgICAgICAg
ICAgMTYzODQgIDAKdHVuZXJfc2ltcGxlICAgICAgICAgICAyMDQ4MCAgMgp0dW5lcl90eXBlcyAg
ICAgICAgICAgIDI0NTc2ICAxIHR1bmVyX3NpbXBsZQp0ZGE5ODg3ICAgICAgICAgICAgICAgIDE2
Mzg0ICAxCnRkYTgyOTAgICAgICAgICAgICAgICAgMjQ1NzYgIDAKdHVuZXIgICAgICAgICAgICAg
ICAgICAyODY3MiAgMgpjeDg4MDAgICAgICAgICAgICAgICAgIDQwOTYwICAwCmN4ODgwMiAgICAg
ICAgICAgICAgICAgMjA0ODAgIDEgY3g4OF9kdmIKY3g4OHh4ICAgICAgICAgICAgICAgICA4NjAx
NiAgMyBjeDg4X2R2YixjeDg4MDAsY3g4ODAyCnZpZGVvYnVmMl9kbWFfc2cgICAgICAgMjA0ODAg
IDMgY3g4OF9kdmIsY3g4ODAwLGN4ODgwMgp0dmVlcHJvbSAgICAgICAgICAgICAgIDI0NTc2ICAx
IGN4ODh4eAp2aWRlb2J1ZjJfbWVtb3BzICAgICAgIDE2Mzg0ICAxIHZpZGVvYnVmMl9kbWFfc2cK
dmlkZW9idWYyX3Y0bDIgICAgICAgICAyNDU3NiAgMiBjeDg4X2R2YixjeDg4MDAKdmlkZW9idWYy
X2NvcmUgICAgICAgICA0MDk2MCAgNiBjeDg4X2R2YixjeDg4MDAsY3g4ODAyLGN4ODh4eCx2aWRl
b2J1ZjJfdjRsMix2aWRlb2J1ZjJfZHZiCnY0bDJfY29tbW9uICAgICAgICAgICAgMTYzODQgIDMg
dHVuZXIsY3g4ODAwLGN4ODh4eAprdm1fYW1kICAgICAgICAgICAgICAgIDY1NTM2ICAwCmt2bSAg
ICAgICAgICAgICAgICAgICA1NTI5NjAgIDEga3ZtX2FtZAppcl9saXJjX2NvZGVjICAgICAgICAg
IDE2Mzg0ICAwCmxpcmNfZGV2ICAgICAgICAgICAgICAgMjA0ODAgIDEgaXJfbGlyY19jb2RlYwp2
aWRlb2RldiAgICAgICAgICAgICAgMTY3OTM2ICA2IHR1bmVyLGN4ODgwMCxjeDg4eHgsdjRsMl9j
b21tb24sdmlkZW9idWYyX2NvcmUsdmlkZW9idWYyX3Y0bDIKc25kX3VzYl9hdWRpbyAgICAgICAg
IDE3NjEyOCAgMwpyY19zdHJlYW16YXAgICAgICAgICAgIDE2Mzg0ICAwCnN0cmVhbXphcCAgICAg
ICAgICAgICAgMTYzODQgIDAKam95ZGV2ICAgICAgICAgICAgICAgICAyMDQ4MCAgMApzbmRfdXNi
bWlkaV9saWIgICAgICAgIDI4NjcyICAxIHNuZF91c2JfYXVkaW8KaXJxYnlwYXNzICAgICAgICAg
ICAgICAxNjM4NCAgMSBrdm0KcmNfY29yZSAgICAgICAgICAgICAgICAyODY3MiAgOCBsaXJjX2Rl
dixzdHJlYW16YXAsaXJfbGlyY19jb2RlYyxyY19oYXVwcGF1Z2UscmNfc3RyZWFtemFwLGN4ODh4
eApzbmRfcmF3bWlkaSAgICAgICAgICAgIDMyNzY4ICAxIHNuZF91c2JtaWRpX2xpYgpzbmRfaGRh
X2NvZGVjX3ZpYSAgICAgIDI0NTc2ICAxCnNuZF9oZGFfY29kZWNfZ2VuZXJpYyAgICA3MzcyOCAg
MSBzbmRfaGRhX2NvZGVjX3ZpYQpzbmRfaGRhX2NvZGVjX2hkbWkgICAgIDUzMjQ4ICAyCmVkYWNf
bWNlX2FtZCAgICAgICAgICAgMjQ1NzYgIDAKbWVkaWEgICAgICAgICAgICAgICAgICAyODY3MiAg
MiB0dW5lcix2aWRlb2RldgpzbmRfaGRhX2ludGVsICAgICAgICAgIDM2ODY0ICAxNwplZGFjX2Nv
cmUgICAgICAgICAgICAgIDUzMjQ4ICAwCmsxMHRlbXAgICAgICAgICAgICAgICAgMTYzODQgIDAK
c25kX2hkYV9jb2RlYyAgICAgICAgIDEyNjk3NiAgNCBzbmRfaGRhX2NvZGVjX2hkbWksc25kX2hk
YV9jb2RlY192aWEsc25kX2hkYV9jb2RlY19nZW5lcmljLHNuZF9oZGFfaW50ZWwKc25kX2hkYV9j
b3JlICAgICAgICAgICA2NTUzNiAgNSBzbmRfaGRhX2NvZGVjX2hkbWksc25kX2hkYV9jb2RlY192
aWEsc25kX2hkYV9jb2RlY19nZW5lcmljLHNuZF9oZGFfY29kZWMsc25kX2hkYV9pbnRlbApzbmRf
aHdkZXAgICAgICAgICAgICAgIDE2Mzg0ICAyIHNuZF91c2JfYXVkaW8sc25kX2hkYV9jb2RlYwpz
bmRfc2VxICAgICAgICAgICAgICAgIDY5NjMyICAwCnNuZF9zZXFfZGV2aWNlICAgICAgICAgMTYz
ODQgIDIgc25kX3NlcSxzbmRfcmF3bWlkaQpzbmRfcGNtICAgICAgICAgICAgICAgMTE0Njg4ICA1
IHNuZF91c2JfYXVkaW8sc25kX2hkYV9jb2RlY19oZG1pLHNuZF9oZGFfY29kZWMsc25kX2hkYV9p
bnRlbCxzbmRfaGRhX2NvcmUKc25kX3RpbWVyICAgICAgICAgICAgICAzMjc2OCAgMiBzbmRfcGNt
LHNuZF9zZXEKc3A1MTAwX3RjbyAgICAgICAgICAgICAxNjM4NCAgMApzbmQgICAgICAgICAgICAg
ICAgICAgIDc3ODI0ICA1MyBzbmRfdXNiX2F1ZGlvLHNuZF9od2RlcCxzbmRfdGltZXIsc25kX2hk
YV9jb2RlY19oZG1pLHNuZF9oZGFfY29kZWNfdmlhLHNuZF9wY20sc25kX3NlcSxzbmRfcmF3bWlk
aSxzbmRfaGRhX2NvZGVjX2dlbmVyaWMsc25kX3VzYm1pZGlfbGliLHNuZF9oZGFfY29kZWMsc25k
X2hkYV9pbnRlbCxzbmRfc2VxX2RldmljZQpzaHBjaHAgICAgICAgICAgICAgICAgIDM2ODY0ICAw
CnNvdW5kY29yZSAgICAgICAgICAgICAgMTYzODQgIDEgc25kCmkyY19waWl4NCAgICAgICAgICAg
ICAgMjQ1NzYgIDAKYXN1c19hdGswMTEwICAgICAgICAgICAyMDQ4MCAgMAphY3BpX2NwdWZyZXEg
ICAgICAgICAgIDIwNDgwICAxCnRwbV90aXMgICAgICAgICAgICAgICAgMjA0ODAgIDAKdHBtICAg
ICAgICAgICAgICAgICAgICA0MDk2MCAgMSB0cG1fdGlzCm5mc2QgICAgICAgICAgICAgICAgICAz
MjM1ODQgIDEKYXV0aF9ycGNnc3MgICAgICAgICAgICA2MTQ0MCAgMSBuZnNkCm5mc19hY2wgICAg
ICAgICAgICAgICAgMTYzODQgIDEgbmZzZApsb2NrZCAgICAgICAgICAgICAgICAgIDk0MjA4ICAx
IG5mc2QKZ3JhY2UgICAgICAgICAgICAgICAgICAxNjM4NCAgMiBuZnNkLGxvY2tkCmF0YV9nZW5l
cmljICAgICAgICAgICAgMTYzODQgIDAKcGF0YV9hY3BpICAgICAgICAgICAgICAxNjM4NCAgMAo4
MDIxcSAgICAgICAgICAgICAgICAgIDMyNzY4ICAwCmdhcnAgICAgICAgICAgICAgICAgICAgMTYz
ODQgIDEgODAyMXEKc3RwICAgICAgICAgICAgICAgICAgICAxNjM4NCAgMiBnYXJwLGJyaWRnZQps
bGMgICAgICAgICAgICAgICAgICAgIDE2Mzg0ICAzIHN0cCxnYXJwLGJyaWRnZQptcnAgICAgICAg
ICAgICAgICAgICAgIDIwNDgwICAxIDgwMjFxCmFtZGtmZCAgICAgICAgICAgICAgICAxMzEwNzIg
IDEKYW1kX2lvbW11X3YyICAgICAgICAgICAyMDQ4MCAgMSBhbWRrZmQKcmFkZW9uICAgICAgICAg
ICAgICAgMTUwNzMyOCAgOAppMmNfYWxnb19iaXQgICAgICAgICAgIDE2Mzg0ICAzIGN4ODhfdnAz
MDU0X2kyYyxjeDg4eHgscmFkZW9uCmRybV9rbXNfaGVscGVyICAgICAgICAxMzEwNzIgIDEgcmFk
ZW9uCnVhcyAgICAgICAgICAgICAgICAgICAgMjQ1NzYgIDAKc2VyaW9fcmF3ICAgICAgICAgICAg
ICAxNjM4NCAgMAp1c2Jfc3RvcmFnZSAgICAgICAgICAgIDY1NTM2ICAxIHVhcwp0dG0gICAgICAg
ICAgICAgICAgICAgIDkwMTEyICAxIHJhZGVvbgpkcm0gICAgICAgICAgICAgICAgICAgMzM5OTY4
ICAxMSB0dG0sZHJtX2ttc19oZWxwZXIscmFkZW9uCnBhdGFfYXRpaXhwICAgICAgICAgICAgMTYz
ODQgIDAKZmplcyAgICAgICAgICAgICAgICAgICAyODY3MiAgMAp3bWkgICAgICAgICAgICAgICAg
ICAgIDIwNDgwICAwCmF4ODgxNzlfMTc4YSAgICAgICAgICAgMjQ1NzYgIDAKdXNibmV0ICAgICAg
ICAgICAgICAgICA0NTA1NiAgMSBheDg4MTc5XzE3OGEKbWlpICAgICAgICAgICAgICAgICAgICAx
NjM4NCAgMiB1c2JuZXQsYXg4ODE3OV8xNzhhCnN1bnJwYyAgICAgICAgICAgICAgICAzMTk0ODgg
IDcgbmZzZCxhdXRoX3JwY2dzcyxsb2NrZCxuZnNfYWNsCnNjc2lfdHJhbnNwb3J0X2lzY3NpICAg
IDk4MzA0ICAwCg==
</data>

          </attachment>
      

    </bug>

</bugzilla>
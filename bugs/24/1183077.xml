<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1183077</bug_id>
          
          <creation_ts>2015-01-16 11:01:00 -0500</creation_ts>
          <short_desc>parted(8) man page mkpart part-type should be name for GPT disks</short_desc>
          <delta_ts>2016-06-15 20:31:24 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>parted</component>
          <version>24</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>RAWHIDE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>low</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Jeff Bastian">jbastian</reporter>
          <assigned_to name="Brian Lane">bcl</assigned_to>
          <cc>bcl</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>parted-3.2-21</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-06-15 20:31:24</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>7852877</commentid>
    <comment_count>0</comment_count>
    <who name="Jeff Bastian">jbastian</who>
    <bug_when>2015-01-16 11:01:51 -0500</bug_when>
    <thetext>Description of problem:
The parted(8) man page states:
             mkpart part-type [fs-type] start end
                     Make  a  part-type  partition  for filesystem fs-type (if
                     specified), beginning at start  and  ending  at  end  (by
                     default  in megabytes).  part-type should be one of &quot;pri‚Äê
                     mary&quot;, &quot;logical&quot;, or &quot;extended&quot;.

This is true for DOS partition tables, but not for GPT.  On GPT disks, the part-type is actually the name or label for the partition.  Thus, if you specify &quot;primary&quot; as the man page indicates, you get a bunch of partitions with the label &quot;primary&quot;.

~]$ parted -s /tmp/disk.img mkpart primary 0 100
~]$ parted -s /tmp/disk.img mkpart primary 100 200
~]$ parted -s /tmp/disk.img mkpart primary 200 300
~]$ parted -s /tmp/disk.img print
...
Number  Start   End    Size    File system  Name     Flags
 1      17.4kB  100MB  100MB                primary
 2      100MB   200MB  100MB                primary
 3      200MB   300MB  99.6MB               primary


The GNU info page has a better explanation:

~]$ info parted &quot;Using Parted&quot; &quot;Command explanations&quot; mkpart
...
 -- Command: mkpart [PART-TYPE FS-TYPE NAME] START END
...
     PART-TYPE is one of &apos;primary&apos;, &apos;extended&apos; or &apos;logical&apos;, and may be
     specified only with &apos;msdos&apos; or &apos;dvh&apos; partition tables.  A NAME must
     be specified for a &apos;gpt&apos; partition table.  Neither PART-TYPE nor
     NAME may be used with a &apos;sun&apos; partition table.


Version-Release number of selected component (if applicable):
parted-3.2-4.fc21.x86_64

How reproducible:
always

Steps to Reproduce:
1. man parted
2. truncate -s 1G /tmp/disk.img
3. parted -s /tmp/disk.img mklabel gpt
4. parted -s /tmp/disk.img mkpart primary 0 100
5. parted -s /tmp/disk.img print

Actual results:
&quot;primary&quot; is the name, not the type, so you have to fix the name with the &apos;name&apos; command, e.g.
  parted -s /tmp/disk.img name 1 &quot;/tmp&quot;

Expected results:
man page clearly explains that the first argument for mkpart is a type for DOS partition tables and a name for GPT

Additional info:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8788427</commentid>
    <comment_count>1</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2015-11-04 09:07:07 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 21 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 21. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as EOL if it remains open with a Fedora  &apos;version&apos;
of &apos;21&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version.

Thank you for reporting this issue and we are sorry that we were not 
able to fix it before Fedora 21 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior this bug is closed as described in the policy above.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8796708</commentid>
    <comment_count>2</comment_count>
    <who name="Brian Lane">bcl</who>
    <bug_when>2015-11-05 18:06:08 -0500</bug_when>
    <thetext>https://github.com/bcl/parted/pull/3</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9094428</commentid>
    <comment_count>3</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2016-02-24 10:40:43 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 24 development cycle.
Changing version to &apos;24&apos;.

More information and reason for this action is here:
https://fedoraproject.org/wiki/Fedora_Program_Management/HouseKeeping/Fedora24#Rawhide_Rebase</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9183550</commentid>
    <comment_count>4</comment_count>
    <who name="Mike McCune">mmccune</who>
    <bug_when>2016-03-28 18:18:06 -0400</bug_when>
    <thetext>This bug was accidentally moved from POST to MODIFIED via an error in automation, please see mmccune@redhat.com with any questions</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
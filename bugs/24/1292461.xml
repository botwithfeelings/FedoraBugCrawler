<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1292461</bug_id>
          
          <creation_ts>2015-12-17 09:12:00 -0500</creation_ts>
          <short_desc>FTBFS: truncated files</short_desc>
          <delta_ts>2016-08-31 08:28:15 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>python3</component>
          <version>24</version>
          <rep_platform>powerpc</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>RAWHIDE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1071880</blocked>
    
    
    <blocked>1287556</blocked>
    
    
    <blocked>1292462</blocked>
    
    
    <blocked>1292467</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Karsten Hopp">karsten</reporter>
          <assigned_to name="Charalampos Stratakis">cstratak</assigned_to>
          <cc>bkabrda</cc>
    
    
    <cc>jberan</cc>
    
    
    <cc>pviktori</cc>
    
    
    <cc>tomspur</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-08-31 08:28:15</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>8926640</commentid>
    <comment_count>0</comment_count>
      <attachid>1106734</attachid>
    <who name="Karsten Hopp">karsten</who>
    <bug_when>2015-12-17 09:12:41 -0500</bug_when>
    <thetext>Created attachment 1106734
modified math-once.patch

Description of problem:

http://ppc.koji.fedoraproject.org/koji/taskinfo?taskID=2993400 shows a lot of truncated file errors. This is similar to https://bugs.python.org/issue24421
and a slightly modified patch fixes that.

Version-Release number of selected component (if applicable):
python3-3.5.1-1.fc24

How reproducible:


Steps to Reproduce:
1. ppc-koji build --scratch f24 python3-3.5.1-1.fc24.src.rpm
2.
3.

Actual results:
http://ppc.koji.fedoraproject.org/koji/taskinfo?taskID=2993404

Expected results:


Additional info:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8936557</commentid>
    <comment_count>1</comment_count>
    <who name="Karsten Hopp">karsten</who>
    <bug_when>2015-12-22 04:53:20 -0500</bug_when>
    <thetext>fixed in python3-3.5.1-2.fc24 so that we can proceed on secondary archs, but needs review</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9021035</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora Admin XMLRPC Client">fedora-admin-xmlrpc</who>
    <bug_when>2016-01-29 08:07:28 -0500</bug_when>
    <thetext>This package has changed ownership in the Fedora Package Database.  Reassigning to the new owner of this component.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9094289</commentid>
    <comment_count>3</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2016-02-24 10:32:44 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 24 development cycle.
Changing version to &apos;24&apos;.

More information and reason for this action is here:
https://fedoraproject.org/wiki/Fedora_Program_Management/HouseKeeping/Fedora24#Rawhide_Rebase</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9667206</commentid>
    <comment_count>4</comment_count>
    <who name="Charalampos Stratakis">cstratak</who>
    <bug_when>2016-08-31 08:28:15 -0400</bug_when>
    <thetext>The issue is fixed upstream since Python 3.5.2 (which is currently in rawhide and soon to be at f25), and the same fix is applied upstream as the downstream patch applied from here.

scratch build from ppc koji that verifies the fix:
http://ppc.koji.fedoraproject.org/koji/taskinfo?taskID=3658934</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1106734</attachid>
            <date>2015-12-17 09:12:00 -0500</date>
            <delta_ts>2015-12-17 09:12:41 -0500</delta_ts>
            <desc>modified math-once.patch</desc>
            <filename>math-once.patch</filename>
            <type>text/plain</type>
            <size>2744</size>
            <attacher name="Karsten Hopp">karsten</attacher>
            
              <data encoding="base64">IyBIRyBjaGFuZ2VzZXQgcGF0Y2gKIyBQYXJlbnQgIDJlNWZkYjhhODg3NGRkODVjYWI5ZmQ2ZjA4
NjM5Mjc2Mzk1Y2ZkYTMKSXNzdWUgIzI0NDIxOiBDb21waWxlIF9tYXRoLmMgc2VwYXJhdGVseSB0
byBhdm9pZCByYWNlIGNvbmRpdGlvbgoKZGlmZiAtdXAgUHl0aG9uLTMuNS4xL01ha2VmaWxlLnBy
ZS5pbi5raCBQeXRob24tMy41LjEvTWFrZWZpbGUucHJlLmluCi0tLSBQeXRob24tMy41LjEvTWFr
ZWZpbGUucHJlLmluLmtoCTIwMTUtMTItMTcgMDU6NTE6MDguNDY2NTQ2MTU3IC0wNTAwCisrKyBQ
eXRob24tMy41LjEvTWFrZWZpbGUucHJlLmluCTIwMTUtMTItMTcgMDU6NTI6MjYuMjA3NzYxNjM1
IC0wNTAwCkBAIC01ODcsMTEgKzU4NywxNSBAQCBweWJ1aWxkZGlyLnR4dDogJChCVUlMRFBZVEhP
TikKIAkJZXhpdCAxIDsgXAogCWZpCiAKKyMgVGhpcyBpcyBzaGFyZWQgYnkgdGhlIG1hdGggYW5k
IGNtYXRoIG1vZHVsZXMKK01vZHVsZXMvX21hdGgubzogTW9kdWxlcy9fbWF0aC5jIE1vZHVsZXMv
X21hdGguaAorCSQoQ0MpIC1jICQoQ0NTSEFSRUQpICQoUFlfQ09SRV9DRkxBR1MpIC1vICRAICQ8
CisKICMgQnVpbGQgdGhlIHNoYXJlZCBtb2R1bGVzCiAjIFVuZGVyIEdOVSBtYWtlLCBNQUtFRkxB
R1MgYXJlIHNvcnRlZCBhbmQgbm9ybWFsaXplZDsgdGhlICdzJyBmb3IKICMgLXMsIC0tc2lsZW50
IG9yIC0tcXVpZXQgaXMgYWx3YXlzIHRoZSBmaXJzdCBjaGFyLgogIyBVbmRlciBCU0QgbWFrZSwg
TUFLRUZMQUdTIG1pZ2h0IGJlICIgLXMgLXYgeD15Ii4KLXNoYXJlZG1vZHM6ICQoQlVJTERQWVRI
T04pIHB5YnVpbGRkaXIudHh0CitzaGFyZWRtb2RzOiAkKEJVSUxEUFlUSE9OKSBweWJ1aWxkZGly
LnR4dCBNb2R1bGVzL19tYXRoLm8KIAlAY2FzZSAiJCRNQUtFRkxBR1MiIGluIFwKIAkgICAgKlwg
LXMqfHMqKSBxdWlldD0iLXEiOzsgXAogCSAgICAqKSBxdWlldD0iIjs7IFwKZGlmZiAtdXAgUHl0
aG9uLTMuNS4xL01pc2MvTkVXUy5raCBQeXRob24tMy41LjEvTWlzYy9ORVdTCi0tLSBQeXRob24t
My41LjEvTWlzYy9ORVdTLmtoCTIwMTUtMTItMTcgMDU6NTM6NDAuODk4OTI5OTQ2IC0wNTAwCisr
KyBQeXRob24tMy41LjEvTWlzYy9ORVdTCTIwMTUtMTItMTcgMDU6NTQ6MjguNTk5Njc2MTM2IC0w
NTAwCkBAIC00NjQsNiArNDY0LDEwIEBAIEJ1aWxkCiAtIElzc3VlICMyNDk4NjogSXQgaXMgbm93
IHBvc3NpYmxlIHRvIGJ1aWxkIFB5dGhvbiBvbiBXaW5kb3dzIHdpdGhvdXQgZXJyb3JzCiAgIHdo
ZW4gZXh0ZXJuYWwgbGlicmFyaWVzIGFyZSBub3QgYXZhaWxhYmxlLgogCistIElzc3VlICMyNDQy
MTogQ29tcGlsZSBNb2R1bGVzL19tYXRoLmMgb25jZSwgYmVmb3JlIGJ1aWxkaW5nIGV4dGVuc2lv
bnMuCisgIFByZXZpb3VzbHkgaXQgY291bGQgZmFpbCB0byBjb21waWxlIHByb3Blcmx5IGlmIHRo
ZSBtYXRoIGFuZCBjbWF0aCBidWlsZHMKKyAgd2VyZSBjb25jdXJyZW50LgorCiBXaW5kb3dzCiAt
LS0tLS0tCiAKZGlmZiAtdXAgUHl0aG9uLTMuNS4xL3NldHVwLnB5LmtoIFB5dGhvbi0zLjUuMS9z
ZXR1cC5weQotLS0gUHl0aG9uLTMuNS4xL3NldHVwLnB5LmtoCTIwMTUtMTItMTcgMDY6Mzg6MzAu
OTUwOTU1NjA3IC0wNTAwCisrKyBQeXRob24tMy41LjEvc2V0dXAucHkJMjAxNS0xMi0xNyAwNjo0
MjozMi4wNzQ3MjI0OTMgLTA1MDAKQEAgLTU4MiwxMyArNTgyLDE3IEBAIGNsYXNzIFB5QnVpbGRF
eHQoYnVpbGRfZXh0KToKIAogICAgICAgICAjIGFycmF5IG9iamVjdHMKICAgICAgICAgZXh0cy5h
cHBlbmQoIEV4dGVuc2lvbignYXJyYXknLCBbJ2FycmF5bW9kdWxlLmMnXSkgKQorCisgICAgICAg
IHNoYXJlZF9tYXRoID0gJ01vZHVsZXMvX21hdGgubycKICAgICAgICAgIyBjb21wbGV4IG1hdGgg
bGlicmFyeSBmdW5jdGlvbnMKLSAgICAgICAgZXh0cy5hcHBlbmQoIEV4dGVuc2lvbignY21hdGgn
LCBbJ2NtYXRobW9kdWxlLmMnLCAnX21hdGguYyddLAotICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGRlcGVuZHM9WydfbWF0aC5oJ10sCisgICAgICAgIGV4dHMuYXBwZW5kKCBFeHRlbnNp
b24oJ2NtYXRoJywgWydjbWF0aG1vZHVsZS5jJ10sCisgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgZXh0cmFfb2JqZWN0cz1bc2hhcmVkX21hdGhdLAorICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGRlcGVuZHM9WydfbWF0aC5oJywgc2hhcmVkX21hdGhdLAogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGxpYnJhcmllcz1tYXRoX2xpYnMpICkKICAgICAgICAgIyBtYXRo
IGxpYnJhcnkgZnVuY3Rpb25zLCBlLmcuIHNpbigpCi0gICAgICAgIGV4dHMuYXBwZW5kKCBFeHRl
bnNpb24oJ21hdGgnLCAgWydtYXRobW9kdWxlLmMnLCAnX21hdGguYyddLAotICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGRlcGVuZHM9WydfbWF0aC5oJ10sCisgICAgICAgIGV4dHMuYXBw
ZW5kKCBFeHRlbnNpb24oJ21hdGgnLCAgWydtYXRobW9kdWxlLmMnXSwKKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBleHRyYV9vYmplY3RzPVtzaGFyZWRfbWF0aF0sCisgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgZGVwZW5kcz1bJ19tYXRoLmgnLCBzaGFyZWRfbWF0aF0sCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlicmFyaWVzPW1hdGhfbGlicykgKQogCiAg
ICAgICAgICMgdGltZSBsaWJyYXJpZXM6IGxpYnJ0IG1heSBiZSBuZWVkZWQgZm9yIGNsb2NrX2dl
dHRpbWUoKQo=
</data>

          </attachment>
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1270600</bug_id>
          
          <creation_ts>2015-10-11 13:57:00 -0400</creation_ts>
          <short_desc>fedora-easy-karma can not execute without yum or python2-dnf (missing dependency)</short_desc>
          <delta_ts>2016-09-21 16:23:18 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>fedora-easy-karma</component>
          <version>24</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>Reopened</keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Raphael Groner">projects.rg</reporter>
          <assigned_to name="Till Maas">opensource</assigned_to>
          <cc>fvillavi</cc>
    
    
    <cc>h.reindl</cc>
    
    
    <cc>louzaoh</cc>
    
    
    <cc>mhroncok</cc>
    
    
    <cc>opensource</cc>
    
    
    <cc>watanabe.yu+redhat.bugzilla</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>fedora-easy-karma-0-0.28.20150921gitc932687a.fc24 fedora-easy-karma-0-0.28.20150921gitc932687a.fc23</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-09-19 15:54:38</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>8709532</commentid>
    <comment_count>0</comment_count>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2015-10-11 13:57:14 -0400</bug_when>
    <thetext>Description of problem:
$ fedora-easy-karma --help
Traceback (most recent call last):
  File &quot;/bin/fedora-easy-karma&quot;, line 47, in &lt;module&gt;
    import yum
ImportError: No module named yum


Version-Release number of selected component (if applicable):
fedora-easy-karma-0-0.26.20150921gitc932687a.fc23.noarch
dnf-1.1.2-4.fc23.noarch
yum-3.4.3-507.fc23.noarch

How reproducible:
yes

Steps to Reproduce:
1. $ fedora-easy-karma --help
2.
3.

Actual results:
fails with error above

Expected results:
works

Additional info:
fedora-easy-karma should depend on yum or be ported to use new dnf</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8763226</commentid>
    <comment_count>1</comment_count>
    <who name="Till Maas">opensource</who>
    <bug_when>2015-10-28 16:17:50 -0400</bug_when>
    <thetext>sorry for the late reply, it is ported to dnf but since F23 switched to python3 by default you need to install python-dnf to make it use dnf. Fedora-easy-karma cannot yet use python3 because of pkgs it depends on. Also it is not possible for it to say that it can use either yum or dnf, therefore the dep is currently missing. I will probably just add a python-dnf dependency eventually.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8765948</commentid>
    <comment_count>2</comment_count>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2015-10-29 10:40:40 -0400</bug_when>
    <thetext>It&apos;s useful to depend on python-dnf in Fedora 23, as yum does not get installed by default.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8918670</commentid>
    <comment_count>3</comment_count>
    <who name="Till Maas">opensource</who>
    <bug_when>2015-12-15 04:58:00 -0500</bug_when>
    <thetext>*** Bug 1290984 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9177105</commentid>
    <comment_count>4</comment_count>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2016-03-24 11:32:36 -0400</bug_when>
    <thetext>Any news here? I&apos;m still able to reproduce in Fedora 23.
fedora-easy-karma-0-0.26.20150921gitc932687a.fc23.noarch
dnf-1.1.7-2.fc23.noarch

Can you add a weak dependency to python2-dnf, as you suggest in comment #1?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9177464</commentid>
    <comment_count>5</comment_count>
    <who name="Till Maas">opensource</who>
    <bug_when>2016-03-24 13:04:33 -0400</bug_when>
    <thetext>Thank you for the reminder, there will be an update shortly.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9177473</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-03-24 13:08:37 -0400</bug_when>
    <thetext>fedora-easy-karma-0-0.28.20150921gitc932687a.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-3495b9a120</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9177474</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-03-24 13:08:43 -0400</bug_when>
    <thetext>fedora-easy-karma-0-0.28.20150921gitc932687a.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-a1ad1a4378</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9177896</commentid>
    <comment_count>8</comment_count>
    <who name="Harald Reindl">h.reindl</who>
    <bug_when>2016-03-24 15:53:59 -0400</bug_when>
    <thetext>python2-dnf is *not* needed

fix fedora-easy-karma to work with dnf but don&apos;t pull useless python2 stuff even as weak-dependency - see bodhi comment written with fedora-easy-karma *after* remve all that oython2 stuff again which was pulled by &quot;dnf update package.rpm&quot; after download from koji</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9178923</commentid>
    <comment_count>9</comment_count>
    <who name="Till Maas">opensource</who>
    <bug_when>2016-03-25 04:47:35 -0400</bug_when>
    <thetext>*** Bug 1302919 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9178924</commentid>
    <comment_count>10</comment_count>
    <who name="Till Maas">opensource</who>
    <bug_when>2016-03-25 04:51:08 -0400</bug_when>
    <thetext>python2-dnf or yum is needed right now. AFAIK I cannot use rich dependencies to specify this. Porting fedora-easy-karma to Python3 requires its dependencies to be available for python3, but fedora-packager is currently not available for python3, see bug 1024796.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9179533</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-03-25 16:27:58 -0400</bug_when>
    <thetext>fedora-easy-karma-0-0.28.20150921gitc932687a.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-3495b9a120</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9180061</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-03-26 11:20:00 -0400</bug_when>
    <thetext>fedora-easy-karma-0-0.28.20150921gitc932687a.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-a1ad1a4378</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9253681</commentid>
    <comment_count>13</comment_count>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2016-04-20 04:57:26 -0400</bug_when>
    <thetext>Why don&apos;t you push to stable?

fc24, karma +15, in testing a month ago
fc23, karma +20, in testing 24 days</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9253766</commentid>
    <comment_count>14</comment_count>
    <who name="Christian Stadelmann">rhbz2</who>
    <bug_when>2016-04-20 05:19:58 -0400</bug_when>
    <thetext>Raphael Groner: Because this update doesn&apos;t fix the issue. Instead it might break fedora-easy-karma because dependencies are broken.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9253882</commentid>
    <comment_count>15</comment_count>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2016-04-20 05:50:30 -0400</bug_when>
    <thetext>Christian Stadelmann: I don&apos;t ask you but the maintainer of fedora-easy-karma.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9257308</commentid>
    <comment_count>16</comment_count>
    <who name="Till Maas">opensource</who>
    <bug_when>2016-04-21 06:45:42 -0400</bug_when>
    <thetext>Christian: Could you elaborate on the broken dependencies?
Raphael: Since f-e-k requires enabling updates-testing to be useful (afaik), I do not see much extra value in pushing it to stable. Also I am still hoping that I will be able to use rich dependencies eventually, but this still needs some fixes in the infrastructure.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9259247</commentid>
    <comment_count>17</comment_count>
    <who name="Christian Stadelmann">rhbz2</who>
    <bug_when>2016-04-21 18:59:47 -0400</bug_when>
    <thetext>Till: It misses a dependency to yum. This last update didn&apos;t include a &quot;fix&quot;, problem still persists. f-e-k breaks at runtime failing to load dependencies.

$ fedora-easy-karma 
Traceback (most recent call last):
  File &quot;/usr/bin/fedora-easy-karma&quot;, line 47, in &lt;module&gt;
    import yum
ImportError: No module named yum

I&apos;m running fedora-easy-karma-0-0.28.20150921gitc932687a.fc24.noarch

Please don&apos;t push this update to stable. Please have a look at https://bodhi.fedoraproject.org/updates/FEDORA-2016-a1ad1a4378 and https://bodhi.fedoraproject.org/updates/FEDORA-2016-3495b9a120, especially to comments of @hreindl.

f-e-k must depend on some yum or dnf package, but it doesn&apos;t. This is why it breaks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9260295</commentid>
    <comment_count>18</comment_count>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2016-04-22 05:27:47 -0400</bug_when>
    <thetext>I still fail to see the problem?!

If you insist to keep with yum, do:

dnf remove -y python2-dnf &amp;&amp; dnf install -y yum

f-e-k prefers dnf over yum if available. To try in first step with dnf is in common sense due to dnf is now the default package manager. Works for me!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9260449</commentid>
    <comment_count>19</comment_count>
    <who name="Christian Stadelmann">rhbz2</who>
    <bug_when>2016-04-22 06:26:57 -0400</bug_when>
    <thetext>Then f-e-k MUST depend on either one of these. Since it doesn&apos;t run without either of these, it is still a dependency issue caused by a packaging bug.

dnf is using python3 by default, so you can&apos;t expect anyone to have the python2-dnf package installed. yum is history anyway.

I tested on both vanilla Fedora 23 (ISO number 10) and vanilla 24 (Alpha 7). On both it fails with the same traceback.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9260457</commentid>
    <comment_count>20</comment_count>
    <who name="Harald Reindl">h.reindl</who>
    <bug_when>2016-04-22 06:30:31 -0400</bug_when>
    <thetext>the just require yum and you are done

yum is anyways needed for serious testers because 

* dnf don&apos;t work most times with downloads (dnf update *.rpm)
* nothing is able to replace yum-utils

so don&apos;t pull me additional junk not needed all the time while yum is enough</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9260525</commentid>
    <comment_count>21</comment_count>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2016-04-22 07:03:53 -0400</bug_when>
    <thetext>This bug is closed, please notice. If you still think there&apos;s an issue, open a new bug. But do not spam me with your misunderstanding. We tried to explain, you do not understand.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9260536</commentid>
    <comment_count>22</comment_count>
    <who name="Harald Reindl">h.reindl</who>
    <bug_when>2016-04-22 07:08:09 -0400</bug_when>
    <thetext>@Raphael Groner: who do you think you are?
Removed CC|h.reindl@thelounge.net

* that you closed the bug means nothing
* it&apos;s not in stable updates
* it&apos;s not there for good reasons
* pull me useless new deps is not a solution
* if it ain&apos;t broken don&apos;t fix it</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9309901</commentid>
    <comment_count>23</comment_count>
    <who name="Yu Watanabe">watanabe.yu+redhat.bugzilla</who>
    <bug_when>2016-05-10 05:15:36 -0400</bug_when>
    <thetext>As many people reports, fedora-easy-karma-0-0.28.20150921gitc932687a has a dependency issue.
Now, I found that fedora-easy-karma-0-0.29.20160408gitb5cdbc7f.fc25 has &apos;correct&apos; dependencies. (Of course, it brings new deps that Harald do not want.) I&apos;ve tried to build 0.29 for F24, it also works as expected.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9313315</commentid>
    <comment_count>24</comment_count>
    <who name="Till Maas">opensource</who>
    <bug_when>2016-05-10 16:52:44 -0400</bug_when>
    <thetext>(In reply to Yu Watanabe from comment #23)
&gt; As many people reports, fedora-easy-karma-0-0.28.20150921gitc932687a has a
&gt; dependency issue.
&gt; Now, I found that fedora-easy-karma-0-0.29.20160408gitb5cdbc7f.fc25 has
&gt; &apos;correct&apos; dependencies. (Of course, it brings new deps that Harald do not
&gt; want.) I&apos;ve tried to build 0.29 for F24, it also works as expected.


I do not follow, there is only a 0.29 build for EPEL, because there was no change that affects Fedora in 0.29. 0.28 should already have the recommended dependency.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9315443</commentid>
    <comment_count>25</comment_count>
    <who name="Yu Watanabe">watanabe.yu+redhat.bugzilla</who>
    <bug_when>2016-05-10 23:22:39 -0400</bug_when>
    <thetext>Sorry, I had a mistake. I use 0.28.fc25, not 0.29.

For fedora 23 or 24,
===
dnf --releasever=24 --installroot /tmp/hoge install fedora-easy-karma
===
does not bring python2-dnf. The recommendation of python2-dnf is ignored. The version of f-e-k is 0.28.

For rawhide,
===
dnf --disablerepo=* --enablerepo=rawhide --installroot /tmp/hoge install fedora-easy-karma
===
This brings python2-dnf, and the recommendation seems to work. The version is also 0.28.

Also, as written in my previous comment, my local build of 0.29 for fedora 23 and 24 can bring python2-dnf correctly.

I guess that the wrong recommended dependency for 0.28.fc23 (or fc24) is caused by the build system, not by f-e-k spec. What do you think about?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9563312</commentid>
    <comment_count>26</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-07-28 08:33:18 -0400</bug_when>
    <thetext>I can confirm this for Fedora 24, installing python2-dnf fixes the problem.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9591260</commentid>
    <comment_count>27</comment_count>
    <who name="Till Maas">opensource</who>
    <bug_when>2016-08-07 10:49:00 -0400</bug_when>
    <thetext>

*** This bug has been marked as a duplicate of bug 1329629 ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9718378</commentid>
    <comment_count>28</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-09-17 22:20:59 -0400</bug_when>
    <thetext>fedora-easy-karma-0-0.28.20150921gitc932687a.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9718904</commentid>
    <comment_count>29</comment_count>
    <who name="Miro Hrončok">mhroncok</who>
    <bug_when>2016-09-18 05:20:10 -0400</bug_when>
    <thetext>The mentioned update does nto fix this problem, according to the comments.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9722699</commentid>
    <comment_count>30</comment_count>
    <who name="Till Maas">opensource</who>
    <bug_when>2016-09-19 15:54:38 -0400</bug_when>
    <thetext>(In reply to Miro Hrončok from comment #29)
&gt; The mentioned update does nto fix this problem, according to the comments.

Please see: https://bugzilla.redhat.com/show_bug.cgi?id=1329629#c11 - the update should now fix this (good enough).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9731590</commentid>
    <comment_count>31</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-09-21 16:23:18 -0400</bug_when>
    <thetext>fedora-easy-karma-0-0.28.20150921gitc932687a.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
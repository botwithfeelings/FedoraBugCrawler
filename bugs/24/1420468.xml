<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1420468</bug_id>
          
          <creation_ts>2017-02-08 13:08:00 -0500</creation_ts>
          <short_desc>DNF not remove unused dependencies on removing &quot;Extreme Tuxracer&quot; game !</short_desc>
          <delta_ts>2017-05-12 18:30:23 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>dnf</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>RAWHIDE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="yousifjkadom@yahoo.com">yousifjkadom</reporter>
          <assigned_to>rpm-software-management</assigned_to>
          <cc>jmracek</cc>
    
    
    <cc>packaging-team-maint</cc>
    
    
    <cc>rhbz2</cc>
    
    
    <cc>rpm-software-management</cc>
    
    
    <cc>vmukhame</cc>
    
    
    <cc>yousifjkadom</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-05-12 15:59:26</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10132092</commentid>
    <comment_count>0</comment_count>
    <who name="yousifjkadom@yahoo.com">yousifjkadom</who>
    <bug_when>2017-02-08 13:08:28 -0500</bug_when>
    <thetext>Description of problem:
DNF not recognized not-required packages (dependencies) on removal of a game !

Version-Release number of selected component (if applicable):
1.1.10-4 on Fedora 24 X64 bit Cinnamon edition (it is on it&apos;s defauled configuration &amp; not modified by any way: set by default to remove unused dependencies when remove packages)

How reproducible:
- install &quot;Extreme Tuxracer&quot; by GNOME software then remove it.

Steps to Reproduce:
1.install &quot;Extreme Tuxracer&quot;
2.see dependencies packages that dnf ask to install with game
3.now (after finishing installation) try to remove this game. You will see that 2 of dependencies packages will not asked to remove by dnf ! These are:
- extremetuxracer-papercuts-fonts
- extremetuxracer-common

Actual results:
These 2 package (which by definition NOT used by any other application or package) not removed:
- extremetuxracer-papercuts-fonts
- extremetuxracer-common

Expected results:
These 2 packages (being unused dependencies) should removed by DNF when removing extremetuxracer game.


Additional info:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10133887</commentid>
    <comment_count>1</comment_count>
    <who name="Igor Gnatenko">ignatenko</who>
    <bug_when>2017-02-09 05:45:55 -0500</bug_when>
    <thetext>I can&apos;t reproduce it on my system. So it highly depends on packages installed.

Please re-run dnf remove extremetuxracer with --debugsolver and attach debugdata directory.

Or if you already have it removed, then run dnf --debugsolver --assumeno autoremove and attach debugdata directory.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10135614</commentid>
    <comment_count>2</comment_count>
    <who name="yousifjkadom@yahoo.com">yousifjkadom</who>
    <bug_when>2017-02-09 13:20:04 -0500</bug_when>
    <thetext>Hi. Before do what you suggest please:

1) I installed this game by using GNOME software center (that I installed on my system after Fedora project said that they fix bug in Pakagekit which was leading to conflict with DNF), then I remove this game by Yum extender (DNF) package manager. Does this bearing something to you ?

2) If point (1) above not useful to you to see cause of this bug, then before do what you suggest on me, I wish to hear from you that you will remain with me to learn me how to remove debugger files. I perform such test in previous issue but when I tried to remove them I could not &amp; someone suggest on me to remove them by file manager under sudo &amp; I did this but later on I knew that use GUI with sudo is risky &amp; it is safer to remove such files from command line, but I forget how to do this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10253968</commentid>
    <comment_count>3</comment_count>
    <who name="Christian Stadelmann">rhbz2</who>
    <bug_when>2017-03-20 07:45:40 -0400</bug_when>
    <thetext>(In reply to yousifjkadom@yahoo.com from comment #2)
&gt; Hi. Before do what you suggest please:

Please do run the commands Igor Gnatenko gave you. You can deny running the transactions by pressing &quot;n&quot;. It is just the debugsolver data that needs to be generated. Without this data there is no way your bug can be fixed. your (1) and (2) is not helpful.

&gt; 1)
&gt; â€¦ then I remove this game by Yum extender (DNF) package manager.

Yum extender should do the same as dnf does.q

&gt; 2)
&gt; I wish to hear from you that you will remain with me to learn me how to remove debugger files.

Which debugger files do you mean?

Do you mean the debugsolver data? It is stored in /root/debugdata if you ran dnf as root. See `man dnf` and search for &quot;--debugsolver&quot; for details.

Or do you mean the debuginfo packages? You can get a list of them by running `dnf list installed \*-debuginfo`. You can uninstall them one by one with `dnf remove [package name]` or all together by running `dnf remove \*-debuginfo`. You can safely remove all debuginfo packages, they are not required for anything essential, only for debugging applications.


Have you upgraded your system from Fedora 24 or earlier? If yes, have you used both dnf and gnome-software on this system prior to upgrading to Fedora 25? If yes, you are probably affected by fallout of bug #1259865. https://fedoraproject.org/wiki/Common_F25_bugs#DNF_upgrade_might_remove_essential_system_packages_if_you_used_PackageKit_.28GNOME_Software.2C_KDE_Apper.29_in_the_past has a suggested workaround, but the only real fix known to me is wiping your OS and reinstalling.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10254226</commentid>
    <comment_count>4</comment_count>
    <who name="yousifjkadom@yahoo.com">yousifjkadom</who>
    <bug_when>2017-03-20 09:08:27 -0400</bug_when>
    <thetext>No !

1) No, I did not upgrade from Fedora 24 to 25. I installed Fedora 24 &amp; just make system up to date without upgrading to Fedora,

2) No, I did not install &amp; use GNOME software center unless many months passed after fixing bug 1259865. I know this fetal bug &amp; was very careful from it. I waited till publicly announced that it was fixed, then gave additional months (may be 4 or 5 months) before installed GNOME software centre.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10408961</commentid>
    <comment_count>5</comment_count>
    <who name="Jaroslav Mracek">jmracek</who>
    <bug_when>2017-05-12 15:59:26 -0400</bug_when>
    <thetext>I think your problem was fixed in upstream in dnf-2.4 and gnome software on Fedora 25. DNF-2.4 is available for Fedora 26 and rawhide or can be installed from our testing repository for Fedora 24+ (dnf copr enable rpmsoftwaremanagement/dnf-nightly). Please if you will experience the problem on Fedora 25 with dnf-2.4, don&apos;t hesitate to reopen the bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
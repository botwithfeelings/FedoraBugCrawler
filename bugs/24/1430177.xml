<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1430177</bug_id>
          
          <creation_ts>2017-03-07 20:04:00 -0500</creation_ts>
          <short_desc>Kontact doesn&apos;t work after update</short_desc>
          <delta_ts>2017-03-11 17:30:17 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>kontact</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>urgent</priority>
          <bug_severity>urgent</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Steve Grubb">sgrubb</reporter>
          <assigned_to name="Rex Dieter">rdieter</assigned_to>
          <cc>kde-sig</cc>
    
    
    <cc>kmg952</cc>
    
    
    <cc>rdieter</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-03-11 06:50:43</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10218768</commentid>
    <comment_count>0</comment_count>
    <who name="Steve Grubb">sgrubb</who>
    <bug_when>2017-03-07 20:04:34 -0500</bug_when>
    <thetext>Description of problem:
I updated kontact today and now its asking me to set up my accounts. It was working fine until this update. I have 12 years of data in an account. Did this update lose all my information? Should it have migrated settings or something? Is it incompatible with previous kontact?

Version-Release number of selected component (if applicable):
kontact-16.08.3-2.fc24.x86_64
kmail-16.08.3-2.fc24.x86_64

Steps to Reproduce:
1. dny -y update
2. open kontact


Actual results:
My email

Expected results:
Being asked to setup an account.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10221493</commentid>
    <comment_count>1</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-08 09:42:04 -0500</bug_when>
    <thetext>kdepim-16.12.2-3.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-81bed9e1d4</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10223105</commentid>
    <comment_count>2</comment_count>
    <who name="Steve Grubb">sgrubb</who>
    <bug_when>2017-03-08 18:56:54 -0500</bug_when>
    <thetext>OK. With the update mentioned, kontact does have my data again. However, its very unstable and still unusable. It segfaults starting up, akonadi segfaults when fetching mail, and then it loses connection with the imap server. 

Mar  8 18:46:15 x2 akonadi_imap_resource: org.kde.pim.akonadicore: The item sync is being rolled-back.
Mar  8 18:46:15 x2 akonadi_imap_resource: org.kde.pim.imapresource: Fetch job failed  &quot;Connection to server lost.&quot;
Mar  8 18:46:15 x2 akonadi_imap_resource: org.kde.pim.imapresource: &quot;&quot;
Mar  8 18:46:47 x2 akonadi_imap_resource: org.kde.pim.kimap: Connection to server lost  0
Mar  8 18:46:47 x2 akonadi_imap_resource: org.kde.pim.imapresource: Session login cancelled

Kontact is so complex the only solution is to reboot the system. I can usually access 1 or 2 emails before it loses the session.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10224483</commentid>
    <comment_count>3</comment_count>
    <who name="Rex Dieter">rdieter</who>
    <bug_when>2017-03-09 06:36:31 -0500</bug_when>
    <thetext>*** Bug 1430590 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10224509</commentid>
    <comment_count>4</comment_count>
    <who name="Rex Dieter">rdieter</who>
    <bug_when>2017-03-09 06:47:52 -0500</bug_when>
    <thetext>You can probably consider some variant of the following to avoid having to reboot or restart session:


(command line):

akonadictl restart

or even

akonadictl stop
(and it should restart itself on demand the next time you launch an akonadi client, like kmail or kontact)


Of course, the more pressing issue here is:
akonadi_imap_resource: org.kde.pim.kimap: Connection to server lost  0</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10224739</commentid>
    <comment_count>5</comment_count>
    <who name="Steve Grubb">sgrubb</who>
    <bug_when>2017-03-09 07:54:43 -0500</bug_when>
    <thetext>I filed several bz upstream about how unstable this new release is:

https://bugs.kde.org/show_bug.cgi?id=377399 kontact loses imap connections constantly

https://bugs.kde.org/show_bug.cgi?id=377393 /usr/bin/akonadiserver crashes

https://bugs.kde.org/show_bug.cgi?id=377395 Kontact is crashing during start up

I also see the retrace server starting to count up crashes.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10229860</commentid>
    <comment_count>6</comment_count>
    <who name="kevin">kmg952</who>
    <bug_when>2017-03-10 19:02:59 -0500</bug_when>
    <thetext>Still getting the following (Times are AEST):

Last metadata expiration check: 0:13:11 ago on Sat Mar 11 09:45:57 2017.
Dependencies resolved.
=========================================================================
 Package      Arch        Version     Repository    Size
=========================================================================
Skipping packages with broken dependencies:
 akregator         x86_64      16.12.2-1.fc24        updates      677 k
 akregator-libs    x86_64      16.12.2-1.fc24        updates      560 k
 gpgme             x86_64      1.8.0-10.fc24         updates      196 k
 kaddressbook      x86_64      16.12.2-1.fc24        updates       80 k
 kaddressbook-libs x86_64      16.12.2-1.fc24        updates      151 k
 kdepim-addons     x86_64      16.12.2-1.fc24        updates      1.0 M
 kdepim-apps-libs  x86_64      16.12.2-1.fc24        updates      159 k
 kf5-libkleo       x86_64      16.12.2-1.fc24        updates      364 k
 kf5-mailcommon    x86_64      16.12.2-1.fc24        updates      518 k
 kf5-messagelib    x86_64      16.12.2-1.fc24        updates      5.2 M
 kleopatra         x86_64      16.12.2-1.fc24        updates      1.4 M
 kleopatra-libs    x86_64      16.12.2-1.fc24        updates       93 k
 kmail             x86_64      16.12.2-1.fc24        updates      1.5 M
 kmail-libs        x86_64      16.12.2-1.fc24        updates      940 k
 knotes-libs       x86_64      16.12.2-1.fc24        updates      243 k
 kontact           x86_64      16.12.2-1.fc24        updates      766 k
 kontact-libs      x86_64      16.12.2-1.fc24        updates       92 k
 korganizer        x86_64      16.12.2-1.fc24        updates      732 k
 korganizer-libs   x86_64      16.12.2-1.fc24        updates      795 k

Transaction Summary
=========================================================================
Skip  19 Packages

Nothing to do.
Complete!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10230175</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-03-11 06:50:43 -0500</bug_when>
    <thetext>kdepim-16.12.2-3.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10230658</commentid>
    <comment_count>8</comment_count>
    <who name="kevin">kmg952</who>
    <bug_when>2017-03-11 17:30:17 -0500</bug_when>
    <thetext>KMail will not start because Akonadi will not start

$ akonadictl start
/usr/bin/mysqladmin: connect to server at &apos;localhost&apos; failed

error: &apos;Can&apos;t connect to local MySQL server through socket &apos;/tmp/akonadi-kmg.pbmcxO/mysql.socket&apos; (111 &quot;Connection refused&quot;)&apos;

Check that mysqld is running and that the socket: &apos;/tmp/akonadi-kmg.pbmcxO/mysql.socket&apos; exists!</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
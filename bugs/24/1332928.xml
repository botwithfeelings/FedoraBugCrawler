<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1332928</bug_id>
          
          <creation_ts>2016-05-04 07:40:00 -0400</creation_ts>
          <short_desc>Fails to require namespaced gem names, e.g. net-ssh</short_desc>
          <delta_ts>2016-05-30 17:21:20 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>rubygem-bundler_ext</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dominic Cleal">dominic</reporter>
          <assigned_to name="Jun Aruga">jaruga</assigned_to>
          <cc>jaruga</cc>
    
    
    <cc>vondruch</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>rubygem-bundler_ext-0.4.1-1.fc25 rubygem-bundler_ext-0.4.1-1.fc24</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-05-30 17:21:20</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9291477</commentid>
    <comment_count>0</comment_count>
    <who name="Dominic Cleal">dominic</who>
    <bug_when>2016-05-04 07:40:56 -0400</bug_when>
    <thetext>Description of problem:
bundler_ext fails to require gems such as &quot;net-ssh&quot; correctly, it raises an error when `require &quot;net-ssh&quot;` fails and doesn&apos;t try the net/ssh variant. This worked in bundler_ext 0.3.0.

Version-Release number of selected component (if applicable):
rubygem-bundler_ext-0.4.0-3.fc24

How reproducible:
Always

Steps to Reproduce:
1. yum -y install rubygem-bundler_ext rubygem-net-ssh
2. echo &apos;gem &quot;net-ssh&quot;&apos; &gt; Gemfile
3. ruby -rbundler_ext -e &quot;BundlerExt.system_require(&apos;`pwd`/Gemfile&apos;, :all)&quot; -e &apos;puts Net::SSH::Version::STRING&apos;

Actual results:
/usr/share/gems/gems/bundler_ext-0.4.0/lib/bundler_ext/output.rb:12:in `strict_err&apos;: Gem loading error: cannot load such file -- net-ssh (RuntimeError)
        from /usr/share/gems/gems/bundler_ext-0.4.0/lib/bundler_ext/runtime.rb:50:in `rescue in block in system_require&apos;
        from /usr/share/gems/gems/bundler_ext-0.4.0/lib/bundler_ext/runtime.rb:39:in `block in system_require&apos;
        from /usr/share/gems/gems/bundler_ext-0.4.0/lib/bundler_ext/runtime.rb:37:in `each&apos;
        from /usr/share/gems/gems/bundler_ext-0.4.0/lib/bundler_ext/runtime.rb:37:in `system_require&apos;
        from /usr/share/gems/gems/bundler_ext-0.4.0/lib/bundler_ext.rb:19:in `block in system_require&apos;
        from /usr/share/gems/gems/bundler_ext-0.4.0/lib/bundler_ext.rb:14:in `each&apos;
        from /usr/share/gems/gems/bundler_ext-0.4.0/lib/bundler_ext.rb:14:in `system_require&apos;
        from -e:1:in `&lt;main&gt;&apos;

Expected results:
2.9.1 (net-ssh version)

Additional info:
https://github.com/bundlerext/bundler_ext/pull/18 is an upstream patch that remains unmerged, tested and it works.  Could this patch be included in the Fedora package?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9360323</commentid>
    <comment_count>1</comment_count>
    <who name="Dominic Cleal">dominic</who>
    <bug_when>2016-05-26 03:16:32 -0400</bug_when>
    <thetext>&gt; https://github.com/bundlerext/bundler_ext/pull/18 is an upstream patch that remains unmerged, tested and it works.  Could this patch be included in the Fedora package?

Now released in 0.4.1 (bug #1339844).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9360787</commentid>
    <comment_count>2</comment_count>
    <who name="Jun Aruga">jaruga</who>
    <bug_when>2016-05-26 05:24:15 -0400</bug_when>
    <thetext>Let me check it!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9361391</commentid>
    <comment_count>3</comment_count>
      <attachid>1161939</attachid>
    <who name="Jun Aruga">jaruga</who>
    <bug_when>2016-05-26 07:58:00 -0400</bug_when>
    <thetext>Created attachment 1161939
Update to bundler_ext 0.4.1, and fix the issue.

Hi, I updated the version to 0.4.1 to fix this issue.

Right now I could not do mock build for rawhide because of Fedora infra issue (? I am asking it in Fedora Infra team).

However Koji build for rawhide was ok
http://koji.fedoraproject.org/koji/taskinfo?taskID=14259956

I checked updated version worked on f24.

$ mock -r fedora-24-x86_64 --shell

[mockbuild@unused-4-164 mytest]$ echo &apos;gem &quot;net-ssh&quot;&apos; &gt; Gemfile
[mockbuild@unused-4-164 mytest]$ ruby -rbundler_ext -e &quot;BundlerExt.system_require(&apos;`pwd`/Gemfile&apos;, :all)&quot; -e &apos;puts Net::SSH::Version::STRING&apos;
2.9.1

- Package dependency is ok
- License is ok.

Could you check this?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9361399</commentid>
    <comment_count>4</comment_count>
    <who name="Dominic Cleal">dominic</who>
    <bug_when>2016-05-26 08:00:07 -0400</bug_when>
    <thetext>Looks correct to me!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9361408</commentid>
    <comment_count>5</comment_count>
    <who name="VÃ­t Ondruch">vondruch</who>
    <bug_when>2016-05-26 08:03:58 -0400</bug_when>
    <thetext>(In reply to Jun Aruga from comment #3)
LGTM. Please go ahead.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9361579</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-26 08:34:23 -0400</bug_when>
    <thetext>rubygem-bundler_ext-0.4.1-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-57035e1a53</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9361603</commentid>
    <comment_count>7</comment_count>
    <who name="Jun Aruga">jaruga</who>
    <bug_when>2016-05-26 08:39:27 -0400</bug_when>
    <thetext>(In reply to Dominic Cleal from comment #4)
&gt; Looks correct to me!

My modification is going to be testing. [1]
After 3 or 4 days, you must get this new version.

[1] https://bodhi.fedoraproject.org/updates/rubygem-bundler_ext-0.4.1-1.fc24</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9363958</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-26 19:28:19 -0400</bug_when>
    <thetext>rubygem-bundler_ext-0.4.1-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-57035e1a53</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9369926</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-30 17:21:16 -0400</bug_when>
    <thetext>rubygem-bundler_ext-0.4.1-1.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1161939</attachid>
            <date>2016-05-26 07:58:00 -0400</date>
            <delta_ts>2016-05-26 07:58:00 -0400</delta_ts>
            <desc>Update to bundler_ext 0.4.1, and fix the issue.</desc>
            <filename>0001-Update-to-bundler_ext-0.4.1.-rhbz-1332928.patch</filename>
            <type>text/plain</type>
            <size>1040</size>
            <attacher name="Jun Aruga">jaruga</attacher>
            
              <data encoding="base64">RnJvbSBiYjEzZDUzZTcyMzliMWY0M2FhMTFlOTU2ZDdhNzllODA2MDY2ODBjIE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBKdW4gQXJ1Z2EgPGphcnVnYUByZWRoYXQuY29tPgpEYXRlOiBU
aHUsIDI2IE1heSAyMDE2IDEzOjQ2OjE3ICswMjAwClN1YmplY3Q6IFtQQVRDSF0gVXBkYXRlIHRv
IGJ1bmRsZXJfZXh0IDAuNC4xLiAocmhieiMxMzMyOTI4KQoKLS0tCiBydWJ5Z2VtLWJ1bmRsZXJf
ZXh0LnNwZWMgfCA3ICsrKysrLS0KIDEgZmlsZSBjaGFuZ2VkLCA1IGluc2VydGlvbnMoKyksIDIg
ZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvcnVieWdlbS1idW5kbGVyX2V4dC5zcGVjIGIvcnVi
eWdlbS1idW5kbGVyX2V4dC5zcGVjCmluZGV4IGM2MGQxZDUuLmQ1YWY2ZDkgMTAwNjQ0Ci0tLSBh
L3J1YnlnZW0tYnVuZGxlcl9leHQuc3BlYworKysgYi9ydWJ5Z2VtLWJ1bmRsZXJfZXh0LnNwZWMK
QEAgLTMsOCArMyw4IEBACiAKIFN1bW1hcnk6IExvYWQgc3lzdGVtIGdlbXMgdmlhIEJ1bmRsZXIg
RFNMCiBOYW1lOiBydWJ5Z2VtLSV7Z2VtX25hbWV9Ci1WZXJzaW9uOiAwLjQuMAotUmVsZWFzZTog
MyV7P2Rpc3R9CitWZXJzaW9uOiAwLjQuMQorUmVsZWFzZTogMSV7P2Rpc3R9CiBHcm91cDogRGV2
ZWxvcG1lbnQvTGFuZ3VhZ2VzCiBMaWNlbnNlOiBNSVQKIFVSTDogaHR0cHM6Ly9naXRodWIuY29t
L2J1bmRsZXJleHQvYnVuZGxlcl9leHQKQEAgLTY0LDYgKzY0LDkgQEAgcG9wZAogJXtnZW1faW5z
dGRpcn0vc3BlYy8KIAogJWNoYW5nZWxvZworKiBUaHUgTWF5IDI2IDIwMTYgSnVuIEFydWdhIDxq
YXJ1Z2FAcmVkaGF0LmNvbT4gLSAwLjQuMS0xCistIFVwZGF0ZSB0byBidW5kbGVyX2V4dCAwLjQu
MS4gKHJoYnojMTMzMjkyOCkKKwogKiBUaHUgRmViIDA0IDIwMTYgRmVkb3JhIFJlbGVhc2UgRW5n
aW5lZXJpbmcgPHJlbGVuZ0BmZWRvcmFwcm9qZWN0Lm9yZz4gLSAwLjQuMC0zCiAtIFJlYnVpbHQg
Zm9yIGh0dHBzOi8vZmVkb3JhcHJvamVjdC5vcmcvd2lraS9GZWRvcmFfMjRfTWFzc19SZWJ1aWxk
CiAKLS0gCjIuNS41Cgo=
</data>

          </attachment>
      

    </bug>

</bugzilla>
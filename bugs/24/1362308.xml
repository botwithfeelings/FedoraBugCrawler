<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1362308</bug_id>
          
          <creation_ts>2016-08-01 19:30:00 -0400</creation_ts>
          <short_desc>Epiphany - Importing bookmarks crashes desktop</short_desc>
          <delta_ts>2017-02-26 18:47:52 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>epiphany</component>
          <version>24</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Erick Omar Delgado">edelgado81</reporter>
          <assigned_to name="Michael Catanzaro">mcatanzaro</assigned_to>
          <cc>edelgado81</cc>
    
    
    <cc>gecko-bugs-nobody</cc>
    
    
    <cc>mcatanzaro</cc>
    
    
    <cc>rob.townley</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-02-26 18:47:52</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9574749</commentid>
    <comment_count>0</comment_count>
    <who name="Erick Omar Delgado">edelgado81</who>
    <bug_when>2016-08-01 19:30:52 -0400</bug_when>
    <thetext>Description of problem:
When I launch Epiphany web browser and try to import my bookmarks, the desktop crashes and returns to the login screen.

Version-Release number of selected component (if applicable):


How reproducible:
Easily reproducible

Steps to Reproduce:
1. Launch Epiphany web browser
2. Click Bookmarks under main menu
3. Click on Import, then choose Archives, then click Import

Actual results:
Desktop crashes and returns to login screen

Expected results:
To be able to import my bookmarks

Additional info:
Happens under Gnome Wayland</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9575014</commentid>
    <comment_count>1</comment_count>
    <who name="Michael Catanzaro">mcatanzaro</who>
    <bug_when>2016-08-01 20:32:27 -0400</bug_when>
    <thetext>Can you try to report the bug through the Problem Reporting tool (it&apos;s in the Sundry folder on your desktop), so that we can figure out what&apos;s crashing and get a backtrace?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9575022</commentid>
    <comment_count>2</comment_count>
    <who name="Erick Omar Delgado">edelgado81</who>
    <bug_when>2016-08-01 20:42:33 -0400</bug_when>
    <thetext>(In reply to Michael Catanzaro from comment #1)
&gt; Can you try to report the bug through the Problem Reporting tool (it&apos;s in
&gt; the Sundry folder on your desktop), so that we can figure out what&apos;s
&gt; crashing and get a backtrace?

When I try to do the report for Epiphany, I get the message &quot;The service Retrace cannot process the package epiphany-runtime-3.20.3-1.fc24.x86_64&quot;

I also try to do the report for webkitgtk4, for some reason it fails to upload.

What can you recommend for me to upload the information?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9575076</commentid>
    <comment_count>3</comment_count>
    <who name="Michael Catanzaro">mcatanzaro</who>
    <bug_when>2016-08-01 21:21:24 -0400</bug_when>
    <thetext>OK, so both Epiphany and WebKit are separately crashing. It&apos;d be good to get backtraces for both of those, but I&apos;m more concerned about the fact that some session component is crashing (perhaps gnome-shell?)

(In reply to Erick Omar Delgado from comment #2)
&gt; When I try to do the report for Epiphany, I get the message &quot;The service
&gt; Retrace cannot process the package epiphany-runtime-3.20.3-1.fc24.x86_64&quot;

That&apos;s strange, maybe there&apos;s a server-side problem. Did it prompt you to generate the backtrace locally?

&gt; I also try to do the report for webkitgtk4, for some reason it fails to
&gt; upload.

Hm, it&apos;s a huge amount of data to upload, it&apos;s not surprising if the Fedora infrastructure can&apos;t handle it. It should have prompted you to generate the backtrace locally. Still, it only works about half the time....

Anyway, the Epiphany and WebKit crashes are both interesting and good to have, but neither of those is bringing down your session. There must be another bug in some session component, and we need a backtrace for whatever session component is crashing as well. Does the Problem Reporting tool show any other crashes that occurred at the same time? gnome-shell or gdm, perhaps?

&gt; What can you recommend for me to upload the information?

You can attach a backtrace here to this bug. It&apos;d be easier to use the Problem Reporting tool than to try to get one manually, though. Unfortunately the tool that makes this easy, coredumpctl, is broken in F24, so it&apos;s going to be extremely difficult to get a backtrace without using the Problem Reporting tool.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9578812</commentid>
    <comment_count>4</comment_count>
    <who name="Erick Omar Delgado">edelgado81</who>
    <bug_when>2016-08-02 19:31:30 -0400</bug_when>
    <thetext>(In reply to Michael Catanzaro from comment #3)
&gt; OK, so both Epiphany and WebKit are separately crashing. It&apos;d be good to get
&gt; backtraces for both of those, but I&apos;m more concerned about the fact that
&gt; some session component is crashing (perhaps gnome-shell?)

Yes. All three do crash and I did a bug report last night of it and it was a duplicate.

&gt; (In reply to Erick Omar Delgado from comment #2)
&gt; &gt; When I try to do the report for Epiphany, I get the message &quot;The service
&gt; &gt; Retrace cannot process the package epiphany-runtime-3.20.3-1.fc24.x86_64&quot;
&gt; 
&gt; That&apos;s strange, maybe there&apos;s a server-side problem. Did it prompt you to
&gt; generate the backtrace locally?

Yes it does.

&gt; &gt; I also try to do the report for webkitgtk4, for some reason it fails to
&gt; &gt; upload.
&gt; 
&gt; Hm, it&apos;s a huge amount of data to upload, it&apos;s not surprising if the Fedora
&gt; infrastructure can&apos;t handle it. It should have prompted you to generate the
&gt; backtrace locally. Still, it only works about half the time....
&gt; 
&gt; Anyway, the Epiphany and WebKit crashes are both interesting and good to
&gt; have, but neither of those is bringing down your session. There must be
&gt; another bug in some session component, and we need a backtrace for whatever
&gt; session component is crashing as well. Does the Problem Reporting tool show
&gt; any other crashes that occurred at the same time? gnome-shell or gdm,
&gt; perhaps?

Yes. I was able to do report the Gnome-Shell issue. The WebKit upload seem to be around 15.1 MB which I don&apos;t understand as to why I cannot upload it and upload Epiphany&apos;s crash.

&gt; &gt; What can you recommend for me to upload the information?
&gt; 
&gt; You can attach a backtrace here to this bug. It&apos;d be easier to use the
&gt; Problem Reporting tool than to try to get one manually, though.
&gt; Unfortunately the tool that makes this easy, coredumpctl, is broken in F24,
&gt; so it&apos;s going to be extremely difficult to get a backtrace without using the
&gt; Problem Reporting tool.

Darn. I can reproduce the crash over. Only issues is uploading it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9579058</commentid>
    <comment_count>5</comment_count>
    <who name="Michael Catanzaro">mcatanzaro</who>
    <bug_when>2016-08-02 22:29:27 -0400</bug_when>
    <thetext>You can try to get it manually:

* Run &apos;gdb epiphany&apos; in a terminal. Be patient.
* Reproduce the crash.
* gdb will give you a &apos;dnf debuginfo-install&apos; command to run. Quit gdb, run the command to install the needed debuginfo.
* Run &apos;gdb epiphany&apos; again, reproduce the crash again.
* Run &apos;set logging on&apos; then run &apos;bt full&apos; to get a detailed backtrace and output it to a text file.
* Attach it manually to this bug.

The most likely complication is that you desktop will crash, preventing you from using the terminal. In this case, you&apos;ll need to get a second computer and use gdb via an SSH or serial connection. Giving up is also a valid option. This is why we really need the Problem Reporting tool working. If you could post the exact error message you see when trying to upload the crash report (or a screenshot of the error message), then we could ask the Problem Reporting developers to look into it.

If you succeed in getting a backtrace for the UI process crash, it would be good to get the web process crash as well. It&apos;s a bit trickier as you&apos;ll need to attach to the web process with gdb after the web process has already started. If you only have one tab open in Epiphany, you can probably do &apos;sudo gdb -p `pidof WebKitWebProcess`&apos;, then run &apos;c&apos; (continue), reproduce the crash, and save the backtrace as before.

P.S. A link to the GNOME shell bug would be interesting; a browser crash is bad, but a desktop crash is obviously worse.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9587053</commentid>
    <comment_count>6</comment_count>
    <who name="Erick Omar Delgado">edelgado81</who>
    <bug_when>2016-08-04 19:54:25 -0400</bug_when>
    <thetext>(In reply to Michael Catanzaro from comment #5)
&gt; You can try to get it manually:
&gt; 
&gt; * Run &apos;gdb epiphany&apos; in a terminal. Be patient.
&gt; * Reproduce the crash.
&gt; * gdb will give you a &apos;dnf debuginfo-install&apos; command to run. Quit gdb, run
&gt; the command to install the needed debuginfo.
&gt; * Run &apos;gdb epiphany&apos; again, reproduce the crash again.
&gt; * Run &apos;set logging on&apos; then run &apos;bt full&apos; to get a detailed backtrace and
&gt; output it to a text file.
&gt; * Attach it manually to this bug.
&gt; 
&gt; The most likely complication is that you desktop will crash, preventing you
&gt; from using the terminal. In this case, you&apos;ll need to get a second computer
&gt; and use gdb via an SSH or serial connection. Giving up is also a valid
&gt; option. This is why we really need the Problem Reporting tool working. If
&gt; you could post the exact error message you see when trying to upload the
&gt; crash report (or a screenshot of the error message), then we could ask the
&gt; Problem Reporting developers to look into it.

This would be a problem since I don&apos;t have a second working computer to SSH.

&gt; If you succeed in getting a backtrace for the UI process crash, it would be
&gt; good to get the web process crash as well. It&apos;s a bit trickier as you&apos;ll
&gt; need to attach to the web process with gdb after the web process has already
&gt; started. If you only have one tab open in Epiphany, you can probably do
&gt; &apos;sudo gdb -p `pidof WebKitWebProcess`&apos;, then run &apos;c&apos; (continue), reproduce
&gt; the crash, and save the backtrace as before.
&gt; 
&gt; P.S. A link to the GNOME shell bug would be interesting; a browser crash is
&gt; bad, but a desktop crash is obviously worse.

I can&apos;t even copy and paste with Epiphany in Gnome Wayland. Darn.
The Bug report number is 1330116</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9587126</commentid>
    <comment_count>7</comment_count>
    <who name="Erick Omar Delgado">edelgado81</who>
    <bug_when>2016-08-04 20:35:55 -0400</bug_when>
    <thetext>I just managed to reproduce the problem again and I was actually able to report the WebKit issue and there is a duplicate of it. This is the bug report ID that the Problem Reporting tool did: 1364284
It is marked as &quot;CLOSED DUPLICATE of bug 1354110

I still cannot report the Epiphany error because of the epiphany-runtime issue.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184745</commentid>
    <comment_count>8</comment_count>
    <who name="Erick Omar Delgado">edelgado81</who>
    <bug_when>2017-02-26 15:50:11 -0500</bug_when>
    <thetext>Well, so far, on the latest version of Epiphany browser (in Fedora 25) this bug has been fixed. I tried it and I have not had a desktop crash or a problem at all.
I guess this report can be closed.
Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184873</commentid>
    <comment_count>9</comment_count>
    <who name="Michael Catanzaro">mcatanzaro</who>
    <bug_when>2017-02-26 18:47:52 -0500</bug_when>
    <thetext>OK then....</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
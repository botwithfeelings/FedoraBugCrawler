<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1440473</bug_id>
          
          <creation_ts>2017-04-09 04:38:00 -0400</creation_ts>
          <short_desc>Versions of libglvnd above 0.2.999-6.git28867bb split into multiple packages causing failure on upgrade</short_desc>
          <delta_ts>2017-04-24 07:36:56 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>libglvnd</component>
          <version>24</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Timothy Hinchcliffe">bugzilla.redhat</reporter>
          <assigned_to name="Nicolas Chauvet (kwizart)">kwizart</assigned_to>
          <cc>besser82</cc>
    
    
    <cc>bugzilla.redhat</cc>
    
    
    <cc>hdegoede</cc>
    
    
    <cc>kwizart</cc>
    
    
    <cc>leigh123linux</cc>
    
    
    <cc>negativo17</cc>
    
    
    <cc>xgl-maint</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-04-10 09:57:42</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10317051</commentid>
    <comment_count>0</comment_count>
    <who name="Timothy Hinchcliffe">bugzilla.redhat</who>
    <bug_when>2017-04-09 04:38:27 -0400</bug_when>
    <thetext>Description of problem:


Version-Release number of selected component (if applicable):
libglvnd-0.2.999-6.git28867bb to libglvnd-0.2.999-14.20170308git8e6e102


How reproducible:
Every time.

Steps to Reproduce:
1. Install base Fedora 24 with anything which requires GLX (eg KDE desktop)
2. Upgrade from libglvnd-0.2.999-6.git28867bb to latest

Actual results:

GLX stops being available. Causes KDE desktop not to start. glxgears won&apos;t run, glxinfo reports no glx capability.

Expected results:

GLX is available. KDE desktop starts normally. glxgears runs. glxinfo reports lots of stuff.

Additional info:
If you install libglvnd* after or during upgrade the problem is resolved.

The base libglvnd should probably require the sub-components to pull them in during upgrade and maintain the same api availability.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10317351</commentid>
    <comment_count>1</comment_count>
    <who name="leigh scott">leigh123linux</who>
    <bug_when>2017-04-09 10:39:17 -0400</bug_when>
    <thetext>(In reply to Timothy Hinchcliffe from comment #0)
&gt; Description of problem:
&gt; 
&gt; 
&gt; Version-Release number of selected component (if applicable):
&gt; libglvnd-0.2.999-6.git28867bb to libglvnd-0.2.999-14.20170308git8e6e102
&gt; 
&gt; 
&gt; How reproducible:
&gt; Every time.
&gt; 
&gt; Steps to Reproduce:
&gt; 1. Install base Fedora 24 with anything which requires GLX (eg KDE desktop)
&gt; 2. Upgrade from libglvnd-0.2.999-6.git28867bb to latest
&gt; 
&gt; Actual results:
&gt; 
&gt; GLX stops being available. Causes KDE desktop not to start. glxgears won&apos;t
&gt; run, glxinfo reports no glx capability.
&gt; 
&gt; Expected results:
&gt; 
&gt; GLX is available. KDE desktop starts normally. glxgears runs. glxinfo
&gt; reports lots of stuff.
&gt; 
&gt; Additional info:
&gt; If you install libglvnd* after or during upgrade the problem is resolved.
&gt; 
&gt; The base libglvnd should probably require the sub-components to pull them in
&gt; during upgrade and maintain the same api availability.


So your using nvidia driver?, from rpmfusion?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10317438</commentid>
    <comment_count>2</comment_count>
    <who name="leigh scott">leigh123linux</who>
    <bug_when>2017-04-09 12:06:40 -0400</bug_when>
    <thetext>This will triage the rpmfusion nvidia driver

https://pkgs.rpmfusion.org/cgit/nonfree/xorg-x11-drv-nvidia.git/commit/?h=f24&amp;id=0eedfd71c924d08423160fca08fc46fca5d8d5ed

link to fixed build

https://koji.rpmfusion.org/koji/buildinfo?buildID=3689


In my opinion f24 shouldn&apos;t have had the sub-package update, that said I don&apos;t believe libglvnd itself needs fixing for this issue.
F25 mesa requires the libglvnd sub-packages and the only package which uses f24 libglvnd is nvidia.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10320429</commentid>
    <comment_count>3</comment_count>
    <who name="Simone Caronni">negativo17</who>
    <bug_when>2017-04-10 09:57:42 -0400</bug_when>
    <thetext>(In reply to leigh scott from comment #2)
&gt; In my opinion f24 shouldn&apos;t have had the sub-package update, that said I
&gt; don&apos;t believe libglvnd itself needs fixing for this issue.

Hi Leigh, this was required for having a common SPEC file for all branches and at the same time obsolete the negativo17.org libglvnd packages (split, higher epoch) as planned. I pushed the required changes to the nvidia driver&apos;s review branch as well but it got postponed because of the other changes requested to be put on top.

I&apos;m closing the ticket as I see that the f24 update has been released.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10356155</commentid>
    <comment_count>4</comment_count>
    <who name="Timothy Hinchcliffe">bugzilla.redhat</who>
    <bug_when>2017-04-24 07:36:56 -0400</bug_when>
    <thetext>I didn&apos;t reply earlier as the bug had been marked closed by the time I had the opportunity but bugzilla is continuing to ask me to respond so:

Yes I am using the nvidia driver from rpmfusion.

Newer versions of xorg-x11-drv-nvidia-libs fix this problem for me by requiring all needed parts.

Thanks,

Tim</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
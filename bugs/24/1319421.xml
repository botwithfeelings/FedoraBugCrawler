<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1319421</bug_id>
          
          <creation_ts>2016-03-19 14:46:00 -0400</creation_ts>
          <short_desc>gnome-documents crashes on startup</short_desc>
          <delta_ts>2016-03-25 19:55:38 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>gnome-documents</component>
          <version>24</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>NEXTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          <dependson>1319417</dependson>
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Heiko Adams">bugzilla</reporter>
          <assigned_to name="Elad Alfassa">elad</assigned_to>
          <cc>anujmorex</cc>
    
    
    <cc>ccecchi</cc>
    
    
    <cc>debarshir</cc>
    
    
    <cc>elad</cc>
    
    
    <cc>pranav913</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-03-25 19:55:38</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9162013</commentid>
    <comment_count>0</comment_count>
    <who name="Heiko Adams">bugzilla</who>
    <bug_when>2016-03-19 14:46:05 -0400</bug_when>
    <thetext>Description of problem:
gnome-documents crashes on startup with following error message:
$ gnome-documents

(org.gnome.Documents:24611): Gjs-WARNING **: JS ERROR: TypeError: this.view is undefined
LOKView&lt;._init@resource:///org/gnome/Documents/js/lokview.js:140
wrapper@resource:///org/gnome/gjs/modules/lang.js:178
Embed&lt;._init@resource:///org/gnome/Documents/js/embed.js:93
wrapper@resource:///org/gnome/gjs/modules/lang.js:178
MainWindow&lt;._init@resource:///org/gnome/Documents/js/mainWindow.js:85
wrapper@resource:///org/gnome/gjs/modules/lang.js:178
Application&lt;._createWindow@resource:///org/gnome/Documents/js/application.js:663
wrapper@resource:///org/gnome/gjs/modules/lang.js:178
Application&lt;.vfunc_activate@resource:///org/gnome/Documents/js/application.js:692
wrapper@resource:///org/gnome/gjs/modules/lang.js:178
main@resource:///org/gnome/Documents/js/main.js:48
run@resource:///org/gnome/gjs/modules/package.js:192
@/usr/bin/gnome-documents:6


(org.gnome.Documents:24611): Gjs-CRITICAL **: Attempting to call back into JSAPI during the sweeping phase of GC. This is most likely caused by not destroying a Clutter actor or Gtk+ widget with ::destroy signals connected, but can also be caused by using the destroy() or dispose() vfuncs. Because it would crash the application, it has been blocked and the JS callback not invoked.

(org.gnome.Documents:24611): Gjs-CRITICAL **: The offending signal was destroy on Gjs_ViewContainer 0x557bfb497a50.

(org.gnome.Documents:24611): Gjs-CRITICAL **: Attempting to call back into JSAPI during the sweeping phase of GC. This is most likely caused by not destroying a Clutter actor or Gtk+ widget with ::destroy signals connected, but can also be caused by using the destroy() or dispose() vfuncs. Because it would crash the application, it has been blocked and the JS callback not invoked.

(org.gnome.Documents:24611): Gjs-CRITICAL **: The offending signal was destroy on Gjs_ViewContainer 0x557bfb497c10.

(org.gnome.Documents:24611): Gjs-CRITICAL **: Attempting to call back into JSAPI during the sweeping phase of GC. This is most likely caused by not destroying a Clutter actor or Gtk+ widget with ::destroy signals connected, but can also be caused by using the destroy() or dispose() vfuncs. Because it would crash the application, it has been blocked and the JS callback not invoked.

(org.gnome.Documents:24611): Gjs-CRITICAL **: The offending signal was destroy on Gjs_ViewContainer 0x557bfb497dd0.

(org.gnome.Documents:24611): Gjs-CRITICAL **: Attempting to call back into JSAPI during the sweeping phase of GC. This is most likely caused by not destroying a Clutter actor or Gtk+ widget with ::destroy signals connected, but can also be caused by using the destroy() or dispose() vfuncs. Because it would crash the application, it has been blocked and the JS callback not invoked.

(org.gnome.Documents:24611): Gjs-CRITICAL **: The offending signal was destroy on Gjs_PreviewView 0x557bfb497f90.
Segmentation fault (Speicherabzug geschrieben)


Version-Release number of selected component (if applicable):
$ rpm -q gnome-documents
gnome-documents-3.19.4-3.fc24.x86_64
$ rpm -q gjs
gjs-1.45.3-2.fc24.x86_64

How reproducible:
allways

Steps to Reproduce:
1. Open gnome-docuemts from terminal
2.
3.

Actual results:
gnome-documents crashes on startup

Expected results:
gnome-document should start and work as expected

Additional info:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9162014</commentid>
    <comment_count>1</comment_count>
    <who name="Pranav Kant">pranav913</who>
    <bug_when>2016-03-19 14:51:25 -0400</bug_when>
    <thetext>This is fixed upstream, but unfortunately there is no release after 3.19.4 for gnome-documents. 

These upstream commits should fix the crash:

https://git.gnome.org/browse/gnome-documents/commit/?id=99b3072d9e8f55bedc4cbcadf9746ff16ca4bd16

https://git.gnome.org/browse/gnome-documents/commit/?id=1380ad9c8dcdebf9d4970dd04757ef696d82ca32</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9162016</commentid>
    <comment_count>2</comment_count>
    <who name="Heiko Adams">bugzilla</who>
    <bug_when>2016-03-19 14:55:35 -0400</bug_when>
    <thetext>Is it possible to apply the patches to Fedora&apos;s current gnome-documents package?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9162018</commentid>
    <comment_count>3</comment_count>
    <who name="Pranav Kant">pranav913</who>
    <bug_when>2016-03-19 14:58:14 -0400</bug_when>
    <thetext>Yes, definitely. I am afraid I do not have the access to commit and fix this, but anyone else looking at this and who have the access, please apply these patches.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9179707</commentid>
    <comment_count>4</comment_count>
    <who name="Pranav Kant">pranav913</who>
    <bug_when>2016-03-25 19:55:38 -0400</bug_when>
    <thetext>This is fixed in latest version, 3.20.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1310546</bug_id>
          
          <creation_ts>2016-02-22 03:21:00 -0500</creation_ts>
          <short_desc>Drop php-pear dependency for pecl modules</short_desc>
          <delta_ts>2016-09-29 07:26:04 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>Changes Tracking</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>ChangeAcceptedF24, SelfContainedChange</status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Jan Kurik">jkurik</reporter>
          <assigned_to name="Remi Collet">rcollet</assigned_to>
          <cc>fedora</cc>
    
    
    <cc>rcollet</cc>
          
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-09-29 07:26:04</cf_last_closed>
          <cf_type>---</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9083176</commentid>
    <comment_count>0</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2016-02-22 03:21:16 -0500</bug_when>
    <thetext>This is a tracking bug for Change: Drop php-pear dependency for pecl modules
For more details, see: https://fedoraproject.org//wiki/Changes/drop_pear_dep

All PECL packaged modules (php-pecl-*) have a unneeded runtime dependency on php-pear, for module registration in package scriptlets.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9093075</commentid>
    <comment_count>1</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2016-02-24 09:26:17 -0500</bug_when>
    <thetext>On 2016-Feb-23, we have reached Fedora 24 Change Checkpoint: Completion deadline (testable).

At this point, all accepted changes should be substantially complete, and testable. Additionally, if a change is to be enabled by default, it must be so enabled at Change Completion deadline.

Change tracking bug should be set to the MODIFIED state to indicate it achieved completeness.

Incomplete and non testable Changes will be reported to FESCo on 2016-Feb-26 meeting.  Contingency plan for System Wide Changes, if planned for Alpha (or in case of serious doubts regarding Change completion), will be activated.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9097303</commentid>
    <comment_count>2</comment_count>
    <who name="Remi Collet">fedora</who>
    <bug_when>2016-02-25 07:22:16 -0500</bug_when>
    <thetext>Package:    php-5.6.18-2.fc24

* Tue Feb  9 2016 Remi Collet &lt;remi@fedoraproject.org&gt; 5.6.18-2
- define %%pecl_xmldir and own it (/var/lib/php/peclxml)

Package:    php-pear-1.10.1-3.fc24

* Wed Feb 10 2016 Remi Collet &lt;remi@fedoraproject.org&gt; 1:1.10.1-3
- use file triggers for pecl extensions (un)registration
- define %%pecl_install and %%pecl_uninstall as noop macro

Lot of pecl packages are already adapted:

* Wed Feb 10 2016 Remi Collet &lt;remi@fedoraproject.org&gt; - 1.6.1-2
- drop scriptlets (replaced file triggers in php-pear)

php-pecl-amqp
php-pecl-apcu
php-pecl-apfd
php-pecl-event
php-pecl-gearman
php-pecl-http
php-pecl-igbinary
php-pecl-json-post
php-pecl-jsonc
php-pecl-Judy
php-pecl-krb5
php-pecl-libsodium
php-pecl-mailparse
php-pecl-memcache
php-pecl-memcached
php-pecl-memprof
php-pecl-mongo
php-pecl-msgpack
php-pecl-mysqlnd-ms
php-pecl-mysqlnd-qc
php-pecl-ncurses
php-pecl-propro
php-pecl-radius
php-pecl-raphf
php-pecl-redis
php-pecl-rrd
php-pecl-solr
php-pecl-sphinx
php-pecl-ssdeep 	
php-pecl-uuid
php-pecl-xattr
php-pecl-xdebug
php-pecl-xhprof
php-pecl-yac
php-pecl-yaml
php-pecl-zip

For other packagers:

Example of fix: 

1/ big cleanup
http://pkgs.fedoraproject.org/cgit/rpms/php-pecl-apfd.git/commit/?id=6609efadbcb655932f8ab8bbe58116438baf3fa1

2/ conditional 

http://pkgs.fedoraproject.org/cgit/rpms/php-pecl-gearman.git/commit/?id=9f026a87eed60b0a9b865e9998d5692941937b55</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9098425</commentid>
    <comment_count>3</comment_count>
    <who name="Remi Collet">fedora</who>
    <bug_when>2016-02-25 12:48:43 -0500</bug_when>
    <thetext>All remaining packages are now adapted:

php-pecl-cairo
php-pecl-geoip
php-pecl-gmagick
php-pecl-imagick
php-pecl-lzf
php-pecl-oauth
php-pecl-parsekit
php-pecl-runkit
php-pecl-selinux
php-pecl-ssh2
php-pecl-xmldiff
php-zmq</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
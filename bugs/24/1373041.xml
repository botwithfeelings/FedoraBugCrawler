<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1373041</bug_id>
          
          <creation_ts>2016-09-04 21:17:00 -0400</creation_ts>
          <short_desc>No battery detected with Dell 7537</short_desc>
          <delta_ts>2016-09-07 09:49:45 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>kernel</component>
          <version>24</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>WONTFIX</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dominik Gronkiewicz">gronki</reporter>
          <assigned_to name="Kernel Maintainer List">kernel-maint</assigned_to>
          <cc>gansalmon</cc>
    
    
    <cc>ichavero</cc>
    
    
    <cc>itamar</cc>
    
    
    <cc>jonathan</cc>
    
    
    <cc>kernel-maint</cc>
    
    
    <cc>labbott</cc>
    
    
    <cc>madhu.chinakonda</cc>
    
    
    <cc>mchehab</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-09-06 12:31:07</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9678101</commentid>
    <comment_count>0</comment_count>
    <who name="Dominik Gronkiewicz">gronki</who>
    <bug_when>2016-09-04 21:17:41 -0400</bug_when>
    <thetext>No battery is detected in Dell Inspiron 7537 laptop. However using power button or LCD backlight buttons make battery indicator re-appear. 

$ sudo dmesg | grep -i bat
[    0.767857] ACPI: Battery Slot [BAT0] (battery absent)

Adding acpi_osi=Linux acpi_rev_override to kernel boot parameters does not help.

From here https://bugzilla.kernel.org/show_bug.cgi?id=105721 it is evident that switching on the CONFIG_ACPI_REV_OVERRIDE_POSSIBLE while compiling the kernel fixes the issue.

The fix is to re-enable CONFIG_ACPI_REV_OVERRIDE_POSSIBLE.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9683475</commentid>
    <comment_count>1</comment_count>
    <who name="Laura Abbott">labbott</who>
    <bug_when>2016-09-06 12:31:07 -0400</bug_when>
    <thetext>CONFIG_ACPI_REV_OVERRIDE_POSSIBLE is an ugly option. We went through this with sound on the Dell XPS and concluded it&apos;s better to keep it off. Your best option is to build a custom kernel and turn it on if you want it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9683752</commentid>
    <comment_count>2</comment_count>
    <who name="Dominik Gronkiewicz">gronki</who>
    <bug_when>2016-09-06 14:01:28 -0400</bug_when>
    <thetext>Could you explain why introducing a regression is &quot;less ugly&quot; than allowing users to fix their issues? Is this bug fixed in future kernels?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9684223</commentid>
    <comment_count>3</comment_count>
    <who name="Laura Abbott">labbott</who>
    <bug_when>2016-09-06 17:07:52 -0400</bug_when>
    <thetext>When the option was introduced the first time, there were concerns about it possibly causing issues with secure boot. These issues never panned out but ultimately the option is still playing around with the ACPI version which may have unexpected side effects. The original use was for Dell XPS sound hardware which was lagging behind with I2S support. The issue found here is a BIOS issue which the kernel is exposing. I discussed this with other maintainers and we still want to keep this option off. Turning it on still seems riskier and more prone to unexpected issues.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9686863</commentid>
    <comment_count>4</comment_count>
    <who name="Dominik Gronkiewicz">gronki</who>
    <bug_when>2016-09-07 09:49:27 -0400</bug_when>
    <thetext>Thank you for your explanation. I noticed that battery indicator stopped working between kernels 4.5 and 4.6 (I can attempt to bisect more precise version). Could it be that the reason is entirely different? I&apos;ll try building the kernel with above option turned on and report the results so anyone who encounters the problem can find it on google.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9686867</commentid>
    <comment_count>5</comment_count>
    <who name="Dominik Gronkiewicz">gronki</who>
    <bug_when>2016-09-07 09:49:45 -0400</bug_when>
    <thetext>Thank you for your explanation. I noticed that battery indicator stopped working between kernels 4.5 and 4.6 (I can attempt to bisect more precise version). Could it be that the reason is entirely different? I&apos;ll try building the kernel with above option turned on and report the results so anyone who encounters the problem can find it on google.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
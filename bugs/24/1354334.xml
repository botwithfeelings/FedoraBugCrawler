<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1354334</bug_id>
          
          <creation_ts>2016-07-11 03:02:00 -0400</creation_ts>
          <short_desc>authGSSClientInit no longer accepts None for principal</short_desc>
          <delta_ts>2016-07-15 09:22:12 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>python-kerberos</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1333786</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Dan Callaghan">dcallagh</reporter>
          <assigned_to name="Rob Crittenden">rcritten</assigned_to>
          <cc>abokovoy</cc>
    
    
    <cc>rcritten</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>python-kerberos-1.2.4-2.fc24</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-07-15 09:22:12</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9495342</commentid>
    <comment_count>0</comment_count>
    <who name="Dan Callaghan">dcallagh</who>
    <bug_when>2016-07-11 03:02:29 -0400</bug_when>
    <thetext>Description of problem:
In previous releases the kerberos.authGSSClientInit() function would accept None for the principal argument, meaning use the default found in the credentials cache. This regressed as part of recent upstream refactoring:

https://www.calendarserver.org/ticket/942

Version-Release number of selected component (if applicable):
python2-kerberos-1.2.4-1.fc24.x86_64

How reproducible:
easily

Steps to Reproduce:
&gt;&gt;&gt; import kerberos
&gt;&gt;&gt; kerberos.authGSSClientInit(&apos;HTTP/beaker-devel.app.eng.bos.redhat.com&apos;, principal=None)
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
TypeError: argument 2 must be string, not None
&gt;&gt;&gt; kerberos.authGSSClientInit(&apos;SERVICE/host@REALM&apos;, principal=None)
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
TypeError: argument 2 must be string, not None

Actual results:
doesn&apos;t accept None

Expected results:
accepts None

Additional info:
This affects python-requests-kerberos:
https://github.com/requests/requests-kerberos/issues/76
where upstream has switched to the PyKerberos fork of the original module. That fork was better maintained (up until Apple came back to the table on the original CalendarServer version of the module) and is now slowly diverging. This is one example of the divergence.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9495348</commentid>
    <comment_count>1</comment_count>
    <who name="Dan Callaghan">dcallagh</who>
    <bug_when>2016-07-11 03:04:36 -0400</bug_when>
    <thetext>Please consider applying the patch I posted in the upstream issue:
https://www.calendarserver.org/attachment/ticket/942/942.patch

It seems to be quite trivial and not likely to break, and it will let me upgrade python-requests-kerberos which is currently stuck due to this issue.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9497242</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-07-11 11:59:18 -0400</bug_when>
    <thetext>python-kerberos-1.2.4-2.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-220096fb67</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9499741</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-07-11 23:57:48 -0400</bug_when>
    <thetext>python-kerberos-1.2.4-2.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-220096fb67</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9512851</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-07-15 09:22:10 -0400</bug_when>
    <thetext>python-kerberos-1.2.4-2.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
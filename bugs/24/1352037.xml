<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1352037</bug_id>
          
          <creation_ts>2016-07-01 09:02:00 -0400</creation_ts>
          <short_desc>Unable to install from rawhide locations</short_desc>
          <delta_ts>2016-12-13 11:52:34 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>virt-manager</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Daniel Berrange">berrange</reporter>
          <assigned_to name="Cole Robinson">crobinso</assigned_to>
          <cc>berrange</cc>
    
    
    <cc>crobinso</cc>
    
    
    <cc>fweimer</cc>
    
    
    <cc>virt-maint</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-12-13 11:52:34</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9472199</commentid>
    <comment_count>0</comment_count>
    <who name="Daniel Berrange">berrange</who>
    <bug_when>2016-07-01 09:02:35 -0400</bug_when>
    <thetext>Description of problem:

# virt-install --location http://mirror.cogentco.com/pub/linux/fedora/linux//development/rawhide/Everything/x86_64/os/  --file /var/lib/libvirt/images/f25x86_64.img --file-size 20 --name f25x86_64 --noautoconsole --memory 2000 --os-variant f23 --debug
[Fri, 01 Jul 2016 13:55:24 virt-install 20638] DEBUG (cli:256) Launched with command line: /usr/share/virt-manager/virt-install --location http://mirror.cogentco.com/pub/linux/fedora/linux//development/rawhide/Everything/x86_64/os/ --file /var/lib/libvirt/images/f25x86_64.img --file-size 20 --name f25x86_64 --noautoconsole --memory 2000 --os-variant f23 --debug
[Fri, 01 Jul 2016 13:55:24 virt-install 20638] DEBUG (cli:266) Requesting libvirt URI default
[Fri, 01 Jul 2016 13:55:24 virt-install 20638] DEBUG (cli:270) Received libvirt URI qemu:///system
[Fri, 01 Jul 2016 13:55:24 virt-install 20638] DEBUG (virt-install:357) Requesting virt method &apos;default&apos;, hv type &apos;default&apos;.
[Fri, 01 Jul 2016 13:55:24 virt-install 20638] DEBUG (virt-install:576) Received virt method &apos;kvm&apos;
[Fri, 01 Jul 2016 13:55:24 virt-install 20638] DEBUG (virt-install:577) Hypervisor name is &apos;hvm&apos;
[Fri, 01 Jul 2016 13:55:24 virt-install 20638] DEBUG (virt-install:269) Distilled --network options: [&apos;default&apos;]
[Fri, 01 Jul 2016 13:55:24 virt-install 20638] DEBUG (virt-install:155) Converted to new style: --disk path=/var/lib/libvirt/images/f25x86_64.img,size=20.0
[Fri, 01 Jul 2016 13:55:24 virt-install 20638] DEBUG (virt-install:182) Distilled --disk options: [&apos;path=/var/lib/libvirt/images/f25x86_64.img,size=20.0&apos;]
[Fri, 01 Jul 2016 13:55:24 virt-install 20638] DEBUG (devicedisk:391) Creating volume &apos;f25x86_64.img&apos; on pool &apos;images&apos;
[Fri, 01 Jul 2016 13:55:24 virt-install 20638] DEBUG (devicedisk:513) disk.set_vol_install: name=f25x86_64.img poolxml=
&lt;pool type=&apos;dir&apos;&gt;
  &lt;name&gt;images&lt;/name&gt;
  &lt;uuid&gt;85c2cb14-8fc2-4d87-b4b7-3bc1ddaf27e7&lt;/uuid&gt;
  &lt;capacity unit=&apos;bytes&apos;&gt;997907849216&lt;/capacity&gt;
  &lt;allocation unit=&apos;bytes&apos;&gt;83181105152&lt;/allocation&gt;
  &lt;available unit=&apos;bytes&apos;&gt;914726744064&lt;/available&gt;
  &lt;source&gt;
  &lt;/source&gt;
  &lt;target&gt;
    &lt;path&gt;/var/lib/libvirt/images&lt;/path&gt;
    &lt;permissions&gt;
      &lt;mode&gt;0711&lt;/mode&gt;
      &lt;owner&gt;0&lt;/owner&gt;
      &lt;group&gt;0&lt;/group&gt;
      &lt;label&gt;system_u:object_r:virt_image_t:s0&lt;/label&gt;
    &lt;/permissions&gt;
  &lt;/target&gt;
&lt;/pool&gt;

[Fri, 01 Jul 2016 13:55:24 virt-install 20638] DEBUG (distroinstaller:411) DistroInstaller location is a network source.
[Fri, 01 Jul 2016 13:55:24 virt-install 20638] DEBUG (urlfetcher:56) Using scratchdir=/var/lib/libvirt/boot
[Fri, 01 Jul 2016 13:55:24 virt-install 20638] DEBUG (urlfetcher:466) Finding distro store for location=http://mirror.cogentco.com/pub/linux/fedora/linux//development/rawhide/Everything/x86_64/os/
[Fri, 01 Jul 2016 13:55:25 virt-install 20638] DEBUG (urlfetcher:89) Fetching URI: http://mirror.cogentco.com/pub/linux/fedora/linux//development/rawhide/Everything/x86_64/os/.treeinfo
[Fri, 01 Jul 2016 13:55:25 virt-install 20638] DEBUG (urlfetcher:157) Saved file to /var/lib/libvirt/boot/virtinst-.treeinfo.8nHqDp
[Fri, 01 Jul 2016 13:55:25 virt-install 20638] DEBUG (cli:305)   File &quot;/usr/share/virt-manager/virt-install&quot;, line 1063, in &lt;module&gt;
    sys.exit(main())
  File &quot;/usr/share/virt-manager/virt-install&quot;, line 1048, in main
    guest = build_guest_instance(conn, options, parsermap)
  File &quot;/usr/share/virt-manager/virt-install&quot;, line 614, in build_guest_instance
    options.distro_variant)
  File &quot;/usr/share/virt-manager/virt-install&quot;, line 403, in set_install_media
    fail(_(&quot;Error validating install location: %s&quot;) % str(e))
  File &quot;/usr/share/virt-manager/virtinst/cli.py&quot;, line 305, in fail
    logging.debug(&quot;&quot;.join(traceback.format_stack()))

[Fri, 01 Jul 2016 13:55:25 virt-install 20638] ERROR (cli:306) Error validating install location: invalid literal for int() with base 10: &apos;Rawhide&apos;
[Fri, 01 Jul 2016 13:55:25 virt-install 20638] DEBUG (cli:308) 
Traceback (most recent call last):
  File &quot;/usr/share/virt-manager/virt-install&quot;, line 396, in set_install_media
    guest.installer.check_location(guest)
  File &quot;/usr/share/virt-manager/virtinst/distroinstaller.py&quot;, line 489, in check_location
    ignore = self._get_store(guest, fetcher)
  File &quot;/usr/share/virt-manager/virtinst/distroinstaller.py&quot;, line 346, in _get_store
    self._cached_store = urlfetcher.getDistroStore(guest, fetcher)
  File &quot;/usr/share/virt-manager/virtinst/urlfetcher.py&quot;, line 499, in getDistroStore
    if store.isValidStore():
  File &quot;/usr/share/virt-manager/virtinst/urlfetcher.py&quot;, line 807, in isValidStore
    vernum = int(str(ver).split(&quot;-&quot;)[0])
ValueError: invalid literal for int() with base 10: &apos;Rawhide&apos;

Version-Release number of selected component (if applicable):
virt-install-1.3.2-2.fc23.noarch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9505494</commentid>
    <comment_count>1</comment_count>
    <who name="Cole Robinson">crobinso</who>
    <bug_when>2016-07-13 10:31:38 -0400</bug_when>
    <thetext>Need to backport this to f23:

commit 97b5961506004b925b7f82fc54666ad341d89fe2
Author: Cole Robinson &lt;crobinso@redhat.com&gt;
Date:   Thu Apr 7 17:20:18 2016 -0400

    urlfetcher: Fix rawhide URL detection (bz 1322011)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9928544</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-11-25 04:23:04 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 23 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 23. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as EOL if it remains open with a Fedora  &apos;version&apos;
of &apos;23&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version.

Thank you for reporting this issue and we are sorry that we were not 
able to fix it before Fedora 23 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior this bug is closed as described in the policy above.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9981666</commentid>
    <comment_count>3</comment_count>
    <who name="Cole Robinson">crobinso</who>
    <bug_when>2016-12-13 11:52:34 -0500</bug_when>
    <thetext>This is fixed in f24+, so closing</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
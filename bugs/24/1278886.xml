<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1278886</bug_id>
          
          <creation_ts>2015-11-06 11:27:00 -0500</creation_ts>
          <short_desc>Remove hard dependencies on vino and rygel</short_desc>
          <delta_ts>2016-09-27 11:19:38 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>control-center</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>WONTFIX</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>Reopened</keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Robert Marcano">robert</reporter>
          <assigned_to name="Control Center Maintainer">control-center-maint</assigned_to>
          <cc>bnocera</cc>
    
    
    <cc>control-center-maint</cc>
    
    
    <cc>fmuellner</cc>
    
    
    <cc>mkasik</cc>
    
    
    <cc>ofourdan</cc>
    
    
    <cc>oholy</cc>
    
    
    <cc>rstrode</cc>
    
    
    <cc>spetreolle</cc>
    
    
    <cc>tiagomatos</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-09-27 11:19:38</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>8798882</commentid>
    <comment_count>0</comment_count>
    <who name="Robert Marcano">robert</who>
    <bug_when>2015-11-06 11:27:51 -0500</bug_when>
    <thetext>control-center has a hard dependency on vino and rygel. When setting up a controlled desktop (no internet, no removable media, only required applications installed) based on GNOME, there is no way to remove the capability of users of sharing desktop or media on the network because these these packages are required by control-center.

Previous versions of GNOME control center had plugins, It is now a monolithic binary with all functionality, IIRC for performance reasons, but it still should be able to detect those packages are not installed and simply disable those settings pages telling the user the required packages are not installed, maybe pointing to GNOME Software for installation</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9735710</commentid>
    <comment_count>1</comment_count>
    <who name="Bastien Nocera">bnocera</who>
    <bug_when>2016-09-22 19:00:32 -0400</bug_when>
    <thetext>Which would save you a couple of kilobytes on disk. We&apos;re not interested in providing a bag of bits, with separate optional packages for every single little bit of functionality.

You&apos;re more than welcome rebuilding the control-center package without those dependencies, but we won&apos;t do that in Fedora.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9737309</commentid>
    <comment_count>2</comment_count>
    <who name="Sylvain Petreolle">spetreolle</who>
    <bug_when>2016-09-23 06:47:30 -0400</bug_when>
    <thetext>Robert is not looking for a few kilobytes of disk space.
Unwanted capabilities should not be installed at all.
Sharing media and desktop involves security concerns.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9737361</commentid>
    <comment_count>3</comment_count>
    <who name="Bastien Nocera">bnocera</who>
    <bug_when>2016-09-23 07:02:18 -0400</bug_when>
    <thetext>(In reply to Sylvain Petreolle from comment #2)
&gt; Robert is not looking for a few kilobytes of disk space.
&gt; Unwanted capabilities should not be installed at all.
&gt; Sharing media and desktop involves security concerns.

Then please file bugs, upstream, against gsettings-desktop-schemas to add the necessary lockdown to stop those features being available to users.

Existing lockdown settings:
https://git.gnome.org/browse/gsettings-desktop-schemas/tree/schemas/org.gnome.desktop.lockdown.gschema.xml.in</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9737649</commentid>
    <comment_count>4</comment_count>
    <who name="Robert Marcano">robert</who>
    <bug_when>2016-09-23 08:32:26 -0400</bug_when>
    <thetext>(In reply to Bastien Nocera from comment #3)
&gt; (In reply to Sylvain Petreolle from comment #2)
&gt; &gt; Robert is not looking for a few kilobytes of disk space.
&gt; &gt; Unwanted capabilities should not be installed at all.
&gt; &gt; Sharing media and desktop involves security concerns.
&gt; 
&gt; Then please file bugs, upstream, against gsettings-desktop-schemas to add
&gt; the necessary lockdown to stop those features being available to users.
&gt; 
&gt; Existing lockdown settings:
&gt; https://git.gnome.org/browse/gsettings-desktop-schemas/tree/schemas/org.
&gt; gnome.desktop.lockdown.gschema.xml.in

Current lockdown settings are only an UI thing. People can still start for example Rygel from the CLI. I am only asking for a soft dependency. If the Rygel  is not installed say it and not enable the panel. Will file upstream bug.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9737678</commentid>
    <comment_count>5</comment_count>
    <who name="Robert Marcano">robert</who>
    <bug_when>2016-09-23 08:41:14 -0400</bug_when>
    <thetext>Now that I test again. I don&apos;t see why an upstream bug is needed if I force remove rygel

# rpm -e rygel --nodeps

gnome-control-center is doing the right thing, not showing the media sharing option. The problem is the hard RPM dependency. Please reconsider reopening the bug.

The same happen with vino.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9747484</commentid>
    <comment_count>6</comment_count>
    <who name="Bastien Nocera">bnocera</who>
    <bug_when>2016-09-27 11:19:38 -0400</bug_when>
    <thetext>Still WONTFIX, sorry.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
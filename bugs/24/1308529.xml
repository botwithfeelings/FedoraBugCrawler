<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1308529</bug_id>
          
          <creation_ts>2016-02-15 08:05:00 -0500</creation_ts>
          <short_desc>python-zope-proxy: Provide a Python 3 subpackage</short_desc>
          <delta_ts>2016-07-27 15:57:20 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>python-zope-proxy</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>RAWHIDE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1285816</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Petr Viktorin">pviktori</reporter>
          <assigned_to name="Ralph Bean">rbean</assigned_to>
          <cc>alan.c.liddell</cc>
    
    
    <cc>rbean</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-07-19 10:37:25</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9064414</commentid>
    <comment_count>0</comment_count>
    <who name="Petr Viktorin">pviktori</who>
    <bug_when>2016-02-15 08:05:15 -0500</bug_when>
    <thetext>Upstream, this software supports Python 3. Please provide a Python 3
package for Fedora.


According to the Python packaging guidelines [0], software must be
packaged for Python 3 if upstream supports it.
The guidelines give detailed information on how to do this, and even
provide an example spec file [1].

The current best practice is to provide subpackages for the two Python
versions (called &quot;Common SRPM&quot; in the guidelines). Alternatively, if
nothing depends on your Python2 package, you can just switch to Python 3
entirely.

It&apos;s fine to do this in Rawhide only.


If anything is unclear, or if you need any kind of assistance with the
porting, you can ask on IRC (#fedora-python on Freenode), or reply here.
We&apos;ll be happy to help!


[0] https://fedoraproject.org/wiki/Packaging:Python
[1] https://fedoraproject.org/wiki/Packaging:Python#Example_common_spec_file</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9094084</commentid>
    <comment_count>1</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2016-02-24 10:21:22 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 24 development cycle.
Changing version to &apos;24&apos;.

More information and reason for this action is here:
https://fedoraproject.org/wiki/Fedora_Program_Management/HouseKeeping/Fedora24#Rawhide_Rebase</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9518453</commentid>
    <comment_count>2</comment_count>
    <who name="Alan Liddell">alan.c.liddell</who>
    <bug_when>2016-07-18 13:25:18 -0400</bug_when>
    <thetext>As per the recent porting initiative, I will submit a patch for this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9519039</commentid>
    <comment_count>3</comment_count>
      <attachid>1181298</attachid>
    <who name="Alan Liddell">alan.c.liddell</who>
    <bug_when>2016-07-18 16:51:53 -0400</bug_when>
    <thetext>Created attachment 1181298
patch for RPM spec file

Here&apos;s my patch. I have only tested this on Fedora 24 (not RHEL or CentOS).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9524701</commentid>
    <comment_count>4</comment_count>
    <who name="Ralph Bean">rbean</who>
    <bug_when>2016-07-19 10:37:25 -0400</bug_when>
    <thetext>Thanks Alan!

I took you patch but had to adjust it a bit.

Here it is, applied and built in rawhide:

http://pkgs.fedoraproject.org/cgit/rpms/python-zope-proxy.git/commit/?id=6d4041d9273a8f708026196e0f4117f46e6285dc

Note that the with_python2 macro, while not forbidden, is unusual.  I&apos;ve only ever seen a with_python3 macro.

Is there some new documentation out there indicating that we should use a with_python2 macro in our specfiles?

Thanks again!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9526390</commentid>
    <comment_count>5</comment_count>
    <who name="Alan Liddell">alan.c.liddell</who>
    <bug_when>2016-07-19 13:25:58 -0400</bug_when>
    <thetext>(In reply to Ralph Bean from comment #4)
&gt; Thanks Alan!
&gt; 
&gt; I took you patch but had to adjust it a bit.
&gt; 
&gt; Here it is, applied and built in rawhide:
&gt; 
&gt; http://pkgs.fedoraproject.org/cgit/rpms/python-zope-proxy.git/commit/
&gt; ?id=6d4041d9273a8f708026196e0f4117f46e6285dc
&gt; 
&gt; Note that the with_python2 macro, while not forbidden, is unusual.  I&apos;ve
&gt; only ever seen a with_python3 macro.
&gt; 
&gt; Is there some new documentation out there indicating that we should use a
&gt; with_python2 macro in our specfiles?
&gt; 
&gt; Thanks again!

Ralph,

None that I&apos;m aware of (this is my first contrib). It just seemed like a useful conditional to have if one wanted to build with Python 3 by default.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9526420</commentid>
    <comment_count>6</comment_count>
    <who name="Alan Liddell">alan.c.liddell</who>
    <bug_when>2016-07-19 13:27:46 -0400</bug_when>
    <thetext>(In reply to Alan Liddell from comment #5)
&gt; (In reply to Ralph Bean from comment #4)
&gt; &gt; Thanks Alan!
&gt; &gt; 
&gt; &gt; I took you patch but had to adjust it a bit.
&gt; &gt; 
&gt; &gt; Here it is, applied and built in rawhide:
&gt; &gt; 
&gt; &gt; http://pkgs.fedoraproject.org/cgit/rpms/python-zope-proxy.git/commit/
&gt; &gt; ?id=6d4041d9273a8f708026196e0f4117f46e6285dc
&gt; &gt; 
&gt; &gt; Note that the with_python2 macro, while not forbidden, is unusual.  I&apos;ve
&gt; &gt; only ever seen a with_python3 macro.
&gt; &gt; 
&gt; &gt; Is there some new documentation out there indicating that we should use a
&gt; &gt; with_python2 macro in our specfiles?
&gt; &gt; 
&gt; &gt; Thanks again!
&gt; 
&gt; Ralph,
&gt; 
&gt; None that I&apos;m aware of (this is my first contrib). It just seemed like a
&gt; useful conditional to have if one wanted to build with Python 3 by default.

Mind pointing me toward best practice?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9560407</commentid>
    <comment_count>7</comment_count>
    <who name="Ralph Bean">rbean</who>
    <bug_when>2016-07-27 15:57:20 -0400</bug_when>
    <thetext>You know.. I couldn&apos;t find any docs on it.

I found this:  https://communityblog.fedoraproject.org/port-python-package/

which led me to this: http://fedora.portingdb.xyz/howto/

which led me to this: http://python-rpm-porting.readthedocs.io/en/latest/

which led me to this:  http://python-rpm-porting.readthedocs.io/en/latest/modules.html

and that last page is very useful, but it doesn&apos;t mention anything about with_python3 or with_python2 macros.

There&apos;s a certain value in the with_python3 macro for packages that are both in Fedora (which is python3 by default, and so the conditional will always be true) and also in EPEL (which is python2 only (kinda) and so the conditional is usually false there).

Many of the packages I help maintain are in both Fedora and EPEL, and so by habit I use that with_python3 macro, but perhaps it is not as standard as I thought.

(note that, this package in particular is not in EPEL)</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1181298</attachid>
            <date>2016-07-18 16:51:00 -0400</date>
            <delta_ts>2016-07-18 16:51:53 -0400</delta_ts>
            <desc>patch for RPM spec file</desc>
            <filename>python-zope-proxy.spec.patch</filename>
            <type>text/plain</type>
            <size>3370</size>
            <attacher name="Alan Liddell">alan.c.liddell</attacher>
            
              <data encoding="base64">NSw4YzUKPCAlZW5kaWYKPCAKPCAlaWYgMCV7P2ZlZG9yYX0KPCAlZ2xvYmFsIHdpdGhfcHl0aG9u
MyAxCi0tLQo+ICVnbG9iYWwgd2l0aF9weXRob24yIDEKMTNjMTAKPCBOYW1lOiAgICAgICAgICAg
cHl0aG9uLXpvcGUtcHJveHkKLS0tCj4gTmFtZTogICAgICAgICAgIHB5dGhvbjMtem9wZS1wcm94
eQoxNWMxMgo8IFJlbGVhc2U6ICAgICAgICAzJXs/ZGlzdH0KLS0tCj4gUmVsZWFzZTogICAgICAg
IDQlez9kaXN0fQoyMiwyOWQxOAo8IEJ1aWxkUmVxdWlyZXM6ICBweXRob24yLWRldmVsCjwgQnVp
bGRSZXF1aXJlczogIHB5dGhvbi1zZXR1cHRvb2xzCjwgCjwgIyBmb3IgdGVzdCBzdWl0ZQo8IEJ1
aWxkUmVxdWlyZXM6ICBweXRob24tem9wZS10ZXN0aW5nCjwgUmVxdWlyZXM6ICAgICAgIHB5dGhv
bi16b3BlLWludGVyZmFjZQo8IAo8ICVpZiAwJXs/d2l0aF9weXRob24zfQozMWEyMSwyMgo+IAo+
ICMgZm9yIHRlc3Qgc3VpdGUKMzJhMjQsMjkKPiBSZXF1aXJlczogICAgICAgcHl0aG9uMy16b3Bl
LWludGVyZmFjZQo+IAo+ICVpZiAwJXs/d2l0aF9weXRob24yfQo+IEJ1aWxkUmVxdWlyZXM6ICBw
eXRob24tZGV2ZWwKPiBCdWlsZFJlcXVpcmVzOiAgcHl0aG9uLXNldHVwdG9vbHMKPiBCdWlsZFJl
cXVpcmVzOiAgcHl0aG9uLXpvcGUtdGVzdGluZwozOCwzOWMzNSwzNgo8ICVpZiAwJXs/d2l0aF9w
eXRob24zfQo8ICVwYWNrYWdlIC1uIHB5dGhvbjMtem9wZS1wcm94eQotLS0KPiAlaWYgMCV7P3dp
dGhfcHl0aG9uMn0KPiAlcGFja2FnZSAtbiAgICAgcHl0aG9uLXpvcGUtcHJveHkKNDNjNDAKPCBS
ZXF1aXJlczogICAgICAgcHl0aG9uMy16b3BlLWludGVyZmFjZQotLS0KPiBSZXF1aXJlczogICAg
ICAgcHl0aG9uLXpvcGUtaW50ZXJmYWNlCjQ1YzQyCjwgJWRlc2NyaXB0aW9uIC1uIHB5dGhvbjMt
em9wZS1wcm94eQotLS0KPiAlZGVzY3JpcHRpb24gLW4gcHl0aG9uLXpvcGUtcHJveHkKNTNjNTAK
PCBSZXF1aXJlczogICAgICAgcHl0aG9uMi1kZXZlbAotLS0KPiBSZXF1aXJlczogICAgICAgcHl0
aG9uMy1kZXZlbAo2NCw2NmM2MSw2Mwo8ICVpZiAwJXs/d2l0aF9weXRob24zfQo8IHJtIC1yZiAl
e3B5M2Rpcn0KPCBjcCAtYSAuICV7cHkzZGlyfQotLS0KPiAlaWYgMCV7P3dpdGhfcHl0aG9uMn0K
PiBybSAtcmYgJXtweTJkaXJ9Cj4gY3AgLWEgLiAle3B5MmRpcn0KNzAsNzJkNjYKPCBDRkxBR1M9
IiRSUE1fT1BUX0ZMQUdTIiAle19fcHl0aG9uMn0gc2V0dXAucHkgYnVpbGQKPCAlaWYgMCV7P3dp
dGhfcHl0aG9uM30KPCBwdXNoZCAle3B5M2Rpcn0KNzNhNjgsNzAKPiAlaWYgMCV7P3dpdGhfcHl0
aG9uMn0KPiBwdXNoZCAle3B5MmRpcn0KPiBDRkxBR1M9IiRSUE1fT1BUX0ZMQUdTIiAle19fcHl0
aG9uMn0gc2V0dXAucHkgYnVpbGQKODAsODJjNzcsNzkKPCAlaWYgMCV7P3dpdGhfcHl0aG9uM30K
PCBwdXNoZCAle3B5M2Rpcn0KPCAle19fcHl0aG9uM30gc2V0dXAucHkgaW5zdGFsbCAtTzEgLS1z
a2lwLWJ1aWxkIC0tcm9vdCAle2J1aWxkcm9vdH0KLS0tCj4gJWlmIDAlez93aXRoX3B5dGhvbjJ9
Cj4gcHVzaGQgJXtweTJkaXJ9Cj4gJXtfX3B5dGhvbjJ9IHNldHVwLnB5IGluc3RhbGwgLU8xIC0t
c2tpcC1idWlsZCAtLXJvb3QgJXtidWlsZHJvb3R9Cjg0LDg2YzgxLDgzCjwgcm0gLWYgJFJQTV9C
VUlMRF9ST09UJXtweXRob24zX3NpdGVhcmNofS96b3BlL3Byb3h5L3Byb3h5LmgKPCBybSAtZiAk
UlBNX0JVSUxEX1JPT1Qle3B5dGhvbjNfc2l0ZWFyY2h9L3pvcGUvcHJveHkvX3pvcGVfcHJveHlf
cHJveHkuYwo8IHJtIC1yZiAkUlBNX0JVSUxEX1JPT1Qle19pbmNsdWRlZGlyfS9weXRob24zLipt
Ki8KLS0tCj4gcm0gLWYgJFJQTV9CVUlMRF9ST09UJXtweXRob24yX3NpdGVhcmNofS96b3BlL3By
b3h5L3Byb3h5LmgKPiBybSAtZiAkUlBNX0JVSUxEX1JPT1Qle3B5dGhvbjJfc2l0ZWFyY2h9L3pv
cGUvcHJveHkvX3pvcGVfcHJveHlfcHJveHkuYwo+IHJtIC1yZiAkUlBNX0JVSUxEX1JPT1Qle19p
bmNsdWRlZGlyfS9weXRob24yLiptKi8KOTBjODcKPCAle19fcHl0aG9uMn0gc2V0dXAucHkgaW5z
dGFsbCAtTzEgLS1za2lwLWJ1aWxkIC0tcm9vdCAle2J1aWxkcm9vdH0KLS0tCj4gJXtfX3B5dGhv
bjN9IHNldHVwLnB5IGluc3RhbGwgLU8xIC0tc2tpcC1idWlsZCAtLXJvb3QgJXtidWlsZHJvb3R9
CjkyLDkzYzg5LDkwCjwgcm0gLWYgJFJQTV9CVUlMRF9ST09UJXtweXRob24yX3NpdGVhcmNofS96
b3BlL3Byb3h5L3Byb3h5LmgKPCBybSAtZiAkUlBNX0JVSUxEX1JPT1Qle3B5dGhvbjJfc2l0ZWFy
Y2h9L3pvcGUvcHJveHkvX3pvcGVfcHJveHlfcHJveHkuYwotLS0KPiBybSAtZiAkUlBNX0JVSUxE
X1JPT1Qle3B5dGhvbjNfc2l0ZWFyY2h9L3pvcGUvcHJveHkvcHJveHkuaAo+IHJtIC1mICRSUE1f
QlVJTERfUk9PVCV7cHl0aG9uM19zaXRlYXJjaH0vem9wZS9wcm94eS9fem9wZV9wcm94eV9wcm94
eS5jCjk3LDk5ZDkzCjwgJXtfX3B5dGhvbjJ9IHNldHVwLnB5IHRlc3QKPCAlaWYgMCV7P3dpdGhf
cHl0aG9uM30KPCBwdXNoZCAle3B5M2Rpcn0KMTAwYTk1LDk3Cj4gJWlmIDAlez93aXRoX3B5dGhv
bjJ9Cj4gcHVzaGQgJXtweTJkaXJ9Cj4gJXtfX3B5dGhvbjJ9IHNldHVwLnB5IHRlc3QKMTA3LDEx
M2QxMDMKPCAle3B5dGhvbjJfc2l0ZWFyY2h9L3pvcGUvcHJveHkvCjwgJXtweXRob24yX3NpdGVh
cmNofS8le21vZG5hbWV9LSouZWdnLWluZm8KPCAle3B5dGhvbjJfc2l0ZWFyY2h9LyV7bW9kbmFt
ZX0tKi1uc3BrZy5wdGgKPCAKPCAlaWYgMCV7P3dpdGhfcHl0aG9uM30KPCAlZmlsZXMgLW4gcHl0
aG9uMy16b3BlLXByb3h5CjwgJWRvYyBDSEFOR0VTLnJzdCBSRUFETUUucnN0IENPUFlSSUdIVC50
eHQgTElDRU5TRS50eHQKMTE2YTEwNywxMTMKPiAKPiAlaWYgMCV7P3dpdGhfcHl0aG9uMn0KPiAl
ZmlsZXMgLW4gcHl0aG9uLXpvcGUtcHJveHkKPiAlZG9jIENIQU5HRVMucnN0IFJFQURNRS5yc3Qg
Q09QWVJJR0hULnR4dCBMSUNFTlNFLnR4dAo+ICV7cHl0aG9uMl9zaXRlYXJjaH0vem9wZS9wcm94
eS8KPiAle3B5dGhvbjJfc2l0ZWFyY2h9LyV7bW9kbmFtZX0tKi5lZ2ctaW5mbwo+ICV7cHl0aG9u
Ml9zaXRlYXJjaH0vJXttb2RuYW1lfS0qLW5zcGtnLnB0aAoxMTlhMTE3Cj4gJWlmIDAlez93aXRo
X3B5dGhvbjJ9CjEyMWExMjAsMTIzCj4gJWVsc2UKPiAlZGVmYXR0cigtLHJvb3Qscm9vdCwtKQo+
ICV7X2luY2x1ZGVkaXJ9L3B5dGhvbj8uP20vJXttb2RuYW1lfQo+ICVlbmRpZgoxMjNhMTI2LDEy
OAo+ICogTW9uIEp1bCAxOCAyMDE2IEFsYW4gTGlkZGVsbCA8YWxhbi5jLmxpZGRlbGxAZ21haWwu
Y29tPiAtIDQuMS42LTQKPiAtIFJlYnVpbHQgZm9yIHRoZSBHcmVhdCBGZWRvcmEgUHl0aG9uMyBQ
b3J0Cj4gCg==
</data>
<flag name="review"
          id="2726828"
          type_id="155"
          status="+"
          setter="alan.c.liddell"
    />
          </attachment>
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1342740</bug_id>
          
          <creation_ts>2016-06-04 10:51:00 -0400</creation_ts>
          <short_desc>lto cause industries to be broken and more bugs</short_desc>
          <delta_ts>2016-07-12 11:07:37 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>openttd</component>
          <version>24</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter>redhat</reporter>
          <assigned_to name="Felix Kaechele">felix</assigned_to>
          <cc>atorkhov</cc>
    
    
    <cc>felix</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>openttd-1.6.1-1.fc22 openttd-1.6.1-1.fc23 openttd-1.6.1-1.fc24</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-07-11 22:21:19</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9387136</commentid>
    <comment_count>0</comment_count>
    <who name="">redhat</who>
    <bug_when>2016-06-04 10:51:32 -0400</bug_when>
    <thetext>Description of problem:
When starting a game, only one industry is properly initialized, all others are not producing anything and clicking them will actually result in opening the info window for the only working (which always seems to be a coal mine). I noticed even more problems (e.g. it&apos;s possible to play the game over network, if the other side has a non-broken game, but network game will die every now and then) and I guess they are all caused by the same problem (see Additional info section).

Apparently it&apos;s not possible to actually play the game with this build.

Version-Release number of selected component (if applicable):
1.6.0-1.fc24.x86_64

How reproducible:
Always

Steps to Reproduce:
1. Start the game
2. Start a single player game with random map
3. After game started, click on the first industry you see

Actual results:
You see the info window of some random coal mine, which is not the one you clicked on (if you did not accidentally clicked on that single one)

Expected results:
You see the info window of exactly the industry you clicked on.

Additional info:
I rebuild the game from the rpm spec to ensure it&apos;s not a random build error and got the same result. I then noticed that link time optimizations are enabled in the spec (--enable-lto). I disabled them by removing this option and got a working build that did not suffer from the problems described above.

I assume that this is actually an upstream bug (memory leak or whatever) and that enabling link time optimizations trigger it, but nonetheless, I guess we should disable lto in Fedora to have the game working.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9470543</commentid>
    <comment_count>1</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-06-30 19:15:16 -0400</bug_when>
    <thetext>openttd-1.6.1-1.fc24 grfcodec-6.0.6-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-526e5981d2</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9470546</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-06-30 19:15:35 -0400</bug_when>
    <thetext>openttd-1.6.1-1.fc23 grfcodec-6.0.6-1.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-f619d13dbd</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9470549</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-06-30 19:15:45 -0400</bug_when>
    <thetext>openttd-1.6.1-1.fc22 grfcodec-6.0.6-1.fc22 has been submitted as an update to Fedora 22. https://bodhi.fedoraproject.org/updates/FEDORA-2016-7de151b3da</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9474223</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-07-02 16:24:23 -0400</bug_when>
    <thetext>grfcodec-6.0.6-1.fc22, openttd-1.6.1-1.fc22 has been pushed to the Fedora 22 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-7de151b3da</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9474271</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-07-02 16:30:43 -0400</bug_when>
    <thetext>grfcodec-6.0.6-1.fc24, openttd-1.6.1-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-526e5981d2</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9474346</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-07-02 16:55:59 -0400</bug_when>
    <thetext>grfcodec-6.0.6-1.fc23, openttd-1.6.1-1.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-f619d13dbd</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9498535</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-07-11 22:21:10 -0400</bug_when>
    <thetext>grfcodec-6.0.6-1.fc22, openttd-1.6.1-1.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9498583</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-07-11 22:25:13 -0400</bug_when>
    <thetext>grfcodec-6.0.6-1.fc23, openttd-1.6.1-1.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9501985</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-07-12 11:07:30 -0400</bug_when>
    <thetext>grfcodec-6.0.6-1.fc24, openttd-1.6.1-1.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
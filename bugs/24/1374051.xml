<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1374051</bug_id>
          
          <creation_ts>2016-09-07 16:01:00 -0400</creation_ts>
          <short_desc>SELinux is preventing iw from &apos;write&apos; accesses on the file /run/tlp/lock_tlp.</short_desc>
          <delta_ts>2017-06-08 14:10:30 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>selinux-policy</component>
          <version>24</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>abrt_hash:7bb98eff09db578f92e6b6786d9a3a24547375babba86273a01aedc9f76717e2;VARIANT_ID=workstation;</status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="xzj8b3">xzj8b3</reporter>
          <assigned_to name="Lukas Vrabec">lvrabec</assigned_to>
          <cc>adam</cc>
    
    
    <cc>ben.r.xiao</cc>
    
    
    <cc>bugzilla.somor</cc>
    
    
    <cc>bugzilla</cc>
    
    
    <cc>c.steinseifer</cc>
    
    
    <cc>danilogcarolino</cc>
    
    
    <cc>david.hajn+rh</cc>
    
    
    <cc>dominick.grift</cc>
    
    
    <cc>drfudgeboy</cc>
    
    
    <cc>dwalsh</cc>
    
    
    <cc>efsnefs</cc>
    
    
    <cc>fahrever2</cc>
    
    
    <cc>fedora.243908</cc>
    
    
    <cc>fnord</cc>
    
    
    <cc>fortizc</cc>
    
    
    <cc>irene.fanciulli</cc>
    
    
    <cc>javiertury</cc>
    
    
    <cc>jbirch</cc>
    
    
    <cc>jeancamargoreal</cc>
    
    
    <cc>justin</cc>
    
    
    <cc>linrunner</cc>
    
    
    <cc>live</cc>
    
    
    <cc>lmythreya</cc>
    
    
    <cc>luis.st</cc>
    
    
    <cc>lvrabec</cc>
    
    
    <cc>lyubo.petrov</cc>
    
    
    <cc>mail+redhat</cc>
    
    
    <cc>Marco_Anastasio</cc>
    
    
    <cc>marcvanwageningen</cc>
    
    
    <cc>metal3d</cc>
    
    
    <cc>m.frangiamore</cc>
    
    
    <cc>mgrepl</cc>
    
    
    <cc>michael</cc>
    
    
    <cc>mrummuka</cc>
    
    
    <cc>plautrba</cc>
    
    
    <cc>pushpamtiwari</cc>
    
    
    <cc>robert</cc>
    
    
    <cc>russ.otto.webdev</cc>
    
    
    <cc>sahin508</cc>
    
    
    <cc>seracon</cc>
    
    
    <cc>s.gendre</cc>
    
    
    <cc>Simon.Gerhards</cc>
    
    
    <cc>spandie990</cc>
    
    
    <cc>ssekidde</cc>
    
    
    <cc>thebeardedhermit</cc>
    
    
    <cc>trulsg</cc>
    
    
    <cc>woiling</cc>
    
    
    <cc>yupeak</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>selinux-policy-3.13.1-191.23.fc24</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-01-10 03:18:21</cf_last_closed>
          <cf_type>---</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9687996</commentid>
    <comment_count>0</comment_count>
    <who name="xzj8b3">xzj8b3</who>
    <bug_when>2016-09-07 16:01:48 -0400</bug_when>
    <thetext>Description of problem:
SELinux is preventing iw from &apos;write&apos; accesses on the file /run/tlp/lock_tlp.

*****  Plugin catchall (100. confidence) suggests   **************************

If si crede che iw dovrebbe avere possibilità di accesso write sui lock_tlp file in modo predefinito.
Then si dovrebbe riportare il problema come bug.
E&apos; possibile generare un modulo di politica locale per consentire questo accesso.
Do
allow this access for now by executing:
# ausearch -c &apos;iw&apos; --raw | audit2allow -M my-iw
# semodule -X 300 -i my-iw.pp

Additional Information:
Source Context                system_u:system_r:ifconfig_t:s0-s0:c0.c1023
Target Context                system_u:object_r:var_run_t:s0
Target Objects                /run/tlp/lock_tlp [ file ]
Source                        iw
Source Path                   iw
Port                          &lt;Unknown&gt;
Host                          (removed)
Source RPM Packages           
Target RPM Packages           
Policy RPM                    selinux-policy-3.13.1-191.14.fc24.noarch
Selinux Enabled               True
Policy Type                   targeted
Enforcing Mode                Enforcing
Host Name                     (removed)
Platform                      Linux (removed) 4.7.2-201.fc24.x86_64 #1 SMP Fri
                              Aug 26 15:58:40 UTC 2016 x86_64 x86_64
Alert Count                   2
First Seen                    2016-09-07 15:38:06 CEST
Last Seen                     2016-09-07 15:38:06 CEST
Local ID                      6c0c60b2-f91c-4952-bf48-98765718e7c6

Raw Audit Messages
type=AVC msg=audit(1473255486.977:275): avc:  denied  { write } for  pid=8234 comm=&quot;ethtool&quot; path=&quot;/run/tlp/lock_tlp&quot; dev=&quot;tmpfs&quot; ino=28754 scontext=system_u:system_r:ifconfig_t:s0-s0:c0.c1023 tcontext=system_u:object_r:var_run_t:s0 tclass=file permissive=0


Hash: iw,ifconfig_t,var_run_t,file,write

Version-Release number of selected component:
selinux-policy-3.13.1-191.14.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.7.2-201.fc24.x86_64
type:           libreport

Potential duplicate: bug 1371676</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9688117</commentid>
    <comment_count>1</comment_count>
    <who name="Martijn Kruiten">makruiten</who>
    <bug_when>2016-09-07 17:13:56 -0400</bug_when>
    <thetext>Probably related, but I&apos;d be happy to file a new bug if I&apos;m wrong:

SELinux is preventing ethtool from write access on the file /run/tlp/lock_tlp.

*****  Plugin catchall (100. confidence) suggests   **************************

If you believe that ethtool should be allowed write access on the lock_tlp file by default.
Then you should report this as a bug.
You can generate a local policy module to allow this access.
Do
allow this access for now by executing:
# ausearch -c &apos;ethtool&apos; --raw | audit2allow -M my-ethtool
# semodule -X 300 -i my-ethtool.pp

Additional Information:
Source Context                system_u:system_r:ifconfig_t:s0-s0:c0.c1023
Target Context                system_u:object_r:var_run_t:s0
Target Objects                /run/tlp/lock_tlp [ file ]
Source                        ethtool
Source Path                   ethtool
Port                          &lt;Unknown&gt;
Host                          (removed)
Source RPM Packages           
Target RPM Packages           
Policy RPM                    selinux-policy-3.13.1-191.14.fc24.noarch
Selinux Enabled               True
Policy Type                   targeted
Enforcing Mode                Enforcing
Host Name                     (removed)
Platform                      Linux (removed) 4.7.2-201.fc24.x86_64 #1
                              SMP Fri Aug 26 15:58:40 UTC 2016 x86_64 x86_64
Alert Count                   3
First Seen                    2016-09-07 16:23:15 CEST
Last Seen                     2016-09-07 23:08:12 CEST
Local ID                      f1c9dadb-0f6b-4cfa-a2d3-21026bcbc8ce

Raw Audit Messages
type=AVC msg=audit(1473282492.244:227): avc:  denied  { write } for  pid=3361 comm=&quot;ethtool&quot; path=&quot;/run/tlp/lock_tlp&quot; dev=&quot;tmpfs&quot; ino=27223 scontext=system_u:system_r:ifconfig_t:s0-s0:c0.c1023 tcontext=system_u:object_r:var_run_t:s0 tclass=file permissive=0


Hash: ethtool,ifconfig_t,var_run_t,file,write</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9699384</commentid>
    <comment_count>2</comment_count>
    <who name="Dan Taylor">fnord</who>
    <bug_when>2016-09-12 10:34:51 -0400</bug_when>
    <thetext>Description of problem:
Unplugged laptop power, got selinux error related to tlp

Version-Release number of selected component:
selinux-policy-3.13.1-191.14.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.7.2-201.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9706675</commentid>
    <comment_count>3</comment_count>
    <who name="Efs">efsnefs</who>
    <bug_when>2016-09-14 06:29:39 -0400</bug_when>
    <thetext>Description of problem:
When I am hanging on charger cable, selinux show this problem

Version-Release number of selected component:
selinux-policy-3.13.1-191.14.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.7.2-201.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9712287</commentid>
    <comment_count>4</comment_count>
    <who name="NMueller">redhat</who>
    <bug_when>2016-09-15 15:17:53 -0400</bug_when>
    <thetext>Description of problem:
I switched from battery to an external power source.

Version-Release number of selected component:
selinux-policy-3.13.1-191.14.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.7.2-201.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9715939</commentid>
    <comment_count>5</comment_count>
    <who name="">seracon</who>
    <bug_when>2016-09-16 22:10:11 -0400</bug_when>
    <thetext>Description of problem:
The error occurred after installing the browser Google Chrome stable version on the 64-bit version

Version-Release number of selected component:
selinux-policy-3.13.1-191.14.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.7.2-201.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9720703</commentid>
    <comment_count>6</comment_count>
    <who name="MICHELE">m.frangiamore</who>
    <bug_when>2016-09-19 06:33:50 -0400</bug_when>
    <thetext>*** Bug 1377261 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9737369</commentid>
    <comment_count>7</comment_count>
    <who name="Mythreya">lmythreya</who>
    <bug_when>2016-09-23 07:05:34 -0400</bug_when>
    <thetext>Description of problem:
I have tlp installed and just regular usage, nothing special.

Version-Release number of selected component:
selinux-policy-3.13.1-191.16.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.7.3-200.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9739313</commentid>
    <comment_count>8</comment_count>
    <who name="Jason Birch">jbirch</who>
    <bug_when>2016-09-23 15:47:24 -0400</bug_when>
    <thetext>*** Bug 1378988 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9740478</commentid>
    <comment_count>9</comment_count>
    <who name="Alessandro">busolinalessandro</who>
    <bug_when>2016-09-24 20:08:25 -0400</bug_when>
    <thetext>Description of problem:
Quando ho disconnesso il portatile dalla presa della corrente.

Version-Release number of selected component:
selinux-policy-3.13.1-191.16.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.7.4-200.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9740742</commentid>
    <comment_count>10</comment_count>
    <who name="Alessandro">busolinalessandro</who>
    <bug_when>2016-09-25 06:15:14 -0400</bug_when>
    <thetext>Description of problem:
When I removed the laptop from the electrical outlet.

Version-Release number of selected component:
selinux-policy-3.13.1-191.16.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.7.4-200.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9740914</commentid>
    <comment_count>11</comment_count>
    <who name="mrummuka">mrummuka</who>
    <bug_when>2016-09-25 12:43:52 -0400</bug_when>
    <thetext>Description of problem:
Plugged off laptop. Logged into the system 

Version-Release number of selected component:
selinux-policy-3.13.1-191.16.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.7.4-200.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9743534</commentid>
    <comment_count>12</comment_count>
    <who name="">mail+redhat</who>
    <bug_when>2016-09-26 13:59:59 -0400</bug_when>
    <thetext>Same, when unplugging charger.  (FWIW mine is the Korora adaptation of Fedora)

SELinux is preventing iw from &apos;write&apos; accesses on the file /run/tlp/lock_tlp.

*****  Plugin catchall (100. confidence) suggests   **************************

If you believe that iw should be allowed write access on the lock_tlp file by default.
Then you should report this as a bug.
You can generate a local policy module to allow this access.
Do
allow this access for now by executing:
# ausearch -c &apos;iw&apos; --raw | audit2allow -M my-iw
# semodule -X 300 -i my-iw.pp

Additional Information:
Source Context                system_u:system_r:ifconfig_t:s0-s0:c0.c1023
Target Context                system_u:object_r:var_run_t:s0
Target Objects                /run/tlp/lock_tlp [ file ]
Source                        iw
Source Path                   iw
Port                          &lt;Unknown&gt;
Host                          (removed)
Source RPM Packages           
Target RPM Packages           
Policy RPM                    selinux-policy-3.13.1-191.16.fc24.noarch
Selinux Enabled               True
Policy Type                   targeted
Enforcing Mode                Enforcing
Host Name                     (removed)
Platform                      Linux (removed) 4.7.4-200.fc24.x86_64 #1 SMP Thu
                              Sep 15 18:42:09 UTC 2016 x86_64 x86_64
Alert Count                   2
First Seen                    2016-09-26 18:46:45 BST
Last Seen                     2016-09-26 18:46:45 BST
Local ID                      b5222728-3c96-4a70-b290-c1acff52a6ca

Raw Audit Messages
type=AVC msg=audit(1474912005.522:908): avc:  denied  { write } for  pid=13937 comm=&quot;ethtool&quot; path=&quot;/run/tlp/lock_tlp&quot; dev=&quot;tmpfs&quot; ino=25987 scontext=system_u:system_r:ifconfig_t:s0-s0:c0.c1023 tcontext=system_u:object_r:var_run_t:s0 tclass=file permissive=0


Hash: iw,ifconfig_t,var_run_t,file,write</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9743569</commentid>
    <comment_count>13</comment_count>
    <who name="">javiertury</who>
    <bug_when>2016-09-26 14:13:49 -0400</bug_when>
    <thetext>Description of problem:
It happens once after booting/resuming or waking up from sleep


Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.7.4-200.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9743612</commentid>
    <comment_count>14</comment_count>
    <who name="NMueller">redhat</who>
    <bug_when>2016-09-26 14:22:56 -0400</bug_when>
    <thetext>Description of problem:
Connected the power cable to the laptop after waking from standby.

Version-Release number of selected component:
selinux-policy-3.13.1-191.16.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.7.4-200.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9747406</commentid>
    <comment_count>15</comment_count>
    <who name="Fedora Admin XMLRPC Client">fedora-admin-xmlrpc</who>
    <bug_when>2016-09-27 11:12:35 -0400</bug_when>
    <thetext>This package has changed ownership in the Fedora Package Database.  Reassigning to the new owner of this component.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9774926</commentid>
    <comment_count>16</comment_count>
    <who name="Felipe Ortiz">fortizc</who>
    <bug_when>2016-10-08 03:04:55 -0400</bug_when>
    <thetext>Hi, I have the same problem here when I plug and unplug the charger... bugs 1371676 and 1373791 seems to be the same</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9774929</commentid>
    <comment_count>17</comment_count>
    <who name="Felipe Ortiz">fortizc</who>
    <bug_when>2016-10-08 03:05:40 -0400</bug_when>
    <thetext>Hi, the same problem here when I plug and unplug the charger... bugs 1371676 and 1373791 seems to be the same</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9796483</commentid>
    <comment_count>18</comment_count>
    <who name="Efs">efsnefs</who>
    <bug_when>2016-10-17 06:32:34 -0400</bug_when>
    <thetext>*** Bug 1385573 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9828545</commentid>
    <comment_count>19</comment_count>
    <who name="Sureyya Sahin">sahin508</who>
    <bug_when>2016-10-27 22:27:05 -0400</bug_when>
    <thetext>Description of problem:
I plugged the pc to ac and this alert showed up.

Version-Release number of selected component:
selinux-policy-3.13.1-191.19.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.7.9-200.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9831990</commentid>
    <comment_count>20</comment_count>
    <who name="">david.hajn+rh</who>
    <bug_when>2016-10-30 17:22:23 -0400</bug_when>
    <thetext>Description of problem:
Happens every time the ThinkPad laptop (T430) is plugged in / out of electricity

Version-Release number of selected component:
selinux-policy-3.13.1-191.18.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.7.6-200.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9863862</commentid>
    <comment_count>21</comment_count>
    <who name="anonymous">spandie990</who>
    <bug_when>2016-11-05 00:30:11 -0400</bug_when>
    <thetext>*** Bug 1392138 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9873919</commentid>
    <comment_count>22</comment_count>
    <who name="Rob Tomsick">robert</who>
    <bug_when>2016-11-08 18:49:49 -0500</bug_when>
    <thetext>Description of problem:
Install TLP.  Enable it.  Suspend computer.

Test platform is ThinkPad T460.

Version-Release number of selected component:
selinux-policy-3.13.1-191.19.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.8.6-201.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9873921</commentid>
    <comment_count>23</comment_count>
    <who name="Rob Tomsick">robert</who>
    <bug_when>2016-11-08 18:51:40 -0500</bug_when>
    <thetext>(In reply to Rob Tomsick from comment #22)
&gt; Description of problem:
&gt; Install TLP.  Enable it.  Suspend computer.


Actually, disregard that.  It happens on power state change (plugged -&gt; unplugged), not suspend.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9880178</commentid>
    <comment_count>24</comment_count>
    <who name="Sureyya Sahin">sahin508</who>
    <bug_when>2016-11-10 09:55:29 -0500</bug_when>
    <thetext>Description of problem:
I receive this selinux message after I unplug and plug the laptop while the system is running.

Version-Release number of selected component:
selinux-policy-3.13.1-191.20.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.8.6-201.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9881899</commentid>
    <comment_count>25</comment_count>
    <who name="Danilo Carolino">danilogcarolino</who>
    <bug_when>2016-11-10 20:15:59 -0500</bug_when>
    <thetext>*** Bug 1394088 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9883204</commentid>
    <comment_count>26</comment_count>
    <who name="Michael Reiger">michael</who>
    <bug_when>2016-11-11 07:31:47 -0500</bug_when>
    <thetext>Description of problem:
This seems to happen at any power state change (i.e. unplug or replug the power cord).


Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.8.6-201.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9903609</commentid>
    <comment_count>27</comment_count>
    <who name="">Marco_Anastasio</who>
    <bug_when>2016-11-18 09:34:33 -0500</bug_when>
    <thetext>Description of problem:
I installed tlp and cofigured it. After unplug the ac power connector this happened

Version-Release number of selected component:
selinux-policy-3.13.1-191.20.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.8.7-200.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9903628</commentid>
    <comment_count>28</comment_count>
    <who name="Simon Sekidde">ssekidde</who>
    <bug_when>2016-11-18 09:41:24 -0500</bug_when>
    <thetext>We need to add a suitable label that ifconfig can work with. 

Please try 

 semanage fcontext -a -t ifconfig_var_run_t /run/tlp/lock_tlp   
 restorecon -R -v /run/tlp/lock_tlp</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9907120</commentid>
    <comment_count>29</comment_count>
    <who name="Shaun Assam">thebeardedhermit</who>
    <bug_when>2016-11-21 00:52:59 -0500</bug_when>
    <thetext>Thanks Simon, your suggestion worked for me.

- Received SELinux error after unplugging AC power connection.
- Ran the following command in the terminal:  semanage fcontext -a -t ifconfig_var_run_t /run/tlp/lock_tlp &amp;&amp; restorecon -R -v /run/tlp/lock_tlp
- No longer receiving SELinux errors when I unplug AC.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9930632</commentid>
    <comment_count>30</comment_count>
    <who name="Simon Gerhards">Simon.Gerhards</who>
    <bug_when>2016-11-25 13:54:57 -0500</bug_when>
    <thetext>Description of problem:
This happened when I reconnected the mains adapter.

Version-Release number of selected component:
selinux-policy-3.13.1-191.21.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.8.8-200.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9931543</commentid>
    <comment_count>31</comment_count>
    <who name="Sébastien Gendre">s.gendre</who>
    <bug_when>2016-11-26 18:34:59 -0500</bug_when>
    <thetext>(In reply to Simon Sekidde from comment #28)
&gt; We need to add a suitable label that ifconfig can work with. 
&gt; 
&gt; Please try 
&gt; 
&gt;  semanage fcontext -a -t ifconfig_var_run_t /run/tlp/lock_tlp   
&gt;  restorecon -R -v /run/tlp/lock_tlp

Thanks Simon.

This suggestion worked for me.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9931933</commentid>
    <comment_count>32</comment_count>
    <who name="Biji">fedora.243908</who>
    <bug_when>2016-11-27 05:25:37 -0500</bug_when>
    <thetext>This also work: 
chcon -t ifconfig_var_run_t /run/tlp/lock_tlp</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9957017</commentid>
    <comment_count>33</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-05 12:03:31 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-191.23.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-90bd4d7d33</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9962714</commentid>
    <comment_count>34</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-06 21:56:51 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-191.23.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-90bd4d7d33</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10045805</commentid>
    <comment_count>35</comment_count>
    <who name="Woi">woiling</who>
    <bug_when>2017-01-09 10:17:31 -0500</bug_when>
    <thetext>I&apos;m still expiring this issue with selinux-policy-3.13.1-191.23.fc24, provided bodhi feedback accordingly.

$ rpm -qi selinux-policy
Name        : selinux-policy
Version     : 3.13.1
Release     : 191.23.fc24
Architecture: noarch
Install Date: Mi 04 Jan 2017 17:08:10 CET
Group       : System Environment/Base
Size        : 20703
License     : GPLv2+
Signature   : RSA/SHA256, Mo 05 Dez 2016 19:11:58 CET, Key ID 73bde98381b46521
Source RPM  : selinux-policy-3.13.1-191.23.fc24.src.rpm
Build Date  : Mo 05 Dez 2016 16:53:04 CET
Build Host  : buildhw-04.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : http://github.com/TresysTechnology/refpolicy/wiki
Summary     : SELinux policy configuration
Description :
SELinux Base package for SELinux Reference Policy - modular.
Based off of reference policy: Checked out revision  2.20091117



SELinux is preventing iw from write access on the file /run/tlp/lock_tlp.

*****  Plugin catchall (100. confidence) suggests   **************************

If sie denken, dass es iw standardmäßig erlaubt sein sollte, write Zugriff auf lock_tlp file zu erhalten.
Then sie sollten dies als Fehler melden.
Um diesen Zugriff zu erlauben, können Sie ein lokales Richtlinien-Modul erstellen.
Do
allow this access for now by executing:
# ausearch -c &apos;iw&apos; --raw | audit2allow -M my-iw
# semodule -X 300 -i my-iw.pp

Additional Information:
Source Context                system_u:system_r:ifconfig_t:s0-s0:c0.c1023
Target Context                system_u:object_r:var_run_t:s0
Target Objects                /run/tlp/lock_tlp [ file ]
Source                        iw
Source Path                   iw
Port                          &lt;Unknown&gt;
Host                          localhost.localdomain
Source RPM Packages           
Target RPM Packages           
Policy RPM                    selinux-policy-3.13.1-191.23.fc24.noarch
Selinux Enabled               True
Policy Type                   targeted
Enforcing Mode                Enforcing
Host Name                     localhost.localdomain
Platform                      Linux localhost.localdomain 4.8.15-200.fc24.x86_64
                              #1 SMP Thu Dec 15 23:09:22 UTC 2016 x86_64 x86_64
Alert Count                   26
First Seen                    2017-01-04 11:38:42 CET
Last Seen                     2017-01-09 15:55:26 CET
Local ID                      d818df04-7b18-4e61-8f84-66f940e7d588

Raw Audit Messages
type=AVC msg=audit(1483973726.508:671): avc:  denied  { write } for  pid=11170 comm=&quot;ethtool&quot; path=&quot;/run/tlp/lock_tlp&quot; dev=&quot;tmpfs&quot; ino=23353 scontext=system_u:system_r:ifconfig_t:s0-s0:c0.c1023 tcontext=system_u:object_r:var_run_t:s0 tclass=file permissive=0


Hash: iw,ifconfig_t,var_run_t,file,write</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10048155</commentid>
    <comment_count>36</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-01-10 03:18:21 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-191.23.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10050003</commentid>
    <comment_count>37</comment_count>
    <who name="Woi">woiling</who>
    <bug_when>2017-01-10 11:44:28 -0500</bug_when>
    <thetext>Problem still persists for me.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10064027</commentid>
    <comment_count>38</comment_count>
    <who name="">javiertury</who>
    <bug_when>2017-01-15 04:44:03 -0500</bug_when>
    <thetext>For me the &apos;/run/tlp/lock_tlp&apos; issue is gone, but now upon reconnecting the power cable I get another selinux popup.

selinux-policy.noarch                  3.13.1-225.6.fc25

SELinux is preventing iw from open access on the file /proc/&lt;pid&gt;/net/psched.

*****  Plugin catchall (100. confidence) suggests   **************************

If you believe that iw should be allowed open access on the psched file by default.
Then you should report this as a bug.
You can generate a local policy module to allow this access.
Do
allow this access for now by executing:
# ausearch -c &apos;iw&apos; --raw | audit2allow -M my-iw
# semodule -X 300 -i my-iw.pp

Additional Information:
Source Context                system_u:system_r:tlp_t:s0
Target Context                system_u:object_r:proc_net_t:s0
Target Objects                /proc/&lt;pid&gt;/net/psched [ file ]
Source                        iw
Source Path                   iw
Port                          &lt;Unknown&gt;
Host                          localhost.localdomain
Source RPM Packages           
Target RPM Packages           
Policy RPM                    &lt;Unknown&gt;
Selinux Enabled               True
Policy Type                   targeted
Enforcing Mode                Enforcing
Host Name                     localhost.localdomain
Platform                      Linux localhost.localdomain 4.8.15-300.fc25.x86_64
                              #1 SMP Thu Dec 15 23:10:23 UTC 2016 x86_64 x86_64
Alert Count                   151
First Seen                    2016-12-22 23:36:11 CET
Last Seen                     2017-01-14 10:04:26 CET
Local ID                      abb04f47-3b33-4ad5-afd3-5c5673b454cf

Raw Audit Messages
type=AVC msg=audit(1484384666.670:8353): avc:  denied  { open } for  pid=19006 comm=&quot;iw&quot; path=&quot;/proc/19006/net/psched&quot; dev=&quot;proc&quot; ino=4026531982 scontext=system_u:system_r:tlp_t:s0 tcontext=system_u:object_r:proc_net_t:s0 tclass=file permissive=1


Hash: iw,tlp_t,proc_net_t,file,open</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10106678</commentid>
    <comment_count>39</comment_count>
    <who name="Woi">woiling</who>
    <bug_when>2017-01-30 12:45:46 -0500</bug_when>
    <thetext>Description of problem:
Connect/unconnect Thinkpad X1 Carbon 4th Gen/2016 with installed TLP to OneLink Dock+ 

Version-Release number of selected component:
selinux-policy-3.13.1-191.23.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.9.5-100.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10106703</commentid>
    <comment_count>40</comment_count>
    <who name="Woi">woiling</who>
    <bug_when>2017-01-30 12:49:11 -0500</bug_when>
    <thetext>Description of problem:
Unconnect Thinkpad X1 Carbon 4th Gen/2016 with installed TLP to OneLink Dock+ 

Version-Release number of selected component:
selinux-policy-3.13.1-191.23.fc24.noarch

Additional info:
reporter:       libreport-2.7.2
hashmarkername: setroubleshoot
kernel:         4.9.5-100.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10113600</commentid>
    <comment_count>41</comment_count>
    <who name="Woi">woiling</who>
    <bug_when>2017-02-01 12:44:50 -0500</bug_when>
    <thetext>(In reply to Fedora Update System from comment #36)
&gt; If problems still persist, please make note of it in this bug
&gt; report.

Three weeks already pass since I did as suggested without a reaction. So can someone please reopen this bug? I don&apos;t have the necessary rights to do it myself. Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10115485</commentid>
    <comment_count>42</comment_count>
    <who name="Lukas Vrabec">lvrabec</who>
    <bug_when>2017-02-02 06:46:24 -0500</bug_when>
    <thetext>Woi, 

Please run:
# restorecon -Rv /var/run

Thanks,
Lukas.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10121395</commentid>
    <comment_count>43</comment_count>
    <who name="Woi">woiling</who>
    <bug_when>2017-02-04 14:38:13 -0500</bug_when>
    <thetext>Thanks Lukas vor pointing out. However, nothing changed after doing so: I&apos;m still getting selinux warning when plugging in or removing the power supply.


$ sudo restorecon -Rv /var/run/
restorecon:  Warning no default label for /run/lightdm.pid
restorecon reset /run/user/1001/gvfs context unconfined_u:object_r:user_tmp_t:s0-&gt;unconfined_u:object_r:fusefs_t:s0
restorecon:  Warning no default label for /run/lvmetad.pid
restorecon:  Warning no default label for /run/lock/subsys
restorecon:  Warning no default label for /run/lock/subsys/akmods
restorecon:  Warning no default label for /run/initramfs
restorecon:  Warning no default label for /run/initramfs/rwtab
restorecon:  Warning no default label for /run/initramfs/state
restorecon:  Warning no default label for /run/initramfs/state/var
restorecon:  Warning no default label for /run/initramfs/state/var/lib
restorecon:  Warning no default label for /run/initramfs/state/var/lib/dhclient
restorecon:  Warning no default label for /run/initramfs/state/etc
restorecon:  Warning no default label for /run/initramfs/state/etc/sysconfig
restorecon:  Warning no default label for /run/initramfs/state/etc/sysconfig/network-scripts
restorecon:  Warning no default label for /run/initramfs/.need_shutdown
restorecon:  Warning no default label for /run/initramfs/log
$</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10121984</commentid>
    <comment_count>44</comment_count>
    <who name="Benjamin Xiao">ben.r.xiao</who>
    <bug_when>2017-02-05 14:41:14 -0500</bug_when>
    <thetext>This is still happening on Fedora 25 when I unplug or plug in my power cable. This is with selinux-policy 3.13.1-225.6.fc25


Feb 05 11:38:58 benxiao-fedora02 audit[9230]: AVC avc:  denied  { write } for  pid=9230 comm=&quot;iw&quot; path=&quot;/run/tlp/lock_tlp&quot; dev=&quot;tmpfs&quot; ino=41558 scontext=system_u:system_r:ifconfig_t:s0-s0:c0.c1023 tcontext=system_u:object_r:tlp_var_run_t:s0 tclass=file permissive=0
Feb 05 11:38:58 benxiao-fedora02 audit[9233]: AVC avc:  denied  { write } for  pid=9233 comm=&quot;ethtool&quot; path=&quot;/run/tlp/lock_tlp&quot; dev=&quot;tmpfs&quot; ino=41558 scontext=system_u:system_r:ifconfig_t:s0-s0:c0.c1023 tcontext=system_u:object_r:tlp_var_run_t:s0 tclass=file permissive=0</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10139219</commentid>
    <comment_count>45</comment_count>
    <who name="Woi">woiling</who>
    <bug_when>2017-02-10 14:32:42 -0500</bug_when>
    <thetext>Any further advice? Can this bug be re-opened again? Should I open a new bug instead?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10184687</commentid>
    <comment_count>46</comment_count>
    <who name="Justin">justin</who>
    <bug_when>2017-02-26 12:48:03 -0500</bug_when>
    <thetext>(In reply to Benjamin Xiao from comment #44)
&gt; This is still happening on Fedora 25 when I unplug or plug in my power
&gt; cable. This is with selinux-policy 3.13.1-225.6.fc25
&gt; 
&gt; 
&gt; Feb 05 11:38:58 benxiao-fedora02 audit[9230]: AVC avc:  denied  { write }
&gt; for  pid=9230 comm=&quot;iw&quot; path=&quot;/run/tlp/lock_tlp&quot; dev=&quot;tmpfs&quot; ino=41558
&gt; scontext=system_u:system_r:ifconfig_t:s0-s0:c0.c1023
&gt; tcontext=system_u:object_r:tlp_var_run_t:s0 tclass=file permissive=0
&gt; Feb 05 11:38:58 benxiao-fedora02 audit[9233]: AVC avc:  denied  { write }
&gt; for  pid=9233 comm=&quot;ethtool&quot; path=&quot;/run/tlp/lock_tlp&quot; dev=&quot;tmpfs&quot; ino=41558
&gt; scontext=system_u:system_r:ifconfig_t:s0-s0:c0.c1023
&gt; tcontext=system_u:object_r:tlp_var_run_t:s0 tclass=file permissive=0

I have the same issue as Benjamin and the same version of selinux-policy. Here is my audit message

type=AVC msg=audit(1488081410.111:922): avc:  denied  { write } for  pid=17279 comm=&quot;iw&quot; path=&quot;/run/tlp/lock_tlp&quot; dev=&quot;tmpfs&quot; ino=30995 scontext=system_u:system_r:ifconfig_t:s0-s0:c0.c1023 tcontext=system_u:object_r:tlp_var_run_t:s0 tclass=file permissive=1</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1398040</bug_id>
          
          <creation_ts>2016-11-23 18:43:00 -0500</creation_ts>
          <short_desc>dnf calls weak dependencies &quot;Skipping packages with broken dependencies&quot;</short_desc>
          <delta_ts>2017-06-09 15:05:50 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>dnf</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          <see_also>https://bugzilla.redhat.com/show_bug.cgi?id=1399615</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>Triaged</keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1399615</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Harald Reindl">h.reindl</reporter>
          <assigned_to name="Jaroslav Mracek">jmracek</assigned_to>
          <cc>h.reindl</cc>
    
    
    <cc>jberan</cc>
    
    
    <cc>jhasse</cc>
    
    
    <cc>jmracek</cc>
    
    
    <cc>massi.ergosum</cc>
    
    
    <cc>mluscon</cc>
    
    
    <cc>packaging-team-maint</cc>
    
    
    <cc>pnemade</cc>
    
    
    <cc>rdieter</cc>
    
    
    <cc>rpm-software-management</cc>
    
    
    <cc>vmukhame</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>dnf-2.5.0-2.fc26</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-06-09 15:05:50</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9917993</commentid>
    <comment_count>0</comment_count>
    <who name="Harald Reindl">h.reindl</who>
    <bug_when>2016-11-23 18:43:06 -0500</bug_when>
    <thetext>&quot;Skipping packages with broken dependencies&quot; is plain nonsense for many months now and i see several threads on the devellist that this affects DNF2 - no it affects every DNF version ever out there and such a terrible wrong leading message should not happen

[root@srv-rhsoft:~]$ dnf upgrade
Last metadata expiration check: 0:00:35 ago on Thu Nov 24 00:40:40 2016.
Dependencies resolved.
===================================================================================================================================================================================================================
 Package                                                        Arch                                    Version                                             Repository                                        Size
===================================================================================================================================================================================================================
Skipping packages with broken dependencies:
 kf5-frameworkintegration                                       x86_64                                  5.27.0-1.fc24.2                                     updates-testing                                  1.5 M
 kf5-frameworkintegration-libs                                  x86_64                                  5.27.0-1.fc24.2                                     updates-testing                                   31 k
 kf5-kdeclarative                                               x86_64                                  5.27.0-1.fc24.2                                     updates-testing                                  258 k
 kf5-kwayland                                                   x86_64                                  5.27.0-1.fc24.2                                     updates-testing                                  311 k
 qt5-qtbase                                                     x86_64                                  5.6.2-1.fc24                                        updates-testing                                  3.0 M
 qt5-qtbase-common                                              noarch                                  5.6.2-1.fc24                                        updates-testing                                   29 k
 qt5-qtbase-gui                                                 x86_64                                  5.6.2-1.fc24                                        updates-testing                                  5.2 M
 qt5-qtdeclarative                                              x86_64                                  5.6.2-1.fc24                                        updates-testing                                  4.2 M
 qt5-qtgraphicaleffects                                         x86_64                                  5.6.2-1.fc24                                        updates-testing                                  470 k
 qt5-qtlocation                                                 x86_64                                  5.6.2-1.fc24                                        updates-testing                                  738 k
 qt5-qtmultimedia                                               x86_64                                  5.6.2-1.fc24                                        updates-testing                                  789 k
 qt5-qtquickcontrols                                            x86_64                                  5.6.2-1.fc24                                        updates-testing                                  928 k
 qt5-qtscript                                                   x86_64                                  5.6.2-1.fc24                                        updates-testing                                  1.0 M
 qt5-qtsensors                                                  x86_64                                  5.6.2-1.fc24                                        updates-testing                                  195 k
 qt5-qtserialport                                               x86_64                                  5.6.2-1.fc24                                        updates-testing                                   65 k
 qt5-qtsvg                                                      x86_64                                  5.6.2-1.fc24                                        updates-testing                                  157 k
 qt5-qttools                                                    x86_64                                  5.6.2-2.fc24                                        updates-testing                                   44 k
 qt5-qttools-common                                             noarch                                  5.6.2-2.fc24                                        updates-testing                                   24 k
 qt5-qttools-libs-designer                                      x86_64                                  5.6.2-2.fc24                                        updates-testing                                  2.7 M
 qt5-qtwebchannel                                               x86_64                                  5.6.2-1.fc24                                        updates-testing                                   84 k
 qt5-qtwebkit                                                   x86_64                                  5.6.2-1.fc24                                        updates-testing                                   10 M
 qt5-qtx11extras                                                x86_64                                  5.6.2-1.fc24                                        updates-testing                                   28 k
 qt5-qtxmlpatterns                                              x86_64                                  5.6.2-1.fc24                                        updates-testing                                  1.1 M

Transaction Summary
===================================================================================================================================================================================================================
Skip  23 Packages

Nothing to do.
Complete!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9920806</commentid>
    <comment_count>1</comment_count>
    <who name="Harald Reindl">h.reindl</who>
    <bug_when>2016-11-24 06:43:50 -0500</bug_when>
    <thetext>OK, this case is indeed a dpendecy problem and after 10 years working with Fedora it makes it much more clear that you MUST NOT talk about errors in case of soft-dependecies because even advanced sysadmins are not able most of the time to distinct what DNF is talking about

FRANKLY DNF don&apos;t give any useful informations even with &quot;dnf -v&quot; and saying &quot;broken dependencies&quot; woth the list of some packages is NOT HELPFUL

the output of yum-deprecated IS HELPFUL as yum always was - so can you please stop deisgn DNF for fools where you pretend they would not understand the output anyways and after that when also working with local packages works proper DNF *may become* a replacement for YUM - currently it is not

Resolving Dependencies
--&gt; Running transaction check
---&gt; Package kf5-frameworkintegration.x86_64 0:5.27.0-1.fc24 will be updated
---&gt; Package kf5-frameworkintegration.x86_64 0:5.27.0-1.fc24.2 will be an update
---&gt; Package kf5-frameworkintegration-libs.x86_64 0:5.27.0-1.fc24 will be updated
---&gt; Package kf5-frameworkintegration-libs.x86_64 0:5.27.0-1.fc24.2 will be an update
---&gt; Package kf5-kdeclarative.x86_64 0:5.27.0-1.fc24 will be updated
---&gt; Package kf5-kdeclarative.x86_64 0:5.27.0-1.fc24.2 will be an update
---&gt; Package kf5-kwayland.x86_64 0:5.27.0-1.fc24 will be updated
---&gt; Package kf5-kwayland.x86_64 0:5.27.0-1.fc24.2 will be an update
---&gt; Package qt5-qtbase.x86_64 0:5.6.1-3.fc24 will be updated
--&gt; Processing Dependency: qt5-qtbase(x86-64) = 5.6.1 for package: plasma-integration-5.8.3-1.fc24.x86_64
--&gt; Processing Dependency: qt5-qtbase(x86-64) = 5.6.1 for package: kwin-5.8.3-1.fc24.x86_64
---&gt; Package qt5-qtbase.x86_64 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qtbase-common.noarch 0:5.6.1-3.fc24 will be updated
---&gt; Package qt5-qtbase-common.noarch 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qtbase-gui.x86_64 0:5.6.1-3.fc24 will be updated
---&gt; Package qt5-qtbase-gui.x86_64 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qtdeclarative.x86_64 0:5.6.1-5.fc24 will be updated
---&gt; Package qt5-qtdeclarative.x86_64 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qtgraphicaleffects.x86_64 0:5.6.1-1.fc24 will be updated
---&gt; Package qt5-qtgraphicaleffects.x86_64 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qtlocation.x86_64 0:5.6.1-2.fc24 will be updated
---&gt; Package qt5-qtlocation.x86_64 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qtmultimedia.x86_64 0:5.6.1-3.fc24 will be updated
---&gt; Package qt5-qtmultimedia.x86_64 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qtquickcontrols.x86_64 0:5.6.1-1.fc24 will be updated
---&gt; Package qt5-qtquickcontrols.x86_64 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qtscript.x86_64 0:5.6.1-1.fc24 will be updated
---&gt; Package qt5-qtscript.x86_64 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qtsensors.x86_64 0:5.6.1-2.fc24 will be updated
---&gt; Package qt5-qtsensors.x86_64 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qtserialport.x86_64 0:5.6.1-1.fc24 will be updated
---&gt; Package qt5-qtserialport.x86_64 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qtsvg.x86_64 0:5.6.1-2.fc24 will be updated
---&gt; Package qt5-qtsvg.x86_64 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qttools.x86_64 0:5.6.1-2.fc24 will be updated
---&gt; Package qt5-qttools.x86_64 0:5.6.2-2.fc24 will be an update
---&gt; Package qt5-qttools-common.noarch 0:5.6.1-2.fc24 will be updated
---&gt; Package qt5-qttools-common.noarch 0:5.6.2-2.fc24 will be an update
---&gt; Package qt5-qttools-libs-designer.x86_64 0:5.6.1-2.fc24 will be updated
---&gt; Package qt5-qttools-libs-designer.x86_64 0:5.6.2-2.fc24 will be an update
---&gt; Package qt5-qtwebchannel.x86_64 0:5.6.1-2.fc24 will be updated
---&gt; Package qt5-qtwebchannel.x86_64 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qtwebkit.x86_64 0:5.6.1-3.b889f46git.fc24 will be updated
---&gt; Package qt5-qtwebkit.x86_64 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qtx11extras.x86_64 0:5.6.1-2.fc24 will be updated
---&gt; Package qt5-qtx11extras.x86_64 0:5.6.2-1.fc24 will be an update
---&gt; Package qt5-qtxmlpatterns.x86_64 0:5.6.1-1.fc24 will be updated
---&gt; Package qt5-qtxmlpatterns.x86_64 0:5.6.2-1.fc24 will be an update
--&gt; Finished Dependency Resolution
--&gt; Finding unneeded leftover dependencies
Found and removing 0 unneeded dependencies
Error: Package: plasma-integration-5.8.3-1.fc24.x86_64 (installed)
           Requires: qt5-qtbase(x86-64) = 5.6.1
           Removing: qt5-qtbase-5.6.1-3.fc24.x86_64 (installed)
               qt5-qtbase(x86-64) = 5.6.1-3.fc24
           Updated By: qt5-qtbase-5.6.2-1.fc24.x86_64 (updates-testing)
               qt5-qtbase(x86-64) = 5.6.2-1.fc24
           Available: qt5-qtbase-5.6.0-13.fc24.x86_64 (fedora)
               qt5-qtbase(x86-64) = 5.6.0-13.fc24
Error: Package: kwin-5.8.3-1.fc24.x86_64 (installed)
           Requires: qt5-qtbase(x86-64) = 5.6.1
           Removing: qt5-qtbase-5.6.1-3.fc24.x86_64 (installed)
               qt5-qtbase(x86-64) = 5.6.1-3.fc24
           Updated By: qt5-qtbase-5.6.2-1.fc24.x86_64 (updates-testing)
               qt5-qtbase(x86-64) = 5.6.2-1.fc24
           Available: qt5-qtbase-5.6.0-13.fc24.x86_64 (fedora)
               qt5-qtbase(x86-64) = 5.6.0-13.fc24
 You could try using --skip-broken to work around the problem
 You could try running: rpm -Va --nofiles --nodigest</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9922133</commentid>
    <comment_count>2</comment_count>
    <who name="Rex Dieter">rdieter</who>
    <bug_when>2016-11-24 07:52:43 -0500</bug_when>
    <thetext>The qt 5.6.2 update,
https://bodhi.fedoraproject.org/updates/FEDORA-2016-ee7faa4b02
indeed has broken deps (missing kwin and plasma-integration), I&apos;ll be fixing it today. (sorry)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9931109</commentid>
    <comment_count>3</comment_count>
    <who name="Harald Reindl">h.reindl</who>
    <bug_when>2016-11-26 07:24:19 -0500</bug_when>
    <thetext>until now not fixed - besides that everytime when DNF tells me deps are broken but not what is the reason i get terrible angry, the good old yum gone so far that it even mentioned conflicting sonames so that you can write useful bugreports

i guess the excuse is that the ordinary user is overwheelmed with that informations he don&apos;t understand what is wrong for many reasons:

* the ordinary user don&apos;t use CLI and DNF/YUM
* he can&apos;t learn to understand because he don&apos;t get something useful

guys guess how i learend about the way pakcages acting together and what relies on waht packages - mostly by the output of YUM - without that i would still be that ordinary user with no clue - happily i started with Fedora in times where it talked to his users instead burry anything (except systemd which fllods logs all the time and does the otehr direction in the wrong way)

when i say &quot;dnf -v&quot; i MEAN &quot;be verbose and talk to me&quot;</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9936124</commentid>
    <comment_count>4</comment_count>
    <who name="Jaroslav Mracek">jmracek</who>
    <bug_when>2016-11-28 14:14:02 -0500</bug_when>
    <thetext>Please can you provide transaction output from &quot;yum update --skip-broken&quot; and &apos;dnf upgrade&apos;. Please before comperison clean cache for dnf and for yum. Thanks a lot, any additional information will speedup redesign of dnf code. Thanks a lot.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9936170</commentid>
    <comment_count>5</comment_count>
    <who name="Harald Reindl">h.reindl</who>
    <bug_when>2016-11-28 14:32:48 -0500</bug_when>
    <thetext>too late now - update was fixed but i will bookmark this bugreport and add a comment when it happens the next time

in the meantime it shouldn&apos;t be too hard to build some intentional broken package and compare the non-helpful DNS output &quot;Skipping packages with broken dependencies&quot; versus what YUM said for years in case of dependency problems</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9937940</commentid>
    <comment_count>6</comment_count>
    <who name="Jakub Filak">jfilak</who>
    <bug_when>2016-11-29 03:58:18 -0500</bug_when>
    <thetext>I&apos;ve hit a different problem with the skipping packages with broken dependencies feature. I tried to install curl, libcurl and libcurl-devel and dnf replied with the following message:

Last metadata expiration check: 2:01:31 ago on Tue Nov 29 01:03:07 2016.
Package libcurl-7.50.3-1.fc25.x86_64 is already installed, skipping.
Package libcurl-devel-7.50.3-1.fc25.x86_64 is already installed, skipping.
Dependencies resolved.
==========================================================================================================================================================================
 Package                                     Arch                                 Version                                     Repository                             Size
==========================================================================================================================================================================
Skipping packages with conflicts:
(add &apos;--best --allowerasing&apos; to command line to force their upgrade):
 curl                                        x86_64                               7.51.0-3.fc25                               updates                               307 k
 libcurl                                     x86_64                               7.51.0-3.fc25                               updates                               266 k
 libcurl-devel                               x86_64                               7.51.0-3.fc25                               updates                               665 k
 
Transaction Summary
==========================================================================================================================================================================
Skip  3 Packages
 
Nothing to do.
Complete!


I didn&apos;t notice that dnf tried to tell me that the packages are already installed but I noticed that I should run dnf with &apos;--best --allowerasing&apos;. I went ahead and this time dnf replied with exactly the same message but it proceed with the installation. I call this utter confusing behavior. dnf should either print only the lines saying that the packages are already installed or install the updates.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10320181</commentid>
    <comment_count>7</comment_count>
    <who name="Jaroslav Mracek">jmracek</who>
    <bug_when>2017-04-10 09:18:23 -0400</bug_when>
    <thetext>I create huge refactor of problems report https://github.com/rpm-software-management/dnf/pull/782. Hope that it helps.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10435091</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-22 08:40:21 -0400</bug_when>
    <thetext>dnf-plugins-extras-2.0.1-1.fc26 dnf-plugins-core-2.1.0-1.fc26 libdnf-0.9.0-1.fc26 dnf-2.5.0-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-92e5a01da8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10436288</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-22 12:39:50 -0400</bug_when>
    <thetext>dnf-2.5.0-1.fc26, dnf-plugins-core-2.1.0-1.fc26, dnf-plugins-extras-2.0.1-1.fc26, libdnf-0.9.0-1.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-92e5a01da8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10442797</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-24 04:31:28 -0400</bug_when>
    <thetext>dnf-2.5.0-1.fc26 dnf-plugins-core-2.1.0-1.fc26 dnf-plugins-extras-2.0.1-1.fc26 dnfdaemon-0.3.17-3.fc26 libdnf-0.9.0-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-92e5a01da8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10444344</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-24 10:32:48 -0400</bug_when>
    <thetext>dnf-2.5.0-2.fc26 dnf-plugins-core-2.1.0-1.fc26 dnf-plugins-extras-2.0.1-1.fc26 dnfdaemon-0.3.18-1.fc26 libdnf-0.9.0-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-92e5a01da8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10448782</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-25 15:17:20 -0400</bug_when>
    <thetext>dnf-2.5.0-2.fc26, dnf-plugins-core-2.1.0-1.fc26, dnf-plugins-extras-2.0.1-1.fc26, dnfdaemon-0.3.18-2.fc26, libdnf-0.9.0-1.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-92e5a01da8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10494123</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-06-09 15:05:50 -0400</bug_when>
    <thetext>dnf-2.5.0-2.fc26, dnf-plugins-core-2.1.0-1.fc26, dnf-plugins-extras-2.0.1-1.fc26, dnfdaemon-0.3.18-2.fc26, libdnf-0.9.0-1.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
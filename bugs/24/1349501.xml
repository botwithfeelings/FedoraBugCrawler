<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1349501</bug_id>
          
          <creation_ts>2016-06-23 10:44:00 -0400</creation_ts>
          <short_desc>[kde][gtk3] Mouse wheel doesn&apos;t work in an LibreOffice application after upgrade from FC23 to FC24 with GDK_CORE_DEVICE_EVENTS=1 and auto-activation on mouse-over</short_desc>
          <delta_ts>2016-06-27 14:25:02 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>libreoffice</component>
          <version>24</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Ian Morgan">penguin.wrangler</reporter>
          <assigned_to name="Caolan McNamara">caolanm</assigned_to>
          <cc>caolanm</cc>
    
    
    <cc>dtardon</cc>
    
    
    <cc>erack</cc>
    
    
    <cc>kyrimis</cc>
    
    
    <cc>mstahl</cc>
    
    
    <cc>sbergman</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>libreoffice-5.1.4.2-3 libreoffice-5.1.4.2-3.fc24</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-06-27 14:25:02</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9446949</commentid>
    <comment_count>0</comment_count>
    <who name="Ian Morgan">penguin.wrangler</who>
    <bug_when>2016-06-23 10:44:23 -0400</bug_when>
    <thetext>Description of problem:
In KDE(5), mouse wheel (vertical scroll) does not work in any LibreOffice application in Fedora 24, even though it still works fine in other applications.

Version-Release number of selected component (if applicable):
libreoffice-5.1.4.2-1.fc24.x86_64
gtk3-3.20.6-1.fc24.x86_64

How reproducible:

Steps to Reproduce:
1. Launch oowriter or oocalc with any document longer than one screen-full, and attempt to scroll with the mousewheel.
2.
3.

Actual results:
Mouse wheel does nothing

Expected results:
Mouse wheel should scroll the page.

Additional info:

Something led me to remember that long ago, I put in a fix to allow the mouse wheel to work properly in Firefox after it started using GTK3.
I set GDK_CORE_DEVICE_EVENTS=1 to fix firefox (allows the scrollwheel to work without having to click on the window first (even though the window is already active)), but it seems this fix breaks LibreOffice scrollwheel entirely, so there is no way to scroll the document with the scrollwheel.

If I remove the GDK_CORE_DEVICE_EVENTS environment variable, the LibreOffice works again, but suffers the same fate as Firefox in that the scrollwheel does not work until the window is clicked first (even though the window is already activated by mouse-over).

I also found that I can leave GDK_CORE_DEVICE_EVENTS=1, and set SAL_USE_VCLPLUGIN=gen to fix LibreOffice, but of course it&apos;s butt-ugly then using basic X11 toolkit.

I need the mouse wheel to work in all applications without having to click in an already-activated window first (defeating the whole point of window auto-activation on mouse-over).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9447318</commentid>
    <comment_count>1</comment_count>
    <who name="Caolan McNamara">caolanm</who>
    <bug_when>2016-06-23 12:20:50 -0400</bug_when>
    <thetext>GDK_CORE_DEVICE_EVENTS=1 presumably causes the initial trouble because LibreOffice&apos;s gtk3 impl expects smooth scrolling events which aren&apos;t generated in that case</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9447460</commentid>
    <comment_count>2</comment_count>
    <who name="Caolan McNamara">caolanm</who>
    <bug_when>2016-06-23 12:42:57 -0400</bug_when>
    <thetext>Well, lets add back the support for non-smooth scrolling again and see how far that gets us</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9452389</commentid>
    <comment_count>3</comment_count>
    <who name="Ian Morgan">penguin.wrangler</who>
    <bug_when>2016-06-25 10:13:25 -0400</bug_when>
    <thetext>Confirmed fixed in 5.1.4.2-3 build retrieved from https://kojipkgs.fedoraproject.org/packages/libreoffice/5.1.4.2/3.fc24/

Scrolling works again whether GDK_CORE_DEVICE_EVENTS=1 is set or not.

Will await official release via fedora-updates. Thank you.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9452561</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-06-25 16:11:55 -0400</bug_when>
    <thetext>libreoffice-5.1.4.2-3.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-f2bf872a06</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9453432</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-06-26 15:26:12 -0400</bug_when>
    <thetext>libreoffice-5.1.4.2-3.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-f2bf872a06</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9454373</commentid>
    <comment_count>6</comment_count>
    <who name="Kriton Kyrimis">kyrimis</who>
    <bug_when>2016-06-27 04:18:09 -0400</bug_when>
    <thetext>I haven&apos;t tried the new version, but the problem with the mouse wheel may actually lie elsewhere:

I encountered the problem in one of my two F24 computers. I compared the two and found that several libreoffice-* packages were missing on the computer with the problem. I installed all of them; the crucial one in this case is libreoffice-kde4, which integrates libreoffice with KDE. With the package installed, not only does the mouse wheel work, but I also get KDE style menus and widgets (as specified in System Settings-&gt;Application Style-&gt;Widget Style) instead of GTK style menus and widgets (as specified ins System Settings-&gt;Application Style-&gt;Gnome Application Style (GTK)).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9454403</commentid>
    <comment_count>7</comment_count>
    <who name="Caolan McNamara">caolanm</who>
    <bug_when>2016-06-27 04:34:41 -0400</bug_when>
    <thetext>yes, with -kde installed under kde you are using a different &quot;vclplug&quot;, the issue addressed here is solely for the &quot;gtk3&quot; vclplug</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9454423</commentid>
    <comment_count>8</comment_count>
    <who name="Kriton Kyrimis">kyrimis</who>
    <bug_when>2016-06-27 04:42:10 -0400</bug_when>
    <thetext>The bug reporter mentioned that he was running libreoffice under KDE, so this might work for him, as well.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9456539</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-06-27 14:24:47 -0400</bug_when>
    <thetext>libreoffice-5.1.4.2-3.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
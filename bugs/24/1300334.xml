<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1300334</bug_id>
          
          <creation_ts>2016-01-20 08:41:00 -0500</creation_ts>
          <short_desc>SELinux is preventing abrt-hook-ccpp from &apos;getattr&apos; accesses on the file file.</short_desc>
          <delta_ts>2016-03-23 12:57:09 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>selinux-policy</component>
          <version>24</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Other</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>abrt_hash:ada9ddb78617a6e6e2e35b6a1db665420e51e6e3d871d2aa78e904e045601d33;VARIANT_ID=workstation;</status_whiteboard>
          <keywords></keywords>
          <priority>high</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="P. A. López-Valencia">palopezv</reporter>
          <assigned_to name="Lukas Vrabec">lvrabec</assigned_to>
          <cc>decathorpe</cc>
    
    
    <cc>dominick.grift</cc>
    
    
    <cc>dwalsh</cc>
    
    
    <cc>flast</cc>
    
    
    <cc>jfrieben</cc>
    
    
    <cc>jsmith.fedora</cc>
    
    
    <cc>lvrabec</cc>
    
    
    <cc>mgrepl</cc>
    
    
    <cc>plautrba</cc>
    
    
    <cc>pschindl</cc>
    
    
    <cc>sgallagh</cc>
    
    
    <cc>vondruch</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>selinux-policy-3.13.1-170.fc24 selinux-policy-3.13.1-179.fc24</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-03-23 12:57:09</cf_last_closed>
          <cf_type>---</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>8995869</commentid>
    <comment_count>0</comment_count>
    <who name="P. A. López-Valencia">palopezv</who>
    <bug_when>2016-01-20 08:41:46 -0500</bug_when>
    <thetext>Description of problem:
SELinux is preventing abrt-hook-ccpp from &apos;getattr&apos; accesses on the file file.

*****  Plugin catchall (100. confidence) suggests   **************************

If cree que de manera predeterminada, abrt-hook-ccpp debería permitir acceso getattr sobre  file file.     
Then debería reportar esto como un error.
Puede generar un módulo de política local para permitir este acceso.
Do
permita el acceso momentáneamente executando:
# grep abrt-hook-ccpp /var/log/audit/audit.log | audit2allow -M mypol
# semodule -i mypol.pp

Additional Information:
Source Context                system_u:system_r:abrt_dump_oops_t:s0
Target Context                system_u:object_r:nsfs_t:s0
Target Objects                file [ file ]
Source                        abrt-hook-ccpp
Source Path                   abrt-hook-ccpp
Port                          &lt;Unknown&gt;
Host                          (removed)
Source RPM Packages           
Target RPM Packages           
Policy RPM                    selinux-policy-3.13.1-167.fc24.noarch
Selinux Enabled               True
Policy Type                   targeted
Enforcing Mode                Permissive
Host Name                     (removed)
Platform                      Linux (removed) 4.5.0-0.rc0.git1.1.fc24.x86_64 #1
                              SMP Tue Jan 12 20:40:44 UTC 2016 x86_64 x86_64
Alert Count                   4
First Seen                    2016-01-20 07:36:44 COT
Last Seen                     2016-01-20 08:39:15 COT
Local ID                      c092c1fb-efc3-4318-a81e-1b452f10c70e

Raw Audit Messages
type=AVC msg=audit(1453297155.259:630): avc:  denied  { getattr } for  pid=3257 comm=&quot;abrt-hook-ccpp&quot; path=&quot;ipc:[4026531839]&quot; dev=&quot;nsfs&quot; ino=4026531839 scontext=system_u:system_r:abrt_dump_oops_t:s0 tcontext=system_u:object_r:nsfs_t:s0 tclass=file permissive=1


Hash: abrt-hook-ccpp,abrt_dump_oops_t,nsfs_t,file,getattr

Version-Release number of selected component:
selinux-policy-3.13.1-167.fc24.noarch

Additional info:
reporter:       libreport-2.6.3
hashmarkername: setroubleshoot
kernel:         4.5.0-0.rc0.git1.1.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8995889</commentid>
    <comment_count>1</comment_count>
    <who name="P. A. López-Valencia">palopezv</who>
    <bug_when>2016-01-20 08:47:07 -0500</bug_when>
    <thetext>It also happens in targeted mode, but at least I can report it now.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8995902</commentid>
    <comment_count>2</comment_count>
    <who name="Jared Smith">jsmith.fedora</who>
    <bug_when>2016-01-20 08:51:25 -0500</bug_when>
    <thetext>Description of problem:
Rebooted my machine, and saw the alert.

Version-Release number of selected component:
selinux-policy-3.13.1-167.fc24.noarch

Additional info:
reporter:       libreport-2.6.3
hashmarkername: setroubleshoot
kernel:         4.5.0-0.rc0.git1.1.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8998544</commentid>
    <comment_count>3</comment_count>
    <who name="Miroslav Grepl">mgrepl</who>
    <bug_when>2016-01-21 03:21:43 -0500</bug_when>
    <thetext>We added NSFS support which causes this issue.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9000157</commentid>
    <comment_count>4</comment_count>
    <who name="Lukas Vrabec">lvrabec</who>
    <bug_when>2016-01-21 11:01:39 -0500</bug_when>
    <thetext>Hi, 
Could you do following: 
1. #semanage permissive -a abrt_dump_oops_t
2. reproduce issue
3. ausearch -m AVC -ts recent 
4. attach AVC msgs
5. #semanage permissive -d abrt_dump_oops_t


Thank you.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9000673</commentid>
    <comment_count>5</comment_count>
    <who name="P. A. López-Valencia">palopezv</who>
    <bug_when>2016-01-21 14:23:24 -0500</bug_when>
    <thetext>I saw your message after upgrading to selinux-policy-3.13.1-168.fc24...

The error has repeated itself once and it&apos;s as follows:

----
time-&gt;Thu Jan 21 13:08:28 2016
type=AVC msg=audit(1453399708.072:589): avc:  denied  { getattr } for  pid=2244 comm=&quot;abrt-hook-ccpp&quot; path=&quot;ipc:[4026531839]&quot; dev=&quot;nsfs&quot; ino=4026531839 scontext=system_u:system_r:abrt_dump_oops_t:s0 tcontext=system_u:object_r:nsfs_t:s0 tclass=file permissive=0
----</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9004565</commentid>
    <comment_count>6</comment_count>
    <who name="P. A. López-Valencia">palopezv</who>
    <bug_when>2016-01-23 13:04:23 -0500</bug_when>
    <thetext>Description of problem:
Happened when installing the rpmfusion free repo rpm through firefox and packagekit.

Version-Release number of selected component:
selinux-policy-3.13.1-168.fc24.noarch

Additional info:
reporter:       libreport-2.6.3
hashmarkername: setroubleshoot
kernel:         4.5.0-0.rc0.git8.1.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9028189</commentid>
    <comment_count>7</comment_count>
    <who name="Petr Schindler">pschindl</who>
    <bug_when>2016-02-02 02:11:37 -0500</bug_when>
    <thetext>Description of problem:
This happened right after I logged into the desktop with my user.

Version-Release number of selected component:
selinux-policy-3.13.1-168.fc24.noarch

Additional info:
reporter:       libreport-2.6.3
hashmarkername: setroubleshoot
kernel:         4.5.0-0.rc1.git0.1.fc24.x86_64
type:           libreport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9043104</commentid>
    <comment_count>8</comment_count>
    <who name="Lukas Vrabec">lvrabec</who>
    <bug_when>2016-02-08 08:30:21 -0500</bug_when>
    <thetext>commit 1ccf8374b4f6fc85445abb8a048f23d24664d467
Author: Lukas Vrabec &lt;lvrabec@redhat.com&gt;
Date:   Mon Feb 8 14:29:34 2016 +0100

    Allow abrt_dump_oops_t to getattr filesystem nsfs files. rhbz#1300334</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9094554</commentid>
    <comment_count>9</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2016-02-24 10:48:23 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 24 development cycle.
Changing version to &apos;24&apos;.

More information and reason for this action is here:
https://fedoraproject.org/wiki/Fedora_Program_Management/HouseKeeping/Fedora24#Rawhide_Rebase</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9140899</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-03-11 04:56:37 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-178.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-1350c96015</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9142543</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-03-11 14:26:16 -0500</bug_when>
    <thetext>selinux-policy-3.13.1-178.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-1350c96015</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9153092</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-03-16 09:42:56 -0400</bug_when>
    <thetext>selinux-policy-3.13.1-179.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-8f142bb969</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9159889</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-03-18 10:59:06 -0400</bug_when>
    <thetext>selinux-policy-3.13.1-179.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-8f142bb969</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9173669</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-03-23 12:55:12 -0400</bug_when>
    <thetext>selinux-policy-3.13.1-179.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
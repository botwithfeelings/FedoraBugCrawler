<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1334212</bug_id>
          
          <creation_ts>2016-05-09 03:47:00 -0400</creation_ts>
          <short_desc>FTBFS: recipe for target &apos;gecode/float/var/float.o&apos; failed</short_desc>
          <delta_ts>2016-05-23 16:05:32 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>gecode</component>
          <version>24</version>
          <rep_platform>ppc64le</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>medium</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1071880</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Karsten Hopp">karsten</reporter>
          <assigned_to name="Julian C. Dunn">jdunn</assigned_to>
          <cc>jdunn</cc>
    
    
    <cc>menantea</cc>
    
    
    <cc>than</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>gecode-4.4.0-9.fc24</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-05-23 16:05:32</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9303240</commentid>
    <comment_count>0</comment_count>
    <who name="Karsten Hopp">karsten</who>
    <bug_when>2016-05-09 03:47:25 -0400</bug_when>
    <thetext>Description of problem:
./gecode/support/thread/pthreads.hpp:167:72: note: in C++11 destructors default to noexcept
In file included from ./gecode/third-party/boost/numeric/interval/hw_rounding.hpp:26:0,
                 from ./gecode/third-party/boost/numeric/interval.hpp:18,
                 from ./gecode/float.hh:82,
                 from gecode/float/var/float.cpp:40:
./gecode/third-party/boost/numeric/interval/detail/ppc_rounding_control.hpp: At global scope:
./gecode/third-party/boost/numeric/interval/detail/ppc_rounding_control.hpp:31:77: error: narrowing conversion of &apos;18444492273895866370ull&apos; from &apos;long long unsigned int&apos; to &apos;gecode_boost::long_long_type {aka long long int}&apos; inside { } [-Wnarrowing]
 static const rounding_mode_struct mode_upward      = { 0xFFF8000000000002LL };
                                                                             ^
./gecode/third-party/boost/numeric/interval/detail/ppc_rounding_control.hpp:32:77: error: narrowing conversion of &apos;18444492273895866371ull&apos; from &apos;long long unsigned int&apos; to &apos;gecode_boost::long_long_type {aka long long int}&apos; inside { } [-Wnarrowing]
 static const rounding_mode_struct mode_downward    = { 0xFFF8000000000003LL };
                                                                             ^
./gecode/third-party/boost/numeric/interval/detail/ppc_rounding_control.hpp:33:77: error: narrowing conversion of &apos;18444492273895866368ull&apos; from &apos;long long unsigned int&apos; to &apos;gecode_boost::long_long_type {aka long long int}&apos; inside { } [-Wnarrowing]
 static const rounding_mode_struct mode_to_nearest  = { 0xFFF8000000000000LL };
                                                                             ^
./gecode/third-party/boost/numeric/interval/detail/ppc_rounding_control.hpp:34:77: error: narrowing conversion of &apos;18444492273895866369ull&apos; from &apos;long long unsigned int&apos; to &apos;gecode_boost::long_long_type {aka long long int}&apos; inside { } [-Wnarrowing]
 static const rounding_mode_struct mode_toward_zero = { 0xFFF8000000000001LL };
                                                                             ^
Makefile:1320: recipe for target &apos;gecode/float/var/float.o&apos; failed
make[1]: *** [gecode/float/var/float.o] Error 1
make[1]: *** Waiting for unfinished jobs....

Version-Release number of selected component (if applicable):
gecode-4.4.0-7.fc24

How reproducible:
always

Steps to Reproduce:
1. ppc-koji build --scratch f24 gecode-4.4.0-7.fc24.src.rpm
2.
3.

Actual results:
http://ppc.koji.fedoraproject.org/koji/taskinfo?taskID=3367165

Expected results:


Additional info:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9324981</commentid>
    <comment_count>1</comment_count>
    <who name="Menanteau Guy">menantea</who>
    <bug_when>2016-05-13 12:26:42 -0400</bug_when>
    <thetext>The problem is linked to boost package and gcc6
Referencing to https://gcc.gnu.org/gcc-6/porting_to.html, I see in chapter &quot;Narrowing conversions&quot;:
The C++11 standard does not allow &quot;narrowing conversions&quot; inside braced initialization lists.

Just for test, I tried attached patch on gecode and it built successfully.
http://ppc.koji.fedoraproject.org/koji/taskinfo?taskID=3380819
But I am not sure this patch is correct as the &quot;rounding_mode_struct&quot; is an union. This must be challenged !</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9324988</commentid>
    <comment_count>2</comment_count>
      <attachid>1157217</attachid>
    <who name="Menanteau Guy">menantea</who>
    <bug_when>2016-05-13 12:27:38 -0400</bug_when>
    <thetext>Created attachment 1157217
patch for try</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9325625</commentid>
    <comment_count>3</comment_count>
    <who name="Ngo Than">than</who>
    <bug_when>2016-05-13 15:22:53 -0400</bug_when>
    <thetext>it looks good for me. I will prefer to use ::gecode_boost::long_long_type for casting</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9325627</commentid>
    <comment_count>4</comment_count>
    <who name="Ngo Than">than</who>
    <bug_when>2016-05-13 15:23:24 -0400</bug_when>
    <thetext>it&apos;s fixed in gecode-4.4.0-8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9332796</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-17 06:33:10 -0400</bug_when>
    <thetext>gecode-4.4.0-9.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-4bddd248ef</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9335207</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-17 18:00:34 -0400</bug_when>
    <thetext>gecode-4.4.0-9.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-4bddd248ef</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9351920</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-05-23 16:05:29 -0400</bug_when>
    <thetext>gecode-4.4.0-9.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1157217</attachid>
            <date>2016-05-13 12:27:00 -0400</date>
            <delta_ts>2016-05-13 12:27:38 -0400</delta_ts>
            <desc>patch for try</desc>
            <filename>conversion.patch</filename>
            <type>text/plain</type>
            <size>1072</size>
            <attacher name="Menanteau Guy">menantea</attacher>
            
              <data encoding="base64">LS0tIGdlY29kZS00LjQuMC9nZWNvZGUvdGhpcmQtcGFydHkvYm9vc3QvbnVtZXJpYy9pbnRlcnZh
bC9kZXRhaWwvcHBjX3JvdW5kaW5nX2NvbnRyb2wuaHBwLm9yaQkyMDE2LTA1LTEzIDExOjMyOjQ4
LjQyNTA3MDE5OCAtMDQwMAorKysgZ2Vjb2RlLTQuNC4wL2dlY29kZS90aGlyZC1wYXJ0eS9ib29z
dC9udW1lcmljL2ludGVydmFsL2RldGFpbC9wcGNfcm91bmRpbmdfY29udHJvbC5ocHAJMjAxNi0w
NS0xMyAxMTozMzo1NS4wMTY2NjMxNzkgLTA0MDAKQEAgLTI4LDEwICsyOCwxMCBAQCB0eXBlZGVm
IHVuaW9uIHsKICAgZG91YmxlIGRtb2RlOwogfSByb3VuZGluZ19tb2RlX3N0cnVjdDsKIAotc3Rh
dGljIGNvbnN0IHJvdW5kaW5nX21vZGVfc3RydWN0IG1vZGVfdXB3YXJkICAgICAgPSB7IDB4RkZG
ODAwMDAwMDAwMDAwMkxMIH07Ci1zdGF0aWMgY29uc3Qgcm91bmRpbmdfbW9kZV9zdHJ1Y3QgbW9k
ZV9kb3dud2FyZCAgICA9IHsgMHhGRkY4MDAwMDAwMDAwMDAzTEwgfTsKLXN0YXRpYyBjb25zdCBy
b3VuZGluZ19tb2RlX3N0cnVjdCBtb2RlX3RvX25lYXJlc3QgID0geyAweEZGRjgwMDAwMDAwMDAw
MDBMTCB9Owotc3RhdGljIGNvbnN0IHJvdW5kaW5nX21vZGVfc3RydWN0IG1vZGVfdG93YXJkX3pl
cm8gPSB7IDB4RkZGODAwMDAwMDAwMDAwMUxMIH07CitzdGF0aWMgY29uc3Qgcm91bmRpbmdfbW9k
ZV9zdHJ1Y3QgbW9kZV91cHdhcmQgICAgICA9IHsgKGxvbmcgbG9uZyBpbnQpMHhGRkY4MDAwMDAw
MDAwMDAyTEwgfTsKK3N0YXRpYyBjb25zdCByb3VuZGluZ19tb2RlX3N0cnVjdCBtb2RlX2Rvd253
YXJkICAgID0geyAobG9uZyBsb25nIGludCkweEZGRjgwMDAwMDAwMDAwMDNMTCB9Oworc3RhdGlj
IGNvbnN0IHJvdW5kaW5nX21vZGVfc3RydWN0IG1vZGVfdG9fbmVhcmVzdCAgPSB7IChsb25nIGxv
bmcgaW50KTB4RkZGODAwMDAwMDAwMDAwMExMIH07CitzdGF0aWMgY29uc3Qgcm91bmRpbmdfbW9k
ZV9zdHJ1Y3QgbW9kZV90b3dhcmRfemVybyA9IHsgKGxvbmcgbG9uZyBpbnQpMHhGRkY4MDAwMDAw
MDAwMDAxTEwgfTsKIAogc3RydWN0IHBwY19yb3VuZGluZ19jb250cm9sCiB7Cg==
</data>

          </attachment>
      

    </bug>

</bugzilla>
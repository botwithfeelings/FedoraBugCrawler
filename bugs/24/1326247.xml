<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1326247</bug_id>
          
          <creation_ts>2016-04-12 05:02:00 -0400</creation_ts>
          <short_desc>FTBFS in tci.c</short_desc>
          <delta_ts>2016-04-20 11:25:44 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>qemu</component>
          <version>24</version>
          <rep_platform>s390</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>467765</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Dan Horák">dan</reporter>
          <assigned_to name="Fedora Virtualization Maintainers">virt-maint</assigned_to>
          <cc>amit.shah</cc>
    
    
    <cc>berrange</cc>
    
    
    <cc>cfergeau</cc>
    
    
    <cc>crobinso</cc>
    
    
    <cc>dwmw2</cc>
    
    
    <cc>itamar</cc>
    
    
    <cc>pbonzini</cc>
    
    
    <cc>rjones</cc>
    
    
    <cc>virt-maint</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>qemu-2.6.0-0.1.rc2.fc24</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-04-20 11:25:44</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9228327</commentid>
    <comment_count>0</comment_count>
    <who name="Dan Horák">dan</who>
    <bug_when>2016-04-12 05:02:06 -0400</bug_when>
    <thetext>build on s390 (haven&apos;t checked s390x yet) fails with

...
cc -I/builddir/build/BUILD/qemu-2.6.0-rc1/tcg -I/builddir/build/BUILD/qemu-2.6.0-rc1/tcg/tci -I/builddir/build/BUILD/qemu-2.6.0-rc1/linux-headers -I/builddir/build/BUILD/qemu-2.6.0-rc1/linux-headers -I. -I/builddir/build/BUILD/qemu-2.6.0-rc1 -I/builddir/build/BUILD/qemu-2.6.0-rc1/include -I/builddir/build/BUILD/qemu-2.6.0-rc1 -I. -I/usr/include/pixman-1  -DHAS_LIBSSH2_SFTP_FSYNC -fPIE -DPIE -m31 -D_GNU_SOURCE -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -Wstrict-prototypes -Wredundant-decls -Wall -Wundef -Wwrite-strings -Wmissing-prototypes -fno-strict-aliasing -fno-common  -O2  -pipe -Wall -Werror=format-security -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -m31 -march=z9-109 -mtune=z10 -Wendif-labels -Wmissing-include-dirs -Wempty-body -Wnested-externs -Wformat-security -Wformat-y2k -Winit-self -Wignored-qualifiers -Wold-style-declaration -Wold-style-definition -Wtype-limits -fstack-protector-strong -I/usr/include/p11-kit-1    -I/usr/include/libpng16 -I/usr/include/cacard -I/usr/include/nss3 -I/usr/include/nspr4 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libusb-1.0   -I../linux-headers -I.. -I/builddir/build/BUILD/qemu-2.6.0-rc1/target-i386 -DNEED_CPU_H -I/builddir/build/BUILD/qemu-2.6.0-rc1/include -MMD -MP -MT tci.o -MF ./tci.d -O2 -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=2 -pthread -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include   -c -o tci.o /builddir/build/BUILD/qemu-2.6.0-rc1/tci.c
In file included from /builddir/build/BUILD/qemu-2.6.0-rc1/include/qemu/osdep.h:80:0,
                 from /builddir/build/BUILD/qemu-2.6.0-rc1/tci.c:20:
/builddir/build/BUILD/qemu-2.6.0-rc1/tci.c: In function &apos;tcg_qemu_tb_exec&apos;:
/builddir/build/BUILD/qemu-2.6.0-rc1/tci.c:528:30: error: &apos;old_code_ptr&apos; undeclared (first use in this function)
             assert(tb_ptr == old_code_ptr + op_size);
                              ^
/builddir/build/BUILD/qemu-2.6.0-rc1/tci.c:528:30: note: each undeclared identifier is reported only once for each function it appears in
/builddir/build/BUILD/qemu-2.6.0-rc1/tci.c:528:45: error: &apos;op_size&apos; undeclared (first use in this function)
             assert(tb_ptr == old_code_ptr + op_size);
                                             ^
/builddir/build/BUILD/qemu-2.6.0-rc1/rules.mak:57: recipe for target &apos;tci.o&apos; failed
make[1]: Leaving directory &apos;/builddir/build/BUILD/qemu-2.6.0-rc1/i386-softmmu&apos;
make[1]: *** [tci.o] Error 1
...

for full logs please see http://s390.koji.fedoraproject.org/koji/taskinfo?taskID=2181716


Version-Release number of selected component (if applicable):
qemu-2.6.0-0.1.rc1.fc24</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9229243</commentid>
    <comment_count>1</comment_count>
    <who name="Cole Robinson">crobinso</who>
    <bug_when>2016-04-12 09:00:07 -0400</bug_when>
    <thetext>2.6.0-rc2 should be out today, that should fix it with:

commit 3ccdbecf80a322a31dbf452d433321c67f82d534
Author: Stefan Weil &lt;sw@weilnetz.de&gt;
Date:   Tue Apr 5 22:24:51 2016 +0200

    tci: Fix build regression</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9239704</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-15 06:18:20 -0400</bug_when>
    <thetext>qemu-2.6.0-0.1.rc2.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-6b322b8088</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9241821</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-15 19:22:04 -0400</bug_when>
    <thetext>qemu-2.6.0-0.1.rc2.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-6b322b8088</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9255137</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-20 11:25:30 -0400</bug_when>
    <thetext>qemu-2.6.0-0.1.rc2.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
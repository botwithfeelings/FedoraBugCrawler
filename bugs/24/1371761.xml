<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1371761</bug_id>
          
          <creation_ts>2016-08-30 23:23:00 -0400</creation_ts>
          <short_desc>sfdisk return code breaks growpart</short_desc>
          <delta_ts>2016-09-13 18:23:29 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>util-linux</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>Reopened</keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Ian Wienand">iwienand</reporter>
          <assigned_to name="Karel Zak">kzak</assigned_to>
          <cc>dustymabe</cc>
    
    
    <cc>jonathan</cc>
    
    
    <cc>kzak</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>util-linux-2.28.2-1.fc25 util-linux-2.28.2-1.fc24</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-09-13 18:23:29</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9665655</commentid>
    <comment_count>0</comment_count>
    <who name="Ian Wienand">iwienand</who>
    <bug_when>2016-08-30 23:23:46 -0400</bug_when>
    <thetext>The change &quot;sfdisk: exit with error if rereading partition table fails&quot; [1] appears to have broken the growpart utility from cloud-init [2].  This utility checks the return value of sfdisk when growing the root partition and the change in status makes it error out and revert the change, hence not growing the disk.

This change was reverted with [3] but is not in the current 2.28.1 release

I&apos;ve made a custom build in copr with this patch [4] and growpart does work with this to expand the root partition.

[1] https://git.kernel.org/cgit/utils/util-linux/util-linux.git/commit/disk-utils/sfdisk.c?id=14f644f386a1708483ed446e983c0976e3976a9d
[2] http://pkgs.fedoraproject.org/cgit/rpms/cloud-init.git/
[3] https://git.kernel.org/cgit/utils/util-linux/util-linux.git/commit/disk-utils/sfdisk.c?id=78e7f78896f2c9cf1b2615c8c555a64dcd9d2642
[4] https://copr.fedorainfracloud.org/coprs/iwienand/util-linux/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9666540</commentid>
    <comment_count>1</comment_count>
    <who name="Karel Zak">kzak</who>
    <bug_when>2016-08-31 05:15:35 -0400</bug_when>
    <thetext>Ah... this is stupid mistake that we have the patch in 2.28.1. Sorry.

I&apos;m going to revert and release version 2.28.2 ASAP (next week).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9689688</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-09-08 04:50:27 -0400</bug_when>
    <thetext>util-linux-2.28.2-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-6eccd2007b</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9691084</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-09-08 10:40:49 -0400</bug_when>
    <thetext>util-linux-2.28.2-1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2016-231848214c</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9692862</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-09-09 02:25:00 -0400</bug_when>
    <thetext>util-linux-2.28.2-1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-231848214c</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9696515</commentid>
    <comment_count>5</comment_count>
    <who name="Dusty Mabe">dustymabe</who>
    <bug_when>2016-09-11 00:44:14 -0400</bug_when>
    <thetext>*** Bug 1374968 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9698947</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-09-12 09:17:52 -0400</bug_when>
    <thetext>util-linux-2.28.2-1.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9699668</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-09-12 11:28:02 -0400</bug_when>
    <thetext>util-linux-2.28.2-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-6eccd2007b</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9704891</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-09-13 18:23:27 -0400</bug_when>
    <thetext>util-linux-2.28.2-1.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1" urlbase="https://bugzilla.redhat.com/" maintainer="bugzilla-error-list@redhat.com">

  <bug>
    <bug_id>1315191</bug_id>

    <creation_ts>2016-03-07 03:08:00 -0500</creation_ts>
    <short_desc>FTBFS with gcc-6.0.0-0.15.fc24</short_desc>
    <delta_ts>2016-03-08 09:04:42 -0500</delta_ts>
    <reporter_accessible>1</reporter_accessible>
    <cclist_accessible>1</cclist_accessible>
    <classification_id>2</classification_id>
    <classification>Fedora</classification>
    <product>Fedora</product>
    <component>gdb</component>
    <version>24</version>
    <rep_platform>All</rep_platform>
    <op_sys>Unspecified</op_sys>
    <bug_status>CLOSED</bug_status>
    <resolution>CURRENTRELEASE</resolution>

    <bug_file_loc></bug_file_loc>
    <status_whiteboard></status_whiteboard>
    <keywords></keywords>
    <priority>unspecified</priority>
    <bug_severity>unspecified</bug_severity>
    <target_milestone>---</target_milestone>

    <blocked>467765</blocked>
    <everconfirmed>1</everconfirmed>
    <reporter name="Dan Hor치k">dan</reporter>
    <assigned_to name="Jan Kratochvil">jan.kratochvil</assigned_to>
    <cc>gbenson</cc>

    <cc>jan.kratochvil</cc>

    <cc>palves</cc>

    <cc>pmuldoon</cc>

    <cc>sergiodj</cc>

    <cc>tom</cc>
    <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>

    <cf_fixed_in>gdb-7.11-59.fc24</cf_fixed_in>
  <cf_doc_type>Bug Fix</cf_doc_type>
<cf_release_notes></cf_release_notes>
<cf_story_points>---</cf_story_points>

<cf_environment></cf_environment>
<cf_last_closed>2016-03-08 09:04:42</cf_last_closed>
<cf_type>Bug</cf_type>
<cf_regression_status>---</cf_regression_status>
<cf_mount_type>---</cf_mount_type>
<cf_documentation_action>---</cf_documentation_action>
<cf_crm></cf_crm>
<cf_verified_branch></cf_verified_branch>
<cf_category>---</cf_category>
<cf_ovirt_team>---</cf_ovirt_team>

<cf_cloudforms_team>---</cf_cloudforms_team>

<target_release>---</target_release>

<votes>0</votes>

<comment_sort_order>oldest_to_newest</comment_sort_order>
<long_desc isprivate="0">
<commentid>9124666</commentid>
<comment_count>0</comment_count>
<who name="Dan Hor치k">dan</who>
<bug_when>2016-03-07 03:08:36 -0500</bug_when>
<thetext>When building gdb with gcc-6.0.0-0.15.fc24 on s390x I&apos;m getting &quot;strict aliasing&quot; warnings/errors. The warning/error doesn&apos;t appear when built with gcc-6.0.0-0.14.fc24. Filed against gdb to see whether it is a real bug
before switching to gcc. from build.log ... libtool: compile: gcc -DHAVE_CONFIG_H -I. -I../../bfd -DTRAD_CORE -I. -I../../bfd -I../../bfd/../include -DHAVE_s390_elf64_vec -DHAVE_s390_elf32_vec -DHAVE_elf64_le_vec -DHAVE_elf64_be_vec
-DHAVE_elf32_le_vec -DHAVE_elf32_be_vec -DHAVE_powerpc_elf32_vec -DHAVE_rs6000_xcoff_vec -DHAVE_powerpc_elf32_le_vec -DHAVE_powerpc_boot_vec -DHAVE_powerpc_elf64_vec -DHAVE_powerpc_elf64_le_vec -DHAVE_arm_elf32_le_vec -DHAVE_arm_elf32_be_vec
-DHAVE_aarch64_elf64_le_vec -DHAVE_aarch64_elf64_be_vec -DHAVE_aarch64_elf32_le_vec -DHAVE_aarch64_elf32_be_vec -DHAVE_plugin_vec -DBINDIR=\&quot;/usr/bin\&quot; -W -Wall -Wstrict-prototypes -Wmissing-prototypes -Wshadow -Werror -O2 -g -pipe -Wall
-Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -m64 -march=z9-109 -mtune=z10 -DDNF_DEBUGINFO_INSTALL
-DNEED_RL_STATE_FEDORA_GDB -MT coff-rs6000.lo -MD -MP -MF .deps/coff-rs6000.Tpo -c ../../bfd/coff-rs6000.c -o coff-rs6000.o In file included from ../../bfd/coff-rs6000.c:118:0: ../../bfd/coffcode.h: In function &apos;coff_new_section_hook&apos;:
../../bfd/coffcode.h:1817:3: error: dereferencing type-punned pointer will break strict-aliasing rules [-Werror=strict-aliasing] coffsymbol (section-&gt;symbol)-&gt;native = native; ^~~~~~~~~~ ... libtool: compile: gcc -DHAVE_CONFIG_H -I. -I../../bfd
-DTRAD_CORE -I. -I../../bfd -I../../bfd/../include -DHAVE_s390_elf64_vec -DHAVE_s390_elf32_vec -DHAVE_elf64_le_vec -DHAVE_elf64_be_vec -DHAVE_elf32_le_vec -DHAVE_elf32_be_vec -DHAVE_powerpc_elf32_vec -DHAVE_rs6000_xcoff_vec
-DHAVE_powerpc_elf32_le_vec -DHAVE_powerpc_boot_vec -DHAVE_powerpc_elf64_vec -DHAVE_powerpc_elf64_le_vec -DHAVE_arm_elf32_le_vec -DHAVE_arm_elf32_be_vec -DHAVE_aarch64_elf64_le_vec -DHAVE_aarch64_elf64_be_vec -DHAVE_aarch64_elf32_le_vec
-DHAVE_aarch64_elf32_be_vec -DHAVE_plugin_vec -DBINDIR=\&quot;/usr/bin\&quot; -W -Wall -Wstrict-prototypes -Wmissing-prototypes -Wshadow -Werror -O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong
--param=ssp-buffer-size=4 -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -m64 -march=z9-109 -mtune=z10 -DDNF_DEBUGINFO_INSTALL -DNEED_RL_STATE_FEDORA_GDB -MT coffgen.lo -MD -MP -MF .deps/coffgen.Tpo -c ../../bfd/coffgen.c -o
coffgen.o ../../bfd/coffgen.c: In function &apos;coff_get_lineno&apos;: ../../bfd/coffgen.c:1510:3: error: dereferencing type-punned pointer will break strict-aliasing rules [-Werror=strict-aliasing] return coffsymbol (symbol)-&gt;lineno; ^~~~~~
../../bfd/coffgen.c: In function &apos;coff_get_symbol_info&apos;: ../../bfd/coffgen.c:2034:3: error: dereferencing type-punned pointer will break strict-aliasing rules [-Werror=strict-aliasing] if (coffsymbol (symbol)-&gt;native != NULL ^~
../../bfd/coffgen.c:2035:7: error: dereferencing type-punned pointer will break strict-aliasing rules [-Werror=strict-aliasing] &amp;&amp; coffsymbol (symbol)-&gt;native-&gt;fix_value ^~ ../../bfd/coffgen.c:2036:7: error: dereferencing type-punned
pointer will break strict-aliasing rules [-Werror=strict-aliasing] &amp;&amp; coffsymbol (symbol)-&gt;native-&gt;is_sym) ^~ ../../bfd/coffgen.c:2037:5: error: dereferencing type-punned pointer will break strict-aliasing rules
[-Werror=strict-aliasing] ret-&gt;value = coffsymbol (symbol)-&gt;native-&gt;u.syment.n_value - ^~~ ../../bfd/coffgen.c: In function &apos;coff_print_symbol&apos;: ../../bfd/coffgen.c:2059:9: error: dereferencing type-punned pointer will break
strict-aliasing rules [-Werror=strict-aliasing] coffsymbol (symbol)-&gt;native ? &quot;n&quot; : &quot;g&quot;, ^~~~~~~~~~ ../../bfd/coffgen.c:2060:9: error: dereferencing type-punned pointer will break strict-aliasing rules [-Werror=strict-aliasing]
coffsymbol (symbol)-&gt;lineno ? &quot;l&quot; : &quot; &quot;); ^~~~~~~~~~ ../../bfd/coffgen.c:2064:7: error: dereferencing type-punned pointer will break strict-aliasing rules [-Werror=strict-aliasing] if (coffsymbol (symbol)-&gt;native) ^~
../../bfd/coffgen.c:2068:4: error: dereferencing type-punned pointer will break strict-aliasing rules [-Werror=strict-aliasing] combined_entry_type *combined = coffsymbol (symbol)-&gt;native; ^~~~~~~~~~~~~~~~~~~ ../../bfd/coffgen.c:2070:11: error:
dereferencing type-punned pointer will break strict-aliasing rules [-Werror=strict-aliasing] struct lineno_cache_entry *l = coffsymbol (symbol)-&gt;lineno; ^~~~~~~~~~~~~~~~~~ ../../bfd/coffgen.c:2191:6: error: dereferencing type-punned pointer will
break strict-aliasing rules [-Werror=strict-aliasing] coffsymbol (symbol)-&gt;native ? &quot;n&quot; : &quot;g&quot;, ^~~~~~~~~~ ../../bfd/coffgen.c:2192:6: error: dereferencing type-punned pointer will break strict-aliasing rules
[-Werror=strict-aliasing] coffsymbol (symbol)-&gt;lineno ? &quot;l&quot; : &quot; &quot;, ^~~~~~~~~~ cc1: all warnings being treated as errors ... For full logs from gdb-7.10.90.20160211-52.fc24 please see
http://s390.koji.fedoraproject.org/koji/taskinfo?taskID=2139610 (-0.15 gcc used). For comparison see http://s390.koji.fedoraproject.org/koji/taskinfo?taskID=2140908 when -0.14 gcc is used (the only difference in the buildroot). Version-Release number
of selected component (if applicable): gdb-7.11-58.fc24 (but also previous versions are affected) gcc-6.0.0-0.15.fc24.s390x</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9124697</commentid>
<comment_count>1</comment_count>
<who name="Jan Kratochvil">jan.kratochvil</who>
<bug_when>2016-03-07 03:34:06 -0500</bug_when>
<thetext>gcc-6.0.0-0.15.fc24.x86_64 is not yet in the repos to try x86_64 first, I will check it later.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9124734</commentid>
<comment_count>2</comment_count>
<who name="Dan Hor치k">dan</who>
<bug_when>2016-03-07 03:49:44 -0500</bug_when>
<thetext>ack, it&apos;s almost there, but stuck on a non-responsive builder (I&apos;ve already pinged rel-engs about it), http://koji.fedoraproject.org/koji/taskinfo?taskID=13234616</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9125059</commentid>
<comment_count>3</comment_count>
<who name="Dan Hor치k">dan</who>
<bug_when>2016-03-07 05:34:56 -0500</bug_when>
<thetext>reproduced on x86_64 in Rawhide - http://koji.fedoraproject.org/koji/taskinfo?taskID=13257726</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9129098</commentid>
<comment_count>4</comment_count>
<who name="Jan Kratochvil">jan.kratochvil</who>
<bug_when>2016-03-08 09:04:42 -0500</bug_when>
<thetext>[patch] aout+coff: Fix strict-aliasing rules error https://sourceware.org/ml/binutils/2016-03/msg00119.html</thetext>
</long_desc>

</bug>

</bugzilla>

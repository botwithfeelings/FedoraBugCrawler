<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1312709</bug_id>
          
          <creation_ts>2016-02-28 21:00:00 -0500</creation_ts>
          <short_desc>ejabberd does not start with permission denied</short_desc>
          <delta_ts>2016-02-29 08:29:24 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>ejabberd</component>
          <version>24</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Randy Barlow">rbarlow</reporter>
          <assigned_to name="Randy Barlow">rbarlow</assigned_to>
          <cc>erlang</cc>
    
    
    <cc>jeremy</cc>
    
    
    <cc>lemenkov</cc>
    
    
    <cc>martin</cc>
    
    
    <cc>rbarlow</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>ejabberd-16.01-3.fc24</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-02-29 08:29:11</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9104173</commentid>
    <comment_count>0</comment_count>
    <who name="Randy Barlow">rbarlow</who>
    <bug_when>2016-02-28 21:00:37 -0500</bug_when>
    <thetext>This is very likely my fault as I adjusted some of the patches that changed default permissions in the upgrade from 14.07 to 16.01. It seems that ejabberd does not start in Fedora 24 (and very likely Rawhide as well):

$ sudo -u ejabberd /usr/bin/bash /usr/bin/ejabberdctl --config /etc/ejabberd/ejabberd.yml --ctl-config /etc/ejabberd/ejabberdctl.cfg --logs &quot;/var/log/ejabberd&quot; --spool &quot;/var/lib/ejabberd&quot; start
/usr/bin/bash: /usr/bin/ejabberdctl: Permission denied
$ ls -lah /usr/bin/ejabberdctl 
-r-xr-x---. 1 root root 16K Feb 19 23:06 /usr/bin/ejabberdctl

The problem seems to be that the ejabberd user does not have permission to execute ejabberdctl.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9104264</commentid>
    <comment_count>1</comment_count>
    <who name="Randy Barlow">rbarlow</who>
    <bug_when>2016-02-28 22:23:53 -0500</bug_when>
    <thetext>This is what that executable looks like on my F22 host:

$ ls -lah /usr/bin/ejabberdctl 
-rwxr-xr-x. 1 root root 13K Nov 14  2014 /usr/bin/ejabberdctl

I will fix this by restoring the permissions to those values.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
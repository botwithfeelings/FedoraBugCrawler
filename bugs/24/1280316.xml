<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1280316</bug_id>
          
          <creation_ts>2015-11-11 08:16:00 -0500</creation_ts>
          <short_desc>make pcs compatible with python3</short_desc>
          <delta_ts>2016-04-15 17:34:29 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>pcs</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>Reopened</keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1285816</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Tomas Jelinek">tojeline</reporter>
          <assigned_to name="Tomas Jelinek">tojeline</assigned_to>
          <cc>cfeist</cc>
    
    
    <cc>jpokorny</cc>
    
    
    <cc>pviktori</cc>
    
    
    <cc>quantum.analyst</cc>
    
    
    <cc>tojeline</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>pcs-0.9.150-1.fc24</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-04-15 17:34:29</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>8810692</commentid>
    <comment_count>0</comment_count>
    <who name="Tomas Jelinek">tojeline</who>
    <bug_when>2015-11-11 08:16:38 -0500</bug_when>
    <thetext>make pcs compatible with python3
https://fedoraproject.org/wiki/Changes/Python_3_as_Default</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8810695</commentid>
    <comment_count>1</comment_count>
      <attachid>1092712</attachid>
    <who name="Tomas Jelinek">tojeline</who>
    <bug_when>2015-11-11 08:17:09 -0500</bug_when>
    <thetext>Created attachment 1092712
proposed fix</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9075220</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-02-18 08:13:51 -0500</bug_when>
    <thetext>pcs-0.9.149-1.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-b4ad76ca12</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9081805</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-02-21 12:59:54 -0500</bug_when>
    <thetext>pcs-0.9.149-1.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-b4ad76ca12</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9087310</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-02-23 04:42:18 -0500</bug_when>
    <thetext>pcs-0.9.149-2.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-cdd4228cc7</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9092481</commentid>
    <comment_count>5</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2016-02-24 08:56:42 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 24 development cycle.
Changing version to &apos;24&apos;.

More information and reason for this action is here:
https://fedoraproject.org/wiki/Fedora_Program_Management/HouseKeeping/Fedora24#Rawhide_Rebase</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9095684</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-02-24 16:52:05 -0500</bug_when>
    <thetext>pcs-0.9.149-2.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-cdd4228cc7</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9119282</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-03-03 15:25:50 -0500</bug_when>
    <thetext>pcs-0.9.149-2.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9207865</commentid>
    <comment_count>8</comment_count>
    <who name="Petr Viktorin">pviktori</who>
    <bug_when>2016-04-05 07:27:58 -0400</bug_when>
    <thetext>The current RPM (pcs-0.9.149-2.fc24) depends on /usr/bin/python rather than /usr/bin/python3. The Python packaging guidelines say that Python 3 should be preferred if the package supports it.

It&apos;s not clear if the update was supposed to fix that; should I file a new bug? Or add some more info here?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9219269</commentid>
    <comment_count>9</comment_count>
    <who name="Tomas Jelinek">tojeline</who>
    <bug_when>2016-04-08 04:07:34 -0400</bug_when>
    <thetext>We will fix it in the next fc24 build, thanks for reporting this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9225751</commentid>
    <comment_count>10</comment_count>
      <attachid>1145999</attachid>
    <who name="Tomas Jelinek">tojeline</who>
    <bug_when>2016-04-11 09:34:14 -0400</bug_when>
    <thetext>Created attachment 1145999
more fixes</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9225965</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-11 10:21:30 -0400</bug_when>
    <thetext>pcs-0.9.150-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-e76b5b9e22</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9228736</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-12 06:53:12 -0400</bug_when>
    <thetext>pcs-0.9.150-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-e76b5b9e22</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9241629</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-15 17:34:26 -0400</bug_when>
    <thetext>pcs-0.9.150-1.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1092712</attachid>
            <date>2015-11-11 08:17:00 -0500</date>
            <delta_ts>2015-11-11 08:17:09 -0500</delta_ts>
            <desc>proposed fix</desc>
            <filename>0001-make-pcs-compatible-with-both-python-2.6-and-3.x.patch</filename>
            <type>text/plain</type>
            <size>410617</size>
            <attacher name="Tomas Jelinek">tojeline</attacher>
            
              <data encoding="base64">RnJvbSAxYTU5YmMzNjMyNzUwMjU3MjAwYzBkNjM0OTllZmRhOGI1MzUzMDgxIE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBUb21hcyBKZWxpbmVrIDx0b2plbGluZUByZWRoYXQuY29tPgpE
YXRlOiBUdWUsIDEwIE5vdiAyMDE1IDE0OjM3OjExICswMTAwClN1YmplY3Q6IFtQQVRDSF0gbWFr
ZSBwY3MgY29tcGF0aWJsZSB3aXRoIGJvdGggcHl0aG9uIDIuNisgYW5kIDMueAoKQXBhcnQgZnJv
bSBvdGhlciByZXF1aXJlZCBjaGFuZ2VzLCBmZXcgcHJpbnQtb3JpZW50ZWQgcGFydHMgb2YgY29k
ZQp3ZXJlIGNsZWFuZWQgdXAgaW4gb3JkZXIgdG8gZ2V0IHRoZSBzYW1lIG91dHB1dCBpbiBib3Ro
IHB5dGhvbjIgYW5kCnB5dGhvbjMuCi0tLQogTWFrZWZpbGUgICAgICAgICAgICAgICAgICAgICAg
IHwgIDE0ICstCiBtYWtldGFyYmFsbHMucHkgICAgICAgICAgICAgICAgfCAgMjMgKy0KIG5ld3Zl
cnNpb24ucHkgICAgICAgICAgICAgICAgICB8ICAzOCArLQogcGNzL2FjbC5weSAgICAgICAgICAg
ICAgICAgICAgIHwgIDMxICstCiBwY3MvY2x1c3Rlci5weSAgICAgICAgICAgICAgICAgfCAxNDQg
KysrKy0tLS0KIHBjcy9jb25maWcucHkgICAgICAgICAgICAgICAgICB8IDEwMiArKystLS0KIHBj
cy9jb25zdHJhaW50LnB5ICAgICAgICAgICAgICB8IDE3NiArKysrKy0tLS0tCiBwY3MvY29yb3N5
bmNfY29uZi5weSAgICAgICAgICAgfCAgMTAgKy0KIHBjcy9ub2RlLnB5ICAgICAgICAgICAgICAg
ICAgICB8ICAgNyArCiBwY3MvcGNzLnB5ICAgICAgICAgICAgICAgICAgICAgfCAgMjAgKy0KIHBj
cy9wY3NkLnB5ICAgICAgICAgICAgICAgICAgICB8ICAyMiArLQogcGNzL3Byb3AucHkgICAgICAg
ICAgICAgICAgICAgIHwgIDI3ICstCiBwY3MvcmVzb3VyY2UucHkgICAgICAgICAgICAgICAgfCAy
MTkgKysrKysrLS0tLS0tCiBwY3MvcnVsZS5weSAgICAgICAgICAgICAgICAgICAgfCAgMzQgKy0K
IHBjcy9zdGF0dXMucHkgICAgICAgICAgICAgICAgICB8IDEyMyArKystLS0tCiBwY3Mvc3Rvbml0
aC5weSAgICAgICAgICAgICAgICAgfCAgNDcgKy0tCiBwY3MvdGVzdC9NYWtlZmlsZSAgICAgICAg
ICAgICAgfCAgMjkgKy0KIHBjcy90ZXN0L3Bjc190ZXN0X2Z1bmN0aW9ucy5weSB8ICAyMSArLQog
cGNzL3Rlc3QvdGVzdC5weSAgICAgICAgICAgICAgIHwgIDEyICstCiBwY3MvdGVzdC90ZXN0X2Fj
bC5weSAgICAgICAgICAgfCAxODggKysrKysrKy0tLQogcGNzL3Rlc3QvdGVzdF9jbHVzdGVyLnB5
ICAgICAgIHwgMTQ5ICsrKystLS0tCiBwY3MvdGVzdC90ZXN0X2NvbnN0cmFpbnRzLnB5ICAgfCAz
MzYgKysrKysrKysrLS0tLS0tLS0tCiBwY3MvdGVzdC90ZXN0X2Nvcm9zeW5jX2NvbmYucHkgfCAx
MTMgKysrLS0tCiBwY3MvdGVzdC90ZXN0X25vZGUucHkgICAgICAgICAgfCAgIDUgKwogcGNzL3Rl
c3QvdGVzdF9wcm9wZXJ0aWVzLnB5ICAgIHwgICA1ICsKIHBjcy90ZXN0L3Rlc3RfcmVzb3VyY2Uu
cHkgICAgICB8IDc2MyArKysrKysrKysrKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0tLS0tLQog
cGNzL3Rlc3QvdGVzdF9ydWxlLnB5ICAgICAgICAgIHwgMjkzICsrKysrKysrLS0tLS0tLS0KIHBj
cy90ZXN0L3Rlc3Rfc3Rvbml0aC5weSAgICAgICB8IDE1MyArKysrKystLS0KIHBjcy90ZXN0L3Rl
c3RfdXRpbHMucHkgICAgICAgICB8IDI4NyArKysrKysrKy0tLS0tLS0tCiBwY3MvdXNhZ2UucHkg
ICAgICAgICAgICAgICAgICAgfCAgNDggKy0tCiBwY3MvdXRpbHMucHkgICAgICAgICAgICAgICAg
ICAgfCAyNDQgKysrKysrKystLS0tLQogc2V0dXAucHkgICAgICAgICAgICAgICAgICAgICAgIHwg
ICAyICstCiAzMiBmaWxlcyBjaGFuZ2VkLCAyMTIxIGluc2VydGlvbnMoKyksIDE1NjQgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvTWFrZWZpbGUgYi9NYWtlZmlsZQppbmRleCAxZDRhMGUzLi4y
ZDNmZjUxIDEwMDY0NAotLS0gYS9NYWtlZmlsZQorKysgYi9NYWtlZmlsZQpAQCAtMTcsNyArMTcs
NyBAQCBpZmVxICgkKFVOQU1FX09TX0dOVSksdHJ1ZSkKIGVuZGlmCiAKIGlmbmRlZiBQWVRIT05f
U0lURUxJQgotICBQWVRIT05fU0lURUxJQj0kKHNoZWxsIHB5dGhvbjIgLWMgImZyb20gZGlzdHV0
aWxzLnN5c2NvbmZpZyBpbXBvcnQgZ2V0X3B5dGhvbl9saWI7IHByaW50KGdldF9weXRob25fbGli
KCkpIikKKyAgUFlUSE9OX1NJVEVMSUI9JChzaGVsbCBweXRob24gLWMgImZyb20gZGlzdHV0aWxz
LnN5c2NvbmZpZyBpbXBvcnQgZ2V0X3B5dGhvbl9saWI7IHByaW50KGdldF9weXRob25fbGliKCkp
IikKIGVuZGlmCiBpZmVxICgkKFBZVEhPTl9TSVRFTElCKSwgL3Vzci9saWIvcHl0aG9uMi42L2Rp
c3QtcGFja2FnZXMpCiAgIEVYVFJBX1NFVFVQX09QVFM9Ii0taW5zdGFsbC1sYXlvdXQ9ZGViIgpA
QCAtNTQsNyArNTQsNyBAQCBlbmRpZgogTUFORElSPS91c3Ivc2hhcmUvbWFuCiAKIGlmbmRlZiBQ
UkVGSVgKLSAgUFJFRklYPSQoc2hlbGwgcHJlZml4PWBweXRob24yIC1jICJpbXBvcnQgc3lzOyBw
cmludChzeXMucHJlZml4KSJgIHx8IHByZWZpeD0iL3VzciI7IGVjaG8gJCRwcmVmaXgpCisgIFBS
RUZJWD0kKHNoZWxsIHByZWZpeD1gcHl0aG9uIC1jICJpbXBvcnQgc3lzOyBwcmludChzeXMucHJl
Zml4KSJgIHx8IHByZWZpeD0iL3VzciI7IGVjaG8gJCRwcmVmaXgpCiBlbmRpZgogCiBpZm5kZWYg
c3lzdGVtZGRpcgpAQCAtODIsNyArODIsNyBAQCBlbHNlCiBlbmRpZgogCiBpbnN0YWxsOiBiYXNo
X2NvbXBsZXRpb24KLQlweXRob24yIHNldHVwLnB5IGluc3RhbGwgLS1wcmVmaXggJHtERVNURElS
fSR7UFJFRklYfSAke0VYVFJBX1NFVFVQX09QVFN9CisJcHl0aG9uIHNldHVwLnB5IGluc3RhbGwg
LS1wcmVmaXggJHtERVNURElSfSR7UFJFRklYfSAke0VYVFJBX1NFVFVQX09QVFN9CiAJbWtkaXIg
LXAgJHtERVNURElSfSR7UFJFRklYfS9zYmluLwogCWNobW9kIDc1NSAke0RFU1RESVJ9JHtQWVRI
T05fU0lURUxJQn0vcGNzL3Bjcy5weQogCWxuIC1mcyAke1BZVEhPTl9TSVRFTElCfS9wY3MvcGNz
LnB5ICR7REVTVERJUn0ke1BSRUZJWH0vc2Jpbi9wY3MKQEAgLTE1MCwxMSArMTUwLDExIEBAIGVu
ZGlmCiAJcm0gLXJmICR7REVTVERJUn0vdmFyL2xpYi9wY3NkCiAKIHRhcmJhbGw6IGJhc2hfY29t
cGxldGlvbgotCXB5dGhvbjIgc2V0dXAucHkgc2Rpc3QgLS1mb3JtYXRzPXRhcgotCXB5dGhvbjIg
bWFrZXRhcmJhbGxzLnB5CisJcHl0aG9uIHNldHVwLnB5IHNkaXN0IC0tZm9ybWF0cz10YXIKKwlw
eXRob24gbWFrZXRhcmJhbGxzLnB5CiAKIG5ld3ZlcnNpb246Ci0JcHl0aG9uMiBuZXd2ZXJzaW9u
LnB5CisJcHl0aG9uIG5ld3ZlcnNpb24ucHkKIAogYmFzaF9jb21wbGV0aW9uOgotCWNkIHBjcyA7
IHB5dGhvbjIgLWMgJ2ltcG9ydCB1c2FnZTsgIHVzYWdlLnN1Yl9nZW5lcmF0ZV9iYXNoX2NvbXBs
ZXRpb24oKScgPiBiYXNoX2NvbXBsZXRpb24uZC5wY3MgOyBjZCAuLgorCWNkIHBjcyA7IHB5dGhv
biAtYyAnaW1wb3J0IHVzYWdlOyAgdXNhZ2Uuc3ViX2dlbmVyYXRlX2Jhc2hfY29tcGxldGlvbigp
JyA+IGJhc2hfY29tcGxldGlvbi5kLnBjcyA7IGNkIC4uCmRpZmYgLS1naXQgYS9tYWtldGFyYmFs
bHMucHkgYi9tYWtldGFyYmFsbHMucHkKaW5kZXggMzVlNzQ1NC4uZDMwNDhmZSAxMDA2NDQKLS0t
IGEvbWFrZXRhcmJhbGxzLnB5CisrKyBiL21ha2V0YXJiYWxscy5weQpAQCAtMSwxMyArMSwyMiBA
QAotIyEvdXNyL2Jpbi9weXRob24yCisjIS91c3IvYmluL3B5dGhvbgorCitmcm9tIF9fZnV0dXJl
X18gaW1wb3J0IGFic29sdXRlX2ltcG9ydAorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBkaXZpc2lv
bgorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBwcmludF9mdW5jdGlvbgorZnJvbSBfX2Z1dHVyZV9f
IGltcG9ydCB1bmljb2RlX2xpdGVyYWxzCiAKIGltcG9ydCBzeXMKIGltcG9ydCBvcwotc3lzLnBh
dGguYXBwZW5kKCJwY3MiKQorCitzeXMucGF0aC5pbnNlcnQoCisgICAgMCwKKyAgICBvcy5wYXRo
LmpvaW4ob3MucGF0aC5kaXJuYW1lKG9zLnBhdGguYWJzcGF0aChfX2ZpbGVfXykpLCAicGNzIikK
KykKIGltcG9ydCBzZXR0aW5ncwogCi1wY3NfdmVyc2lvbiA9IHNldHRpbmdzLnBjc192ZXJzaW9u
CiAKLXByaW50IG9zLnN5c3RlbSgiY3AgZGlzdC9wY3MtIitwY3NfdmVyc2lvbisiLnRhciBkaXN0
L3Bjcy13aXRoZ2Vtcy0iK3Bjc192ZXJzaW9uKyIudGFyIikKLXByaW50IG9zLnN5c3RlbSgidGFy
IC0tZGVsZXRlIC1mIGRpc3QvcGNzLSIrcGNzX3ZlcnNpb24rIi50YXIgJyovcGNzZC92ZW5kb3In
IikKLXByaW50IG9zLnN5c3RlbSgiZ3ppcCBkaXN0L3Bjcy0iK3Bjc192ZXJzaW9uKyIudGFyIikK
LXByaW50IG9zLnN5c3RlbSgiZ3ppcCBkaXN0L3Bjcy13aXRoZ2Vtcy0iK3Bjc192ZXJzaW9uKyIu
dGFyIikKK3Bjc192ZXJzaW9uID0gc2V0dGluZ3MucGNzX3ZlcnNpb24KK3ByaW50KG9zLnN5c3Rl
bSgiY3AgZGlzdC9wY3MtIitwY3NfdmVyc2lvbisiLnRhciBkaXN0L3Bjcy13aXRoZ2Vtcy0iK3Bj
c192ZXJzaW9uKyIudGFyIikpCitwcmludChvcy5zeXN0ZW0oInRhciAtLWRlbGV0ZSAtZiBkaXN0
L3Bjcy0iK3Bjc192ZXJzaW9uKyIudGFyICcqL3Bjc2QvdmVuZG9yJyIpKQorcHJpbnQob3Muc3lz
dGVtKCJnemlwIGRpc3QvcGNzLSIrcGNzX3ZlcnNpb24rIi50YXIiKSkKK3ByaW50KG9zLnN5c3Rl
bSgiZ3ppcCBkaXN0L3Bjcy13aXRoZ2Vtcy0iK3Bjc192ZXJzaW9uKyIudGFyIikpCmRpZmYgLS1n
aXQgYS9uZXd2ZXJzaW9uLnB5IGIvbmV3dmVyc2lvbi5weQppbmRleCAxMjQ5ZDgxLi44MDA3ZjUy
IDEwMDY0NAotLS0gYS9uZXd2ZXJzaW9uLnB5CisrKyBiL25ld3ZlcnNpb24ucHkKQEAgLTEsMzcg
KzEsNDcgQEAKLSMhL3Vzci9iaW4vcHl0aG9uMgorIyEvdXNyL2Jpbi9weXRob24KKworZnJvbSBf
X2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQg
ZGl2aXNpb24KK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgcHJpbnRfZnVuY3Rpb24KK2Zyb20gX19m
dXR1cmVfXyBpbXBvcnQgdW5pY29kZV9saXRlcmFscwogCiBpbXBvcnQgc3lzCiBpbXBvcnQgb3MK
IGltcG9ydCBsb2NhbGUKIGltcG9ydCBkYXRldGltZQotc3lzLnBhdGguYXBwZW5kKCJwY3MiKQor
CitzeXMucGF0aC5pbnNlcnQoCisgICAgMCwKKyAgICBvcy5wYXRoLmpvaW4ob3MucGF0aC5kaXJu
YW1lKG9zLnBhdGguYWJzcGF0aChfX2ZpbGVfXykpLCAicGNzIikKKykKIGltcG9ydCBzZXR0aW5n
cwogCi1sb2NhbGUuc2V0bG9jYWxlKGxvY2FsZS5MQ19BTEwsICJDIikKKworbG9jYWxlLnNldGxv
Y2FsZShsb2NhbGUuTENfQUxMLCAoImVuX1VTIiwgIlVURi04IikpCiAKICMgR2V0IHRoZSBjdXJy
ZW50IHZlcnNpb24sIGluY3JlbWVudCBieSAxLCB2ZXJpZnkgY2hhbmdlcywgZ2l0IGNvbW1pdCAm
IHRhZwogcGNzX3ZlcnNpb25fc3BsaXQgPSBzZXR0aW5ncy5wY3NfdmVyc2lvbi5zcGxpdCgnLicp
CiBwY3NfdmVyc2lvbl9zcGxpdFsyXSA9IHN0cihpbnQocGNzX3ZlcnNpb25fc3BsaXRbMl0pICsg
MSkKIG5ld192ZXJzaW9uID0gIi4iLmpvaW4ocGNzX3ZlcnNpb25fc3BsaXQpCiAKLXByaW50IG9z
LnN5c3RlbSgic2VkIC1pICdzLyIrc2V0dGluZ3MucGNzX3ZlcnNpb24rIi8iK25ld192ZXJzaW9u
ICsgIi8nIHNldHVwLnB5IikKLXByaW50IG9zLnN5c3RlbSgic2VkIC1pICdzLyIrc2V0dGluZ3Mu
cGNzX3ZlcnNpb24rIi8iK25ld192ZXJzaW9uICsgIi8nIHBjcy9zZXR0aW5ncy5weSIpCi1wcmlu
dCBvcy5zeXN0ZW0oInNlZCAtaSAncy8iK3NldHRpbmdzLnBjc192ZXJzaW9uKyIvIituZXdfdmVy
c2lvbiArICIvJyBwY3Mvc2V0dGluZ3MucHkuaTM4Ni1saW51eC1nbnUuZGViaWFuIikKLXByaW50
IG9zLnN5c3RlbSgic2VkIC1pICdzLyIrc2V0dGluZ3MucGNzX3ZlcnNpb24rIi8iK25ld192ZXJz
aW9uICsgIi8nIHBjcy9zZXR0aW5ncy5weS54ODZfNjQtbGludXgtZ251LmRlYmlhbiIpCi1wcmlu
dCBvcy5zeXN0ZW0oInNlZCAtaSAncy8iK3NldHRpbmdzLnBjc192ZXJzaW9uKyIvIituZXdfdmVy
c2lvbiArICIvJyBwY3NkL2Jvb3RzdHJhcC5yYiIpCitwcmludChvcy5zeXN0ZW0oInNlZCAtaSAn
cy8iK3NldHRpbmdzLnBjc192ZXJzaW9uKyIvIituZXdfdmVyc2lvbiArICIvJyBzZXR1cC5weSIp
KQorcHJpbnQob3Muc3lzdGVtKCJzZWQgLWkgJ3MvIitzZXR0aW5ncy5wY3NfdmVyc2lvbisiLyIr
bmV3X3ZlcnNpb24gKyAiLycgcGNzL3NldHRpbmdzLnB5IikpCitwcmludChvcy5zeXN0ZW0oInNl
ZCAtaSAncy8iK3NldHRpbmdzLnBjc192ZXJzaW9uKyIvIituZXdfdmVyc2lvbiArICIvJyBwY3Mv
c2V0dGluZ3MucHkuaTM4Ni1saW51eC1nbnUuZGViaWFuIikpCitwcmludChvcy5zeXN0ZW0oInNl
ZCAtaSAncy8iK3NldHRpbmdzLnBjc192ZXJzaW9uKyIvIituZXdfdmVyc2lvbiArICIvJyBwY3Mv
c2V0dGluZ3MucHkueDg2XzY0LWxpbnV4LWdudS5kZWJpYW4iKSkKK3ByaW50KG9zLnN5c3RlbSgi
c2VkIC1pICdzLyIrc2V0dGluZ3MucGNzX3ZlcnNpb24rIi8iK25ld192ZXJzaW9uICsgIi8nIHBj
c2QvYm9vdHN0cmFwLnJiIikpCiAKIG1hbnBhZ2VfaGVhZCA9ICcuVEggUENTICI4IiAie2RhdGV9
IiAicGNzIHt2ZXJzaW9ufSIgIlN5c3RlbSBBZG1pbmlzdHJhdGlvbiBVdGlsaXRpZXMiJy5mb3Jt
YXQoCiAgICAgZGF0ZT1kYXRldGltZS5kYXRlLnRvZGF5KCkuc3RyZnRpbWUoJyVCICVZJyksCiAg
ICAgdmVyc2lvbj1uZXdfdmVyc2lvbgogKQotcHJpbnQgb3Muc3lzdGVtKCJzZWQgLWkgJzFjICIg
KyBtYW5wYWdlX2hlYWQgKyAiJyBwY3MvcGNzLjgiKQorcHJpbnQob3Muc3lzdGVtKCJzZWQgLWkg
JzFjICIgKyBtYW5wYWdlX2hlYWQgKyAiJyBwY3MvcGNzLjgiKSkKIAotcHJpbnQgb3Muc3lzdGVt
KCJnaXQgZGlmZiIpCi1wcmludCAiTG9vayBnb29kPyAoeS9uKSIKK3ByaW50KG9zLnN5c3RlbSgi
Z2l0IGRpZmYiKSkKK3ByaW50KCJMb29rIGdvb2Q/ICh5L24pIikKIGNob2ljZSA9IHN5cy5zdGRp
bi5yZWFkKDEpCiBpZiBjaG9pY2UgIT0gInkiOgotICBwcmludCAiT2ssIGV4aXRpbmciCisgIHBy
aW50KCJPaywgZXhpdGluZyIpCiAgIHN5cy5leGl0KDApCiAKLXByaW50IG9zLnN5c3RlbSgiZ2l0
IGNvbW1pdCAtYSAtbSAnQnVtcGVkIHRvICIrbmV3X3ZlcnNpb24rIiciKQotcHJpbnQgb3Muc3lz
dGVtKCJnaXQgdGFnICIrbmV3X3ZlcnNpb24pCitwcmludChvcy5zeXN0ZW0oImdpdCBjb21taXQg
LWEgLW0gJ0J1bXBlZCB0byAiK25ld192ZXJzaW9uKyInIikpCitwcmludChvcy5zeXN0ZW0oImdp
dCB0YWcgIituZXdfdmVyc2lvbikpCmRpZmYgLS1naXQgYS9wY3MvYWNsLnB5IGIvcGNzL2FjbC5w
eQppbmRleCBiMzBjMGMxLi5iZWJkN2QyIDEwMDY0NAotLS0gYS9wY3MvYWNsLnB5CisrKyBiL3Bj
cy9hY2wucHkKQEAgLTEsOCArMSwxNSBAQAorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0
ZV9pbXBvcnQKK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgZGl2aXNpb24KK2Zyb20gX19mdXR1cmVf
XyBpbXBvcnQgcHJpbnRfZnVuY3Rpb24KK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgdW5pY29kZV9s
aXRlcmFscworCiBpbXBvcnQgc3lzCisKIGltcG9ydCB1c2FnZQogaW1wb3J0IHV0aWxzCiBpbXBv
cnQgcHJvcAogCisKIGRlZiBhY2xfY21kKGFyZ3YpOgogICAgIGlmIGxlbihhcmd2KSA9PSAwOgog
ICAgICAgICBhcmd2ID0gWyJzaG93Il0KQEAgLTQxLDEwICs0OCwxMCBAQCBkZWYgYWNsX3Nob3co
YXJndik6CiAgICAgcHJvcGVydGllcyA9IHByb3AuZ2V0X3NldF9wcm9wZXJ0aWVzKGRlZmF1bHRz
PXByb3AuZ2V0X2RlZmF1bHRfcHJvcGVydGllcygpKQogICAgIGFjbF9lbmFibGVkID0gcHJvcGVy
dGllcy5nZXQoImVuYWJsZS1hY2wiLCAiIikubG93ZXIoKQogICAgIGlmIHV0aWxzLmlzX2NpYl90
cnVlKGFjbF9lbmFibGVkKToKLSAgICAgICAgcHJpbnQgIkFDTHMgYXJlIGVuYWJsZWQiCisgICAg
ICAgIHByaW50KCJBQ0xzIGFyZSBlbmFibGVkIikKICAgICBlbHNlOgotICAgICAgICBwcmludCAi
QUNMcyBhcmUgZGlzYWJsZWQsIHJ1biAncGNzIGFjbCBlbmFibGUnIHRvIGVuYWJsZSIKLSAgICBw
cmludAorICAgICAgICBwcmludCgiQUNMcyBhcmUgZGlzYWJsZWQsIHJ1biAncGNzIGFjbCBlbmFi
bGUnIHRvIGVuYWJsZSIpCisgICAgcHJpbnQoKQogCiAgICAgcHJpbnRfdGFyZ2V0cyhkb20pCiAg
ICAgcHJpbnRfZ3JvdXBzKGRvbSkKQEAgLTU3LDcgKzY0LDcgQEAgZGVmIGFjbF9kaXNhYmxlKGFy
Z3YpOgogICAgIHByb3Auc2V0X3Byb3BlcnR5KFsiZW5hYmxlLWFjbD1mYWxzZSJdKQogCiBkZWYg
YWNsX2dyYW50KGFyZ3YpOgotICAgIHByaW50ICJOb3QgeWV0IGltcGxlbWVudGVkIgorICAgIHBy
aW50KCJOb3QgeWV0IGltcGxlbWVudGVkIikKIAogZGVmIGFjbF9yb2xlKGFyZ3YpOgogICAgIGlm
IGxlbihhcmd2KSA8IDI6CkBAIC0zMTUsMjcgKzMyMiwyNSBAQCBkZWYgYWNsX3Blcm1pc3Npb24o
YXJndik6CiAKIGRlZiBwcmludF9ncm91cHMoZG9tKToKICAgICBmb3IgZWxlbSBpbiBkb20uZ2V0
RWxlbWVudHNCeVRhZ05hbWUoImFjbF9ncm91cCIpOgotICAgICAgICBwcmludCAiR3JvdXA6ICIg
KyBlbGVtLmdldEF0dHJpYnV0ZSgiaWQiKQotICAgICAgICBwcmludCAiICBSb2xlczoiLAorICAg
ICAgICBwcmludCgiR3JvdXA6ICIgKyBlbGVtLmdldEF0dHJpYnV0ZSgiaWQiKSkKICAgICAgICAg
cm9sZV9saXN0ID0gW10KICAgICAgICAgZm9yIHJvbGUgaW4gZWxlbS5nZXRFbGVtZW50c0J5VGFn
TmFtZSgicm9sZSIpOgogICAgICAgICAgICAgcm9sZV9saXN0LmFwcGVuZChyb2xlLmdldEF0dHJp
YnV0ZSgiaWQiKSkKLSAgICAgICAgcHJpbnQgIiAiLmpvaW4ocm9sZV9saXN0KQorICAgICAgICBw
cmludCgiICIuam9pbihbIiAgUm9sZXM6Il0gKyByb2xlX2xpc3QpKQogCiBkZWYgcHJpbnRfdGFy
Z2V0cyhkb20pOgogICAgIGZvciBlbGVtIGluIGRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYWNs
X3RhcmdldCIpOgotICAgICAgICBwcmludCAiVXNlcjogIiArIGVsZW0uZ2V0QXR0cmlidXRlKCJp
ZCIpCi0gICAgICAgIHByaW50ICIgIFJvbGVzOiIsCisgICAgICAgIHByaW50KCJVc2VyOiAiICsg
ZWxlbS5nZXRBdHRyaWJ1dGUoImlkIikpCiAgICAgICAgIHJvbGVfbGlzdCA9IFtdCiAgICAgICAg
IGZvciByb2xlIGluIGVsZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInJvbGUiKToKICAgICAgICAg
ICAgIHJvbGVfbGlzdC5hcHBlbmQocm9sZS5nZXRBdHRyaWJ1dGUoImlkIikpCi0gICAgICAgIHBy
aW50ICIgIi5qb2luKHJvbGVfbGlzdCkKKyAgICAgICAgcHJpbnQoIiAiLmpvaW4oWyIgIFJvbGVz
OiJdICsgcm9sZV9saXN0KSkKIAogZGVmIHByaW50X3JvbGVzKGRvbSk6CiAgICAgZm9yIGVsZW0g
aW4gZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhY2xfcm9sZSIpOgotICAgICAgICBwcmludCAi
Um9sZTogIiArIGVsZW0uZ2V0QXR0cmlidXRlKCJpZCIpCisgICAgICAgIHByaW50KCJSb2xlOiAi
ICsgZWxlbS5nZXRBdHRyaWJ1dGUoImlkIikpCiAgICAgICAgIGlmIGVsZW0uZ2V0QXR0cmlidXRl
KCJkZXNjcmlwdGlvbiIpOgotICAgICAgICAgICAgcHJpbnQgIiAgRGVzY3JpcHRpb246ICIgKyBl
bGVtLmdldEF0dHJpYnV0ZSgiZGVzY3JpcHRpb24iKQorICAgICAgICAgICAgcHJpbnQoIiAgRGVz
Y3JpcHRpb246ICIgKyBlbGVtLmdldEF0dHJpYnV0ZSgiZGVzY3JpcHRpb24iKSkKICAgICAgICAg
Zm9yIHBlcm0gaW4gZWxlbS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYWNsX3Blcm1pc3Npb24iKToK
ICAgICAgICAgICAgIHBlcm1fbmFtZSA9ICIgIFBlcm1pc3Npb246ICIgKyBwZXJtLmdldEF0dHJp
YnV0ZSgia2luZCIpCiAgICAgICAgICAgICBpZiAieHBhdGgiIGluIHBlcm0uYXR0cmlidXRlcy5r
ZXlzKCk6CkBAIC0zNDMsNyArMzQ4LDcgQEAgZGVmIHByaW50X3JvbGVzKGRvbSk6CiAgICAgICAg
ICAgICBlbGlmICJyZWZlcmVuY2UiIGluIHBlcm0uYXR0cmlidXRlcy5rZXlzKCk6CiAgICAgICAg
ICAgICAgICAgcGVybV9uYW1lICs9ICIgaWQgIiArIHBlcm0uZ2V0QXR0cmlidXRlKCJyZWZlcmVu
Y2UiKQogICAgICAgICAgICAgcGVybV9uYW1lICs9ICIgKCIgKyBwZXJtLmdldEF0dHJpYnV0ZSgi
aWQiKSArICIpIgotICAgICAgICAgICAgcHJpbnQgcGVybV9uYW1lCisgICAgICAgICAgICBwcmlu
dChwZXJtX25hbWUpCiAKIGRlZiBnZXRfYWNscyhkb20pOiAgICAgICAgCiAgICAgYWNscyA9IGRv
bS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYWNscyIpCmRpZmYgLS1naXQgYS9wY3MvY2x1c3Rlci5w
eSBiL3Bjcy9jbHVzdGVyLnB5CmluZGV4IDM0MWI3MDYuLmE2MDQ1NjUgMTAwNjQ0Ci0tLSBhL3Bj
cy9jbHVzdGVyLnB5CisrKyBiL3Bjcy9jbHVzdGVyLnB5CkBAIC0xLDI1ICsxLDM2IEBACitmcm9t
IF9fZnV0dXJlX18gaW1wb3J0IGFic29sdXRlX2ltcG9ydAorZnJvbSBfX2Z1dHVyZV9fIGltcG9y
dCBkaXZpc2lvbgorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBwcmludF9mdW5jdGlvbgorZnJvbSBf
X2Z1dHVyZV9fIGltcG9ydCB1bmljb2RlX2xpdGVyYWxzCisKIGltcG9ydCBvcwogaW1wb3J0IHN1
YnByb2Nlc3MKIGltcG9ydCByZQotaW1wb3J0IHVzYWdlCi1pbXBvcnQgdXJsbGliMgotaW1wb3J0
IHV0aWxzCiBpbXBvcnQgc3lzCi1pbXBvcnQgc3RhdHVzCi1pbXBvcnQgcHJvcAotaW1wb3J0IHJl
c291cmNlCi1pbXBvcnQgc3Rvbml0aAotaW1wb3J0IGNvbnN0cmFpbnQKLWltcG9ydCBzZXR0aW5n
cwogaW1wb3J0IHNvY2tldAogaW1wb3J0IHRlbXBmaWxlCiBpbXBvcnQgZGF0ZXRpbWUKLWltcG9y
dCBjb21tYW5kcwogaW1wb3J0IGpzb24KIGltcG9ydCB4bWwuZG9tLm1pbmlkb20KIGltcG9ydCB0
aHJlYWRpbmcKK3RyeToKKyAgICAjIHB5dGhvbjIKKyAgICBmcm9tIGNvbW1hbmRzIGltcG9ydCBn
ZXRzdGF0dXNvdXRwdXQKK2V4Y2VwdCBJbXBvcnRFcnJvcjoKKyAgICAjIHB5dGhvbjMKKyAgICBm
cm9tIHN1YnByb2Nlc3MgaW1wb3J0IGdldHN0YXR1c291dHB1dAorCitpbXBvcnQgc2V0dGluZ3MK
K2ltcG9ydCB1c2FnZQoraW1wb3J0IHV0aWxzCiBpbXBvcnQgY29yb3N5bmNfY29uZiBhcyBjb3Jv
c3luY19jb25mX3V0aWxzCiBpbXBvcnQgcGNzZAoraW1wb3J0IHN0YXR1cworaW1wb3J0IHByb3AK
K2ltcG9ydCByZXNvdXJjZQoraW1wb3J0IHN0b25pdGgKK2ltcG9ydCBjb25zdHJhaW50CisKIAog
cGNzX2RpciA9IG9zLnBhdGguZGlybmFtZShvcy5wYXRoLnJlYWxwYXRoKF9fZmlsZV9fKSkKIApA
QCAtMTMzLDEyICsxNDQsMTIgQEAgZGVmIGNsdXN0ZXJfdG9rZW4oYXJndik6CiAgICAgbm9kZSA9
IGFyZ3ZbMF0KICAgICB0b2tlbnMgPSB1dGlscy5yZWFkVG9rZW5zKCkKICAgICBpZiBub2RlIGlu
IHRva2VuczoKLSAgICAgICAgcHJpbnQgdG9rZW5zW25vZGVdCisgICAgICAgIHByaW50KHRva2Vu
c1tub2RlXSkKICAgICBlbHNlOgogICAgICAgICB1dGlscy5lcnIoIk5vIGF1dGhvcml6YXRpb24g
dG9rZW4gZm9yOiAlcyIgJSAobm9kZSkpCiAKIGRlZiBjbHVzdGVyX3Rva2VuX25vZGVzKGFyZ3Yp
OgotICAgIHByaW50ICJcbiIuam9pbihzb3J0ZWQodXRpbHMucmVhZFRva2VucygpLmtleXMoKSkp
CisgICAgcHJpbnQoIlxuIi5qb2luKHNvcnRlZCh1dGlscy5yZWFkVG9rZW5zKCkua2V5cygpKSkp
CiAKIGRlZiBhdXRoX25vZGVzKG5vZGVzKToKICAgICBpZiAiLXUiIGluIHV0aWxzLnBjc19vcHRp
b25zOgpAQCAtMTY2LDcgKzE3Nyw3IEBAIGRlZiBhdXRoX25vZGVzKG5vZGVzKToKICAgICAgICAg
ICAgICAgICAgICAgaWYgYXV0aF9zdGF0dXNbInN1Y2Nlc3MiXToKICAgICAgICAgICAgICAgICAg
ICAgICAgIGlmIHNldF9ub2Rlcy5pc3N1YnNldChzZXQoYXV0aF9zdGF0dXNbIm5vZGVfbGlzdCJd
KSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXV0dWFsbHlfYXV0aG9yaXplZCA9IFRy
dWUKLSAgICAgICAgICAgICAgICBleGNlcHQgVmFsdWVFcnJvciwgS2V5RXJyb3I6CisgICAgICAg
ICAgICAgICAgZXhjZXB0IChWYWx1ZUVycm9yLCBLZXlFcnJvcik6CiAgICAgICAgICAgICAgICAg
ICAgIHBhc3MKICAgICAgICAgICAgIGlmIG5vdCBtdXR1YWxseV9hdXRob3JpemVkOgogICAgICAg
ICAgICAgICAgIG5lZWRfYXV0aCA9IFRydWUKQEAgLTE4NCw3ICsxOTUsNyBAQCBkZWYgYXV0aF9u
b2Rlcyhub2Rlcyk6CiAgICAgICAgICkKICAgICBlbHNlOgogICAgICAgICBmb3Igbm9kZSBpbiBz
ZXRfbm9kZXM6Ci0gICAgICAgICAgICBwcmludCBub2RlICsgIjogQWxyZWFkeSBhdXRob3JpemVk
IgorICAgICAgICAgICAgcHJpbnQobm9kZSArICI6IEFscmVhZHkgYXV0aG9yaXplZCIpCiAKIGRl
ZiBhdXRoX25vZGVzX2RvKG5vZGVzLCB1c2VybmFtZSwgcGFzc3dvcmQsIGZvcmNlLCBsb2NhbCk6
CiAgICAgcGNzZF9kYXRhID0gewpAQCAtMjA4LDkgKzIxOSw5IEBAIGRlZiBhdXRoX25vZGVzX2Rv
KG5vZGVzLCB1c2VybmFtZSwgcGFzc3dvcmQsIGZvcmNlLCBsb2NhbCk6CiAgICAgICAgICAgICAg
ICAgKQogICAgICAgICAgICAgZm9yIG5vZGUsIHJlc3VsdCBpbiBvdXRwdXRbJ2RhdGEnXVsnYXV0
aF9yZXNwb25zZXMnXS5pdGVtcygpOgogICAgICAgICAgICAgICAgIGlmIHJlc3VsdFsnc3RhdHVz
J10gPT0gJ29rJzoKLSAgICAgICAgICAgICAgICAgICAgcHJpbnQgInswfTogQXV0aG9yaXplZCIu
Zm9ybWF0KG5vZGUpCisgICAgICAgICAgICAgICAgICAgIHByaW50KCJ7MH06IEF1dGhvcml6ZWQi
LmZvcm1hdChub2RlKSkKICAgICAgICAgICAgICAgICBlbGlmIHJlc3VsdFsnc3RhdHVzJ10gPT0g
J2FscmVhZHlfYXV0aG9yaXplZCc6Ci0gICAgICAgICAgICAgICAgICAgIHByaW50ICJ7MH06IEFs
cmVhZHkgYXV0aG9yaXplZCIuZm9ybWF0KG5vZGUpCisgICAgICAgICAgICAgICAgICAgIHByaW50
KCJ7MH06IEFscmVhZHkgYXV0aG9yaXplZCIuZm9ybWF0KG5vZGUpKQogICAgICAgICAgICAgICAg
IGVsaWYgcmVzdWx0WydzdGF0dXMnXSA9PSAnYmFkX3Bhc3N3b3JkJzoKICAgICAgICAgICAgICAg
ICAgICAgdXRpbHMuZXJyKAogICAgICAgICAgICAgICAgICAgICAgICAgInswfTogVXNlcm5hbWUg
YW5kL29yIHBhc3N3b3JkIGlzIGluY29ycmVjdCIuZm9ybWF0KG5vZGUpLApAQCAtMjc5LDEyICsy
OTAsMTIgQEAgZGVmIGNoZWNrX25vZGVzKG5vZGVzLCBwcmVmaXggPSAiIik6CiAgICAgICAgICAg
ICAgICAgICAgIGJyZWFrCiAKICAgICAgICAgaWYgc3RhdHVzWzBdID09IDA6Ci0gICAgICAgICAg
ICBwcmludCBwcmVmaXggKyBub2RlICsgIjogT25saW5lIgorICAgICAgICAgICAgcHJpbnQocHJl
Zml4ICsgbm9kZSArICI6IE9ubGluZSIpCiAgICAgICAgIGVsaWYgc3RhdHVzWzBdID09IDM6Ci0g
ICAgICAgICAgICBwcmludCBwcmVmaXggKyBub2RlICsgIjogVW5hYmxlIHRvIGF1dGhlbnRpY2F0
ZSIKKyAgICAgICAgICAgIHByaW50KHByZWZpeCArIG5vZGUgKyAiOiBVbmFibGUgdG8gYXV0aGVu
dGljYXRlIikKICAgICAgICAgICAgIGJhZF9ub2RlcyA9IFRydWUKICAgICAgICAgZWxzZToKLSAg
ICAgICAgICAgIHByaW50IHByZWZpeCArIG5vZGUgKyAiOiBPZmZsaW5lIgorICAgICAgICAgICAg
cHJpbnQocHJlZml4ICsgbm9kZSArICI6IE9mZmxpbmUiKQogICAgICAgICAgICAgYmFkX25vZGVz
ID0gVHJ1ZQogICAgIHJldHVybiBiYWRfbm9kZXMKIApAQCAtNDIxLDcgKzQzMiw3IEBAIGRlZiBj
bHVzdGVyX3NldHVwKGFyZ3YpOgogICAgICAgICAgICAgIiwgIi5qb2luKHByaW1hcnlfYWRkcl9s
aXN0KQogICAgICAgICApKQogICAgICAgICBkZXN0cm95X2NsdXN0ZXIocHJpbWFyeV9hZGRyX2xp
c3QpCi0gICAgICAgIHByaW50CisgICAgICAgIHByaW50KCkKIAogICAgICAgICAjIHNlbmQgbG9j
YWwgY2x1c3RlciBwY3NkIGNvbmZpZ3MgdG8gdGhlIG5ldyBub2RlcwogICAgICAgICBwcmludCgi
U2VuZGluZyBjbHVzdGVyIGNvbmZpZyBmaWxlcyB0byB0aGUgbm9kZXMuLi4iKQpAQCAtNDUwLDcg
KzQ2MSw3IEBAIGRlZiBjbHVzdGVyX3NldHVwKGFyZ3YpOgogICAgICAgICBlbHNlOgogICAgICAg
ICAgICAgZXJyX21zZ3MuYXBwZW5kKCJVbmFibGUgdG8gc2V0IHBjc2QgY29uZmlncyIpCiAgICAg
ICAgIGZvciBlcnJfbXNnIGluIGVycl9tc2dzOgotICAgICAgICAgICAgcHJpbnQgIldhcm5pbmc6
IHswfSIuZm9ybWF0KGVycl9tc2cpCisgICAgICAgICAgICBwcmludCgiV2FybmluZzogezB9Ii5m
b3JtYXQoZXJyX21zZykpCiAKICAgICAgICAgIyBzZW5kIHRoZSBjbHVzdGVyIGNvbmZpZwogICAg
ICAgICBmb3Igbm9kZSBpbiBwcmltYXJ5X2FkZHJfbGlzdDoKQEAgLTQ2Niw3ICs0NzcsNyBAQCBk
ZWYgY2x1c3Rlcl9zZXR1cChhcmd2KToKICAgICAgICAgICAgIGVuYWJsZV9jbHVzdGVyKHByaW1h
cnlfYWRkcl9saXN0KQogCiAgICAgICAgICMgc3luYyBjZXJ0aWZpY2F0ZXMgYXMgdGhlIGxhc3Qg
c3RlcCBiZWNhdXNlIGl0IHJlc3RhcnRzIHBjc2QKLSAgICAgICAgcHJpbnQKKyAgICAgICAgcHJp
bnQoKQogICAgICAgICBwY3NkLnBjc2Rfc3luY19jZXJ0cyhbXSwgZXhpdF9hZnRlcl9lcnJvcj1G
YWxzZSkKIAogZGVmIGNsdXN0ZXJfc2V0dXBfcGFyc2Vfb3B0aW9uc19jb3Jvc3luYyhvcHRpb25z
KToKQEAgLTkwOCw3ICs5MTksNyBAQCBkZWYgY2x1c3Rlcl9zZXR1cF9jcmVhdGVfY2x1c3Rlcl9j
b25mKAogICAgICAgICB9KQogCiAgICAgbWVzc2FnZXMgPSBbXQotICAgIGNvbmZfdGVtcCA9IHRl
bXBmaWxlLk5hbWVkVGVtcG9yYXJ5RmlsZSgndytiJywgLTEsICIucGNzIikKKyAgICBjb25mX3Rl
bXAgPSB0ZW1wZmlsZS5OYW1lZFRlbXBvcmFyeUZpbGUobW9kZT0idysiLCBzdWZmaXg9Ii5wY3Mi
KQogICAgIGNvbmZfcGF0aCA9IGNvbmZfdGVtcC5uYW1lCiAgICAgY21kX3ByZWZpeCA9IFsiY2Nz
IiwgIi1mIiwgY29uZl9wYXRoXQogICAgIGZvciBjbWRfaXRlbSBpbiBjb21tYW5kczoKQEAgLTk2
OCwyNiArOTc5LDI2IEBAIGRlZiBzdGFydF9jbHVzdGVyKGFyZ3YpOgogICAgICAgICBzdGFydF9j
bHVzdGVyX25vZGVzKGFyZ3YpCiAgICAgICAgIHJldHVybgogCi0gICAgcHJpbnQgIlN0YXJ0aW5n
IENsdXN0ZXIuLi4iCisgICAgcHJpbnQoIlN0YXJ0aW5nIENsdXN0ZXIuLi4iKQogICAgIGlmIHV0
aWxzLmlzX3JoZWw2KCk6CiAjICAgVmVyaWZ5IHRoYXQgQ01BTl9RVU9SVU1fVElNRU9VVCBpcyBz
ZXQsIGlmIG5vdCwgdGhlbiB3ZSBzZXQgaXQgdG8gMAotICAgICAgICByZXR2YWwsIG91dHB1dCA9
IGNvbW1hbmRzLmdldHN0YXR1c291dHB1dCgnc291cmNlIC9ldGMvc3lzY29uZmlnL2NtYW4gOyBb
IC16ICIkQ01BTl9RVU9SVU1fVElNRU9VVCIgXScpCisgICAgICAgIHJldHZhbCwgb3V0cHV0ID0g
Z2V0c3RhdHVzb3V0cHV0KCdzb3VyY2UgL2V0Yy9zeXNjb25maWcvY21hbiA7IFsgLXogIiRDTUFO
X1FVT1JVTV9USU1FT1VUIiBdJykKICAgICAgICAgaWYgcmV0dmFsID09IDA6CiAgICAgICAgICAg
ICB3aXRoIG9wZW4oIi9ldGMvc3lzY29uZmlnL2NtYW4iLCAiYSIpIGFzIGNtYW5fY29uZl9maWxl
OgogICAgICAgICAgICAgICAgIGNtYW5fY29uZl9maWxlLndyaXRlKCJcbkNNQU5fUVVPUlVNX1RJ
TUVPVVQ9MFxuIikKIAogICAgICAgICBvdXRwdXQsIHJldHZhbCA9IHV0aWxzLnJ1bihbInNlcnZp
Y2UiLCAiY21hbiIsInN0YXJ0Il0pCiAgICAgICAgIGlmIHJldHZhbCAhPSAwOgotICAgICAgICAg
ICAgcHJpbnQgb3V0cHV0CisgICAgICAgICAgICBwcmludChvdXRwdXQpCiAgICAgICAgICAgICB1
dGlscy5lcnIoInVuYWJsZSB0byBzdGFydCBjbWFuIikKICAgICBlbHNlOgogICAgICAgICBvdXRw
dXQsIHJldHZhbCA9IHV0aWxzLnJ1bihbInNlcnZpY2UiLCAiY29yb3N5bmMiLCJzdGFydCJdKQog
ICAgICAgICBpZiByZXR2YWwgIT0gMDoKLSAgICAgICAgICAgIHByaW50IG91dHB1dAorICAgICAg
ICAgICAgcHJpbnQob3V0cHV0KQogICAgICAgICAgICAgdXRpbHMuZXJyKCJ1bmFibGUgdG8gc3Rh
cnQgY29yb3N5bmMiKQogICAgIG91dHB1dCwgcmV0dmFsID0gdXRpbHMucnVuKFsic2VydmljZSIs
ICJwYWNlbWFrZXIiLCAic3RhcnQiXSkKICAgICBpZiByZXR2YWwgIT0gMDoKLSAgICAgICAgcHJp
bnQgb3V0cHV0CisgICAgICAgIHByaW50KG91dHB1dCkKICAgICAgICAgdXRpbHMuZXJyKCJ1bmFi
bGUgdG8gc3RhcnQgcGFjZW1ha2VyIikKIAogZGVmIHN0YXJ0X2NsdXN0ZXJfYWxsKCk6CkBAIC0x
MTg5LDI0ICsxMjAwLDI0IEBAIGRlZiBzdG9wX2NsdXN0ZXIoYXJndik6CiAgICAgICAgIHN0b3Bf
Y2x1c3Rlcl9jb3Jvc3luYygpCiAKIGRlZiBzdG9wX2NsdXN0ZXJfcGFjZW1ha2VyKCk6Ci0gICAg
cHJpbnQgIlN0b3BwaW5nIENsdXN0ZXIgKHBhY2VtYWtlcikuLi4iLAorICAgIHByaW50KCJTdG9w
cGluZyBDbHVzdGVyIChwYWNlbWFrZXIpLi4uIikKICAgICBvdXRwdXQsIHJldHZhbCA9IHV0aWxz
LnJ1bihbInNlcnZpY2UiLCAicGFjZW1ha2VyIiwic3RvcCJdKQogICAgIGlmIHJldHZhbCAhPSAw
OgotICAgICAgICBwcmludCBvdXRwdXQsCisgICAgICAgIHByaW50KG91dHB1dCkKICAgICAgICAg
dXRpbHMuZXJyKCJ1bmFibGUgdG8gc3RvcCBwYWNlbWFrZXIiKQogCiBkZWYgc3RvcF9jbHVzdGVy
X2Nvcm9zeW5jKCk6CiAgICAgaWYgdXRpbHMuaXNfcmhlbDYoKToKLSAgICAgICAgcHJpbnQgIlN0
b3BwaW5nIENsdXN0ZXIgKGNtYW4pLi4uIiwKKyAgICAgICAgcHJpbnQoIlN0b3BwaW5nIENsdXN0
ZXIgKGNtYW4pLi4uIikKICAgICAgICAgb3V0cHV0LCByZXR2YWwgPSB1dGlscy5ydW4oWyJzZXJ2
aWNlIiwgImNtYW4iLCJzdG9wIl0pCiAgICAgICAgIGlmIHJldHZhbCAhPSAwOgotICAgICAgICAg
ICAgcHJpbnQgb3V0cHV0LAorICAgICAgICAgICAgcHJpbnQob3V0cHV0KQogICAgICAgICAgICAg
dXRpbHMuZXJyKCJ1bmFibGUgdG8gc3RvcCBjbWFuIikKICAgICBlbHNlOgotICAgICAgICBwcmlu
dCAiU3RvcHBpbmcgQ2x1c3RlciAoY29yb3N5bmMpLi4uIiwKKyAgICAgICAgcHJpbnQoIlN0b3Bw
aW5nIENsdXN0ZXIgKGNvcm9zeW5jKS4uLiIpCiAgICAgICAgIG91dHB1dCwgcmV0dmFsID0gdXRp
bHMucnVuKFsic2VydmljZSIsICJjb3Jvc3luYyIsInN0b3AiXSkKICAgICAgICAgaWYgcmV0dmFs
ICE9IDA6Ci0gICAgICAgICAgICBwcmludCBvdXRwdXQsCisgICAgICAgICAgICBwcmludChvdXRw
dXQpCiAgICAgICAgICAgICB1dGlscy5lcnIoInVuYWJsZSB0byBzdG9wIGNvcm9zeW5jIikKIAog
ZGVmIGtpbGxfY2x1c3Rlcihhcmd2KToKQEAgLTEyNjAsMTMgKzEyNzEsMTMgQEAgZGVmIGNsdXN0
ZXJfcHVzaChhcmd2KToKICAgICBpZiByZXR2YWwgIT0gMDoKICAgICAgICAgdXRpbHMuZXJyKCJ1
bmFibGUgdG8gcHVzaCBjaWJcbiIgKyBvdXRwdXQpCiAgICAgZWxzZToKLSAgICAgICAgcHJpbnQg
IkNJQiB1cGRhdGVkIgorICAgICAgICBwcmludCgiQ0lCIHVwZGF0ZWQiKQogCiBkZWYgY2x1c3Rl
cl91cGdyYWRlKCk6CiAgICAgb3V0cHV0LCByZXR2YWwgPSB1dGlscy5ydW4oWyJjaWJhZG1pbiIs
ICItLXVwZ3JhZGUiLCAiLS1mb3JjZSJdKQogICAgIGlmIHJldHZhbCAhPSAwOgogICAgICAgICB1
dGlscy5lcnIoInVuYWJsZSB0byB1cGdyYWRlIGNsdXN0ZXI6ICVzIiAlIG91dHB1dCkKLSAgICBw
cmludCAiQ2x1c3RlciBDSUIgaGFzIGJlZW4gdXBncmFkZWQgdG8gbGF0ZXN0IHZlcnNpb24iCisg
ICAgcHJpbnQoIkNsdXN0ZXIgQ0lCIGhhcyBiZWVuIHVwZ3JhZGVkIHRvIGxhdGVzdCB2ZXJzaW9u
IikKIAogZGVmIGNsdXN0ZXJfZWRpdChhcmd2KToKICAgICBpZiAnRURJVE9SJyBpbiBvcy5lbnZp
cm9uOgpAQCAtMTI5OCw3ICsxMzA5LDcgQEAgZGVmIGNsdXN0ZXJfZWRpdChhcmd2KToKICAgICAg
ICAgICAgIHNjb3BlX2FyZyA9ICIiCiAKICAgICAgICAgZWRpdG9yID0gb3MuZW52aXJvblsnRURJ
VE9SJ10KLSAgICAgICAgdGVtcGNpYiA9IHRlbXBmaWxlLk5hbWVkVGVtcG9yYXJ5RmlsZSgndyti
JywtMSwiLnBjcyIpCisgICAgICAgIHRlbXBjaWIgPSB0ZW1wZmlsZS5OYW1lZFRlbXBvcmFyeUZp
bGUobW9kZT0idysiLCBzdWZmaXg9Ii5wY3MiKQogICAgICAgICBjaWIgPSB1dGlscy5nZXRfY2li
KHNjb3BlKQogICAgICAgICB0ZW1wY2liLndyaXRlKGNpYikKICAgICAgICAgdGVtcGNpYi5mbHVz
aCgpCkBAIC0xMzEwLDkgKzEzMjEsOSBAQCBkZWYgY2x1c3Rlcl9lZGl0KGFyZ3YpOgogICAgICAg
ICB0ZW1wY2liLnNlZWsoMCkKICAgICAgICAgbmV3Y2liID0gIiIuam9pbih0ZW1wY2liLnJlYWRs
aW5lcygpKQogICAgICAgICBpZiBuZXdjaWIgPT0gY2liOgotICAgICAgICAgICAgcHJpbnQgIkNJ
QiBub3QgdXBkYXRlZCwgbm8gY2hhbmdlcyBkZXRlY3RlZCIKKyAgICAgICAgICAgIHByaW50KCJD
SUIgbm90IHVwZGF0ZWQsIG5vIGNoYW5nZXMgZGV0ZWN0ZWQiKQogICAgICAgICBlbHNlOgotICAg
ICAgICAgICAgY2x1c3Rlcl9wdXNoKGZpbHRlcihOb25lLCBbdGVtcGNpYi5uYW1lLCBzY29wZV9h
cmddKSkKKyAgICAgICAgICAgIGNsdXN0ZXJfcHVzaChbYXJnIGZvciBhcmcgaW4gW3RlbXBjaWIu
bmFtZSwgc2NvcGVfYXJnXSBpZiBhcmddKQogCiAgICAgZWxzZToKICAgICAgICAgdXRpbHMuZXJy
KCIkRURJVE9SIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQiKQpAQCAtMTM0MSw3ICsx
MzUyLDcgQEAgZGVmIGdldF9jaWIoYXJndik6CiAgICAgICAgIHNjb3BlID0gImNvbmZpZ3VyYXRp
b24iCiAKICAgICBpZiBub3QgZmlsZW5hbWU6Ci0gICAgICAgIHByaW50IHV0aWxzLmdldF9jaWIo
c2NvcGUpLAorICAgICAgICBwcmludCh1dGlscy5nZXRfY2liKHNjb3BlKSwgZW5kPSIiKQogICAg
IGVsc2U6CiAgICAgICAgIHRyeToKICAgICAgICAgICAgIGYgPSBvcGVuKGZpbGVuYW1lLCAndycp
CkBAIC0xNDAyLDkgKzE0MTMsMTIgQEAgZGVmIGNsdXN0ZXJfbm9kZShhcmd2KToKICAgICAgICAg
Zm9yIG15X25vZGUgaW4gdXRpbHMuZ2V0Tm9kZXNGcm9tQ29yb3N5bmNDb25mKCk6CiAgICAgICAg
ICAgICByZXR2YWwsIG91dHB1dCA9IHV0aWxzLmFkZExvY2FsTm9kZShteV9ub2RlLCBub2RlMCwg
bm9kZTEpCiAgICAgICAgICAgICBpZiByZXR2YWwgIT0gMDoKLSAgICAgICAgICAgICAgICBwcmlu
dCA+PiBzeXMuc3RkZXJyLCAiRXJyb3I6IHVuYWJsZSB0byBhZGQgJXMgb24gJXMgLSAlcyIgJSAo
bm9kZTAsIG15X25vZGUsIG91dHB1dC5zdHJpcCgpKQorICAgICAgICAgICAgICAgIHV0aWxzLmVy
cigKKyAgICAgICAgICAgICAgICAgICAgInVuYWJsZSB0byBhZGQgJXMgb24gJXMgLSAlcyIgJSAo
bm9kZTAsIG15X25vZGUsIG91dHB1dC5zdHJpcCgpKSwKKyAgICAgICAgICAgICAgICAgICAgRmFs
c2UKKyAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICBlbHNlOgotICAgICAgICAgICAgICAg
IHByaW50ICIlczogQ29yb3N5bmMgdXBkYXRlZCIgJSBteV9ub2RlCisgICAgICAgICAgICAgICAg
cHJpbnQoIiVzOiBDb3Jvc3luYyB1cGRhdGVkIiAlIG15X25vZGUpCiAgICAgICAgICAgICAgICAg
Y29yb3N5bmNfY29uZiA9IG91dHB1dAogICAgICAgICBpZiBjb3Jvc3luY19jb25mICE9IE5vbmU6
CiAgICAgICAgICAgICAjIHNlbmQgbG9jYWwgY2x1c3RlciBwY3NkIGNvbmZpZ3MgdG8gdGhlIG5l
dyBub2RlCkBAIC0xNDkyLDEzICsxNTA2LDE5IEBAIGRlZiBjbHVzdGVyX25vZGUoYXJndik6CiAg
ICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgIHJldHZhbCwgb3V0cHV0ID0gdXRp
bHMucmVtb3ZlTG9jYWxOb2RlKG15X25vZGUsIG5vZGUwKQogICAgICAgICAgICAgaWYgcmV0dmFs
ICE9IDA6Ci0gICAgICAgICAgICAgICAgcHJpbnQgPj4gc3lzLnN0ZGVyciwgIkVycm9yOiB1bmFi
bGUgdG8gcmVtb3ZlICVzIG9uICVzIC0gJXMiICUgKG5vZGUwLG15X25vZGUsb3V0cHV0LnN0cmlw
KCkpCisgICAgICAgICAgICAgICAgdXRpbHMuZXJyKAorICAgICAgICAgICAgICAgICAgICAidW5h
YmxlIHRvIHJlbW92ZSAlcyBvbiAlcyAtICVzIiAlIChub2RlMCxteV9ub2RlLG91dHB1dC5zdHJp
cCgpKSwKKyAgICAgICAgICAgICAgICAgICAgRmFsc2UKKyAgICAgICAgICAgICAgICApCiAgICAg
ICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgIGlmIG91dHB1dFswXSA9PSAwOgotICAgICAg
ICAgICAgICAgICAgICBwcmludCAiJXM6IENvcm9zeW5jIHVwZGF0ZWQiICUgbXlfbm9kZQorICAg
ICAgICAgICAgICAgICAgICBwcmludCgiJXM6IENvcm9zeW5jIHVwZGF0ZWQiICUgbXlfbm9kZSkK
ICAgICAgICAgICAgICAgICAgICAgbm9kZXNSZW1vdmVkID0gVHJ1ZQogICAgICAgICAgICAgICAg
IGVsc2U6Ci0gICAgICAgICAgICAgICAgICAgIHByaW50ID4+IHN5cy5zdGRlcnIsICIlczogRXJy
b3IgZXhlY3V0aW5nIGNvbW1hbmQgb2NjdXJlZDogJXMiICUgKG15X25vZGUsICIiLmpvaW4ob3V0
cHV0WzFdKSkKKyAgICAgICAgICAgICAgICAgICAgdXRpbHMuZXJyKAorICAgICAgICAgICAgICAg
ICAgICAgICAgIiVzOiBFcnJvciBleGVjdXRpbmcgY29tbWFuZCBvY2N1cmVkOiAlcyIgJSAobXlf
bm9kZSwgIiIuam9pbihvdXRwdXRbMV0pKSwKKyAgICAgICAgICAgICAgICAgICAgICAgIEZhbHNl
CisgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgaWYgbm9kZXNSZW1vdmVkID09IEZhbHNl
OgogICAgICAgICAgICAgdXRpbHMuZXJyKCJVbmFibGUgdG8gdXBkYXRlIGFueSBub2RlcyIpCiAK
QEAgLTE1MjAsNyArMTU0MCw3IEBAIGRlZiBjbHVzdGVyX2xvY2Fsbm9kZShhcmd2KToKICAgICAg
ICAgICAgIHN1Y2Nlc3MgPSB1dGlscy5hZGROb2RlVG9DbHVzdGVyQ29uZihub2RlKQogCiAgICAg
ICAgIGlmIHN1Y2Nlc3M6Ci0gICAgICAgICAgICBwcmludCAiJXM6IHN1Y2Nlc3NmdWxseSBhZGRl
ZCEiICUgbm9kZQorICAgICAgICAgICAgcHJpbnQoIiVzOiBzdWNjZXNzZnVsbHkgYWRkZWQhIiAl
IG5vZGUpCiAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICB1dGlscy5lcnIoInVuYWJsZSB0byBh
ZGQgJXMiICUgbm9kZSkKICAgICBlbGlmIGFyZ3ZbMF0gaW4gWyJyZW1vdmUiLCJkZWxldGUiXToK
QEAgLTE1MzEsNyArMTU1MSw3IEBAIGRlZiBjbHVzdGVyX2xvY2Fsbm9kZShhcmd2KToKICAgICAg
ICAgICAgIHN1Y2Nlc3MgPSB1dGlscy5yZW1vdmVOb2RlRnJvbUNsdXN0ZXJDb25mKG5vZGUpCiAK
ICAgICAgICAgaWYgc3VjY2VzczoKLSAgICAgICAgICAgIHByaW50ICIlczogc3VjY2Vzc2Z1bGx5
IHJlbW92ZWQhIiAlIG5vZGUKKyAgICAgICAgICAgIHByaW50KCIlczogc3VjY2Vzc2Z1bGx5IHJl
bW92ZWQhIiAlIG5vZGUpCiAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICB1dGlscy5lcnIoInVu
YWJsZSB0byByZW1vdmUgJXMiICUgbm9kZSkKICAgICBlbHNlOgpAQCAtMTU1MCwxMCArMTU3MCwx
MCBAQCBkZWYgY2x1c3Rlcl91aWRnaWRfcmhlbDYoYXJndiwgc2lsZW50X2xpc3QgPSBGYWxzZSk6
CiAgICAgICAgIGxpbmVzID0gb3V0cHV0LnNwbGl0KCdcbicpCiAgICAgICAgIGZvciBsaW5lIGlu
IGxpbmVzOgogICAgICAgICAgICAgaWYgbGluZS5zdGFydHN3aXRoKCdVSUQvR0lEOiAnKToKLSAg
ICAgICAgICAgICAgICBwcmludCBsaW5lCisgICAgICAgICAgICAgICAgcHJpbnQobGluZSkKICAg
ICAgICAgICAgICAgICBmb3VuZCA9IFRydWUKICAgICAgICAgaWYgbm90IGZvdW5kIGFuZCBub3Qg
c2lsZW50X2xpc3Q6Ci0gICAgICAgICAgICBwcmludCAiTm8gdWlkZ2lkcyBjb25maWd1cmVkIGlu
IGNsdXN0ZXIuY29uZiIKKyAgICAgICAgICAgIHByaW50KCJObyB1aWRnaWRzIGNvbmZpZ3VyZWQg
aW4gY2x1c3Rlci5jb25mIikKICAgICAgICAgcmV0dXJuCiAgICAgCiAgICAgY29tbWFuZCA9IGFy
Z3YucG9wKDApCkBAIC0xNjEwLDEwICsxNjMwLDEwIEBAIGRlZiBjbHVzdGVyX3VpZGdpZChhcmd2
LCBzaWxlbnRfbGlzdCA9IEZhbHNlKToKICAgICAgICAgICAgICAgICBpZiAiZ2lkIiBpbiB1aWRf
Z2lkX2RpY3Q6CiAgICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gdWlkX2dpZF9kaWN0WyJnaWQi
XQogCi0gICAgICAgICAgICAgICAgcHJpbnQgbGluZQorICAgICAgICAgICAgICAgIHByaW50KGxp
bmUpCiAgICAgICAgICAgICAgICAgZm91bmQgPSBUcnVlCiAgICAgICAgIGlmIG5vdCBmb3VuZCBh
bmQgbm90IHNpbGVudF9saXN0OgotICAgICAgICAgICAgcHJpbnQgIk5vIHVpZGdpZHMgY29uZmln
dXJlZCBpbiBjbHVzdGVyLmNvbmYiCisgICAgICAgICAgICBwcmludCgiTm8gdWlkZ2lkcyBjb25m
aWd1cmVkIGluIGNsdXN0ZXIuY29uZiIpCiAgICAgICAgIHJldHVybgogCiAgICAgY29tbWFuZCA9
IGFyZ3YucG9wKDApCkBAIC0xNjU2LDcgKzE2NzYsNyBAQCBkZWYgY2x1c3Rlcl9nZXRfY29yb3N5
bmNfY29uZihhcmd2KToKICAgICAgICAgZXhpdCgxKQogCiAgICAgaWYgbGVuKGFyZ3YpID09IDA6
Ci0gICAgICAgIHByaW50IHV0aWxzLmdldENvcm9zeW5jQ29uZigpCisgICAgICAgIHByaW50KHV0
aWxzLmdldENvcm9zeW5jQ29uZigpLCBlbmQ9IiIpCiAgICAgICAgIHJldHVybgogCiAgICAgbm9k
ZSA9IGFyZ3ZbMF0KQEAgLTE2NjQsNyArMTY4NCw3IEBAIGRlZiBjbHVzdGVyX2dldF9jb3Jvc3lu
Y19jb25mKGFyZ3YpOgogICAgIGlmIHJldHZhbCAhPSAwOgogICAgICAgICB1dGlscy5lcnIob3V0
cHV0KQogICAgIGVsc2U6Ci0gICAgICAgIHByaW50IG91dHB1dAorICAgICAgICBwcmludChvdXRw
dXQsIGVuZD0iIikKIAogZGVmIGNsdXN0ZXJfcmVsb2FkKGFyZ3YpOgogICAgIGlmIGxlbihhcmd2
KSAhPSAxIG9yIGFyZ3ZbMF0gIT0gImNvcm9zeW5jIjoKQEAgLTE2NzQsNyArMTY5NCw3IEBAIGRl
ZiBjbHVzdGVyX3JlbG9hZChhcmd2KToKICAgICBvdXRwdXQsIHJldHZhbCA9IHV0aWxzLnJlbG9h
ZENvcm9zeW5jKCkKICAgICBpZiByZXR2YWwgIT0gMCBvciAiaW52YWxpZCBvcHRpb24iIGluIG91
dHB1dDoKICAgICAgICAgdXRpbHMuZXJyKG91dHB1dC5yc3RyaXAoKSkKLSAgICBwcmludCAiQ29y
b3N5bmMgcmVsb2FkZWQiCisgICAgcHJpbnQoIkNvcm9zeW5jIHJlbG9hZGVkIikKIAogIyBDb21w
bGV0ZWx5IHRlYXIgZG93biB0aGUgY2x1c3RlciAmIHJlbW92ZSBjb25maWcgZmlsZXMKICMgQ29k
ZSB0YWtlbiBmcm9tIGNsdXN0ZXItY2xlYW4gc2NyaXB0IGluIHBhY2VtYWtlcgpAQCAtMTY4Miwx
NCArMTcwMiwxNCBAQCBkZWYgY2x1c3Rlcl9kZXN0cm95KGFyZ3YpOgogICAgIGlmICItLWFsbCIg
aW4gdXRpbHMucGNzX29wdGlvbnM6CiAgICAgICAgIGRlc3Ryb3lfY2x1c3Rlcih1dGlscy5nZXRO
b2Rlc0Zyb21Db3Jvc3luY0NvbmYoKSkKICAgICBlbHNlOgotICAgICAgICBwcmludCAiU2h1dHRp
bmcgZG93biBwYWNlbWFrZXIvY29yb3N5bmMgc2VydmljZXMuLi4iCisgICAgICAgIHByaW50KCJT
aHV0dGluZyBkb3duIHBhY2VtYWtlci9jb3Jvc3luYyBzZXJ2aWNlcy4uLiIpCiAgICAgICAgIG9z
LnN5c3RlbSgic2VydmljZSBwYWNlbWFrZXIgc3RvcCIpCiAgICAgICAgIG9zLnN5c3RlbSgic2Vy
dmljZSBjb3Jvc3luYyBzdG9wIikKLSAgICAgICAgcHJpbnQgIktpbGxpbmcgYW55IHJlbWFpbmlu
ZyBzZXJ2aWNlcy4uLiIKKyAgICAgICAgcHJpbnQoIktpbGxpbmcgYW55IHJlbWFpbmluZyBzZXJ2
aWNlcy4uLiIpCiAgICAgICAgIG9zLnN5c3RlbSgia2lsbGFsbCAtcSAtOSBjb3Jvc3luYyBhaXNl
eGVjIGhlYXJ0YmVhdCBwYWNlbWFrZXJkIGNjbSBzdG9uaXRoZCBoYV9sb2dkIGxybWQgY3JtZCBw
ZW5naW5lIGF0dHJkIHBpbmdkIG1nbXRkIGNpYiBmZW5jZWQgZGxtX2NvbnRyb2xkIGdmc19jb250
cm9sZCIpCiAgICAgICAgIHV0aWxzLmRpc2FibGVTZXJ2aWNlcygpCiAKLSAgICAgICAgcHJpbnQg
IlJlbW92aW5nIGFsbCBjbHVzdGVyIGNvbmZpZ3VyYXRpb24gZmlsZXMuLi4iCisgICAgICAgIHBy
aW50KCJSZW1vdmluZyBhbGwgY2x1c3RlciBjb25maWd1cmF0aW9uIGZpbGVzLi4uIikKICAgICAg
ICAgaWYgdXRpbHMuaXNfcmhlbDYoKToKICAgICAgICAgICAgIG9zLnN5c3RlbSgicm0gLWYgL2V0
Yy9jbHVzdGVyL2NsdXN0ZXIuY29uZiIpCiAgICAgICAgIGVsc2U6CkBAIC0xNzE5LDcgKzE3Mzks
NyBAQCBkZWYgY2x1c3Rlcl92ZXJpZnkoYXJndik6CiAgICAgb3V0cHV0LCByZXR2YWwgPSB1dGls
cy5ydW4oW3NldHRpbmdzLmNybV92ZXJpZnldICsgb3B0aW9ucykKIAogICAgIGlmIG91dHB1dCAh
PSAiIjoKLSAgICAgICAgcHJpbnQgb3V0cHV0CisgICAgICAgIHByaW50KG91dHB1dCkKICAgICBz
dG9uaXRoLnN0b25pdGhfbGV2ZWxfdmVyaWZ5KCkKICAgICByZXR1cm4gcmV0dmFsCiAKQEAgLTE3
MzYsNyArMTc1Niw3IEBAIGRlZiBjbHVzdGVyX3JlcG9ydChhcmd2KToKICAgICAgICAgZWxzZToK
ICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICBvcy5yZW1vdmUoZGVzdF9vdXRmaWxl
KQotICAgICAgICAgICAgZXhjZXB0IE9TRXJyb3IsIGU6CisgICAgICAgICAgICBleGNlcHQgT1NF
cnJvciBhcyBlOgogICAgICAgICAgICAgICAgIHV0aWxzLmVycigiVW5hYmxlIHRvIHJlbW92ZSAi
ICsgZGVzdF9vdXRmaWxlICsgIjogIiArIGUuc3RyZXJyb3IpCiAgICAgY3JtX3JlcG9ydF9vcHRz
ID0gW10KIApAQCAtMTc2Nyw3ICsxNzg3LDcgQEAgZGVmIGNsdXN0ZXJfcmVwb3J0KGFyZ3YpOgog
ICAgICAgICBuZXdvdXRwdXQgPSBuZXdvdXRwdXQgKyBsaW5lICsgIlxuIgogICAgIGlmIHJldHZh
bCAhPSAwOgogICAgICAgICB1dGlscy5lcnIobmV3b3V0cHV0KQotICAgIHByaW50IG5ld291dHB1
dAorICAgIHByaW50KG5ld291dHB1dCkKIAogZGVmIGNsdXN0ZXJfcmVtb3RlX25vZGUoYXJndik6
CiAgICAgaWYgbGVuKGFyZ3YpIDwgMToKQEAgLTE4NDEsNyArMTg2MSw3IEBAIGRlZiBjbHVzdGVy
X3F1b3J1bV91bmJsb2NrKGFyZ3YpOgogICAgICkKICAgICBpZiByZXR2YWwgIT0gMDoKICAgICAg
ICAgdXRpbHMuZXJyKCJ1bmFibGUgdG8gY2FuY2VsIHdhaXRpbmcgZm9yIG5vZGVzIikKLSAgICBw
cmludCAiUXVvcnVtIHVuYmxvY2tlZCIKKyAgICBwcmludCgiUXVvcnVtIHVuYmxvY2tlZCIpCiAK
ICAgICBzdGFydHVwX2ZlbmNpbmcgPSBwcm9wLmdldF9zZXRfcHJvcGVydGllcygpLmdldCgic3Rh
cnR1cC1mZW5jaW5nIiwgIiIpCiAgICAgdXRpbHMuc2V0X2NpYl9wcm9wZXJ0eSgKQEAgLTE4NDks
NyArMTg2OSw3IEBAIGRlZiBjbHVzdGVyX3F1b3J1bV91bmJsb2NrKGFyZ3YpOgogICAgICAgICAi
ZmFsc2UiIGlmIHN0YXJ0dXBfZmVuY2luZy5sb3dlcigpICE9ICJmYWxzZSIgZWxzZSAidHJ1ZSIK
ICAgICApCiAgICAgdXRpbHMuc2V0X2NpYl9wcm9wZXJ0eSgic3RhcnR1cC1mZW5jaW5nIiwgc3Rh
cnR1cF9mZW5jaW5nKQotICAgIHByaW50ICJXYWl0aW5nIGZvciBub2RlcyBjYW5jZWxsZWQiCisg
ICAgcHJpbnQoIldhaXRpbmcgZm9yIG5vZGVzIGNhbmNlbGxlZCIpCiAKIGNsYXNzIE5vZGVBY3Rp
b25UaHJlYWQodGhyZWFkaW5nLlRocmVhZCk6CiAgICAgZGVmIF9faW5pdF9fKHNlbGYsIG5vZGUp
OgpkaWZmIC0tZ2l0IGEvcGNzL2NvbmZpZy5weSBiL3Bjcy9jb25maWcucHkKaW5kZXggOTczMTIz
NC4uMWNkMzJmNSAxMDA2NDQKLS0tIGEvcGNzL2NvbmZpZy5weQorKysgYi9wY3MvY29uZmlnLnB5
CkBAIC0xLDkgKzEsMTQgQEAKK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgYWJzb2x1dGVfaW1wb3J0
Citmcm9tIF9fZnV0dXJlX18gaW1wb3J0IGRpdmlzaW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0
IHByaW50X2Z1bmN0aW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHVuaWNvZGVfbGl0ZXJhbHMK
KwogaW1wb3J0IHN5cwogaW1wb3J0IG9zCiBpbXBvcnQgb3MucGF0aAogaW1wb3J0IHJlCiBpbXBv
cnQgZGF0ZXRpbWUKLWltcG9ydCBjU3RyaW5nSU8KK2Zyb20gaW8gaW1wb3J0IEJ5dGVzSU8KIGlt
cG9ydCB0YXJmaWxlCiBpbXBvcnQganNvbgogZnJvbSB4bWwuZG9tLm1pbmlkb20gaW1wb3J0IHBh
cnNlCkBAIC03NCwzNCArNzksMzMgQEAgZGVmIGNvbmZpZ19jbWQoYXJndik6CiAgICAgICAgIHN5
cy5leGl0KDEpCiAKIGRlZiBjb25maWdfc2hvdyhhcmd2KToKLSAgICBwcmludCAiQ2x1c3RlciBO
YW1lOiAlcyIgJSB1dGlscy5nZXRDbHVzdGVyTmFtZSgpCisgICAgcHJpbnQoIkNsdXN0ZXIgTmFt
ZTogJXMiICUgdXRpbHMuZ2V0Q2x1c3Rlck5hbWUoKSkKICAgICBzdGF0dXMubm9kZXNfc3RhdHVz
KFsiY29uZmlnIl0pCi0gICAgcHJpbnQgIiIKLSAgICBwcmludCAiIgorICAgIHByaW50KCkKICAg
ICBjb25maWdfc2hvd19jaWIoKQogICAgIGNsdXN0ZXIuY2x1c3Rlcl91aWRnaWQoW10sIFRydWUp
CiAKIGRlZiBjb25maWdfc2hvd19jaWIoKToKLSAgICBwcmludCAiUmVzb3VyY2VzOiAiCisgICAg
cHJpbnQoIlJlc291cmNlczoiKQogICAgIHV0aWxzLnBjc19vcHRpb25zWyItLWFsbCJdID0gMQog
ICAgIHV0aWxzLnBjc19vcHRpb25zWyItLWZ1bGwiXSA9IDEKICAgICByZXNvdXJjZS5yZXNvdXJj
ZV9zaG93KFtdKQotICAgIHByaW50ICIiCi0gICAgcHJpbnQgIlN0b25pdGggRGV2aWNlczogIgor
ICAgIHByaW50KCkKKyAgICBwcmludCgiU3Rvbml0aCBEZXZpY2VzOiIpCiAgICAgcmVzb3VyY2Uu
cmVzb3VyY2Vfc2hvdyhbXSwgVHJ1ZSkKLSAgICBwcmludCAiRmVuY2luZyBMZXZlbHM6ICIKLSAg
ICBwcmludCAiIgorICAgIHByaW50KCJGZW5jaW5nIExldmVsczoiKQorICAgIHByaW50KCkKICAg
ICBzdG9uaXRoLnN0b25pdGhfbGV2ZWxfc2hvdygpCiAgICAgY29uc3RyYWludC5sb2NhdGlvbl9z
aG93KFtdKQogICAgIGNvbnN0cmFpbnQub3JkZXJfc2hvdyhbXSkKICAgICBjb25zdHJhaW50LmNv
bG9jYXRpb25fc2hvdyhbXSkKLSAgICBwcmludCAiIgorICAgIHByaW50KCkKICAgICBkZWwgdXRp
bHMucGNzX29wdGlvbnNbIi0tYWxsIl0KLSAgICBwcmludCAiUmVzb3VyY2VzIERlZmF1bHRzOiIK
KyAgICBwcmludCgiUmVzb3VyY2VzIERlZmF1bHRzOiIpCiAgICAgcmVzb3VyY2Uuc2hvd19kZWZh
dWx0cygicnNjX2RlZmF1bHRzIiwgaW5kZW50PSIgIikKLSAgICBwcmludCAiT3BlcmF0aW9ucyBE
ZWZhdWx0czoiCisgICAgcHJpbnQoIk9wZXJhdGlvbnMgRGVmYXVsdHM6IikKICAgICByZXNvdXJj
ZS5zaG93X2RlZmF1bHRzKCJvcF9kZWZhdWx0cyIsIGluZGVudD0iICIpCi0gICAgcHJpbnQKKyAg
ICBwcmludCgpCiAgICAgcHJvcC5saXN0X3Byb3BlcnR5KFtdKQogCiBkZWYgY29uZmlnX2JhY2t1
cChhcmd2KToKQEAgLTExNywxNSArMTIxLDIxIEBAIGRlZiBjb25maWdfYmFja3VwKGFyZ3YpOgog
CiAgICAgdGFyX2RhdGEgPSBjb25maWdfYmFja3VwX2xvY2FsKCkKICAgICBpZiBvdXRmaWxlX25h
bWU6Ci0gICAgICAgIG9rLCBtZXNzYWdlID0gdXRpbHMud3JpdGVfZmlsZShvdXRmaWxlX25hbWUs
IHRhcl9kYXRhLCAwNjAwKQorICAgICAgICBvaywgbWVzc2FnZSA9IHV0aWxzLndyaXRlX2ZpbGUo
CisgICAgICAgICAgICBvdXRmaWxlX25hbWUsIHRhcl9kYXRhLCBwZXJtaXNzaW9ucz0wbzYwMCwg
YmluYXJ5PVRydWUKKyAgICAgICAgKQogICAgICAgICBpZiBub3Qgb2s6CiAgICAgICAgICAgICB1
dGlscy5lcnIobWVzc2FnZSkKICAgICBlbHNlOgotICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHRh
cl9kYXRhKQorICAgICAgICAjIGluIHB5dGhvbjMgc3Rkb3V0IGFjY2VwdHMgc3RyIHNvIHdlIG5l
ZWQgdG8gdXNlIGJ1ZmZlcgorICAgICAgICBpZiBoYXNhdHRyKHN5cy5zdGRvdXQsICJidWZmZXIi
KToKKyAgICAgICAgICAgIHN5cy5zdGRvdXQuYnVmZmVyLndyaXRlKHRhcl9kYXRhKQorICAgICAg
ICBlbHNlOgorICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZSh0YXJfZGF0YSkKIAogZGVmIGNv
bmZpZ19iYWNrdXBfbG9jYWwoKToKICAgICBmaWxlX2xpc3QgPSBjb25maWdfYmFja3VwX3BhdGhf
bGlzdCgpCi0gICAgdGFyX2RhdGEgPSBjU3RyaW5nSU8uU3RyaW5nSU8oKQorICAgIHRhcl9kYXRh
ID0gQnl0ZXNJTygpCiAKICAgICB0cnk6CiAgICAgICAgIHRhcmJhbGwgPSB0YXJmaWxlLm9wZW4o
ZmlsZW9iaj10YXJfZGF0YSwgbW9kZT0id3xiejIiKQpAQCAtMTU1LDcgKzE2NSwxMSBAQCBkZWYg
Y29uZmlnX3Jlc3RvcmUoYXJndik6CiAgICAgaWYgYXJndjoKICAgICAgICAgaW5maWxlX25hbWUg
PSBhcmd2WzBdCiAgICAgaWYgbm90IGluZmlsZV9uYW1lOgotICAgICAgICBpbmZpbGVfb2JqID0g
Y1N0cmluZ0lPLlN0cmluZ0lPKHN5cy5zdGRpbi5yZWFkKCkpCisgICAgICAgICMgaW4gcHl0aG9u
MyBzdGRpbiByZXR1cm5zIHN0ciBzbyB3ZSBuZWVkIHRvIHVzZSBidWZmZXIKKyAgICAgICAgaWYg
aGFzYXR0cihzeXMuc3RkaW4sICJidWZmZXIiKToKKyAgICAgICAgICAgIGluZmlsZV9vYmogPSBC
eXRlc0lPKHN5cy5zdGRpbi5idWZmZXIucmVhZCgpKQorICAgICAgICBlbHNlOgorICAgICAgICAg
ICAgaW5maWxlX29iaiA9IEJ5dGVzSU8oc3lzLnN0ZGluLnJlYWQoKSkKIAogICAgIGlmIG9zLmdl
dHVpZCgpID09IDA6CiAgICAgICAgIGlmICItLWxvY2FsIiBpbiB1dGlscy5wY3Nfb3B0aW9uczoK
QEAgLTE3OCw3ICsxOTIsNyBAQCBkZWYgY29uZmlnX3Jlc3RvcmUoYXJndik6CiAgICAgICAgICAg
ICBmb3IgbXNnIGluIGVycl9tc2dzOgogICAgICAgICAgICAgICAgIHV0aWxzLmVycihtc2csIEZh
bHNlKQogICAgICAgICAgICAgc3lzLmV4aXQoMSkKLSAgICAgICAgcHJpbnQgc3RkX291dAorICAg
ICAgICBwcmludChzdGRfb3V0KQogICAgICAgICBzeXMuc3RkZXJyLndyaXRlKHN0ZF9lcnIpCiAg
ICAgICAgIHN5cy5leGl0KGV4aXRjb2RlKQogCkBAIC0xOTEsNiArMjA1LDcgQEAgZGVmIGNvbmZp
Z19yZXN0b3JlX3JlbW90ZShpbmZpbGVfbmFtZSwgaW5maWxlX29iaik6CiAgICAgdHJ5OgogICAg
ICAgICB0YXJiYWxsID0gdGFyZmlsZS5vcGVuKGluZmlsZV9uYW1lLCAicnwqIiwgaW5maWxlX29i
aikKICAgICAgICAgd2hpbGUgVHJ1ZToKKyAgICAgICAgICAgICMgbmV4dCh0YXJiYWxsKSBkb2Vz
IG5vdCB3b3JrIGluIHB5dGhvbjIuNgogICAgICAgICAgICAgdGFyX21lbWJlcl9pbmZvID0gdGFy
YmFsbC5uZXh0KCkKICAgICAgICAgICAgIGlmIHRhcl9tZW1iZXJfaW5mbyBpcyBOb25lOgogICAg
ICAgICAgICAgICAgIGJyZWFrCkBAIC0yMDUsNyArMjIwLDcgQEAgZGVmIGNvbmZpZ19yZXN0b3Jl
X3JlbW90ZShpbmZpbGVfbmFtZSwgaW5maWxlX29iaik6CiAgICAgY29uZmlnX2JhY2t1cF9jaGVj
a192ZXJzaW9uKGV4dHJhY3RlZFsidmVyc2lvbi50eHQiXSkKIAogICAgIG5vZGVfbGlzdCA9IHV0
aWxzLmdldE5vZGVzRnJvbUNvcm9zeW5jQ29uZigKLSAgICAgICAgZXh0cmFjdGVkWyJjbHVzdGVy
LmNvbmYiIGlmIHV0aWxzLmlzX3JoZWw2KCkgZWxzZSAiY29yb3N5bmMuY29uZiJdCisgICAgICAg
IGV4dHJhY3RlZFsiY2x1c3Rlci5jb25mIiBpZiB1dGlscy5pc19yaGVsNigpIGVsc2UgImNvcm9z
eW5jLmNvbmYiXS5kZWNvZGUoInV0Zi04IikKICAgICApCiAgICAgaWYgbm90IG5vZGVfbGlzdDoK
ICAgICAgICAgdXRpbHMuZXJyKCJubyBub2RlcyBmb3VuZCBpbiB0aGUgdGFyYmFsbCIpCkBAIC0y
NDQsNyArMjU5LDcgQEAgZGVmIGNvbmZpZ19yZXN0b3JlX3JlbW90ZShpbmZpbGVfbmFtZSwgaW5m
aWxlX29iaik6CiAgICAgICAgIGluZmlsZV9vYmouc2VlaygwKQogICAgICAgICB0YXJiYWxsX2Rh
dGEgPSBpbmZpbGVfb2JqLnJlYWQoKQogICAgIGVsc2U6Ci0gICAgICAgIHdpdGggb3BlbihpbmZp
bGVfbmFtZSwgInIiKSBhcyB0YXJiYWxsOgorICAgICAgICB3aXRoIG9wZW4oaW5maWxlX25hbWUs
ICJyYiIpIGFzIHRhcmJhbGw6CiAgICAgICAgICAgICB0YXJiYWxsX2RhdGEgPSB0YXJiYWxsLnJl
YWQoKQogCiAgICAgZXJyb3JfbGlzdCA9IFtdCkBAIC0yNzQsNiArMjg5LDcgQEAgZGVmIGNvbmZp
Z19yZXN0b3JlX2xvY2FsKGluZmlsZV9uYW1lLCBpbmZpbGVfb2JqKToKICAgICB0cnk6CiAgICAg
ICAgIHRhcmJhbGwgPSB0YXJmaWxlLm9wZW4oaW5maWxlX25hbWUsICJyfCoiLCBpbmZpbGVfb2Jq
KQogICAgICAgICB3aGlsZSBUcnVlOgorICAgICAgICAgICAgIyBuZXh0KHRhcmJhbGwpIGRvZXMg
bm90IHdvcmsgaW4gcHl0aG9uMi42CiAgICAgICAgICAgICB0YXJfbWVtYmVyX2luZm8gPSB0YXJi
YWxsLm5leHQoKQogICAgICAgICAgICAgaWYgdGFyX21lbWJlcl9pbmZvIGlzIE5vbmU6CiAgICAg
ICAgICAgICAgICAgYnJlYWsKQEAgLTMwMyw2ICszMTksNyBAQCBkZWYgY29uZmlnX3Jlc3RvcmVf
bG9jYWwoaW5maWxlX25hbWUsIGluZmlsZV9vYmopOgogICAgICAgICAgICAgaW5maWxlX29iai5z
ZWVrKDApCiAgICAgICAgIHRhcmJhbGwgPSB0YXJmaWxlLm9wZW4oaW5maWxlX25hbWUsICJyfCoi
LCBpbmZpbGVfb2JqKQogICAgICAgICB3aGlsZSBUcnVlOgorICAgICAgICAgICAgIyBuZXh0KHRh
cmJhbGwpIGRvZXMgbm90IHdvcmsgaW4gcHl0aG9uMi42CiAgICAgICAgICAgICB0YXJfbWVtYmVy
X2luZm8gPSB0YXJiYWxsLm5leHQoKQogICAgICAgICAgICAgaWYgdGFyX21lbWJlcl9pbmZvIGlz
IE5vbmU6CiAgICAgICAgICAgICAgICAgYnJlYWsKQEAgLTMzNiw3ICszNTMsNyBAQCBkZWYgY29u
ZmlnX2JhY2t1cF9wYXRoX2xpc3Qod2l0aF91aWRfZ2lkPUZhbHNlLCBmb3JjZV9yaGVsNj1Ob25l
KToKICAgICByaGVsNiA9IHV0aWxzLmlzX3JoZWw2KCkgaWYgZm9yY2VfcmhlbDYgaXMgTm9uZSBl
bHNlIGZvcmNlX3JoZWw2CiAgICAgY29yb3N5bmNfYXR0cnMgPSB7CiAgICAgICAgICJtdGltZSI6
IGludCh0aW1lLnRpbWUoKSksCi0gICAgICAgICJtb2RlIjogMDY0NCwKKyAgICAgICAgIm1vZGUi
OiAwbzY0NCwKICAgICAgICAgInVuYW1lIjogInJvb3QiLAogICAgICAgICAiZ25hbWUiOiAicm9v
dCIsCiAgICAgICAgICJ1aWQiOiAwLApAQCAtMzQ0LDcgKzM2MSw3IEBAIGRlZiBjb25maWdfYmFj
a3VwX3BhdGhfbGlzdCh3aXRoX3VpZF9naWQ9RmFsc2UsIGZvcmNlX3JoZWw2PU5vbmUpOgogICAg
IH0KICAgICBjaWJfYXR0cnMgPSB7CiAgICAgICAgICJtdGltZSI6IGludCh0aW1lLnRpbWUoKSks
Ci0gICAgICAgICJtb2RlIjogMDYwMCwKKyAgICAgICAgIm1vZGUiOiAwbzYwMCwKICAgICAgICAg
InVuYW1lIjogc2V0dGluZ3MucGFjZW1ha2VyX3VuYW1lLAogICAgICAgICAiZ25hbWUiOiBzZXR0
aW5ncy5wYWNlbWFrZXJfZ25hbWUsCiAgICAgfQpAQCAtMzkxLDcgKzQwOCw3IEBAIGRlZiBjb25m
aWdfYmFja3VwX3BhdGhfbGlzdCh3aXRoX3VpZF9naWQ9RmFsc2UsIGZvcmNlX3JoZWw2PU5vbmUp
OgogICAgICAgICAgICAgInJlcXVpcmVkIjogRmFsc2UsCiAgICAgICAgICAgICAiYXR0cnMiOiB7
CiAgICAgICAgICAgICAgICAgIm10aW1lIjogaW50KHRpbWUudGltZSgpKSwKLSAgICAgICAgICAg
ICAgICAibW9kZSI6IDA2NDQsCisgICAgICAgICAgICAgICAgIm1vZGUiOiAwbzY0NCwKICAgICAg
ICAgICAgICAgICAidW5hbWUiOiAicm9vdCIsCiAgICAgICAgICAgICAgICAgImduYW1lIjogInJv
b3QiLAogICAgICAgICAgICAgICAgICJ1aWQiOiAwLApAQCAtNDIwLDExICs0MzcsOCBAQCBkZWYg
Y29uZmlnX2JhY2t1cF9jaGVja192ZXJzaW9uKHZlcnNpb24pOgogICAgICAgICB1dGlscy5lcnIo
IkNhbm5vdCBkZXRlcm1pbmUgdmVyc2lvbiBvZiB0aGUgYmFja3VwIikKIAogZGVmIGNvbmZpZ19i
YWNrdXBfYWRkX3ZlcnNpb25fdG9fdGFyYmFsbCh0YXJiYWxsLCB2ZXJzaW9uPU5vbmUpOgotICAg
IHJldHVybiB1dGlscy50YXJfYWRkX2ZpbGVfZGF0YSgKLSAgICAgICAgdGFyYmFsbCwKLSAgICAg
ICAgdmVyc2lvbiBpZiB2ZXJzaW9uIGlzIG5vdCBOb25lIGVsc2Ugc3RyKGNvbmZpZ19iYWNrdXBf
dmVyc2lvbigpKSwKLSAgICAgICAgInZlcnNpb24udHh0IgotICAgICkKKyAgICB2ZXIgPSB2ZXJz
aW9uIGlmIHZlcnNpb24gaXMgbm90IE5vbmUgZWxzZSBzdHIoY29uZmlnX2JhY2t1cF92ZXJzaW9u
KCkpCisgICAgcmV0dXJuIHV0aWxzLnRhcl9hZGRfZmlsZV9kYXRhKHRhcmJhbGwsIHZlci5lbmNv
ZGUoInV0Zi04IiksICJ2ZXJzaW9uLnR4dCIpCiAKIGRlZiBjb25maWdfYmFja3VwX3ZlcnNpb24o
KToKICAgICByZXR1cm4gMQpAQCAtNDUwLDcgKzQ2NCw3IEBAIGRlZiBjb25maWdfY2hlY2twb2lu
dF9saXN0KCk6CiAgICAgICAgICAgICBwYXNzCiAgICAgY2liX2xpc3Quc29ydCgpCiAgICAgaWYg
bm90IGNpYl9saXN0OgotICAgICAgICBwcmludCAiTm8gY2hlY2twb2ludHMgYXZhaWxhYmxlIgor
ICAgICAgICBwcmludCgiTm8gY2hlY2twb2ludHMgYXZhaWxhYmxlIikKICAgICAgICAgcmV0dXJu
CiAgICAgZm9yIGNpYl9pbmZvIGluIGNpYl9saXN0OgogICAgICAgICBwcmludCgKQEAgLTUyMiw3
ICs1MzYsNyBAQCBkZWYgY29uZmlnX2ltcG9ydF9jbWFuKGFyZ3YpOgogICAgIGludGVyYWN0aXZl
ID0gIi0taW50ZXJhY3RpdmUiIGluIHV0aWxzLnBjc19vcHRpb25zCiAKICAgICBjbHVmdGVyX2Fy
Z3MgPSB7Ci0gICAgICAgICJpbnB1dCI6IGNsdXN0ZXJfY29uZiwKKyAgICAgICAgImlucHV0Ijog
c3RyKGNsdXN0ZXJfY29uZiksCiAgICAgICAgICJjaWIiOiB7InBhc3NpbiI6ICJieXRlc3RyaW5n
In0sCiAgICAgICAgICJub2NoZWNrIjogZm9yY2UsCiAgICAgICAgICJiYXRjaCI6IFRydWUsCkBA
IC01NTgsNyArNTcyLDcgQEAgZGVmIGNvbmZpZ19pbXBvcnRfY21hbihhcmd2KToKICAgICAgICAg
ICAgIGNsdWZ0ZXJfYXJnc1sic2lsZW50Il0gPSBGYWxzZQogICAgICAgICAgICAgY2x1ZnRlcl9h
cmdzWyJub2d1aWRhbmNlIl0gPSBGYWxzZQogICAgICAgICBjbWRfbmFtZSA9ICJjY3MycGNzY21k
LWZsYXRpcm9uIgotICAgIGNsdWZ0ZXJfYXJnc19vYmogPSB0eXBlKCdDbHVmdGVyT3B0aW9ucycs
IChvYmplY3QsICksIGNsdWZ0ZXJfYXJncykKKyAgICBjbHVmdGVyX2FyZ3Nfb2JqID0gdHlwZShz
dHIoIkNsdWZ0ZXJPcHRpb25zIiksIChvYmplY3QsICksIGNsdWZ0ZXJfYXJncykKIAogICAgICMg
cnVuIGNvbnZlcnRvcgogICAgIHJ1bl9jbHVmdGVyKApAQCAtNTg1LDE4ICs1OTksMjIgQEAgZGVm
IGNvbmZpZ19pbXBvcnRfY21hbihhcmd2KToKICAgICAgICAgZmlsZV9pdGVtWyJhdHRycyJdWyJn
bmFtZSJdID0gInJvb3QiCiAgICAgICAgIGZpbGVfaXRlbVsiYXR0cnMiXVsidWlkIl0gPSAwCiAg
ICAgICAgIGZpbGVfaXRlbVsiYXR0cnMiXVsiZ2lkIl0gPSAwCi0gICAgICAgIGZpbGVfaXRlbVsi
YXR0cnMiXVsibW9kZSJdID0gMDYwMAotICAgIHRhcl9kYXRhID0gY1N0cmluZ0lPLlN0cmluZ0lP
KCkKKyAgICAgICAgZmlsZV9pdGVtWyJhdHRycyJdWyJtb2RlIl0gPSAwbzYwMAorICAgIHRhcl9k
YXRhID0gQnl0ZXNJTygpCiAgICAgdHJ5OgogICAgICAgICB0YXJiYWxsID0gdGFyZmlsZS5vcGVu
KGZpbGVvYmo9dGFyX2RhdGEsIG1vZGU9Ind8YnoyIikKICAgICAgICAgY29uZmlnX2JhY2t1cF9h
ZGRfdmVyc2lvbl90b190YXJiYWxsKHRhcmJhbGwpCiAgICAgICAgIHV0aWxzLnRhcl9hZGRfZmls
ZV9kYXRhKAotICAgICAgICAgICAgdGFyYmFsbCwgY2x1ZnRlcl9hcmdzX29iai5jaWJbInBhc3Nv
dXQiXSwgImNpYi54bWwiLAorICAgICAgICAgICAgdGFyYmFsbCwKKyAgICAgICAgICAgIGNsdWZ0
ZXJfYXJnc19vYmouY2liWyJwYXNzb3V0Il0uZW5jb2RlKCJ1dGYtOCIpLAorICAgICAgICAgICAg
ImNpYi54bWwiLAogICAgICAgICAgICAgKipmaWxlX2xpc3RbImNpYi54bWwiXVsiYXR0cnMiXQog
ICAgICAgICApCiAgICAgICAgIGlmIG91dHB1dF9mb3JtYXQgPT0gImNsdXN0ZXIuY29uZiI6CiAg
ICAgICAgICAgICB1dGlscy50YXJfYWRkX2ZpbGVfZGF0YSgKLSAgICAgICAgICAgICAgICB0YXJi
YWxsLCBjbHVmdGVyX2FyZ3Nfb2JqLmNjc19wY21rWyJwYXNzb3V0Il0sICJjbHVzdGVyLmNvbmYi
LAorICAgICAgICAgICAgICAgIHRhcmJhbGwsCisgICAgICAgICAgICAgICAgY2x1ZnRlcl9hcmdz
X29iai5jY3NfcGNta1sicGFzc291dCJdLmVuY29kZSgidXRmLTgiKSwKKyAgICAgICAgICAgICAg
ICAiY2x1c3Rlci5jb25mIiwKICAgICAgICAgICAgICAgICAqKmZpbGVfbGlzdFsiY2x1c3Rlci5j
b25mIl1bImF0dHJzIl0KICAgICAgICAgICAgICkKICAgICAgICAgZWxzZToKQEAgLTYxNSw3ICs2
MzMsOSBAQCBkZWYgY29uZmlnX2ltcG9ydF9jbWFuKGFyZ3YpOgogICAgICAgICAgICAgICAgICJz
dHJ1Y3QiLCAoImNvcm9zeW5jIiwgKCksIGNvcm9zeW5jX3N0cnVjdCkKICAgICAgICAgICAgICko
ImJ5dGVzdHJpbmciKQogICAgICAgICAgICAgdXRpbHMudGFyX2FkZF9maWxlX2RhdGEoCi0gICAg
ICAgICAgICAgICAgdGFyYmFsbCwgY29yb3N5bmNfY29uZl9kYXRhLCAiY29yb3N5bmMuY29uZiIs
CisgICAgICAgICAgICAgICAgdGFyYmFsbCwKKyAgICAgICAgICAgICAgICBjb3Jvc3luY19jb25m
X2RhdGEuZW5jb2RlKCJ1dGYtOCIpLAorICAgICAgICAgICAgICAgICJjb3Jvc3luYy5jb25mIiwK
ICAgICAgICAgICAgICAgICAqKmZpbGVfbGlzdFsiY29yb3N5bmMuY29uZiJdWyJhdHRycyJdCiAg
ICAgICAgICAgICApCiAgICAgICAgICAgICBmb3IgdWlkZ2lkIGluIHVpZGdpZF9saXN0OgpAQCAt
NjMxLDcgKzY1MSw5IEBAIGRlZiBjb25maWdfaW1wb3J0X2NtYW4oYXJndik6CiAgICAgICAgICAg
ICAgICAgICAgICJzdHJ1Y3QiLCAoImNvcm9zeW5jIiwgKCksIFsoInVpZGdpZCIsIHVpZGdpZCwg
Tm9uZSldKQogICAgICAgICAgICAgICAgICkoImJ5dGVzdHJpbmciKQogICAgICAgICAgICAgICAg
IHV0aWxzLnRhcl9hZGRfZmlsZV9kYXRhKAotICAgICAgICAgICAgICAgICAgICB0YXJiYWxsLCB1
aWRnaWRfZGF0YSwgInVpZGdpZC5kLyIgKyBmaWxlbmFtZSwKKyAgICAgICAgICAgICAgICAgICAg
dGFyYmFsbCwKKyAgICAgICAgICAgICAgICAgICAgdWlkZ2lkX2RhdGEuZW5jb2RlKCJ1dGYtOCIp
LAorICAgICAgICAgICAgICAgICAgICAidWlkZ2lkLmQvIiArIGZpbGVuYW1lLAogICAgICAgICAg
ICAgICAgICAgICAqKmZpbGVfbGlzdFsidWlkZ2lkLmQiXVsiYXR0cnMiXQogICAgICAgICAgICAg
ICAgICkKICAgICAgICAgdGFyYmFsbC5jbG9zZSgpCkBAIC02NDEsNyArNjYzLDkgQEAgZGVmIGNv
bmZpZ19pbXBvcnRfY21hbihhcmd2KToKIAogICAgICNzYXZlIHRhcmJhbGwgLyByZW1vdGUgcmVz
dG9yZQogICAgIGlmIGRyeV9ydW5fb3V0cHV0OgotICAgICAgICBvaywgbWVzc2FnZSA9IHV0aWxz
LndyaXRlX2ZpbGUoZHJ5X3J1bl9vdXRwdXQsIHRhcl9kYXRhLnJlYWQoKSwgMDYwMCkKKyAgICAg
ICAgb2ssIG1lc3NhZ2UgPSB1dGlscy53cml0ZV9maWxlKAorICAgICAgICAgICAgZHJ5X3J1bl9v
dXRwdXQsIHRhcl9kYXRhLnJlYWQoKSwgcGVybWlzc2lvbnM9MG82MDAsIGJpbmFyeT1UcnVlCisg
ICAgICAgICkKICAgICAgICAgaWYgbm90IG9rOgogICAgICAgICAgICAgdXRpbHMuZXJyKG1lc3Nh
Z2UpCiAgICAgZWxzZToKQEAgLTcwNSw3ICs3MjksNyBAQCBkZWYgY29uZmlnX2V4cG9ydF9wY3Nf
Y29tbWFuZHMoYXJndiwgdmVyYm9zZT1GYWxzZSk6CiAgICAgICAgIGNsdWZ0ZXJfYXJnc1sidGV4
dF93aWR0aCJdID0gIi0xIgogICAgICAgICBjbHVmdGVyX2FyZ3NbInNpbGVudCJdID0gRmFsc2UK
ICAgICAgICAgY2x1ZnRlcl9hcmdzWyJub2d1aWRhbmNlIl0gPSBGYWxzZQotICAgIGNsdWZ0ZXJf
YXJnc19vYmogPSB0eXBlKCdDbHVmdGVyT3B0aW9ucycsIChvYmplY3QsICksIGNsdWZ0ZXJfYXJn
cykKKyAgICBjbHVmdGVyX2FyZ3Nfb2JqID0gdHlwZShzdHIoIkNsdWZ0ZXJPcHRpb25zIiksIChv
YmplY3QsICksIGNsdWZ0ZXJfYXJncykKICAgICBjbWRfbmFtZSA9ICJwY3MycGNzY21kLWZsYXRp
cm9uIiBpZiB1dGlscy5pc19yaGVsNigpIGVsc2UgInBjczJwY3NjbWQtbmVlZGxlIgogCiAgICAg
IyBydW4gY29udmVydG9yCmRpZmYgLS1naXQgYS9wY3MvY29uc3RyYWludC5weSBiL3Bjcy9jb25z
dHJhaW50LnB5CmluZGV4IDI5MGVhZDEuLjhjMDI3YmMgMTAwNjQ0Ci0tLSBhL3Bjcy9jb25zdHJh
aW50LnB5CisrKyBiL3Bjcy9jb25zdHJhaW50LnB5CkBAIC0xLDEzICsxLDE4IEBACitmcm9tIF9f
ZnV0dXJlX18gaW1wb3J0IGFic29sdXRlX2ltcG9ydAorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBk
aXZpc2lvbgorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBwcmludF9mdW5jdGlvbgorZnJvbSBfX2Z1
dHVyZV9fIGltcG9ydCB1bmljb2RlX2xpdGVyYWxzCisKIGltcG9ydCBzeXMKK2ltcG9ydCB4bWwu
ZG9tLm1pbmlkb20KK2Zyb20geG1sLmRvbS5taW5pZG9tIGltcG9ydCBwYXJzZVN0cmluZworZnJv
bSBjb2xsZWN0aW9ucyBpbXBvcnQgZGVmYXVsdGRpY3QKKwogaW1wb3J0IHVzYWdlCiBpbXBvcnQg
dXRpbHMKIGltcG9ydCByZXNvdXJjZQogaW1wb3J0IHJ1bGUgYXMgcnVsZV91dGlscwotaW1wb3J0
IHhtbC5kb20ubWluaWRvbQotaW1wb3J0IHhtbC5ldHJlZS5FbGVtZW50VHJlZSBhcyBFVAotZnJv
bSB4bWwuZG9tLm1pbmlkb20gaW1wb3J0IGdldERPTUltcGxlbWVudGF0aW9uCi1mcm9tIHhtbC5k
b20ubWluaWRvbSBpbXBvcnQgcGFyc2VTdHJpbmcKLWZyb20gY29sbGVjdGlvbnMgaW1wb3J0IGRl
ZmF1bHRkaWN0CisKIAogT1BUSU9OU19BQ1RJT04gPSAoInN0YXJ0IiwgInByb21vdGUiLCAiZGVt
b3RlIiwgInN0b3AiKQogREVGQVVMVF9BQ1RJT04gPSAic3RhcnQiCkBAIC05NywxMiArMTAyLDEy
IEBAIGRlZiBjb2xvY2F0aW9uX3Nob3coYXJndik6CiAgICAgKGRvbSxjb25zdHJhaW50c0VsZW1l
bnQpID0gZ2V0Q3VycmVudENvbnN0cmFpbnRzKCkKIAogICAgIHJlc291cmNlX2NvbG9jYXRpb25f
c2V0cyA9IFtdCi0gICAgcHJpbnQgIkNvbG9jYXRpb24gQ29uc3RyYWludHM6IgorICAgIHByaW50
KCJDb2xvY2F0aW9uIENvbnN0cmFpbnRzOiIpCiAgICAgZm9yIGNvX2xvYyBpbiBjb25zdHJhaW50
c0VsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3JzY19jb2xvY2F0aW9uJyk6CiAgICAgICAg
IGlmIG5vdCBjb19sb2MuZ2V0QXR0cmlidXRlKCJyc2MiKToKICAgICAgICAgICAgIHJlc291cmNl
X2NvbG9jYXRpb25fc2V0cy5hcHBlbmQoY29fbG9jKQogICAgICAgICBlbHNlOgotICAgICAgICAg
ICAgcHJpbnQgIiAgIiArIGNvbG9jYXRpb25fZWxfdG9fc3RyaW5nKGNvX2xvYywgc2hvd0RldGFp
bCkKKyAgICAgICAgICAgIHByaW50KCIgICIgKyBjb2xvY2F0aW9uX2VsX3RvX3N0cmluZyhjb19s
b2MsIHNob3dEZXRhaWwpKQogICAgIHByaW50X3NldHMocmVzb3VyY2VfY29sb2NhdGlvbl9zZXRz
LCBzaG93RGV0YWlsKQogCiBkZWYgY29sb2NhdGlvbl9lbF90b19zdHJpbmcoY29fbG9jLCBzaG93
RGV0YWlsPUZhbHNlKToKQEAgLTE0NCw3ICsxNDksNyBAQCBkZWYgY29sb2NhdGlvbl9ybShhcmd2
KToKICAgICBpZiBlbGVtZW50Rm91bmQgPT0gVHJ1ZToKICAgICAgICAgdXRpbHMucmVwbGFjZV9j
aWJfY29uZmlndXJhdGlvbihkb20pCiAgICAgZWxzZToKLSAgICAgICAgcHJpbnQgIk5vIG1hdGNo
aW5nIHJlc291cmNlcyBmb3VuZCBpbiBvcmRlcmluZyBsaXN0IgorICAgICAgICBwcmludCgiTm8g
bWF0Y2hpbmcgcmVzb3VyY2VzIGZvdW5kIGluIG9yZGVyaW5nIGxpc3QiKQogCiAKICMgV2hlbiBw
YXNzZWQgYW4gYXJyYXkgb2YgYXJndW1lbnRzIGlmIHRoZSBmaXJzdCBhcmd1bWVudCBkb2Vzbid0
IGhhdmUgYW4gJz0nCkBAIC0zNjMsMTIgKzM2OCwxMiBAQCBkZWYgb3JkZXJfc2hvdyhhcmd2KToK
ICAgICAoZG9tLGNvbnN0cmFpbnRzRWxlbWVudCkgPSBnZXRDdXJyZW50Q29uc3RyYWludHMoKQog
CiAgICAgcmVzb3VyY2Vfb3JkZXJfc2V0cyA9IFtdCi0gICAgcHJpbnQgIk9yZGVyaW5nIENvbnN0
cmFpbnRzOiIKKyAgICBwcmludCgiT3JkZXJpbmcgQ29uc3RyYWludHM6IikKICAgICBmb3Igb3Jk
X2xvYyBpbiBjb25zdHJhaW50c0VsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3JzY19vcmRl
cicpOgogICAgICAgICBpZiBub3Qgb3JkX2xvYy5nZXRBdHRyaWJ1dGUoImZpcnN0Iik6CiAgICAg
ICAgICAgICByZXNvdXJjZV9vcmRlcl9zZXRzLmFwcGVuZChvcmRfbG9jKQogICAgICAgICBlbHNl
OgotICAgICAgICAgICAgcHJpbnQgIiAgIiArIG9yZGVyX2VsX3RvX3N0cmluZyhvcmRfbG9jLCBz
aG93RGV0YWlsKQorICAgICAgICAgICAgcHJpbnQoIiAgIiArIG9yZGVyX2VsX3RvX3N0cmluZyhv
cmRfbG9jLCBzaG93RGV0YWlsKSkKICAgICBwcmludF9zZXRzKHJlc291cmNlX29yZGVyX3NldHMs
c2hvd0RldGFpbCkKIAogZGVmIG9yZGVyX2VsX3RvX3N0cmluZyhvcmRfbG9jLCBzaG93RGV0YWls
PUZhbHNlKToKQEAgLTQwNywxNiArNDEyLDE2IEBAIGRlZiBvcmRlcl9lbF90b19zdHJpbmcob3Jk
X2xvYywgc2hvd0RldGFpbD1GYWxzZSk6CiAgICAgXSkKICAgICBpZiBvY19vcHRpb25zOgogICAg
ICAgICBvY19vcHRpb25zID0gIihPcHRpb25zOiAiICsgb2Nfb3B0aW9ucyArICIpIgotICAgIHJl
dHVybiAiICIuam9pbihmaWx0ZXIoTm9uZSwgWworICAgIHJldHVybiAiICIuam9pbihbYXJnIGZv
ciBhcmcgaW4gWwogICAgICAgICBmaXJzdF9hY3Rpb24sIG9jX3Jlc291cmNlMSwgInRoZW4iLCB0
aGVuX2FjdGlvbiwgb2NfcmVzb3VyY2UyLAogICAgICAgICBzY29yZV90ZXh0LCBvY19zeW0sIG9j
X29wdGlvbnMsIG9jX2lkX291dAotICAgIF0pKQorICAgIF0gaWYgYXJnXSkKIAogZGVmIHByaW50
X3NldHMoc2V0cyxzaG93RGV0YWlsKToKICAgICBpZiBsZW4oc2V0cykgIT0gMDoKLSAgICAgICAg
cHJpbnQgIiAgUmVzb3VyY2UgU2V0czoiCisgICAgICAgIHByaW50KCIgIFJlc291cmNlIFNldHM6
IikKICAgICAgICAgZm9yIHJvIGluIHNldHM6Ci0gICAgICAgICAgICBwcmludCAiICAgICIgKyBz
ZXRfY29uc3RyYWludF9lbF90b19zdHJpbmcocm8sIHNob3dEZXRhaWwpCisgICAgICAgICAgICBw
cmludCgiICAgICIgKyBzZXRfY29uc3RyYWludF9lbF90b19zdHJpbmcocm8sIHNob3dEZXRhaWwp
KQogCiBkZWYgc2V0X2NvbnN0cmFpbnRfZWxfdG9fc3RyaW5nKGNvbnN0cmFpbnRfZWwsIHNob3dE
ZXRhaWw9RmFsc2UpOgogICAgIHNldF9saXN0ID0gW10KQEAgLTc2MSw3ICs3NjYsOSBAQCBkZWYg
b3JkZXJfYWRkKGFyZ3YscmV0dXJuRWxlbWVudE9ubHk9RmFsc2UpOgogICAgICAgICAgICAgICAg
ICAgICAiICAiICsgb3JkZXJfZWxfdG9fc3RyaW5nKGR1cCwgVHJ1ZSkgZm9yIGR1cCBpbiBkdXBs
aWNhdGVzCiAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICkKLSAgICBwcmludCAiQWRk
aW5nICIgKyByZXNvdXJjZTEgKyAiICIgKyByZXNvdXJjZTIgKyAiICgiK3Njb3Jla2luZCsiKSIg
KyBvcHRpb25zCisgICAgcHJpbnQoCisgICAgICAgICJBZGRpbmcgIiArIHJlc291cmNlMSArICIg
IiArIHJlc291cmNlMiArICIgKCIrc2NvcmVraW5kKyIpIiArIG9wdGlvbnMKKyAgICApCiAKICAg
ICBpZiByZXR1cm5FbGVtZW50T25seSA9PSBGYWxzZToKICAgICAgICAgdXRpbHMucmVwbGFjZV9j
aWJfY29uZmlndXJhdGlvbihkb20pCkBAIC04MTEsNyArODE4LDcgQEAgZGVmIGxvY2F0aW9uX3No
b3coYXJndik6CiAgICAgcnVsZXNoYXNoID0gZGVmYXVsdGRpY3QobGlzdCkKICAgICBhbGxfbG9j
X2NvbnN0cmFpbnRzID0gY29uc3RyYWludHNFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdy
c2NfbG9jYXRpb24nKQogCi0gICAgcHJpbnQgIkxvY2F0aW9uIENvbnN0cmFpbnRzOiIKKyAgICBw
cmludCgiTG9jYXRpb24gQ29uc3RyYWludHM6IikKICAgICBmb3IgcnNjX2xvYyBpbiBhbGxfbG9j
X2NvbnN0cmFpbnRzOgogICAgICAgICBsY19ub2RlID0gcnNjX2xvYy5nZXRBdHRyaWJ1dGUoIm5v
ZGUiKQogICAgICAgICBsY19yc2MgPSByc2NfbG9jLmdldEF0dHJpYnV0ZSgicnNjIikKQEAgLTg1
NiwzNSArODYzLDM1IEBAIGRlZiBsb2NhdGlvbl9zaG93KGFyZ3YpOgogICAgICAgICBlbHNlOgog
ICAgICAgICAgICAgcnNjaGFzaFtsY19yc2NdID0gWyhsY19pZCxsY19ub2RlLGxjX3Njb3JlLCBs
Y19yb2xlLCBsY19yZXNvdXJjZV9kaXNjb3ZlcnkpXQogCi0gICAgbm9kZWxpc3QgPSBsaXN0KHNl
dChub2RlaGFzaG9uLmtleXMoKSArIG5vZGVoYXNob2ZmLmtleXMoKSkpCi0gICAgcnNjbGlzdCA9
IGxpc3Qoc2V0KHJzY2hhc2hvbi5rZXlzKCkgKyByc2NoYXNob2ZmLmtleXMoKSkpCisgICAgbm9k
ZWxpc3QgPSBsaXN0KHNldChsaXN0KG5vZGVoYXNob24ua2V5cygpKSArIGxpc3Qobm9kZWhhc2hv
ZmYua2V5cygpKSkpCisgICAgcnNjbGlzdCA9IGxpc3Qoc2V0KGxpc3QocnNjaGFzaG9uLmtleXMo
KSkgKyBsaXN0KHJzY2hhc2hvZmYua2V5cygpKSkpCiAKICAgICBpZiBieU5vZGUgPT0gVHJ1ZToK
ICAgICAgICAgZm9yIG5vZGUgaW4gbm9kZWxpc3Q6CiAgICAgICAgICAgICBpZiBsZW4odmFsaWRf
bm9kZXJlcykgIT0gMDoKICAgICAgICAgICAgICAgICBpZiBub2RlIG5vdCBpbiB2YWxpZF9ub2Rl
cmVzOgogICAgICAgICAgICAgICAgICAgICBjb250aW51ZQotICAgICAgICAgICAgcHJpbnQgIiAg
Tm9kZTogIiArIG5vZGUKLQotICAgICAgICAgICAgaWYgKG5vZGUgaW4gbm9kZWhhc2hvbik6Ci0g
ICAgICAgICAgICAgICAgcHJpbnQgIiAgICBBbGxvd2VkIHRvIHJ1bjoiCi0gICAgICAgICAgICAg
ICAgZm9yIG9wdGlvbnMgaW4gbm9kZWhhc2hvbltub2RlXToKLSAgICAgICAgICAgICAgICAgICAg
cHJpbnQgIiAgICAgICIgKyBvcHRpb25zWzFdICsgICIgKCIgKyBvcHRpb25zWzBdICsgIikiLAot
ICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1szXSAhPSAiIik6Ci0gICAgICAgICAgICAg
ICAgICAgICAgICBwcmludCAiKHJvbGU6ICIrb3B0aW9uc1szXSsiKSIsCi0gICAgICAgICAgICAg
ICAgICAgIGlmIChvcHRpb25zWzRdICE9ICIiKToKLSAgICAgICAgICAgICAgICAgICAgICAgIHBy
aW50ICIocmVzb3VyY2UtZGlzY292ZXJ5PSIrb3B0aW9uc1s0XSsiKSIsCi0gICAgICAgICAgICAg
ICAgICAgIHByaW50ICJTY29yZTogIisgb3B0aW9uc1syXQotCi0gICAgICAgICAgICBpZiAobm9k
ZSBpbiBub2RlaGFzaG9mZik6Ci0gICAgICAgICAgICAgICAgcHJpbnQgIiAgICBOb3QgYWxsb3dl
ZCB0byBydW46IgotICAgICAgICAgICAgICAgIGZvciBvcHRpb25zIGluIG5vZGVoYXNob2ZmW25v
ZGVdOgotICAgICAgICAgICAgICAgICAgICBwcmludCAiICAgICAgIiArIG9wdGlvbnNbMV0gKyAg
IiAoIiArIG9wdGlvbnNbMF0gKyAiKSIsCi0gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25z
WzNdICE9ICIiKToKLSAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICIocm9sZTogIitvcHRp
b25zWzNdKyIpIiwKLSAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNbNF0gIT0gIiIpOgot
ICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgIihyZXNvdXJjZS1kaXNjb3Zlcnk9IitvcHRp
b25zWzRdKyIpIiwKLSAgICAgICAgICAgICAgICAgICAgcHJpbnQgIlNjb3JlOiAiKyBvcHRpb25z
WzJdCisgICAgICAgICAgICBwcmludCgiICBOb2RlOiAiICsgbm9kZSkKKworICAgICAgICAgICAg
bm9kZWhhc2hfbGFiZWwgPSAoCisgICAgICAgICAgICAgICAgKG5vZGVoYXNob24sICIgICAgQWxs
b3dlZCB0byBydW46IikKKyAgICAgICAgICAgICAgICAobm9kZWhhc2hvZmYsICIgICAgTm90IGFs
bG93ZWQgdG8gcnVuOiIpCisgICAgICAgICAgICApCisgICAgICAgICAgICBmb3Igbm9kZWhhc2gs
IGxhYmVsIGluIG5vZGVoYXNoX2xhYmVsOgorICAgICAgICAgICAgICAgIGlmIG5vZGUgaW4gbm9k
ZWhhc2g6CisgICAgICAgICAgICAgICAgICAgIHByaW50KGxhYmVsKQorICAgICAgICAgICAgICAg
ICAgICBmb3Igb3B0aW9ucyBpbiBub2RlaGFzaFtub2RlXToKKyAgICAgICAgICAgICAgICAgICAg
ICAgIGxpbmVfcGFydHMgPSBbCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICIg
KyBvcHRpb25zWzFdICsgIiAoIiArIG9wdGlvbnNbMF0gKyAiKSIsCisgICAgICAgICAgICAgICAg
ICAgICAgICBdCisgICAgICAgICAgICAgICAgICAgICAgICBpZiBvcHRpb25zWzNdOgorICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGxpbmVfcGFydHMuYXBwZW5kKCIocm9sZTogezB9KSIuZm9y
bWF0KG9wdGlvbnNbM10pKQorICAgICAgICAgICAgICAgICAgICAgICAgaWYgb3B0aW9uc1s0XToK
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lX3BhcnRzLmFwcGVuZCgKKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIihyZXNvdXJjZS1kaXNjb3Zlcnk9ezB9KSIuZm9ybWF0
KG9wdGlvbnNbNF0pCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQorICAgICAgICAgICAg
ICAgICAgICAgICAgbGluZV9wYXJ0cy5hcHBlbmQoIlNjb3JlOiAiICsgb3B0aW9uc1syXSkKKyAg
ICAgICAgICAgICAgICAgICAgICAgIHByaW50KCIgIi5qb2luKGxpbmVfcGFydHMpKQogICAgICAg
ICBzaG93X2xvY2F0aW9uX3J1bGVzKHJ1bGVzaGFzaCxzaG93RGV0YWlsKQogICAgIGVsc2U6CiAg
ICAgICAgIHJzY2xpc3Quc29ydCgpCkBAIC04OTIsMzMgKzg5OSwzMCBAQCBkZWYgbG9jYXRpb25f
c2hvdyhhcmd2KToKICAgICAgICAgICAgIGlmIGxlbih2YWxpZF9ub2RlcmVzKSAhPSAwOgogICAg
ICAgICAgICAgICAgIGlmIHJzYyBub3QgaW4gdmFsaWRfbm9kZXJlczoKICAgICAgICAgICAgICAg
ICAgICAgY29udGludWUKLSAgICAgICAgICAgIHByaW50ICIgIFJlc291cmNlOiAiICsgcnNjCi0g
ICAgICAgICAgICBpZiAocnNjIGluIHJzY2hhc2hvbik6Ci0gICAgICAgICAgICAgICAgZm9yIG9w
dGlvbnMgaW4gcnNjaGFzaG9uW3JzY106Ci0gICAgICAgICAgICAgICAgICAgIGlmIG9wdGlvbnNb
MV0gPT0gIiI6Ci0gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQotICAgICAgICAgICAg
ICAgICAgICBwcmludCAiICAgIEVuYWJsZWQgb246IiwKLSAgICAgICAgICAgICAgICAgICAgcHJp
bnQgb3B0aW9uc1sxXSwKLSAgICAgICAgICAgICAgICAgICAgcHJpbnQgIihzY29yZToiK29wdGlv
bnNbMl0rIikiLAotICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1szXSAhPSAiIik6Ci0g
ICAgICAgICAgICAgICAgICAgICAgICBwcmludCAiKHJvbGU6ICIrb3B0aW9uc1szXSsiKSIsCi0g
ICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zWzRdICE9ICIiKToKLSAgICAgICAgICAgICAg
ICAgICAgICAgIHByaW50ICIocmVzb3VyY2UtZGlzY292ZXJ5PSIrb3B0aW9uc1s0XSsiKSIsCi0g
ICAgICAgICAgICAgICAgICAgIGlmIHNob3dEZXRhaWw6Ci0gICAgICAgICAgICAgICAgICAgICAg
ICBwcmludCAiKGlkOiIrb3B0aW9uc1swXSsiKSIsCi0gICAgICAgICAgICAgICAgICAgIHByaW50
Ci0gICAgICAgICAgICBpZiAocnNjIGluIHJzY2hhc2hvZmYpOgotICAgICAgICAgICAgICAgIGZv
ciBvcHRpb25zIGluIHJzY2hhc2hvZmZbcnNjXToKLSAgICAgICAgICAgICAgICAgICAgcHJpbnQg
IiAgICBEaXNhYmxlZCBvbjoiLAotICAgICAgICAgICAgICAgICAgICBwcmludCBvcHRpb25zWzFd
LAotICAgICAgICAgICAgICAgICAgICBwcmludCAiKHNjb3JlOiIrb3B0aW9uc1syXSsiKSIsCi0g
ICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zWzNdICE9ICIiKToKLSAgICAgICAgICAgICAg
ICAgICAgICAgIHByaW50ICIocm9sZTogIitvcHRpb25zWzNdKyIpIiwKLSAgICAgICAgICAgICAg
ICAgICAgaWYgKG9wdGlvbnNbNF0gIT0gIiIpOgotICAgICAgICAgICAgICAgICAgICAgICAgcHJp
bnQgIihyZXNvdXJjZS1kaXNjb3Zlcnk9IitvcHRpb25zWzRdKyIpIiwKLSAgICAgICAgICAgICAg
ICAgICAgaWYgc2hvd0RldGFpbDoKLSAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICIoaWQ6
IitvcHRpb25zWzBdKyIpIiwKLSAgICAgICAgICAgICAgICAgICAgcHJpbnQgCisgICAgICAgICAg
ICBwcmludCgiICBSZXNvdXJjZTogIiArIHJzYykKKyAgICAgICAgICAgIHJzY2hhc2hfbGFiZWwg
PSAoCisgICAgICAgICAgICAgICAgKHJzY2hhc2hvbiwgIiAgICBFbmFibGVkIG9uOiIpLAorICAg
ICAgICAgICAgICAgIChyc2NoYXNob2ZmLCAiICAgIERpc2FibGVkIG9uOiIpLAorICAgICAgICAg
ICAgKQorICAgICAgICAgICAgZm9yIHJzY2hhc2gsIGxhYmVsIGluIHJzY2hhc2hfbGFiZWw6Cisg
ICAgICAgICAgICAgICAgaWYgcnNjIGluIHJzY2hhc2g6CisgICAgICAgICAgICAgICAgICAgIGZv
ciBvcHRpb25zIGluIHJzY2hhc2hbcnNjXToKKyAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5v
dCBvcHRpb25zWzFdOgorICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCisgICAg
ICAgICAgICAgICAgICAgICAgICBsaW5lX3BhcnRzID0gWworICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGxhYmVsLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbMV0sCisg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIihzY29yZTp7MH0pIi5mb3JtYXQob3B0aW9uc1sy
XSksCisgICAgICAgICAgICAgICAgICAgICAgICBdCisgICAgICAgICAgICAgICAgICAgICAgICBp
ZiBvcHRpb25zWzNdOgorICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVfcGFydHMuYXBw
ZW5kKCIocm9sZTogezB9KSIuZm9ybWF0KG9wdGlvbnNbM10pKQorICAgICAgICAgICAgICAgICAg
ICAgICAgaWYgb3B0aW9uc1s0XToKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lX3Bh
cnRzLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIihyZXNvdXJjZS1k
aXNjb3Zlcnk9ezB9KSIuZm9ybWF0KG9wdGlvbnNbNF0pCisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgKQorICAgICAgICAgICAgICAgICAgICAgICAgaWYgc2hvd0RldGFpbDoKKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBsaW5lX3BhcnRzLmFwcGVuZCgiKGlkOnswfSkiLmZvcm1hdChv
cHRpb25zWzBdKSkKKyAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCIgIi5qb2luKGxpbmVf
cGFydHMpKQogICAgICAgICAgICAgbWluaXJ1bGVzaGFzaD17fQogICAgICAgICAgICAgbWluaXJ1
bGVzaGFzaFsiUmVzb3VyY2U6ICIgKyByc2NdID0gcnVsZXNoYXNoWyJSZXNvdXJjZTogIiArIHJz
Y10KICAgICAgICAgICAgIHNob3dfbG9jYXRpb25fcnVsZXMobWluaXJ1bGVzaGFzaCxzaG93RGV0
YWlsLCBUcnVlKQpAQCAtOTI4LDcgKzkzMiw3IEBAIGRlZiBzaG93X2xvY2F0aW9uX3J1bGVzKHJ1
bGVzaGFzaCxzaG93RGV0YWlsLG5vaGVhZGVyPUZhbHNlKToKICAgICBmb3IgcnNjIGluIHJ1bGVz
aGFzaDoKICAgICAgICAgY29uc3RyYWludGhhc2g9IGRlZmF1bHRkaWN0KGxpc3QpCiAgICAgICAg
IGlmIG5vdCBub2hlYWRlcjoKLSAgICAgICAgICAgIHByaW50ICIgICIgKyByc2MKKyAgICAgICAg
ICAgIHByaW50KCIgICIgKyByc2MpCiAgICAgICAgIGZvciBydWxlIGluIHJ1bGVzaGFzaFtyc2Nd
OgogICAgICAgICAgICAgY29uc3RyYWludF9pZCA9IHJ1bGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1
dGUoImlkIikKICAgICAgICAgICAgIGNvbnN0cmFpbnRoYXNoW2NvbnN0cmFpbnRfaWRdLmFwcGVu
ZChydWxlKQpAQCAtOTQyLDExICs5NDYsMTEgQEAgZGVmIHNob3dfbG9jYXRpb25fcnVsZXMocnVs
ZXNoYXNoLHNob3dEZXRhaWwsbm9oZWFkZXI9RmFsc2UpOgogICAgICAgICAgICAgZWxzZToKICAg
ICAgICAgICAgICAgICBjb25zdHJhaW50X29wdGlvbl9pbmZvID0gIiIKIAotICAgICAgICAgICAg
cHJpbnQgIiAgICBDb25zdHJhaW50OiAiICsgY29uc3RyYWludF9pZCArIGNvbnN0cmFpbnRfb3B0
aW9uX2luZm8KKyAgICAgICAgICAgIHByaW50KCIgICAgQ29uc3RyYWludDogIiArIGNvbnN0cmFp
bnRfaWQgKyBjb25zdHJhaW50X29wdGlvbl9pbmZvKQogICAgICAgICAgICAgZm9yIHJ1bGUgaW4g
Y29uc3RyYWludGhhc2hbY29uc3RyYWludF9pZF06Ci0gICAgICAgICAgICAgICAgcHJpbnQgcnVs
ZV91dGlscy5FeHBvcnREZXRhaWxlZCgpLmdldF9zdHJpbmcoCisgICAgICAgICAgICAgICAgcHJp
bnQocnVsZV91dGlscy5FeHBvcnREZXRhaWxlZCgpLmdldF9zdHJpbmcoCiAgICAgICAgICAgICAg
ICAgICAgIHJ1bGUsIHNob3dEZXRhaWwsICIgICAgICAiCi0gICAgICAgICAgICAgICAgKQorICAg
ICAgICAgICAgICAgICkpCiAKIGRlZiBsb2NhdGlvbl9wcmVmZXIoYXJndik6CiAgICAgcnNjID0g
YXJndi5wb3AoMCkKQEAgLTEwMDgsNyArMTAxMiw3IEBAIGRlZiBsb2NhdGlvbl9hZGQoYXJndixy
bT1GYWxzZSk6CiAgICAgICAgICAgICAgICAgaWYgJz0nIGluIGFyZzoKICAgICAgICAgICAgICAg
ICAgICAgb3B0aW9ucy5hcHBlbmQoYXJnLnNwbGl0KCc9JywxKSkKICAgICAgICAgICAgICAgICBl
bHNlOgotICAgICAgICAgICAgICAgICAgICBwcmludCAiRXJyb3I6IGJhZCBvcHRpb24gJyVzJyIg
JSBhcmcKKyAgICAgICAgICAgICAgICAgICAgcHJpbnQoIkVycm9yOiBiYWQgb3B0aW9uICclcyci
ICUgYXJnKQogICAgICAgICAgICAgICAgICAgICB1c2FnZS5jb25zdHJhaW50KFsibG9jYXRpb24g
YWRkIl0pCiAgICAgICAgICAgICAgICAgICAgIHN5cy5leGl0KDEpCiAgICAgICAgICAgICAgICAg
aWYgb3B0aW9uc1stMV1bMF0gIT0gInJlc291cmNlLWRpc2NvdmVyeSIgYW5kICItLWZvcmNlIiBu
b3QgaW4gdXRpbHMucGNzX29wdGlvbnM6CkBAIC0xMjA3LDcgKzEyMTEsNyBAQCBkZWYgY29uc3Ry
YWludF9ybShhcmd2LHJldHVyblN0YXR1cz1GYWxzZSwgY29uc3RyYWludHNFbGVtZW50PU5vbmUs
IHBhc3NlZF9kb209TgogICAgICAgICBpZiByZXR1cm5TdGF0dXM6CiAgICAgICAgICAgICByZXR1
cm4gVHJ1ZQogICAgIGVsc2U6Ci0gICAgICAgIHByaW50ID4+IHN5cy5zdGRlcnIsICJFcnJvcjog
VW5hYmxlIHRvIGZpbmQgY29uc3RyYWludCAtICclcyciICUgY19pZAorICAgICAgICB1dGlscy5l
cnIoIlVuYWJsZSB0byBmaW5kIGNvbnN0cmFpbnQgLSAnJXMnIiAlIGNfaWQsIEZhbHNlKQogICAg
ICAgICBpZiByZXR1cm5TdGF0dXM6CiAgICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICAg
c3lzLmV4aXQoMSkKQEAgLTEyMTksMjEgKzEyMjMsMjEgQEAgZGVmIGNvbnN0cmFpbnRfcmVmKGFy
Z3YpOgogICAgICAgICBzeXMuZXhpdCgxKQogCiAgICAgZm9yIGFyZyBpbiBhcmd2OgotICAgICAg
ICBwcmludCAiUmVzb3VyY2U6ICVzIiAlIGFyZworICAgICAgICBwcmludCgiUmVzb3VyY2U6ICVz
IiAlIGFyZykKICAgICAgICAgY29uc3RyYWludHMsc2V0X2NvbnN0cmFpbnRzID0gZmluZF9jb25z
dHJhaW50c19jb250YWluaW5nKGFyZykKICAgICAgICAgaWYgbGVuKGNvbnN0cmFpbnRzKSA9PSAw
IGFuZCBsZW4oc2V0X2NvbnN0cmFpbnRzKSA9PSAwOgotICAgICAgICAgICAgcHJpbnQgIiAgTm8g
TWF0Y2hlcy4iCisgICAgICAgICAgICBwcmludCgiICBObyBNYXRjaGVzLiIpCiAgICAgICAgIGVs
c2U6CiAgICAgICAgICAgICBmb3IgY29uc3RyYWludCBpbiBjb25zdHJhaW50czoKLSAgICAgICAg
ICAgICAgICBwcmludCAiICAiICsgY29uc3RyYWludAorICAgICAgICAgICAgICAgIHByaW50KCIg
ICIgKyBjb25zdHJhaW50KQogICAgICAgICAgICAgZm9yIGNvbnN0cmFpbnQgaW4gc2V0X2NvbnN0
cmFpbnRzOgotICAgICAgICAgICAgICAgIHByaW50ICIgICIgKyBjb25zdHJhaW50CisgICAgICAg
ICAgICAgICAgcHJpbnQoIiAgIiArIGNvbnN0cmFpbnQpCiAKIGRlZiByZW1vdmVfY29uc3RyYWlu
dHNfY29udGFpbmluZyhyZXNvdXJjZV9pZCxvdXRwdXQ9RmFsc2UsY29uc3RyYWludHNfZWxlbWVu
dCA9IE5vbmUsIHBhc3NlZF9kb209Tm9uZSk6CiAgICAgY29uc3RyYWludHMsc2V0X2NvbnN0cmFp
bnRzID0gZmluZF9jb25zdHJhaW50c19jb250YWluaW5nKHJlc291cmNlX2lkLCBwYXNzZWRfZG9t
KQogICAgIGZvciBjIGluIGNvbnN0cmFpbnRzOgogICAgICAgICBpZiBvdXRwdXQgPT0gVHJ1ZToK
LSAgICAgICAgICAgIHByaW50ICJSZW1vdmluZyBDb25zdHJhaW50IC0gIiArIGMKKyAgICAgICAg
ICAgIHByaW50KCJSZW1vdmluZyBDb25zdHJhaW50IC0gIiArIGMpCiAgICAgICAgIGlmIGNvbnN0
cmFpbnRzX2VsZW1lbnQgIT0gTm9uZToKICAgICAgICAgICAgIGNvbnN0cmFpbnRfcm0oW2NdLCBU
cnVlLCBjb25zdHJhaW50c19lbGVtZW50LCBwYXNzZWRfZG9tPXBhc3NlZF9kb20pCiAgICAgICAg
IGVsc2U6CkBAIC0xMjQ5LDE0ICsxMjUzLDE0IEBAIGRlZiByZW1vdmVfY29uc3RyYWludHNfY29u
dGFpbmluZyhyZXNvdXJjZV9pZCxvdXRwdXQ9RmFsc2UsY29uc3RyYWludHNfZWxlbWVudCA9CiAg
ICAgICAgICAgICAgICAgcG4gPSBjLnBhcmVudE5vZGUKICAgICAgICAgICAgICAgICBwbi5yZW1v
dmVDaGlsZChjKQogICAgICAgICAgICAgICAgIGlmIG91dHB1dCA9PSBUcnVlOgotICAgICAgICAg
ICAgICAgICAgICBwcmludCAiUmVtb3ZpbmcgJXMgZnJvbSBzZXQgJXMiICUgKHJlc291cmNlX2lk
LHBuLmdldEF0dHJpYnV0ZSgiaWQiKSkKKyAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlJlbW92
aW5nICVzIGZyb20gc2V0ICVzIiAlIChyZXNvdXJjZV9pZCxwbi5nZXRBdHRyaWJ1dGUoImlkIikp
KQogICAgICAgICAgICAgICAgIGlmIHBuLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJyZXNvdXJjZV9y
ZWYiKS5sZW5ndGggPT0gMDoKLSAgICAgICAgICAgICAgICAgICAgcHJpbnQgIlJlbW92aW5nIHNl
dCAlcyIgJSBwbi5nZXRBdHRyaWJ1dGUoImlkIikKKyAgICAgICAgICAgICAgICAgICAgcHJpbnQo
IlJlbW92aW5nIHNldCAlcyIgJSBwbi5nZXRBdHRyaWJ1dGUoImlkIikpCiAgICAgICAgICAgICAg
ICAgICAgIHBuMiA9IHBuLnBhcmVudE5vZGUKICAgICAgICAgICAgICAgICAgICAgcG4yLnJlbW92
ZUNoaWxkKHBuKQogICAgICAgICAgICAgICAgICAgICBpZiBwbjIuZ2V0RWxlbWVudHNCeVRhZ05h
bWUoInJlc291cmNlX3NldCIpLmxlbmd0aCA9PSAwOgogICAgICAgICAgICAgICAgICAgICAgICAg
cG4yLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocG4yKQotICAgICAgICAgICAgICAgICAgICAgICAg
cHJpbnQgIlJlbW92aW5nIGNvbnN0cmFpbnQgJXMiICUgcG4yLmdldEF0dHJpYnV0ZSgiaWQiKQor
ICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlJlbW92aW5nIGNvbnN0cmFpbnQgJXMiICUg
cG4yLmdldEF0dHJpYnV0ZSgiaWQiKSkKICAgICAgICAgaWYgcGFzc2VkX2RvbToKICAgICAgICAg
ICAgIHJldHVybiBkb20KICAgICAgICAgdXRpbHMucmVwbGFjZV9jaWJfY29uZmlndXJhdGlvbihk
b20pCkBAIC0xMzA4LDcgKzEzMTIsNyBAQCBkZWYgZmluZF9jb25zdHJhaW50c19jb250YWluaW5n
KHJlc291cmNlX2lkLCBwYXNzZWRfZG9tPU5vbmUpOgogZGVmIHJlbW92ZV9jb25zdHJhaW50c19j
b250YWluaW5nX25vZGUoZG9tLCBub2RlLCBvdXRwdXQ9RmFsc2UpOgogICAgIGZvciBjb25zdHJh
aW50IGluIGZpbmRfY29uc3RyYWludHNfY29udGFpbmluZ19ub2RlKGRvbSwgbm9kZSk6CiAgICAg
ICAgIGlmIG91dHB1dDoKLSAgICAgICAgICAgIHByaW50ICJSZW1vdmluZyBDb25zdHJhaW50IC0g
JXMiICUgY29uc3RyYWludC5nZXRBdHRyaWJ1dGUoImlkIikKKyAgICAgICAgICAgIHByaW50KCJS
ZW1vdmluZyBDb25zdHJhaW50IC0gJXMiICUgY29uc3RyYWludC5nZXRBdHRyaWJ1dGUoImlkIikp
CiAgICAgICAgIGNvbnN0cmFpbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjb25zdHJhaW50KQog
ICAgIHJldHVybiBkb20KIApAQCAtMTM3NiwxOSArMTM4MCwyMSBAQCBkZWYgY29uc3RyYWludF9y
dWxlKGFyZ3YpOgogICAgICAgICBjaWIgPSB1dGlscy5nZXRfY2liX2V0cmVlKCkKICAgICAgICAg
dGVtcF9pZCA9IGFyZ3YucG9wKDApCiAgICAgICAgIGNvbnN0cmFpbnRzID0gY2liLmZpbmQoJy4v
L2NvbnN0cmFpbnRzJykKLSAgICAgICAgbG9jX2NvbnMgPSBjaWIuZmluZGFsbCgnLi8vcnNjX2xv
Y2F0aW9uJykKKyAgICAgICAgbG9jX2NvbnMgPSBjaWIuZmluZGFsbChzdHIoJy4vL3JzY19sb2Nh
dGlvbicpKQogCi0gICAgICAgIHJ1bGVzID0gY2liLmZpbmRhbGwoJy4vL3J1bGUnKQorICAgICAg
ICBydWxlcyA9IGNpYi5maW5kYWxsKHN0cignLi8vcnVsZScpKQogICAgICAgICBmb3IgbG9jX2Nv
biBpbiBsb2NfY29uczoKICAgICAgICAgICAgIGZvciBydWxlIGluIGxvY19jb246CiAgICAgICAg
ICAgICAgICAgaWYgcnVsZS5nZXQoImlkIikgPT0gdGVtcF9pZDoKICAgICAgICAgICAgICAgICAg
ICAgaWYgbGVuKGxvY19jb24pID4gMToKLSAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICJS
ZW1vdmluZyBSdWxlOiIscnVsZS5nZXQoImlkIikKKyAgICAgICAgICAgICAgICAgICAgICAgIHBy
aW50KCJSZW1vdmluZyBSdWxlOiB7MH0iLmZvcm1hdChydWxlLmdldCgiaWQiKSkpCiAgICAgICAg
ICAgICAgICAgICAgICAgICBsb2NfY29uLnJlbW92ZShydWxlKQogICAgICAgICAgICAgICAgICAg
ICAgICAgZm91bmQgPSBUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAg
ICAgICAgICAgICAgICBlbHNlOgotICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgIlJlbW92
aW5nIENvbnN0cmFpbnQ6Iixsb2NfY29uLmdldCgiaWQiKSAKKyAgICAgICAgICAgICAgICAgICAg
ICAgIHByaW50KAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICJSZW1vdmluZyBDb25zdHJh
aW50OiB7MH0iLmZvcm1hdChsb2NfY29uLmdldCgiaWQiKSkKKyAgICAgICAgICAgICAgICAgICAg
ICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnRzLnJlbW92ZShsb2NfY29u
KQogICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBUcnVlCiAgICAgICAgICAgICAgICAg
ICAgICAgICBicmVhawpkaWZmIC0tZ2l0IGEvcGNzL2Nvcm9zeW5jX2NvbmYucHkgYi9wY3MvY29y
b3N5bmNfY29uZi5weQppbmRleCAyZGU4MTk3Li4xZGViYzM5IDEwMDY0NAotLS0gYS9wY3MvY29y
b3N5bmNfY29uZi5weQorKysgYi9wY3MvY29yb3N5bmNfY29uZi5weQpAQCAtMSwzICsxLDkgQEAK
K2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgYWJzb2x1dGVfaW1wb3J0Citmcm9tIF9fZnV0dXJlX18g
aW1wb3J0IGRpdmlzaW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHByaW50X2Z1bmN0aW9uCitm
cm9tIF9fZnV0dXJlX18gaW1wb3J0IHVuaWNvZGVfbGl0ZXJhbHMKKworCiBjbGFzcyBTZWN0aW9u
KG9iamVjdCk6CiAKICAgICBkZWYgX19pbml0X18oc2VsZiwgbmFtZSk6CkBAIC0yOCw3ICszNCw3
IEBAIGNsYXNzIFNlY3Rpb24ob2JqZWN0KToKICAgICAgICAgICAgIGlmIGluZGV4IDwgc2VjdGlv
bl9jb3VudDoKICAgICAgICAgICAgICAgICBsaW5lcy5hcHBlbmQoIiIpCiAgICAgICAgIGlmIHNl
bGYucGFyZW50OgotICAgICAgICAgICAgbGluZXMgPSBtYXAobGFtYmRhIHg6IGluZGVudCArIHgg
aWYgeCBlbHNlIHgsIGxpbmVzKQorICAgICAgICAgICAgbGluZXMgPSBbaW5kZW50ICsgeCBpZiB4
IGVsc2UgeCBmb3IgeCBpbiBsaW5lc10KICAgICAgICAgICAgIGxpbmVzLmluc2VydCgwLCBzZWxm
Lm5hbWUgKyAiIHsiKQogICAgICAgICAgICAgbGluZXMuYXBwZW5kKCJ9IikKICAgICAgICAgZmlu
YWwgPSAiXG4iLmpvaW4obGluZXMpCkBAIC0xMzAsNyArMTM2LDcgQEAgZGVmIF9wYXJzZV9zZWN0
aW9uKGxpbmVzLCBzZWN0aW9uKToKICAgICAgICAgICAgIHJldHVybgogICAgICAgICBlbGlmICI6
IiBpbiBjdXJyZW50X2xpbmU6CiAgICAgICAgICAgICBzZWN0aW9uLmFkZF9hdHRyaWJ1dGUoCi0g
ICAgICAgICAgICAgICAgKm1hcChsYW1iZGEgeDogeC5zdHJpcCgpLCBjdXJyZW50X2xpbmUuc3Bs
aXQoIjoiLCAxKSkKKyAgICAgICAgICAgICAgICAqW3guc3RyaXAoKSBmb3IgeCBpbiBjdXJyZW50
X2xpbmUuc3BsaXQoIjoiLCAxKV0KICAgICAgICAgICAgICkKICAgICBpZiBzZWN0aW9uLnBhcmVu
dDoKICAgICAgICAgcmFpc2UgUGFyc2VFcnJvckV4Y2VwdGlvbigiTWlzc2luZyBjbG9zaW5nIGJy
YWNlIikKZGlmZiAtLWdpdCBhL3Bjcy9ub2RlLnB5IGIvcGNzL25vZGUucHkKaW5kZXggNmNjZjg4
OC4uZjI5Mzg1MSAxMDA2NDQKLS0tIGEvcGNzL25vZGUucHkKKysrIGIvcGNzL25vZGUucHkKQEAg
LTEsNyArMSwxNCBAQAorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKK2Zy
b20gX19mdXR1cmVfXyBpbXBvcnQgZGl2aXNpb24KK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgcHJp
bnRfZnVuY3Rpb24KK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgdW5pY29kZV9saXRlcmFscworCiBp
bXBvcnQgc3lzCisKIGltcG9ydCB1c2FnZQogaW1wb3J0IHV0aWxzCiAKKwogZGVmIG5vZGVfY21k
KGFyZ3YpOgogICAgIGlmIGxlbihhcmd2KSA9PSAwOgogICAgICAgICB1c2FnZS5ub2RlKCkKZGlm
ZiAtLWdpdCBhL3Bjcy9wY3MucHkgYi9wY3MvcGNzLnB5CmluZGV4IGU4NWZlYWEuLmY0MWUzMzQg
MTAwNzU1Ci0tLSBhL3Bjcy9wY3MucHkKKysrIGIvcGNzL3Bjcy5weQpAQCAtMSw2ICsxLDEzIEBA
Ci0jIS91c3IvYmluL3B5dGhvbjIKKyMhL3Vzci9iaW4vcHl0aG9uCiAKLWltcG9ydCBzeXMsIGdl
dG9wdCwgb3MKK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgYWJzb2x1dGVfaW1wb3J0Citmcm9tIF9f
ZnV0dXJlX18gaW1wb3J0IGRpdmlzaW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHByaW50X2Z1
bmN0aW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHVuaWNvZGVfbGl0ZXJhbHMKKworaW1wb3J0
IHN5cworaW1wb3J0IG9zCitpbXBvcnQgZ2V0b3B0CiAKIGltcG9ydCB1c2FnZQogaW1wb3J0IGNs
dXN0ZXIKQEAgLTE2LDYgKzIzLDcgQEAgaW1wb3J0IGNvbmZpZwogaW1wb3J0IHBjc2QKIGltcG9y
dCBub2RlCiAKKwogdXNlZmlsZSA9IEZhbHNlCiBmaWxlbmFtZSA9ICIiCiBkZWYgbWFpbihhcmd2
KToKQEAgLTk3LDggKzEwNSw4IEBAIGRlZiBtYWluKGFyZ3YpOgogICAgICAgICAgICAgcHJldl9h
cmcgPSBhcmcKIAogICAgICAgICBwY3Nfb3B0aW9ucywgYXJndiA9IGdldG9wdC5nbnVfZ2V0b3B0
KG1vZGlmaWVkX2FyZ3YsIHBjc19zaG9ydF9vcHRpb25zLCBwY3NfbG9uZ19vcHRpb25zKQotICAg
IGV4Y2VwdCBnZXRvcHQuR2V0b3B0RXJyb3IsIGVycjoKLSAgICAgICAgcHJpbnQgZXJyCisgICAg
ZXhjZXB0IGdldG9wdC5HZXRvcHRFcnJvciBhcyBlcnI6CisgICAgICAgIHByaW50KGVycikKICAg
ICAgICAgdXNhZ2UubWFpbigpCiAgICAgICAgIHN5cy5leGl0KDEpCiAgICAgYXJndiA9IHJlYWxf
YXJndgpAQCAtMTI0LDcgKzEzMiw3IEBAIGRlZiBtYWluKGFyZ3YpOgogICAgICAgICBlbGlmIG8g
PT0gIi0tY2x1c3Rlcl9jb25mIjoKICAgICAgICAgICAgIHNldHRpbmdzLmNsdXN0ZXJfY29uZl9m
aWxlID0gYQogICAgICAgICBlbGlmIG8gPT0gIi0tdmVyc2lvbiI6Ci0gICAgICAgICAgICBwcmlu
dCBzZXR0aW5ncy5wY3NfdmVyc2lvbgorICAgICAgICAgICAgcHJpbnQoc2V0dGluZ3MucGNzX3Zl
cnNpb24pCiAgICAgICAgICAgICBzeXMuZXhpdCgpCiAgICAgICAgIGVsaWYgbyA9PSAiLS1mdWxs
aGVscCI6CiAgICAgICAgICAgICB1c2FnZS5mdWxsX3VzYWdlKCkKQEAgLTIxMCw3ICsyMTgsNyBA
QCBkZWYgbWFpbihhcmd2KToKICAgICAgICAgICAgICAgICAgICAgdXRpbHMuZXJyKG1zZywgRmFs
c2UpCiAgICAgICAgICAgICAgICAgc3lzLmV4aXQoMSkKICAgICAgICAgICAgIGlmIHN0ZF9vdXQu
c3RyaXAoKToKLSAgICAgICAgICAgICAgICBwcmludCBzdGRfb3V0CisgICAgICAgICAgICAgICAg
cHJpbnQoc3RkX291dCkKICAgICAgICAgICAgIGlmIHN0ZF9lcnIuc3RyaXAoKToKICAgICAgICAg
ICAgICAgICBzeXMuc3RkZXJyLndyaXRlKHN0ZF9lcnIpCiAgICAgICAgICAgICBzeXMuZXhpdChl
eGl0Y29kZSkKZGlmZiAtLWdpdCBhL3Bjcy9wY3NkLnB5IGIvcGNzL3Bjc2QucHkKaW5kZXggYjFi
NmJlNi4uMzcwODI5OCAxMDA2NDQKLS0tIGEvcGNzL3Bjc2QucHkKKysrIGIvcGNzL3Bjc2QucHkK
QEAgLTEsMTIgKzEsMTggQEAKK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgYWJzb2x1dGVfaW1wb3J0
Citmcm9tIF9fZnV0dXJlX18gaW1wb3J0IGRpdmlzaW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0
IHByaW50X2Z1bmN0aW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHVuaWNvZGVfbGl0ZXJhbHMK
KwogaW1wb3J0IHN5cwotaW1wb3J0IGpzb24KIGltcG9ydCBvcwogaW1wb3J0IGVycm5vCitpbXBv
cnQganNvbgogCiBpbXBvcnQgdXNhZ2UKIGltcG9ydCB1dGlscwogaW1wb3J0IHNldHRpbmdzCiAK
KwogZGVmIHBjc2RfY21kKGFyZ3YpOgogICAgIGlmIGxlbihhcmd2KSA9PSAwOgogICAgICAgICB1
c2FnZS5wY3NkKCkKQEAgLTUxLDI1ICs1NywyNSBAQCBkZWYgcGNzZF9jZXJ0a2V5KGFyZ3YpOgog
CiAgICAgdHJ5OgogICAgICAgICB0cnk6Ci0gICAgICAgICAgICBvcy5jaG1vZChzZXR0aW5ncy5w
Y3NkX2NlcnRfbG9jYXRpb24sIDA3MDApCisgICAgICAgICAgICBvcy5jaG1vZChzZXR0aW5ncy5w
Y3NkX2NlcnRfbG9jYXRpb24sIDBvNzAwKQogICAgICAgICBleGNlcHQgT1NFcnJvcjogIyBJZiB0
aGUgZmlsZSBkb2Vzbid0IGV4aXN0LCB3ZSBkb24ndCBjYXJlCiAgICAgICAgICAgICBwYXNzCiAK
ICAgICAgICAgdHJ5OgotICAgICAgICAgICAgb3MuY2htb2Qoc2V0dGluZ3MucGNzZF9rZXlfbG9j
YXRpb24sIDA3MDApCisgICAgICAgICAgICBvcy5jaG1vZChzZXR0aW5ncy5wY3NkX2tleV9sb2Nh
dGlvbiwgMG83MDApCiAgICAgICAgIGV4Y2VwdCBPU0Vycm9yOiAjIElmIHRoZSBmaWxlIGRvZXNu
J3QgZXhpc3QsIHdlIGRvbid0IGNhcmUKICAgICAgICAgICAgIHBhc3MKIAotICAgICAgICB3aXRo
IG9zLmZkb3Blbihvcy5vcGVuKHNldHRpbmdzLnBjc2RfY2VydF9sb2NhdGlvbiwgb3MuT19XUk9O
TFkgfCBvcy5PX0NSRUFUIHwgb3MuT19UUlVOQywgMDcwMCksICd3YicpIGFzIG15ZmlsZToKKyAg
ICAgICAgd2l0aCBvcy5mZG9wZW4ob3Mub3BlbihzZXR0aW5ncy5wY3NkX2NlcnRfbG9jYXRpb24s
IG9zLk9fV1JPTkxZIHwgb3MuT19DUkVBVCB8IG9zLk9fVFJVTkMsIDBvNzAwKSwgJ3cnKSBhcyBt
eWZpbGU6CiAgICAgICAgICAgICBteWZpbGUud3JpdGUoY2VydCkKIAotICAgICAgICB3aXRoIG9z
LmZkb3Blbihvcy5vcGVuKHNldHRpbmdzLnBjc2Rfa2V5X2xvY2F0aW9uLCBvcy5PX1dST05MWSB8
IG9zLk9fQ1JFQVQgfCBvcy5PX1RSVU5DLCAwNzAwKSwgJ3diJykgYXMgbXlmaWxlOgorICAgICAg
ICB3aXRoIG9zLmZkb3Blbihvcy5vcGVuKHNldHRpbmdzLnBjc2Rfa2V5X2xvY2F0aW9uLCBvcy5P
X1dST05MWSB8IG9zLk9fQ1JFQVQgfCBvcy5PX1RSVU5DLCAwbzcwMCksICd3JykgYXMgbXlmaWxl
OgogICAgICAgICAgICAgbXlmaWxlLndyaXRlKGtleSkKIAogICAgIGV4Y2VwdCBJT0Vycm9yIGFz
IGU6CiAgICAgICAgIHV0aWxzLmVycihlKQogCi0gICAgcHJpbnQgIkNlcnRpZmljYXRlIGFuZCBr
ZXkgdXBkYXRlZCwgeW91IG1heSBuZWVkIHRvIHJlc3RhcnQgcGNzZCAoc2VydmljZSBwY3NkIHJl
c3RhcnQpIGZvciBuZXcgc2V0dGluZ3MgdG8gdGFrZSBlZmZlY3QiCisgICAgcHJpbnQoIkNlcnRp
ZmljYXRlIGFuZCBrZXkgdXBkYXRlZCwgeW91IG1heSBuZWVkIHRvIHJlc3RhcnQgcGNzZCAoc2Vy
dmljZSBwY3NkIHJlc3RhcnQpIGZvciBuZXcgc2V0dGluZ3MgdG8gdGFrZSBlZmZlY3QiKQogCiBk
ZWYgcGNzZF9zeW5jX2NlcnRzKGFyZ3YsIGV4aXRfYWZ0ZXJfZXJyb3I9VHJ1ZSk6CiAgICAgZXJy
b3IgPSBGYWxzZQpAQCAtMTAxLDcgKzEwNyw3IEBAIGRlZiBwY3NkX3N5bmNfY2VydHMoYXJndiwg
ZXhpdF9hZnRlcl9lcnJvcj1UcnVlKToKICAgICAgICAgICAgICAgICAgICAgc3lzLmV4aXQoMSkK
ICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICByZXR1cm4KLSAgICAg
ICAgICAgIHByaW50CisgICAgICAgICAgICBwcmludCgpCiAgICAgICAgIGV4Y2VwdCAoS2V5RXJy
b3IsIEF0dHJpYnV0ZUVycm9yKToKICAgICAgICAgICAgIHV0aWxzLmVycigiVW5hYmxlIHRvIGNv
bW11bmljYXRlIHdpdGggcGNzZCIsIGV4aXRfYWZ0ZXJfZXJyb3IpCiAgICAgICAgICAgICByZXR1
cm4KQEAgLTE2Myw1ICsxNjksNSBAQCBkZWYgcGNzZF9jbGVhcl9hdXRoKGFyZ3YpOgogCiAgICAg
aWYgbGVuKG91dHB1dCkgPiAwOgogICAgICAgICBmb3IgbyBpbiBvdXRwdXQ6Ci0gICAgICAgICAg
ICBwcmludCAiRXJyb3I6ICIgKyBvCisgICAgICAgICAgICBwcmludCgiRXJyb3I6ICIgKyBvKQog
ICAgICAgICBzeXMuZXhpdCgxKQpkaWZmIC0tZ2l0IGEvcGNzL3Byb3AucHkgYi9wY3MvcHJvcC5w
eQppbmRleCA2ZDk5MDMyLi41OTJlNGQ4IDEwMDY0NAotLS0gYS9wY3MvcHJvcC5weQorKysgYi9w
Y3MvcHJvcC5weQpAQCAtMSwxMCArMSwxNSBAQAorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNv
bHV0ZV9pbXBvcnQKK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgZGl2aXNpb24KK2Zyb20gX19mdXR1
cmVfXyBpbXBvcnQgcHJpbnRfZnVuY3Rpb24KK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgdW5pY29k
ZV9saXRlcmFscworCiBpbXBvcnQgc3lzCitmcm9tIHhtbC5kb20ubWluaWRvbSBpbXBvcnQgcGFy
c2VTdHJpbmcKK2ltcG9ydCB4bWwuZXRyZWUuRWxlbWVudFRyZWUgYXMgRVQKKwogaW1wb3J0IHVz
YWdlCiBpbXBvcnQgdXRpbHMKIGltcG9ydCBzZXR0aW5ncwotaW1wb3J0IHhtbC5kb20ubWluaWRv
bQotZnJvbSB4bWwuZG9tLm1pbmlkb20gaW1wb3J0IHBhcnNlU3RyaW5nCi1pbXBvcnQgeG1sLmV0
cmVlLkVsZW1lbnRUcmVlIGFzIEVUCiAKIGRlZiBwcm9wZXJ0eV9jbWQoYXJndik6CiAgICAgaWYg
bGVuKGFyZ3YpID09IDA6CkBAIC0yNyw3ICszMiw3IEBAIGRlZiBzZXRfcHJvcGVydHkoYXJndik6
CiAgICAgZm9yIGFyZyBpbiBhcmd2OgogICAgICAgICBhcmdzID0gYXJnLnNwbGl0KCc9JykKICAg
ICAgICAgaWYgKGxlbihhcmdzKSAhPSAyKToKLSAgICAgICAgICAgIHByaW50ICJJbnZhbGlkIFBy
b3BlcnR5OiAiICsgYXJnCisgICAgICAgICAgICBwcmludCgiSW52YWxpZCBQcm9wZXJ0eTogIiAr
IGFyZykKICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgIGlmICItLW5vZGUiIGluIHV0aWxz
LnBjc19vcHRpb25zOgogICAgICAgICAgICAgdXRpbHMuc2V0X25vZGVfYXR0cmlidXRlKGFyZ3Nb
MF0sIGFyZ3NbMV0sIHV0aWxzLnBjc19vcHRpb25zWyItLW5vZGUiXSkKQEAgLTY4LDE4ICs3Mywx
OCBAQCBkZWYgbGlzdF9wcm9wZXJ0eShhcmd2KToKICAgICAgICAgICAgIHByb3BlcnRpZXMKICAg
ICAgICAgKQogCi0gICAgcHJpbnQgIkNsdXN0ZXIgUHJvcGVydGllczoiCi0gICAgZm9yIHByb3As
dmFsIGluIHNvcnRlZChwcm9wZXJ0aWVzLml0ZXJpdGVtcygpKToKLSAgICAgICAgcHJpbnQgIiAi
ICsgcHJvcCArICI6ICIgKyB2YWwKKyAgICBwcmludCgiQ2x1c3RlciBQcm9wZXJ0aWVzOiIpCisg
ICAgZm9yIHByb3AsdmFsIGluIHNvcnRlZChwcm9wZXJ0aWVzLml0ZW1zKCkpOgorICAgICAgICBw
cmludCgiICIgKyBwcm9wICsgIjogIiArIHZhbCkKIAogICAgIG5vZGVfYXR0cmlidXRlcyA9IHV0
aWxzLmdldF9ub2RlX2F0dHJpYnV0ZXMoKQogICAgIGlmIG5vZGVfYXR0cmlidXRlczoKLSAgICAg
ICAgcHJpbnQgIk5vZGUgQXR0cmlidXRlczoiCisgICAgICAgIHByaW50KCJOb2RlIEF0dHJpYnV0
ZXM6IikKICAgICAgICAgZm9yIG5vZGUgaW4gc29ydGVkKG5vZGVfYXR0cmlidXRlcyk6Ci0gICAg
ICAgICAgICBwcmludCAiICIgKyBub2RlICsgIjoiLAorICAgICAgICAgICAgbGluZV9wYXJ0cyA9
IFsiICIgKyBub2RlICsgIjoiXQogICAgICAgICAgICAgZm9yIGF0dHIgaW4gbm9kZV9hdHRyaWJ1
dGVzW25vZGVdOgotICAgICAgICAgICAgICAgIHByaW50IGF0dHIsCi0gICAgICAgICAgICBwcmlu
dAorICAgICAgICAgICAgICAgIGxpbmVfcGFydHMuYXBwZW5kKGF0dHIpCisgICAgICAgICAgICBw
cmludCgiICIuam9pbihsaW5lX3BhcnRzKSkKIAogZGVmIGdldF9kZWZhdWx0X3Byb3BlcnRpZXMo
KToKICAgICAob3V0cHV0LCByZXRWYWwpID0gdXRpbHMucnVuKFtzZXR0aW5ncy5wZW5naW5lX2Jp
bmFyeSwgIm1ldGFkYXRhIl0pCmRpZmYgLS1naXQgYS9wY3MvcmVzb3VyY2UucHkgYi9wY3MvcmVz
b3VyY2UucHkKaW5kZXggZTY0ZTgxYS4uZTcwZDdlNiAxMDA2NDQKLS0tIGEvcGNzL3Jlc291cmNl
LnB5CisrKyBiL3Bjcy9yZXNvdXJjZS5weQpAQCAtMSwzICsxLDggQEAKK2Zyb20gX19mdXR1cmVf
XyBpbXBvcnQgYWJzb2x1dGVfaW1wb3J0Citmcm9tIF9fZnV0dXJlX18gaW1wb3J0IGRpdmlzaW9u
Citmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHByaW50X2Z1bmN0aW9uCitmcm9tIF9fZnV0dXJlX18g
aW1wb3J0IHVuaWNvZGVfbGl0ZXJhbHMKKwogaW1wb3J0IHN5cwogaW1wb3J0IG9zCiBpbXBvcnQg
eG1sLmRvbS5taW5pZG9tCkBAIC01LDcgKzEwLDYgQEAgZnJvbSB4bWwuZG9tLm1pbmlkb20gaW1w
b3J0IGdldERPTUltcGxlbWVudGF0aW9uCiBmcm9tIHhtbC5kb20ubWluaWRvbSBpbXBvcnQgcGFy
c2VTdHJpbmcKIGltcG9ydCByZQogaW1wb3J0IHRleHR3cmFwCi1pbXBvcnQgeG1sLmV0cmVlLkVs
ZW1lbnRUcmVlIGFzIEVUCiBpbXBvcnQgdGltZQogCiBpbXBvcnQgdXNhZ2UKQEAgLTEzLDYgKzE3
LDcgQEAgaW1wb3J0IHV0aWxzCiBpbXBvcnQgY29uc3RyYWludAogaW1wb3J0IHN0b25pdGgKIAor
CiBQQUNFTUFLRVJfV0FJVF9USU1FT1VUX1NUQVRVUyA9IDYyCiBSRVNPVVJDRV9SRUxPQ0FURV9D
T05TVFJBSU5UX1BSRUZJWCA9ICJwY3MtcmVsb2NhdGUtIgogCkBAIC0yMTIsOSArMjE3LDkgQEAg
ZGVmIHJlc291cmNlX2xpc3RfYXZhaWxhYmxlKGFyZ3YpOgogICAgICAgICBleGNlcHQgeG1sLnBh
cnNlcnMuZXhwYXQuRXhwYXRFcnJvcjoKICAgICAgICAgICAgIHNkID0gIiIKICAgICAgICAgZmlu
YWxseToKLSAgICAgICAgICAgIHJldHVybiBmdWxsX3Jlc19uYW1lICsgc2QgKyAiXG4iCisgICAg
ICAgICAgICByZXR1cm4gZnVsbF9yZXNfbmFtZSArIHNkCiAKLSAgICByZXQgPSAiIgorICAgIHJl
dCA9IFtdCiAgICAgaWYgbGVuKGFyZ3YpICE9IDA6CiAgICAgICAgIGZpbHRlcl9zdHJpbmcgPSBh
cmd2WzBdCiAgICAgZWxzZToKQEAgLTIzMywyMyArMjM4LDIzIEBAIGRlZiByZXNvdXJjZV9saXN0
X2F2YWlsYWJsZShhcmd2KToKICAgICAgICAgICAgICAgICBjb250aW51ZQogCiAgICAgICAgICAg
ICBpZiAiLS1ub2Rlc2MiIGluIHV0aWxzLnBjc19vcHRpb25zOgotICAgICAgICAgICAgICAgIHJl
dCArPSBmdWxsX3Jlc19uYW1lICsgIlxuIgorICAgICAgICAgICAgICAgIHJldC5hcHBlbmQoZnVs
bF9yZXNfbmFtZSkKICAgICAgICAgICAgICAgICBjb250aW51ZQogCiAgICAgICAgICAgICBtZXRh
ZGF0YSA9IHV0aWxzLmdldF9tZXRhZGF0YSgiL3Vzci9saWIvb2NmL3Jlc291cmNlLmQvIiArIHBy
b3ZpZGVyICsgIi8iICsgcmVzb3VyY2UpCiAgICAgICAgICAgICBpZiBtZXRhZGF0YSA9PSBGYWxz
ZToKICAgICAgICAgICAgICAgICBjb250aW51ZQotICAgICAgICAgICAgcmV0ICs9IGdldF9uYW1l
X2FuZF9kZXNjKAorICAgICAgICAgICAgcmV0LmFwcGVuZChnZXRfbmFtZV9hbmRfZGVzYygKICAg
ICAgICAgICAgICAgICAib2NmOiIgKyBwcm92aWRlciArICI6IiArIHJlc291cmNlLAogICAgICAg
ICAgICAgICAgIG1ldGFkYXRhCi0gICAgICAgICAgICApCisgICAgICAgICAgICApKQogCiAgICAg
IyBsc2IgYWdlbnRzCiAgICAgbHNiX2RpciA9ICIvZXRjL2luaXQuZC8iCiAgICAgYWdlbnRzID0g
c29ydGVkKG9zLmxpc3RkaXIobHNiX2RpcikpCiAgICAgZm9yIGFnZW50IGluIGFnZW50czoKICAg
ICAgICAgaWYgb3MuYWNjZXNzKGxzYl9kaXIgKyBhZ2VudCwgb3MuWF9PSyk6Ci0gICAgICAgICAg
ICByZXQgKz0gImxzYjoiICsgYWdlbnQgKyAiXG4iCisgICAgICAgICAgICByZXQuYXBwZW5kKCJs
c2I6IiArIGFnZW50KQogCiAgICAgIyBzeXN0ZW1kIGFnZW50cwogICAgIGlmIHV0aWxzLmlzX3N5
c3RlbWN0bCgpOgpAQCAtMjU4LDcgKzI2Myw3IEBAIGRlZiByZXNvdXJjZV9saXN0X2F2YWlsYWJs
ZShhcmd2KToKICAgICBmb3IgYWdlbnQgaW4gYWdlbnRzOgogICAgICAgICBtYXRjaCA9IHJlLnNl
YXJjaChyJ14oW1xTXSopXC5zZXJ2aWNlJyxhZ2VudCkKICAgICAgICAgaWYgbWF0Y2g6Ci0gICAg
ICAgICAgICByZXQgKz0gInN5c3RlbWQ6IiArIG1hdGNoLmdyb3VwKDEpICsgIlxuIgorICAgICAg
ICAgICAgcmV0LmFwcGVuZCgic3lzdGVtZDoiICsgbWF0Y2guZ3JvdXAoMSkpCiAKICAgICAjIG5h
Z2lvcyBtZXRhZGF0YQogICAgIG5hZ2lvc19tZXRhZGF0YV9wYXRoID0gIi91c3Ivc2hhcmUvcGFj
ZW1ha2VyL25hZ2lvcy9wbHVnaW5zLW1ldGFkYXRhIgpAQCAtMjcwLDE2ICsyNzUsMTYgQEAgZGVm
IHJlc291cmNlX2xpc3RfYXZhaWxhYmxlKGFyZ3YpOgogICAgICAgICAgICAgaWYgZnVsbF9yZXNf
bmFtZS5sb3dlcigpLmVuZHN3aXRoKCIueG1sIik6CiAgICAgICAgICAgICAgICAgZnVsbF9yZXNf
bmFtZSA9IGZ1bGxfcmVzX25hbWVbOi1sZW4oIi54bWwiKV0KICAgICAgICAgICAgIGlmICItLW5v
ZGVzYyIgaW4gdXRpbHMucGNzX29wdGlvbnM6Ci0gICAgICAgICAgICAgICAgcmV0ICs9IGZ1bGxf
cmVzX25hbWUgKyAiXG4iCisgICAgICAgICAgICAgICAgcmV0LmFwcGVuZChmdWxsX3Jlc19uYW1l
KQogICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICB0cnk6Ci0gICAgICAgICAg
ICAgICAgcmV0ICs9IGdldF9uYW1lX2FuZF9kZXNjKAorICAgICAgICAgICAgICAgIHJldC5hcHBl
bmQoZ2V0X25hbWVfYW5kX2Rlc2MoCiAgICAgICAgICAgICAgICAgICAgIGZ1bGxfcmVzX25hbWUs
CiAgICAgICAgICAgICAgICAgICAgIG9wZW4oCiAgICAgICAgICAgICAgICAgICAgICAgICBvcy5w
YXRoLmpvaW4obmFnaW9zX21ldGFkYXRhX3BhdGgsIG1ldGFkYXRhX2ZpbGUpLAogICAgICAgICAg
ICAgICAgICAgICAgICAgInIiCiAgICAgICAgICAgICAgICAgICAgICkucmVhZCgpCi0gICAgICAg
ICAgICAgICAgKQorICAgICAgICAgICAgICAgICkpCiAgICAgICAgICAgICBleGNlcHQgRW52aXJv
bm1lbnRFcnJvciBhcyBlOgogICAgICAgICAgICAgICAgIHBhc3MKIApAQCAtMjkwLDE2ICsyOTUs
MTUgQEAgZGVmIHJlc291cmNlX2xpc3RfYXZhaWxhYmxlKGFyZ3YpOgogICAgICAgICAgICAgIkRv
IHlvdSBoYXZlIHJlc291cmNlIGFnZW50cyBpbnN0YWxsZWQ/IgogICAgICAgICApCiAgICAgaWYg
ZmlsdGVyX3N0cmluZyAhPSAiIjoKLSAgICAgICAgcmxpbmVzID0gcmV0LnNwbGl0KCJcbiIpCiAg
ICAgICAgIGZvdW5kID0gRmFsc2UKLSAgICAgICAgZm9yIHJsaW5lIGluIHJsaW5lczoKKyAgICAg
ICAgZm9yIHJsaW5lIGluIHJldDoKICAgICAgICAgICAgIGlmIHJsaW5lLmxvd2VyKCkuZmluZChm
aWx0ZXJfc3RyaW5nLmxvd2VyKCkpICE9IC0xOgotICAgICAgICAgICAgICAgIHByaW50IHJsaW5l
CisgICAgICAgICAgICAgICAgcHJpbnQocmxpbmUpCiAgICAgICAgICAgICAgICAgZm91bmQgPSBU
cnVlCiAgICAgICAgIGlmIG5vdCBmb3VuZDoKICAgICAgICAgICAgIHV0aWxzLmVycigiTm8gcmVz
b3VyY2UgYWdlbnRzIG1hdGNoaW5nIHRoZSBmaWx0ZXIuIikKICAgICBlbHNlOgotICAgICAgICBw
cmludCByZXQsCisgICAgICAgIHByaW50KCJcbiIuam9pbihyZXQpKQogCiBkZWYgcmVzb3VyY2Vf
cGFyc2Vfb3B0aW9ucyhtZXRhZGF0YSwgc3RhbmRhcmQsIHByb3ZpZGVyLCByZXNvdXJjZSk6CiAg
ICAgdHJ5OgpAQCAtMzI1LDE1ICszMjksMTUgQEAgZGVmIHJlc291cmNlX3BhcnNlX29wdGlvbnMo
bWV0YWRhdGEsIHN0YW5kYXJkLCBwcm92aWRlciwgcmVzb3VyY2UpOgogCiAgICAgICAgIGlmIHNo
b3J0X2Rlc2M6CiAgICAgICAgICAgICB0aXRsZV8xICs9ICIgLSAiICsgZm9ybWF0X2Rlc2MobGVu
KHRpdGxlXzEgKyAiIC0gIiksIHNob3J0X2Rlc2MpCi0gICAgICAgIHByaW50IHRpdGxlXzEKLSAg
ICAgICAgcHJpbnQgCisgICAgICAgIHByaW50KHRpdGxlXzEpCisgICAgICAgIHByaW50KCkKICAg
ICAgICAgaWYgbG9uZ19kZXNjOgotICAgICAgICAgICAgcHJpbnQgbG9uZ19kZXNjCi0gICAgICAg
ICAgICBwcmludAorICAgICAgICAgICAgcHJpbnQobG9uZ19kZXNjKQorICAgICAgICAgICAgcHJp
bnQoKQogCiAgICAgICAgIHBhcmFtcyA9IGRvbS5kb2N1bWVudEVsZW1lbnQuZ2V0RWxlbWVudHNC
eVRhZ05hbWUoInBhcmFtZXRlciIpCiAgICAgICAgIGlmIGxlbihwYXJhbXMpID4gMDoKLSAgICAg
ICAgICAgIHByaW50ICJSZXNvdXJjZSBvcHRpb25zOiIKKyAgICAgICAgICAgIHByaW50KCJSZXNv
dXJjZSBvcHRpb25zOiIpCiAgICAgICAgIGZvciBwYXJhbSBpbiBwYXJhbXM6CiAgICAgICAgICAg
ICBuYW1lID0gcGFyYW0uZ2V0QXR0cmlidXRlKCJuYW1lIikKICAgICAgICAgICAgIGlmIHBhcmFt
LmdldEF0dHJpYnV0ZSgicmVxdWlyZWQiKSA9PSAiMSI6CkBAIC0zNDYsNyArMzUwLDcgQEAgZGVm
IHJlc291cmNlX3BhcnNlX29wdGlvbnMobWV0YWRhdGEsIHN0YW5kYXJkLCBwcm92aWRlciwgcmVz
b3VyY2UpOgogICAgICAgICAgICAgICAgIGRlc2MgPSAiTm8gZGVzY3JpcHRpb24gYXZhaWxhYmxl
IgogICAgICAgICAgICAgaW5kZW50ID0gbmFtZS5fX2xlbl9fKCkgKyA0CiAgICAgICAgICAgICBk
ZXNjID0gZm9ybWF0X2Rlc2MoaW5kZW50LCBkZXNjKQotICAgICAgICAgICAgcHJpbnQgIiAgIiAr
IG5hbWUgKyAiOiAiICsgZGVzYworICAgICAgICAgICAgcHJpbnQoIiAgIiArIG5hbWUgKyAiOiAi
ICsgZGVzYykKICAgICBleGNlcHQgeG1sLnBhcnNlcnMuZXhwYXQuRXhwYXRFcnJvciBhcyBlOgog
ICAgICAgICB1dGlscy5lcnIoIlVuYWJsZSB0byBwYXJzZSB4bWwgZm9yICclcyc6ICVzIiAlIChy
ZXNvdXJjZSwgZSkpCiAKQEAgLTUwMCw3ICs1MDQsNyBAQCBkZWYgcmVzb3VyY2VfY3JlYXRlKHJh
X2lkLCByYV90eXBlLCByYV92YWx1ZXMsIG9wX3ZhbHVlcywgbWV0YV92YWx1ZXM9W10sIGNsb25l
XwogICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgaW50ZXJ2YWwgaW4gYWN0aW9uX2ludGVy
dmFsc1tvcF9hY3Rpb25dOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmFsICs9
IDEKICAgICAgICAgICAgICAgICAgICAgICAgIG9wW2tleV0gPSAiaW50ZXJ2YWw9JXMiICUgaW50
ZXJ2YWwKLSAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICgKKyAgICAgICAgICAgICAgICAg
ICAgICAgIHByaW50KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICgiV2FybmluZzogY2hh
bmdpbmcgYSAlcyBvcGVyYXRpb24gaW50ZXJ2YWwgZnJvbSAlcyIKICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgKyAiIHRvICVzIHRvIG1ha2UgdGhlIG9wZXJhdGlvbiB1bmlxdWUiKQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICUgKG9wX2FjdGlvbiwgb2xkX2ludGVydmFsLCBp
bnRlcnZhbCkKQEAgLTU2MSwxNSArNTY1LDE1IEBAIGRlZiByZXNvdXJjZV9jcmVhdGUocmFfaWQs
IHJhX3R5cGUsIHJhX3ZhbHVlcywgb3BfdmFsdWVzLCBtZXRhX3ZhbHVlcz1bXSwgY2xvbmVfCiAg
ICAgaWYgIi0tY2xvbmUiIGluIHV0aWxzLnBjc19vcHRpb25zIG9yIGxlbihjbG9uZV9vcHRzKSA+
IDA6CiAgICAgICAgIGRvbSwgY2xvbmVfaWQgPSByZXNvdXJjZV9jbG9uZV9jcmVhdGUoZG9tLCBb
cmFfaWRdICsgY2xvbmVfb3B0cykKICAgICAgICAgaWYgIi0tZ3JvdXAiIGluIHV0aWxzLnBjc19v
cHRpb25zOgotICAgICAgICAgICAgcHJpbnQgIldhcm5pbmc6IC0tZ3JvdXAgaWdub3JlZCB3aGVu
IGNyZWF0aW5nIGEgY2xvbmUiCisgICAgICAgICAgICBwcmludCgiV2FybmluZzogLS1ncm91cCBp
Z25vcmVkIHdoZW4gY3JlYXRpbmcgYSBjbG9uZSIpCiAgICAgICAgIGlmICItLW1hc3RlciIgaW4g
dXRpbHMucGNzX29wdGlvbnM6Ci0gICAgICAgICAgICBwcmludCAiV2FybmluZzogLS1tYXN0ZXIg
aWdub3JlZCB3aGVuIGNyZWF0aW5nIGEgY2xvbmUiCisgICAgICAgICAgICBwcmludCgiV2Fybmlu
ZzogLS1tYXN0ZXIgaWdub3JlZCB3aGVuIGNyZWF0aW5nIGEgY2xvbmUiKQogICAgIGVsaWYgIi0t
bWFzdGVyIiBpbiB1dGlscy5wY3Nfb3B0aW9uczoKICAgICAgICAgZG9tLCBtYXN0ZXJfaWQgPSBy
ZXNvdXJjZV9tYXN0ZXJfY3JlYXRlKAogICAgICAgICAgICAgZG9tLCBbcmFfaWRdICsgbWFzdGVy
X21ldGFfdmFsdWVzCiAgICAgICAgICkKICAgICAgICAgaWYgIi0tZ3JvdXAiIGluIHV0aWxzLnBj
c19vcHRpb25zOgotICAgICAgICAgICAgcHJpbnQgIldhcm5pbmc6IC0tZ3JvdXAgaWdub3JlZCB3
aGVuIGNyZWF0aW5nIGEgbWFzdGVyIgorICAgICAgICAgICAgcHJpbnQoIldhcm5pbmc6IC0tZ3Jv
dXAgaWdub3JlZCB3aGVuIGNyZWF0aW5nIGEgbWFzdGVyIikKICAgICBlbGlmICItLWdyb3VwIiBp
biB1dGlscy5wY3Nfb3B0aW9uczoKICAgICAgICAgZ3JvdXBuYW1lID0gdXRpbHMucGNzX29wdGlv
bnNbIi0tZ3JvdXAiXQogICAgICAgICBkb20gPSByZXNvdXJjZV9ncm91cF9hZGQoZG9tLCBncm91
cG5hbWUsIFtyYV9pZF0pCkBAIC01ODMsNyArNTg3LDcgQEAgZGVmIHJlc291cmNlX2NyZWF0ZShy
YV9pZCwgcmFfdHlwZSwgcmFfdmFsdWVzLCBvcF92YWx1ZXMsIG1ldGFfdmFsdWVzPVtdLCBjbG9u
ZV8KICAgICAgICAgb3V0cHV0LCByZXR2YWwgPSB1dGlscy5ydW4oYXJncykKICAgICAgICAgcnVu
bmluZ19vbiA9IHV0aWxzLnJlc291cmNlX3J1bm5pbmdfb24ocmFfaWQpCiAgICAgICAgIGlmIHJl
dHZhbCA9PSAwIGFuZCBydW5uaW5nX29uWyJpc19ydW5uaW5nIl06Ci0gICAgICAgICAgICBwcmlu
dCBydW5uaW5nX29uWyJtZXNzYWdlIl0KKyAgICAgICAgICAgIHByaW50KHJ1bm5pbmdfb25bIm1l
c3NhZ2UiXSkKICAgICAgICAgZWxzZToKICAgICAgICAgICAgIG1zZyA9IFtdCiAgICAgICAgICAg
ICBpZiByZXR2YWwgPT0gUEFDRU1BS0VSX1dBSVRfVElNRU9VVF9TVEFUVVM6CkBAIC03NDMsMTYg
Kzc0NywxNiBAQCBkZWYgcmVzb3VyY2VfbW92ZShhcmd2LGNsZWFyPUZhbHNlLGJhbj1GYWxzZSk6
CiAgICAgICAgICAgICAgICAgd2FybmluZ19hY3Rpb24gPSAicnVubmluZyIKICAgICAgICAgICAg
ICAgICBpZiAiLS1tYXN0ZXIiIGluIHV0aWxzLnBjc19vcHRpb25zOgogICAgICAgICAgICAgICAg
ICAgICB3YXJuaW5nX2FjdGlvbiA9ICJiZWluZyBwcm9tb3RlZCIKLSAgICAgICAgICAgICAgICBw
cmludCAoIldhcm5pbmc6IENyZWF0aW5nIGxvY2F0aW9uIGNvbnN0cmFpbnQgezB9IHdpdGggYSBz
Y29yZSAiCisgICAgICAgICAgICAgICAgcHJpbnQoKCJXYXJuaW5nOiBDcmVhdGluZyBsb2NhdGlv
biBjb25zdHJhaW50IHswfSB3aXRoIGEgc2NvcmUgIgogICAgICAgICAgICAgICAgICAgICArICJv
ZiAtSU5GSU5JVFkgZm9yIHJlc291cmNlIHsxfSBvbiBub2RlIHsyfS4iKS5mb3JtYXQoCiAgICAg
ICAgICAgICAgICAgICAgICAgICB3YXJuaW5nX2NvbnN0cmFpbnQsIHdhcm5pbmdfcmVzb3VyY2Us
IHdhcm5pbmdfbm9kZQotICAgICAgICAgICAgICAgICAgICApCi0gICAgICAgICAgICAgICAgcHJp
bnQgKCJUaGlzIHdpbGwgcHJldmVudCB7MH0gZnJvbSB7MX0gb24gezJ9IHVudGlsIHRoZSAiCisg
ICAgICAgICAgICAgICAgICAgICkpCisgICAgICAgICAgICAgICAgcHJpbnQoKCJUaGlzIHdpbGwg
cHJldmVudCB7MH0gZnJvbSB7MX0gb24gezJ9IHVudGlsIHRoZSAiCiAgICAgICAgICAgICAgICAg
ICAgICsgImNvbnN0cmFpbnQgaXMgcmVtb3ZlZC4gVGhpcyB3aWxsIGJlIHRoZSBjYXNlIGV2ZW4g
aWYgezN9IgogICAgICAgICAgICAgICAgICAgICArICIgaXMgdGhlIGxhc3Qgbm9kZSBpbiB0aGUg
Y2x1c3Rlci4iKS5mb3JtYXQoCiAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuaW5nX3Jlc291
cmNlLCB3YXJuaW5nX2FjdGlvbiwgd2FybmluZ19ub2RlLAogICAgICAgICAgICAgICAgICAgICAg
ICAgd2FybmluZ19ub2RlCi0gICAgICAgICAgICAgICAgICAgICkKKyAgICAgICAgICAgICAgICAg
ICAgKSkKIAogICAgIGlmICItLXdhaXQiIGluIHV0aWxzLnBjc19vcHRpb25zOgogICAgICAgICBh
cmdzID0gWyJjcm1fcmVzb3VyY2UiLCAiLS13YWl0Il0KQEAgLTc3OCw3ICs3ODIsNyBAQCBkZWYg
cmVzb3VyY2VfbW92ZShhcmd2LGNsZWFyPUZhbHNlLGJhbj1GYWxzZSk6CiAgICAgICAgICk6CiAg
ICAgICAgICAgICBlcnJvciA9IFRydWUKICAgICAgICAgaWYgbm90IGVycm9yOgotICAgICAgICAg
ICAgcHJpbnQgcnVubmluZ19vblsibWVzc2FnZSJdCisgICAgICAgICAgICBwcmludChydW5uaW5n
X29uWyJtZXNzYWdlIl0pCiAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICBtc2cgPSBbXQogICAg
ICAgICAgICAgaWYgcmV0dmFsID09IFBBQ0VNQUtFUl9XQUlUX1RJTUVPVVRfU1RBVFVTOgpAQCAt
Nzk1LDEzICs3OTksMTMgQEAgZGVmIHJlc291cmNlX3N0YW5kYXJkcyhyZXR1cm5fb3V0cHV0PUZh
bHNlKToKICAgICBvdXRwdXQgPSBvdXRwdXQuc3RyaXAoKQogICAgIGlmIHJldHVybl9vdXRwdXQg
PT0gVHJ1ZToKICAgICAgICAgcmV0dXJuIG91dHB1dAotICAgIHByaW50IG91dHB1dAorICAgIHBy
aW50KG91dHB1dCkKIAogZGVmIHJlc291cmNlX3Byb3ZpZGVycygpOgogICAgIG91dHB1dCwgcmV0
dmFsID0gdXRpbHMucnVuKFsiY3JtX3Jlc291cmNlIiwiLS1saXN0LW9jZi1wcm92aWRlcnMiXSxU
cnVlKQogICAgICMgUmV0dXJuIHZhbHVlIGlzIGlnbm9yZWQgYmVjYXVzZSBpdCBjb250YWlucyB0
aGUgbnVtYmVyIG9mIHByb3ZpZGVycwogICAgICMgcmV0dXJuZWQsIG5vdCBhbiBlcnJvciBjb2Rl
Ci0gICAgcHJpbnQgb3V0cHV0LnN0cmlwKCkKKyAgICBwcmludChvdXRwdXQuc3RyaXAoKSkKIAog
ZGVmIHJlc291cmNlX2FnZW50cyhhcmd2KToKICAgICBpZiBsZW4oYXJndikgPiAxOgpAQCAtODE4
LDcgKzgyMiw3IEBAIGRlZiByZXNvdXJjZV9hZ2VudHMoYXJndik6CiAgICAgICAgIHByZWcgPSBy
ZS5jb21waWxlKHInXGQrIGFnZW50cyBmb3VuZCBmb3Igc3RhbmRhcmQuKiQnLCByZS5NVUxUSUxJ
TkUpCiAgICAgICAgIG91dHB1dCA9IHByZWcuc3ViKCIiLCBvdXRwdXQpCiAgICAgICAgIG91dHB1
dCA9IG91dHB1dC5zdHJpcCgpCi0gICAgICAgIHByaW50IG91dHB1dAorICAgICAgICBwcmludChv
dXRwdXQpCiAKICMgVXBkYXRlIGEgcmVzb3VyY2UsIHJlbW92aW5nIGFueSBhcmdzIHRoYXQgYXJl
IGVtcHR5IGFuZCBhZGRpbmcvdXBkYXRpbmcKICMgYXJncyB0aGF0IGFyZSBub3QgZW1wdHkKQEAg
LTk5MSw3ICs5OTUsNyBAQCBkZWYgcmVzb3VyY2VfdXBkYXRlKHJlc19pZCxhcmdzKToKICAgICAg
ICAgb3V0cHV0LCByZXR2YWwgPSB1dGlscy5ydW4oYXJncykKICAgICAgICAgcnVubmluZ19vbiA9
IHV0aWxzLnJlc291cmNlX3J1bm5pbmdfb24ocmVzX2lkKQogICAgICAgICBpZiByZXR2YWwgPT0g
MDoKLSAgICAgICAgICAgIHByaW50IHJ1bm5pbmdfb25bIm1lc3NhZ2UiXQorICAgICAgICAgICAg
cHJpbnQocnVubmluZ19vblsibWVzc2FnZSJdKQogICAgICAgICBlbHNlOgogICAgICAgICAgICAg
bXNnID0gW10KICAgICAgICAgICAgIGlmIHJldHZhbCA9PSBQQUNFTUFLRVJfV0FJVF9USU1FT1VU
X1NUQVRVUzoKQEAgLTEwMTgsNyArMTAyMiw3IEBAIGRlZiByZXNvdXJjZV91cGRhdGVfY2xvbmVf
bWFzdGVyKAogICAgICAgICBvdXRwdXQsIHJldHZhbCA9IHV0aWxzLnJ1bihhcmdzKQogICAgICAg
ICBydW5uaW5nX29uID0gdXRpbHMucmVzb3VyY2VfcnVubmluZ19vbihjbG9uZS5nZXRBdHRyaWJ1
dGUoImlkIikpCiAgICAgICAgIGlmIHJldHZhbCA9PSAwOgotICAgICAgICAgICAgcHJpbnQgcnVu
bmluZ19vblsibWVzc2FnZSJdCisgICAgICAgICAgICBwcmludChydW5uaW5nX29uWyJtZXNzYWdl
Il0pCiAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICBtc2cgPSBbXQogICAgICAgICAgICAgaWYg
cmV0dmFsID09IFBBQ0VNQUtFUl9XQUlUX1RJTUVPVVRfU1RBVFVTOgpAQCAtMTIzNSw3ICsxMjM5
LDcgQEAgZGVmIHJlc291cmNlX21ldGEocmVzX2lkLCBhcmd2KToKICAgICAgICAgb3V0cHV0LCBy
ZXR2YWwgPSB1dGlscy5ydW4oYXJncykKICAgICAgICAgcnVubmluZ19vbiA9IHV0aWxzLnJlc291
cmNlX3J1bm5pbmdfb24ocmVzX2lkKQogICAgICAgICBpZiByZXR2YWwgPT0gMDoKLSAgICAgICAg
ICAgIHByaW50IHJ1bm5pbmdfb25bIm1lc3NhZ2UiXQorICAgICAgICAgICAgcHJpbnQocnVubmlu
Z19vblsibWVzc2FnZSJdKQogICAgICAgICBlbHNlOgogICAgICAgICAgICAgbXNnID0gW10KICAg
ICAgICAgICAgIGlmIHJldHZhbCA9PSBQQUNFTUFLRVJfV0FJVF9USU1FT1VUX1NUQVRVUzoKQEAg
LTEzNzgsNyArMTM4Miw3IEBAIGRlZiByZXNvdXJjZV9ncm91cChhcmd2KToKICAgICAgICAgICAg
IG91dHB1dCwgcmV0dmFsID0gdXRpbHMucnVuKGFyZ3MpCiAgICAgICAgICAgICBydW5uaW5nX29u
ID0gdXRpbHMucmVzb3VyY2VfcnVubmluZ19vbihncm91cF9uYW1lKQogICAgICAgICAgICAgaWYg
cmV0dmFsID09IDA6Ci0gICAgICAgICAgICAgICAgcHJpbnQgcnVubmluZ19vblsibWVzc2FnZSJd
CisgICAgICAgICAgICAgICAgcHJpbnQocnVubmluZ19vblsibWVzc2FnZSJdKQogICAgICAgICAg
ICAgZWxzZToKICAgICAgICAgICAgICAgICBtc2cgPSBbXQogICAgICAgICAgICAgICAgIGlmIHJl
dHZhbCA9PSBQQUNFTUFLRVJfV0FJVF9USU1FT1VUX1NUQVRVUzoKQEAgLTE0NDQsNyArMTQ0OCw3
IEBAIGRlZiByZXNvdXJjZV9jbG9uZShhcmd2KToKICAgICAgICAgb3V0cHV0LCByZXR2YWwgPSB1
dGlscy5ydW4oYXJncykKICAgICAgICAgcnVubmluZ19vbiA9IHV0aWxzLnJlc291cmNlX3J1bm5p
bmdfb24oY2xvbmVfaWQpCiAgICAgICAgIGlmIHJldHZhbCA9PSAwOgotICAgICAgICAgICAgcHJp
bnQgcnVubmluZ19vblsibWVzc2FnZSJdCisgICAgICAgICAgICBwcmludChydW5uaW5nX29uWyJt
ZXNzYWdlIl0pCiAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICBtc2cgPSBbXQogICAgICAgICAg
ICAgaWYgcmV0dmFsID09IFBBQ0VNQUtFUl9XQUlUX1RJTUVPVVRfU1RBVFVTOgpAQCAtMTU1NSw3
ICsxNTU5LDcgQEAgZGVmIHJlc291cmNlX2Nsb25lX21hc3Rlcl9yZW1vdmUoYXJndik6CiAgICAg
ICAgIG91dHB1dCwgcmV0dmFsID0gdXRpbHMucnVuKGFyZ3MpCiAgICAgICAgIHJ1bm5pbmdfb24g
PSB1dGlscy5yZXNvdXJjZV9ydW5uaW5nX29uKHJlc291cmNlX2lkKQogICAgICAgICBpZiByZXR2
YWwgPT0gMDoKLSAgICAgICAgICAgIHByaW50IHJ1bm5pbmdfb25bIm1lc3NhZ2UiXQorICAgICAg
ICAgICAgcHJpbnQocnVubmluZ19vblsibWVzc2FnZSJdKQogICAgICAgICBlbHNlOgogICAgICAg
ICAgICAgbXNnID0gW10KICAgICAgICAgICAgIGlmIHJldHZhbCA9PSBQQUNFTUFLRVJfV0FJVF9U
SU1FT1VUX1NUQVRVUzoKQEAgLTE1OTUsNyArMTU5OSw3IEBAIGRlZiByZXNvdXJjZV9tYXN0ZXIo
YXJndik6CiAgICAgICAgIG91dHB1dCwgcmV0dmFsID0gdXRpbHMucnVuKGFyZ3MpCiAgICAgICAg
IHJ1bm5pbmdfb24gPSB1dGlscy5yZXNvdXJjZV9ydW5uaW5nX29uKG1hc3Rlcl9pZCkKICAgICAg
ICAgaWYgcmV0dmFsID09IDA6Ci0gICAgICAgICAgICBwcmludCBydW5uaW5nX29uWyJtZXNzYWdl
Il0KKyAgICAgICAgICAgIHByaW50KHJ1bm5pbmdfb25bIm1lc3NhZ2UiXSkKICAgICAgICAgZWxz
ZToKICAgICAgICAgICAgIG1zZyA9IFtdCiAgICAgICAgICAgICBpZiByZXR2YWwgPT0gUEFDRU1B
S0VSX1dBSVRfVElNRU9VVF9TVEFUVVM6CkBAIC0xNzE2LDcgKzE3MjAsNyBAQCBkZWYgcmVzb3Vy
Y2VfbWFzdGVyX3JlbW92ZShhcmd2KToKICAgICAgICAgICAgICAgICBkb20sIHJlc291cmNlX2lk
LCBjb25zdHJhaW50c19lbGVtZW50PWNvbnN0cmFpbnRzX2VsZW1lbnQKICAgICAgICAgICAgICkK
ICAgICBtYXN0ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtYXN0ZXIpCi0gICAgcHJpbnQgIlJl
bW92aW5nIE1hc3RlciAtICIgKyBtYXN0ZXJfaWQKKyAgICBwcmludCgiUmVtb3ZpbmcgTWFzdGVy
IC0gIiArIG1hc3Rlcl9pZCkKICAgICB1dGlscy5yZXBsYWNlX2NpYl9jb25maWd1cmF0aW9uKGRv
bSkKIAogZGVmIHJlc291cmNlX3JlbW92ZShyZXNvdXJjZV9pZCwgb3V0cHV0ID0gVHJ1ZSk6CkBA
IC0xNzI2LDEwICsxNzMwLDEwIEBAIGRlZiByZXNvdXJjZV9yZW1vdmUocmVzb3VyY2VfaWQsIG91
dHB1dCA9IFRydWUpOgogICAgICAgICByZXNvdXJjZV9pZCA9IGNsb25lZF9yZXNvdXJjZS5nZXRB
dHRyaWJ1dGUoImlkIikKIAogICAgIGlmIHV0aWxzLmRvZXNfZXhpc3QoJy8vZ3JvdXBbQGlkPSIn
K3Jlc291cmNlX2lkKyciXScpOgotICAgICAgICBwcmludCAiUmVtb3ZpbmcgZ3JvdXA6ICIgKyBy
ZXNvdXJjZV9pZCArICIgKGFuZCBhbGwgcmVzb3VyY2VzIHdpdGhpbiBncm91cCkiCisgICAgICAg
IHByaW50KCJSZW1vdmluZyBncm91cDogIiArIHJlc291cmNlX2lkICsgIiAoYW5kIGFsbCByZXNv
dXJjZXMgd2l0aGluIGdyb3VwKSIpCiAgICAgICAgIGdyb3VwID0gdXRpbHMuZ2V0X2NpYl94cGF0
aCgnLy9ncm91cFtAaWQ9IicrcmVzb3VyY2VfaWQrJyJdJykKICAgICAgICAgZ3JvdXBfZG9tID0g
cGFyc2VTdHJpbmcoZ3JvdXApCi0gICAgICAgIHByaW50ICJTdG9wcGluZyBhbGwgcmVzb3VyY2Vz
IGluIGdyb3VwOiAlcy4uLiIgJSByZXNvdXJjZV9pZAorICAgICAgICBwcmludCgiU3RvcHBpbmcg
YWxsIHJlc291cmNlcyBpbiBncm91cDogJXMuLi4iICUgcmVzb3VyY2VfaWQpCiAgICAgICAgIHJl
c291cmNlX2Rpc2FibGUoW3Jlc291cmNlX2lkXSkKICAgICAgICAgaWYgbm90ICItLWZvcmNlIiBp
biB1dGlscy5wY3Nfb3B0aW9ucyBhbmQgbm90IHV0aWxzLnVzZWZpbGU6CiAgICAgICAgICAgICBv
dXRwdXQsIHJldHZhbCA9IHV0aWxzLnJ1bihbImNybV9yZXNvdXJjZSIsICItLXdhaXQiXSkKQEAg
LTE4MDgsNyArMTgxMiw3IEBAIGRlZiByZXNvdXJjZV9yZW1vdmUocmVzb3VyY2VfaWQsIG91dHB1
dCA9IFRydWUpOgogICAgICAgICAgICAgaWYgcmV0dmFsICE9IDAgYW5kIG91dHB1dDoKICAgICAg
ICAgICAgICAgICBtc2cuYXBwZW5kKCJcbiIgKyBvdXRwdXQpCiAgICAgICAgICAgICB1dGlscy5l
cnIoIlxuIi5qb2luKG1zZykuc3RyaXAoKSkKLSAgICAgICAgcHJpbnQgIlN0b3BwZWQiCisgICAg
ICAgIHByaW50KCJTdG9wcGVkIikKIAogICAgIHV0aWxzLnJlcGxhY2VfY2liX2NvbmZpZ3VyYXRp
b24oCiAgICAgICAgIHJlbW92ZV9yZXNvdXJjZV9yZWZlcmVuY2VzKHV0aWxzLmdldF9jaWJfZG9t
KCksIHJlc291cmNlX2lkLCBvdXRwdXQpCkBAIC0xODM0LDcgKzE4MzgsNyBAQCBkZWYgcmVzb3Vy
Y2VfcmVtb3ZlKHJlc291cmNlX2lkLCBvdXRwdXQgPSBUcnVlKToKICAgICAgICAgZWxzZToKICAg
ICAgICAgICAgIGFyZ3MgPSBbImNpYmFkbWluIiwgIi1vIiwgInJlc291cmNlcyIsICItRCIsICIt
LXhwYXRoIiwgIi8vcHJpbWl0aXZlW0BpZD0nIityZXNvdXJjZV9pZCsiJ10iXQogICAgICAgICBp
ZiBvdXRwdXQgPT0gVHJ1ZToKLSAgICAgICAgICAgIHByaW50ICJEZWxldGluZyBSZXNvdXJjZSAt
ICIgKyByZXNvdXJjZV9pZAorICAgICAgICAgICAgcHJpbnQoIkRlbGV0aW5nIFJlc291cmNlIC0g
IiArIHJlc291cmNlX2lkKQogICAgICAgICBvdXRwdXQscmV0VmFsID0gdXRpbHMucnVuKGFyZ3Mp
CiAgICAgICAgIGlmIHJldFZhbCAhPSAwOgogICAgICAgICAgICAgdXRpbHMuZXJyKCJ1bmFibGUg
dG8gcmVtb3ZlIHJlc291cmNlOiAlcywgaXQgbWF5IHN0aWxsIGJlIHJlZmVyZW5jZWQgaW4gY29u
c3RyYWludHMuIiAlIHJlc291cmNlX2lkKQpAQCAtMTg3OSw3ICsxODgzLDcgQEAgZGVmIHJlc291
cmNlX3JlbW92ZShyZXNvdXJjZV9pZCwgb3V0cHV0ID0gVHJ1ZSk6CiAKICAgICAgICAgYXJncyA9
IFsiY2liYWRtaW4iLCAiLW8iLCAicmVzb3VyY2VzIiwgIi1EIiwgIi0teHBhdGgiLCB0b19yZW1v
dmVfeHBhdGhdCiAgICAgICAgIGlmIG91dHB1dCA9PSBUcnVlOgotICAgICAgICAgICAgcHJpbnQg
IkRlbGV0aW5nIFJlc291cmNlICgiK21zZysiKSAtICIgKyByZXNvdXJjZV9pZAorICAgICAgICAg
ICAgcHJpbnQoIkRlbGV0aW5nIFJlc291cmNlICgiK21zZysiKSAtICIgKyByZXNvdXJjZV9pZCkK
ICAgICAgICAgY21kb3V0cHV0LHJldFZhbCA9IHV0aWxzLnJ1bihhcmdzKQogICAgICAgICBpZiBy
ZXRWYWwgIT0gMDoKICAgICAgICAgICAgIGlmIG91dHB1dCA9PSBUcnVlOgpAQCAtMjA1NiwxMCAr
MjA2MCwxMCBAQCBkZWYgcmVzb3VyY2VfZ3JvdXBfbGlzdChhcmd2KToKICAgICAgICAgZWxlbWVu
dHMgPSBbZWxlbWVudF0KIAogICAgIGZvciBlIGluIGVsZW1lbnRzOgotICAgICAgICBwcmludCBl
LmdldEF0dHJpYnV0ZSgiaWQiKSArICI6IiwKKyAgICAgICAgbGluZV9wYXJ0cyA9IFtlLmdldEF0
dHJpYnV0ZSgiaWQiKSArICI6Il0KICAgICAgICAgZm9yIHJlc291cmNlIGluIGUuZ2V0RWxlbWVu
dHNCeVRhZ05hbWUoInByaW1pdGl2ZSIpOgotICAgICAgICAgICAgcHJpbnQgcmVzb3VyY2UuZ2V0
QXR0cmlidXRlKCJpZCIpLAotICAgICAgICBwcmludCAiIgorICAgICAgICAgICAgbGluZV9wYXJ0
cy5hcHBlbmQocmVzb3VyY2UuZ2V0QXR0cmlidXRlKCJpZCIpKQorICAgICAgICBwcmludCgiICIu
am9pbihsaW5lX3BhcnRzKSkKIAogZGVmIHJlc291cmNlX3Nob3coYXJndiwgc3Rvbml0aD1GYWxz
ZSk6CiAgICAgaWYgIi0tZ3JvdXBzIiBpbiB1dGlscy5wY3Nfb3B0aW9uczoKQEAgLTIwNzcsNyAr
MjA4MSw3IEBAIGRlZiByZXNvdXJjZV9zaG93KGFyZ3YsIHN0b25pdGg9RmFsc2UpOgogICAgICAg
ICAgICAgICAgIHByaW50X25vZGUoY2hpbGQsMSkKICAgICAgICAgcmV0dXJuCiAKLSAgICBpZiBs
ZW4oYXJndikgPT0gMDogICAgCisgICAgaWYgbGVuKGFyZ3YpID09IDA6CiAgICAgICAgIG91dHB1
dCwgcmV0dmFsID0gdXRpbHMucnVuKFsiY3JtX21vbiIsICItMSIsICItciJdKQogICAgICAgICBp
ZiByZXR2YWwgIT0gMDoKICAgICAgICAgICAgIHV0aWxzLmVycigidW5hYmxlIHRvIGdldCBjbHVz
dGVyIHN0YXR1cyBmcm9tIGNybV9tb25cbiIrb3V0cHV0LnJzdHJpcCgpKQpAQCAtMjA5NiwyNiAr
MjEwMCwyNSBAQCBkZWYgcmVzb3VyY2Vfc2hvdyhhcmd2LCBzdG9uaXRoPUZhbHNlKToKICAgICAg
ICAgICAgICAgICBlbGlmIGluX3Jlc291cmNlczoKICAgICAgICAgICAgICAgICAgICAgaWYgbm90
IGhhc19yZXNvdXJjZXM6CiAgICAgICAgICAgICAgICAgICAgICAgICBpZiBub3Qgc3Rvbml0aDoK
LSAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAiTk8gcmVzb3VyY2VzIGNvbmZpZ3Vy
ZWQiCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIk5PIHJlc291cmNlcyBjb25m
aWd1cmVkIikKICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6Ci0gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgcHJpbnQgIk5PIHN0b25pdGggZGV2aWNlcyBjb25maWd1cmVkIgorICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHByaW50KCJOTyBzdG9uaXRoIGRldmljZXMgY29uZmlndXJl
ZCIpCiAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgIGNvbnRpbnVl
CiAgICAgICAgICAgICBpZiBpbl9yZXNvdXJjZXM6CiAgICAgICAgICAgICAgICAgaWYgbm90IHBy
ZWcubWF0Y2gobGluZSkgYW5kIG5vdCBzdG9uaXRoOgogICAgICAgICAgICAgICAgICAgICBoYXNf
cmVzb3VyY2VzID0gVHJ1ZQotICAgICAgICAgICAgICAgICAgICBwcmludCBsaW5lCisgICAgICAg
ICAgICAgICAgICAgIHByaW50KGxpbmUpCiAgICAgICAgICAgICAgICAgZWxpZiBwcmVnLm1hdGNo
KGxpbmUpIGFuZCBzdG9uaXRoOgogICAgICAgICAgICAgICAgICAgICBoYXNfcmVzb3VyY2VzID0g
VHJ1ZQotICAgICAgICAgICAgICAgICAgICBwcmludCBsaW5lCisgICAgICAgICAgICAgICAgICAg
IHByaW50KGxpbmUpCiAgICAgICAgIHJldHVybgogCi0gICAgcHJlZyA9IHJlLmNvbXBpbGUocicu
KnhtbDpcbicscmUuRE9UQUxMKQogICAgIHJvb3QgPSB1dGlscy5nZXRfY2liX2V0cmVlKCkKICAg
ICByZXNvdXJjZXMgPSByb290LmZpbmQoIi4vL3Jlc291cmNlcyIpCiAgICAgcmVzb3VyY2VfZm91
bmQgPSBGYWxzZQogICAgIGZvciBhcmcgaW4gYXJndjoKLSAgICAgICAgZm9yIGNoaWxkIGluIHJl
c291cmNlcy5maW5kYWxsKCIuLy8qIik6CisgICAgICAgIGZvciBjaGlsZCBpbiByZXNvdXJjZXMu
ZmluZGFsbChzdHIoIi4vLyoiKSk6CiAgICAgICAgICAgICBpZiAiaWQiIGluIGNoaWxkLmF0dHJp
YiBhbmQgY2hpbGQuYXR0cmliWyJpZCJdID09IGFyZyBhbmQgKChzdG9uaXRoIGFuZCB1dGlscy5p
c19zdG9uaXRoX3Jlc291cmNlKGFyZykpIG9yIChub3Qgc3Rvbml0aCBhbmQgbm90IHV0aWxzLmlz
X3N0b25pdGhfcmVzb3VyY2UoYXJnKSkpOgogICAgICAgICAgICAgICAgIHByaW50X25vZGUoY2hp
bGQsMSkKICAgICAgICAgICAgICAgICByZXNvdXJjZV9mb3VuZCA9IFRydWUKQEAgLTIxMzAsNyAr
MjEzMyw3IEBAIGRlZiByZXNvdXJjZV9kaXNhYmxlKGFyZ3YpOgogCiAgICAgcmVzb3VyY2UgPSBh
cmd2WzBdCiAgICAgaWYgbm90IGlzX21hbmFnZWQocmVzb3VyY2UpOgotICAgICAgICBwcmludCAi
V2FybmluZzogJyVzJyBpcyB1bm1hbmFnZWQiICUgcmVzb3VyY2UKKyAgICAgICAgcHJpbnQoIldh
cm5pbmc6ICclcycgaXMgdW5tYW5hZ2VkIiAlIHJlc291cmNlKQogCiAgICAgaWYgIi0td2FpdCIg
aW4gdXRpbHMucGNzX29wdGlvbnM6CiAgICAgICAgIHdhaXRfdGltZW91dCA9IHV0aWxzLnZhbGlk
YXRlX3dhaXRfZ2V0X3RpbWVvdXQoKQpAQCAtMjE0Nyw3ICsyMTUwLDcgQEAgZGVmIHJlc291cmNl
X2Rpc2FibGUoYXJndik6CiAgICAgICAgIG91dHB1dCwgcmV0dmFsID0gdXRpbHMucnVuKGFyZ3Mp
CiAgICAgICAgIHJ1bm5pbmdfb24gPSB1dGlscy5yZXNvdXJjZV9ydW5uaW5nX29uKHJlc291cmNl
KQogICAgICAgICBpZiByZXR2YWwgPT0gMCBhbmQgbm90IHJ1bm5pbmdfb25bImlzX3J1bm5pbmci
XToKLSAgICAgICAgICAgIHByaW50IHJ1bm5pbmdfb25bIm1lc3NhZ2UiXQorICAgICAgICAgICAg
cHJpbnQocnVubmluZ19vblsibWVzc2FnZSJdKQogICAgICAgICAgICAgcmV0dXJuIFRydWUKICAg
ICAgICAgZWxzZToKICAgICAgICAgICAgIG1zZyA9IFtdCkBAIC0yMTk5LDcgKzIyMDIsNyBAQCBk
ZWYgcmVzb3VyY2VfZW5hYmxlKGFyZ3YpOgogCiAgICAgZm9yIHJlcyBpbiByZXNvdXJjZXNfdG9f
ZW5hYmxlOgogICAgICAgICBpZiBub3QgaXNfbWFuYWdlZChyZXMpOgotICAgICAgICAgICAgcHJp
bnQgIldhcm5pbmc6ICd7MH0nIGlzIHVubWFuYWdlZCIuZm9ybWF0KHJlcykKKyAgICAgICAgICAg
IHByaW50KCJXYXJuaW5nOiAnezB9JyBpcyB1bm1hbmFnZWQiLmZvcm1hdChyZXMpKQogCiAgICAg
aWYgIi0td2FpdCIgaW4gdXRpbHMucGNzX29wdGlvbnM6CiAgICAgICAgIHdhaXRfdGltZW91dCA9
IHV0aWxzLnZhbGlkYXRlX3dhaXRfZ2V0X3RpbWVvdXQoKQpAQCAtMjIxNyw3ICsyMjIwLDcgQEAg
ZGVmIHJlc291cmNlX2VuYWJsZShhcmd2KToKICAgICAgICAgb3V0cHV0LCByZXR2YWwgPSB1dGls
cy5ydW4oYXJncykKICAgICAgICAgcnVubmluZ19vbiA9IHV0aWxzLnJlc291cmNlX3J1bm5pbmdf
b24ocmVzb3VyY2UpCiAgICAgICAgIGlmIHJldHZhbCA9PSAwIGFuZCBydW5uaW5nX29uWyJpc19y
dW5uaW5nIl06Ci0gICAgICAgICAgICBwcmludCBydW5uaW5nX29uWyJtZXNzYWdlIl0KKyAgICAg
ICAgICAgIHByaW50KHJ1bm5pbmdfb25bIm1lc3NhZ2UiXSkKICAgICAgICAgICAgIHJldHVybiBU
cnVlCiAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICBtc2cgPSBbXQpAQCAtMjI0NCw3ICsyMjQ3
LDcgQEAgZGVmIHJlc291cmNlX3Jlc3RhcnQoYXJndik6CiAKICAgICByZWFsX3JlcyA9IHV0aWxz
LmRvbV9nZXRfcmVzb3VyY2VfY2xvbmVfbXNfcGFyZW50KGRvbSwgcmVzb3VyY2UpCiAgICAgaWYg
cmVhbF9yZXM6Ci0gICAgICAgIHByaW50ICJXYXJuaW5nOiB1c2luZyAlcy4uLiAoaWYgYSByZXNv
dXJjZSBpcyBhIGNsb25lIG9yIG1hc3Rlci9zbGF2ZSB5b3UgbXVzdCB1c2UgdGhlIGNsb25lIG9y
IG1hc3Rlci9zbGF2ZSBuYW1lIiAlIHJlYWxfcmVzLmdldEF0dHJpYnV0ZSgiaWQiKQorICAgICAg
ICBwcmludCgiV2FybmluZzogdXNpbmcgJXMuLi4gKGlmIGEgcmVzb3VyY2UgaXMgYSBjbG9uZSBv
ciBtYXN0ZXIvc2xhdmUgeW91IG11c3QgdXNlIHRoZSBjbG9uZSBvciBtYXN0ZXIvc2xhdmUgbmFt
ZSIgJSByZWFsX3Jlcy5nZXRBdHRyaWJ1dGUoImlkIikpCiAgICAgICAgIHJlc291cmNlID0gcmVh
bF9yZXMuZ2V0QXR0cmlidXRlKCJpZCIpCiAKICAgICBhcmdzID0gWyJjcm1fcmVzb3VyY2UiLCAi
LS1yZXN0YXJ0IiwgIi0tcmVzb3VyY2UiLCByZXNvdXJjZV0KQEAgLTIyNjQsNyArMjI2Nyw3IEBA
IGRlZiByZXNvdXJjZV9yZXN0YXJ0KGFyZ3YpOgogICAgIGlmIHJldHZhbCAhPSAwOgogICAgICAg
ICB1dGlscy5lcnIob3V0cHV0KQogCi0gICAgcHJpbnQgIiVzIHN1Y2Nlc3NmdWxseSByZXN0YXJ0
ZWQiICUgcmVzb3VyY2UKKyAgICBwcmludCgiJXMgc3VjY2Vzc2Z1bGx5IHJlc3RhcnRlZCIgJSBy
ZXNvdXJjZSkKIAogZGVmIHJlc291cmNlX2ZvcmNlX2FjdGlvbihhY3Rpb24sIGFyZ3YpOgogICAg
IGlmIGxlbihhcmd2KSA8IDE6CkBAIC0yMzI4LDcgKzIzMzEsNyBAQCBkZWYgcmVzb3VyY2VfZm9y
Y2VfYWN0aW9uKGFjdGlvbiwgYXJndik6CiAgICAgICAgIHV0aWxzLmVycigic3Rvbml0aCBkZXZp
Y2VzIGFyZSBub3Qgc3VwcG9ydGVkIikKICAgICAgICAgc3lzLmV4aXQocmV0dmFsKQogCi0gICAg
cHJpbnQgb3V0cHV0LAorICAgIHByaW50KG91dHB1dCwgZW5kPSIiKQogICAgIHN5cy5leGl0KHJl
dHZhbCkKIAogZGVmIHJlc291cmNlX21hbmFnZShhcmd2LCBzZXRfbWFuYWdlZCk6CkBAIC0yNDQy
LDI5ICsyNDQ1LDI5IEBAIGRlZiByZXNvdXJjZV9mYWlsY291bnQoYXJndik6CiAgICAgICAgICAg
ICAgICAgICAgICAgICB1dGlscy5lcnIoIlVuYWJsZSB0byByZW1vdmUgZmFpbGNvdW50cyBmcm9t
ICVzIG9uICVzXG4iICUgKHJlc291cmNlLHRhX25vZGUpICsgb3V0cHV0KQogICAgICAgICAgICAg
ICAgICAgICBmYWlsX2NvdW50c19yZW1vdmVkID0gZmFpbF9jb3VudHNfcmVtb3ZlZCArIDEKICAg
ICAgICAgICAgICAgICBlbHNlOgotICAgICAgICAgICAgICAgICAgICBvdXRwdXRfZGljdFt0YV9u
b2RlXSA9ICIgIiArIHRhX25vZGUgKyAiOiAiICsgbnZwLmdldEF0dHJpYnV0ZSgidmFsdWUiKSAr
ICJcbiIKKyAgICAgICAgICAgICAgICAgICAgb3V0cHV0X2RpY3RbdGFfbm9kZV0gPSAiICIgKyB0
YV9ub2RlICsgIjogIiArIG52cC5nZXRBdHRyaWJ1dGUoInZhbHVlIikKICAgICAgICAgICAgICAg
ICBicmVhawogCiAgICAgaWYgcmVzb3VyY2VfY29tbWFuZCA9PSAicmVzZXQiOgogICAgICAgICBp
ZiBmYWlsX2NvdW50c19yZW1vdmVkID09IDA6Ci0gICAgICAgICAgICBwcmludCAiTm8gZmFpbGNv
dW50cyBuZWVkZWQgcmVzZXR0aW5nIgorICAgICAgICAgICAgcHJpbnQoIk5vIGZhaWxjb3VudHMg
bmVlZGVkIHJlc2V0dGluZyIpCiAgICAgaWYgcmVzb3VyY2VfY29tbWFuZCA9PSAic2hvdyI6Ci0g
ICAgICAgIG91dHB1dCA9ICIiCi0gICAgICAgIGZvciBrZXkgaW4gc29ydGVkKG91dHB1dF9kaWN0
Lml0ZXJrZXlzKCkpOgotICAgICAgICAgICAgb3V0cHV0ICs9IG91dHB1dF9kaWN0W2tleV0KKyAg
ICAgICAgb3V0cHV0ID0gW10KKyAgICAgICAgZm9yIGtleSBpbiBzb3J0ZWQob3V0cHV0X2RpY3Qu
a2V5cygpKToKKyAgICAgICAgICAgIG91dHB1dC5hcHBlbmQob3V0cHV0X2RpY3Rba2V5XSkKIAog
Ci0gICAgICAgIGlmIG91dHB1dCA9PSAiIjoKKyAgICAgICAgaWYgbm90IG91dHB1dDoKICAgICAg
ICAgICAgIGlmIGFsbF9ub2RlczoKLSAgICAgICAgICAgICAgICBwcmludCAiTm8gZmFpbGNvdW50
cyBmb3IgJXMiICUgcmVzb3VyY2UKKyAgICAgICAgICAgICAgICBwcmludCgiTm8gZmFpbGNvdW50
cyBmb3IgJXMiICUgcmVzb3VyY2UpCiAgICAgICAgICAgICBlbHNlOgotICAgICAgICAgICAgICAg
IHByaW50ICJObyBmYWlsY291bnRzIGZvciAlcyBvbiAlcyIgJSAocmVzb3VyY2Usbm9kZSkKKyAg
ICAgICAgICAgICAgICBwcmludCgiTm8gZmFpbGNvdW50cyBmb3IgJXMgb24gJXMiICUgKHJlc291
cmNlLG5vZGUpKQogICAgICAgICBlbHNlOgogICAgICAgICAgICAgaWYgYWxsX25vZGVzOgotICAg
ICAgICAgICAgICAgIHByaW50ICJGYWlsY291bnRzIGZvciAlcyIgJSByZXNvdXJjZQorICAgICAg
ICAgICAgICAgIHByaW50KCJGYWlsY291bnRzIGZvciAlcyIgJSByZXNvdXJjZSkKICAgICAgICAg
ICAgIGVsc2U6Ci0gICAgICAgICAgICAgICAgcHJpbnQgIkZhaWxjb3VudHMgZm9yICVzIG9uICVz
IiAlIChyZXNvdXJjZSxub2RlKQotICAgICAgICAgICAgcHJpbnQgb3V0cHV0LAorICAgICAgICAg
ICAgICAgIHByaW50KCJGYWlsY291bnRzIGZvciAlcyBvbiAlcyIgJSAocmVzb3VyY2Usbm9kZSkp
CisgICAgICAgICAgICBwcmludCgiXG4iLmpvaW4ob3V0cHV0KSkKIAogCiBkZWYgc2hvd19kZWZh
dWx0cyhkZWZfdHlwZSwgaW5kZW50PSIiKToKQEAgLTI0NzMsNDggKzI0NzYsNDggQEAgZGVmIHNo
b3dfZGVmYXVsdHMoZGVmX3R5cGUsIGluZGVudD0iIik6CiAgICAgaWYgbGVuKGRlZnMpID4gMDoK
ICAgICAgICAgZGVmcyA9IGRlZnNbMF0KICAgICBlbHNlOgotICAgICAgICBwcmludCBpbmRlbnQg
KyAiTm8gZGVmYXVsdHMgc2V0IgorICAgICAgICBwcmludChpbmRlbnQgKyAiTm8gZGVmYXVsdHMg
c2V0IikKICAgICAgICAgcmV0dXJuCiAKICAgICBmb3VuZERlZmF1bHQgPSBGYWxzZQogICAgIGZv
ciBkIGluIGRlZnMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm52cGFpciIpOgotICAgICAgICBwcmlu
dCBpbmRlbnQgKyBkLmdldEF0dHJpYnV0ZSgibmFtZSIpICsgIjogIiArIGQuZ2V0QXR0cmlidXRl
KCJ2YWx1ZSIpCisgICAgICAgIHByaW50KGluZGVudCArIGQuZ2V0QXR0cmlidXRlKCJuYW1lIikg
KyAiOiAiICsgZC5nZXRBdHRyaWJ1dGUoInZhbHVlIikpCiAgICAgICAgIGZvdW5kRGVmYXVsdCA9
IFRydWUKIAogICAgIGlmIG5vdCBmb3VuZERlZmF1bHQ6Ci0gICAgICAgIHByaW50IGluZGVudCAr
ICJObyBkZWZhdWx0cyBzZXQiCisgICAgICAgIHByaW50KGluZGVudCArICJObyBkZWZhdWx0cyBz
ZXQiKQogCiBkZWYgc2V0X2RlZmF1bHQoZGVmX3R5cGUsIGFyZ3YpOgogICAgIGZvciBhcmcgaW4g
YXJndjoKICAgICAgICAgYXJncyA9IGFyZy5zcGxpdCgnPScpCiAgICAgICAgIGlmIChsZW4oYXJn
cykgIT0gMik6Ci0gICAgICAgICAgICBwcmludCAiSW52YWxpZCBQcm9wZXJ0eTogIiArIGFyZwor
ICAgICAgICAgICAgcHJpbnQoIkludmFsaWQgUHJvcGVydHk6ICIgKyBhcmcpCiAgICAgICAgICAg
ICBjb250aW51ZQogICAgICAgICB1dGlscy5zZXRBdHRyaWJ1dGUoZGVmX3R5cGUsIGFyZ3NbMF0s
IGFyZ3NbMV0pCiAKIGRlZiBwcmludF9ub2RlKG5vZGUsIHRhYiA9IDApOgogICAgIHNwYWNlcyA9
ICIgIiAqIHRhYgogICAgIGlmIG5vZGUudGFnID09ICJncm91cCI6Ci0gICAgICAgIHByaW50IHNw
YWNlcyArICJHcm91cDogIiArIG5vZGUuYXR0cmliWyJpZCJdICsgZ2V0X2F0dHJzKG5vZGUsJyAo
JywnKScpCisgICAgICAgIHByaW50KHNwYWNlcyArICJHcm91cDogIiArIG5vZGUuYXR0cmliWyJp
ZCJdICsgZ2V0X2F0dHJzKG5vZGUsJyAoJywnKScpKQogICAgICAgICBwcmludF9pbnN0YW5jZV92
YXJzX3N0cmluZyhub2RlLCBzcGFjZXMpCiAgICAgICAgIHByaW50X21ldGFfdmFyc19zdHJpbmco
bm9kZSwgc3BhY2VzKQogICAgICAgICBwcmludF9vcGVyYXRpb25zKG5vZGUsIHNwYWNlcykKICAg
ICAgICAgZm9yIGNoaWxkIGluIG5vZGU6CiAgICAgICAgICAgICBwcmludF9ub2RlKGNoaWxkLCB0
YWIgKyAxKQogICAgIGlmIG5vZGUudGFnID09ICJjbG9uZSI6Ci0gICAgICAgIHByaW50IHNwYWNl
cyArICJDbG9uZTogIiArIG5vZGUuYXR0cmliWyJpZCJdICsgZ2V0X2F0dHJzKG5vZGUsJyAoJywn
KScpCisgICAgICAgIHByaW50KHNwYWNlcyArICJDbG9uZTogIiArIG5vZGUuYXR0cmliWyJpZCJd
ICsgZ2V0X2F0dHJzKG5vZGUsJyAoJywnKScpKQogICAgICAgICBwcmludF9pbnN0YW5jZV92YXJz
X3N0cmluZyhub2RlLCBzcGFjZXMpCiAgICAgICAgIHByaW50X21ldGFfdmFyc19zdHJpbmcobm9k
ZSwgc3BhY2VzKQogICAgICAgICBwcmludF9vcGVyYXRpb25zKG5vZGUsIHNwYWNlcykKICAgICAg
ICAgZm9yIGNoaWxkIGluIG5vZGU6CiAgICAgICAgICAgICBwcmludF9ub2RlKGNoaWxkLCB0YWIg
KyAxKQogICAgIGlmIG5vZGUudGFnID09ICJwcmltaXRpdmUiOgotICAgICAgICBwcmludCBzcGFj
ZXMgKyAiUmVzb3VyY2U6ICIgKyBub2RlLmF0dHJpYlsiaWQiXSArIGdldF9hdHRycyhub2RlLCcg
KCcsJyknKQorICAgICAgICBwcmludChzcGFjZXMgKyAiUmVzb3VyY2U6ICIgKyBub2RlLmF0dHJp
YlsiaWQiXSArIGdldF9hdHRycyhub2RlLCcgKCcsJyknKSkKICAgICAgICAgcHJpbnRfaW5zdGFu
Y2VfdmFyc19zdHJpbmcobm9kZSwgc3BhY2VzKQogICAgICAgICBwcmludF9tZXRhX3ZhcnNfc3Ry
aW5nKG5vZGUsIHNwYWNlcykKICAgICAgICAgcHJpbnRfb3BlcmF0aW9ucyhub2RlLCBzcGFjZXMp
CiAgICAgaWYgbm9kZS50YWcgPT0gIm1hc3RlciI6Ci0gICAgICAgIHByaW50IHNwYWNlcyArICJN
YXN0ZXI6ICIgKyBub2RlLmF0dHJpYlsiaWQiXSArIGdldF9hdHRycyhub2RlLCAnICgnLCAnKScp
CisgICAgICAgIHByaW50KHNwYWNlcyArICJNYXN0ZXI6ICIgKyBub2RlLmF0dHJpYlsiaWQiXSAr
IGdldF9hdHRycyhub2RlLCAnICgnLCAnKScpKQogICAgICAgICBwcmludF9pbnN0YW5jZV92YXJz
X3N0cmluZyhub2RlLCBzcGFjZXMpCiAgICAgICAgIHByaW50X21ldGFfdmFyc19zdHJpbmcobm9k
ZSwgc3BhY2VzKQogICAgICAgICBwcmludF9vcGVyYXRpb25zKG5vZGUsIHNwYWNlcykKQEAgLTI1
MjIsMjkgKzI1MjUsMjkgQEAgZGVmIHByaW50X25vZGUobm9kZSwgdGFiID0gMCk6CiAgICAgICAg
ICAgICBwcmludF9ub2RlKGNoaWxkLCB0YWIgKyAxKQogCiBkZWYgcHJpbnRfaW5zdGFuY2VfdmFy
c19zdHJpbmcobm9kZSwgc3BhY2VzKToKLSAgICBvdXRwdXQgPSAiIgotICAgIGl2YXJzID0gbm9k
ZS5maW5kYWxsKCJpbnN0YW5jZV9hdHRyaWJ1dGVzL252cGFpciIpCisgICAgb3V0cHV0ID0gW10K
KyAgICBpdmFycyA9IG5vZGUuZmluZGFsbChzdHIoImluc3RhbmNlX2F0dHJpYnV0ZXMvbnZwYWly
IikpCiAgICAgZm9yIGl2YXIgaW4gaXZhcnM6CiAgICAgICAgIG5hbWUgPSBpdmFyLmF0dHJpYlsi
bmFtZSJdCiAgICAgICAgIHZhbHVlID0gaXZhci5hdHRyaWJbInZhbHVlIl0KLSAgICAgICAgaWYg
dmFsdWUuZmluZCgiICIpICE9IC0xOgorICAgICAgICBpZiAiICIgaW4gdmFsdWU6CiAgICAgICAg
ICAgICB2YWx1ZSA9ICciJyArIHZhbHVlICsgJyInCi0gICAgICAgIG91dHB1dCArPSBuYW1lICsg
Ij0iICsgdmFsdWUgKyAiICIKLSAgICBpZiBvdXRwdXQgIT0gIiI6Ci0gICAgICAgIHByaW50IHNw
YWNlcyArICIgQXR0cmlidXRlczogIiArIG91dHB1dAorICAgICAgICBvdXRwdXQuYXBwZW5kKG5h
bWUgKyAiPSIgKyB2YWx1ZSkKKyAgICBpZiBvdXRwdXQ6CisgICAgICAgIHByaW50KHNwYWNlcyAr
ICIgQXR0cmlidXRlczogIiArICIgIi5qb2luKG91dHB1dCkpCiAKIGRlZiBwcmludF9tZXRhX3Zh
cnNfc3RyaW5nKG5vZGUsIHNwYWNlcyk6CiAgICAgb3V0cHV0ID0gIiIKLSAgICBtdmFycyA9IG5v
ZGUuZmluZGFsbCgibWV0YV9hdHRyaWJ1dGVzL252cGFpciIpCisgICAgbXZhcnMgPSBub2RlLmZp
bmRhbGwoc3RyKCJtZXRhX2F0dHJpYnV0ZXMvbnZwYWlyIikpCiAgICAgZm9yIG12YXIgaW4gbXZh
cnM6CiAgICAgICAgIG91dHB1dCArPSBtdmFyLmF0dHJpYlsibmFtZSJdICsgIj0iICsgbXZhci5h
dHRyaWJbInZhbHVlIl0gKyAiICIKICAgICBpZiBvdXRwdXQgIT0gIiI6Ci0gICAgICAgIHByaW50
IHNwYWNlcyArICIgTWV0YSBBdHRyczogIiArIG91dHB1dAorICAgICAgICBwcmludChzcGFjZXMg
KyAiIE1ldGEgQXR0cnM6ICIgKyBvdXRwdXQpCiAKIGRlZiBwcmludF9vcGVyYXRpb25zKG5vZGUs
IHNwYWNlcyk6CiAgICAgaW5kZW50ID0gbGVuKHNwYWNlcykgKyBsZW4oIiBPcGVyYXRpb25zOiAi
KQogICAgIG91dHB1dCA9ICIiCi0gICAgb3BzID0gbm9kZS5maW5kYWxsKCJvcGVyYXRpb25zL29w
IikKKyAgICBvcHMgPSBub2RlLmZpbmRhbGwoc3RyKCJvcGVyYXRpb25zL29wIikpCiAgICAgZmly
c3QgPSBUcnVlCiAgICAgZm9yIG9wIGluIG9wczoKICAgICAgICAgaWYgbm90IGZpcnN0OgpAQCAt
MjU1Niw3ICsyNTU5LDcgQEAgZGVmIHByaW50X29wZXJhdGlvbnMobm9kZSwgc3BhY2VzKToKICAg
ICAgICAgICAgIGlmIGF0dHIgaW4gWyJpZCIsIm5hbWUiXSA6CiAgICAgICAgICAgICAgICAgY29u
dGludWUKICAgICAgICAgICAgIG91dHB1dCArPSBhdHRyICsgIj0iICsgdmFsICsgIiAiCi0gICAg
ICAgIGZvciBjaGlsZCBpbiBvcC5maW5kYWxsKCIuLy9udnBhaXIiKToKKyAgICAgICAgZm9yIGNo
aWxkIGluIG9wLmZpbmRhbGwoc3RyKCIuLy9udnBhaXIiKSk6CiAgICAgICAgICAgICBvdXRwdXQg
Kz0gY2hpbGQuZ2V0KCJuYW1lIikgKyAiPSIgKyBjaGlsZC5nZXQoInZhbHVlIikgKyAiICIKIAog
ICAgICAgICBvdXRwdXQgKz0gIigiICsgb3AuYXR0cmliWyJpZCJdICsgIikiCkBAIC0yNTY0LDcg
KzI1NjcsNyBAQCBkZWYgcHJpbnRfb3BlcmF0aW9ucyhub2RlLCBzcGFjZXMpOgogCiAgICAgb3V0
cHV0ID0gb3V0cHV0LnJzdHJpcCgpCiAgICAgaWYgb3V0cHV0ICE9ICIiOgotICAgICAgICBwcmlu
dCBzcGFjZXMgKyAiIE9wZXJhdGlvbnM6ICIgKyBvdXRwdXQKKyAgICAgICAgcHJpbnQoc3BhY2Vz
ICsgIiBPcGVyYXRpb25zOiAiICsgb3V0cHV0KQogCiBkZWYgb3BlcmF0aW9uX3RvX3N0cmluZyhv
cF9lbCk6CiAgICAgcGFydHMgPSBbXQpAQCAtMjU5NiwxNCArMjU5OSwxNCBAQCBkZWYgcmVzb3Vy
Y2VfY2xlYW51cChyZXNfaWQpOgogICAgIGlmIHJldHZhbCAhPSAwOgogICAgICAgICB1dGlscy5l
cnIoIlVuYWJsZSB0byBjbGVhbnVwIHJlc291cmNlOiAlcyIgJSByZXNfaWQgKyAiXG4iICsgb3V0
cHV0KQogICAgIGVsc2U6Ci0gICAgICAgIHByaW50IG91dHB1dAorICAgICAgICBwcmludChvdXRw
dXQpCiAKIGRlZiByZXNvdXJjZV9jbGVhbnVwX2FsbCgpOgogICAgIChvdXRwdXQsIHJldHZhbCkg
PSB1dGlscy5ydW4oWyJjcm1fcmVzb3VyY2UiLCAiLUMiXSkKICAgICBpZiByZXR2YWwgIT0gMDoK
ICAgICAgICAgdXRpbHMuZXJyKCJVbmV4cGVjdGVkIGVycm9yIG9jY3VyZWQuICdjcm1fcmVzb3Vy
Y2UgLUMnIGVycl9jb2RlOiAlc1xuJXMiICUgKHJldHZhbCwgb3V0cHV0KSkKICAgICBlbHNlOgot
ICAgICAgICBwcmludCBvdXRwdXQKKyAgICAgICAgcHJpbnQob3V0cHV0KQogCiBkZWYgcmVzb3Vy
Y2VfaGlzdG9yeShhcmdzKToKICAgICBkb20gPSB1dGlscy5nZXRfY2liX2RvbSgpCkBAIC0yNjE4
LDE4ICsyNjIxLDE4IEBAIGRlZiByZXNvdXJjZV9oaXN0b3J5KGFyZ3MpOgogICAgICAgICAgICAg
cmVzb3VyY2VzW3Jlc19pZF1bcnNjX29wLmdldEF0dHJpYnV0ZSgiY2FsbC1pZCIpXSA9IFtyZXNf
aWQsIHJzY19vcF0KICAgICAKICAgICBmb3IgcmVzIGluIHNvcnRlZChyZXNvdXJjZXMpOgotICAg
ICAgICBwcmludCAiUmVzb3VyY2U6ICVzIiAlIHJlcworICAgICAgICBwcmludCgiUmVzb3VyY2U6
ICVzIiAlIHJlcykKICAgICAgICAgZm9yIGNpZCBpbiBzb3J0ZWQocmVzb3VyY2VzW3Jlc10pOgog
ICAgICAgICAgICAgKGxhc3RfZGF0ZSxyZXR2YWwpID0gdXRpbHMucnVuKFsiZGF0ZSIsIi1kIiwg
IkAiICsgcmVzb3VyY2VzW3Jlc11bY2lkXVsxXS5nZXRBdHRyaWJ1dGUoImxhc3QtcmMtY2hhbmdl
IildKQogICAgICAgICAgICAgbGFzdF9kYXRlID0gbGFzdF9kYXRlLnJzdHJpcCgpCiAgICAgICAg
ICAgICByY19jb2RlID0gcmVzb3VyY2VzW3Jlc11bY2lkXVsxXS5nZXRBdHRyaWJ1dGUoInJjLWNv
ZGUiKQogICAgICAgICAgICAgb3BlcmF0aW9uID0gcmVzb3VyY2VzW3Jlc11bY2lkXVsxXS5nZXRB
dHRyaWJ1dGUoIm9wZXJhdGlvbiIpIAogICAgICAgICAgICAgaWYgcmNfY29kZSAhPSAiMCI6Ci0g
ICAgICAgICAgICAgICAgcHJpbnQgIiAgRmFpbGVkIG9uICVzIiAlIGxhc3RfZGF0ZQorICAgICAg
ICAgICAgICAgIHByaW50KCIgIEZhaWxlZCBvbiAlcyIgJSBsYXN0X2RhdGUpCiAgICAgICAgICAg
ICBlbGlmIG9wZXJhdGlvbiA9PSAic3RvcCI6Ci0gICAgICAgICAgICAgICAgcHJpbnQgIiAgU3Rv
cHBlZCBvbiBub2RlIHh4IG9uICVzIiAlIGxhc3RfZGF0ZQorICAgICAgICAgICAgICAgIHByaW50
KCIgIFN0b3BwZWQgb24gbm9kZSB4eCBvbiAlcyIgJSBsYXN0X2RhdGUpCiAgICAgICAgICAgICBl
bGlmIG9wZXJhdGlvbiA9PSAic3RhcnQiOgotICAgICAgICAgICAgICAgIHByaW50ICIgIFN0YXJ0
ZWQgb24gbm9kZSB4eCAlcyIgJSBsYXN0X2RhdGUKKyAgICAgICAgICAgICAgICBwcmludCgiICBT
dGFydGVkIG9uIG5vZGUgeHggJXMiICUgbGFzdF9kYXRlKQogCiBkZWYgcmVzb3VyY2VfcmVsb2Nh
dGUoYXJndik6CiAgICAgaWYgbGVuKGFyZ3YpIDwgMToKQEAgLTI3MTAsNyArMjcxMyw3IEBAIGRl
ZiByZXNvdXJjZV9yZWxvY2F0ZV9nZXRfbG9jYXRpb25zKGNpYl9kb20sIHJlc291cmNlcz1Ob25l
KToKICAgICApCiAgICAgIyBmaWx0ZXIgb3V0IG5vbi1yZXF1ZXN0ZWQgcmVzb3VyY2VzCiAgICAg
aWYgbm90IHJlc291cmNlczoKLSAgICAgICAgcmV0dXJuIGxvY2F0aW9ucy52YWx1ZXMoKQorICAg
ICAgICByZXR1cm4gbGlzdChsb2NhdGlvbnMudmFsdWVzKCkpCiAgICAgcmV0dXJuIFsKICAgICAg
ICAgdmFsIGZvciB2YWwgaW4gbG9jYXRpb25zLnZhbHVlcygpCiAgICAgICAgIGlmIHZhbFsiaWQi
XSBpbiB1cGRhdGVkX3Jlc291cmNlcwpAQCAtMjczMiw3ICsyNzM1LDcgQEAgZGVmIHJlc291cmNl
X3JlbG9jYXRlX3Nob3coY2liX2RvbSk6CiAgICAgICAgICAgICBpbl9zdGF0dXMgPSBGYWxzZQog
ICAgICAgICAgICAgaW5fc3RhdHVzX3Jlc291cmNlcyA9IEZhbHNlCiAgICAgICAgICAgICBpbl90
cmFuc2l0aW9ucyA9IFRydWUKLSAgICAgICAgICAgIHByaW50CisgICAgICAgICAgICBwcmludCgp
CiAgICAgICAgIGVsaWYgbGluZS5zdHJpcCgpID09ICIiOgogICAgICAgICAgICAgaWYgaW5fc3Rh
dHVzOgogICAgICAgICAgICAgICAgIGluX3N0YXR1cyA9IEZhbHNlCkBAIC0yNzQzLDcgKzI3NDYs
NyBAQCBkZWYgcmVzb3VyY2VfcmVsb2NhdGVfc2hvdyhjaWJfZG9tKToKICAgICAgICAgICAgICAg
ICBpbl9zdGF0dXNfcmVzb3VyY2VzID0gRmFsc2UKICAgICAgICAgICAgICAgICBpbl90cmFuc2l0
aW9ucyA9IEZhbHNlCiAgICAgICAgIGlmIGluX3N0YXR1cyBvciBpbl9zdGF0dXNfcmVzb3VyY2Vz
IG9yIGluX3RyYW5zaXRpb25zOgotICAgICAgICAgICAgcHJpbnQgbGluZQorICAgICAgICAgICAg
cHJpbnQobGluZSkKIAogZGVmIHJlc291cmNlX3JlbG9jYXRlX2xvY2F0aW9uX3RvX3N0cihsb2Nh
dGlvbik6CiAgICAgbWVzc2FnZSA9ICJDcmVhdGluZyBsb2NhdGlvbiBjb25zdHJhaW50OiB7cmVz
fSBwcmVmZXJzIHtub2RlfT1JTkZJTklUWXtyb2xlfSIKQEAgLTI3NzQsNyArMjc3Nyw3IEBAIGRl
ZiByZXNvdXJjZV9yZWxvY2F0ZV9ydW4oY2liX2RvbSwgcmVzb3VyY2VzPU5vbmUsIGRyeT1UcnVl
KToKICAgICAgICAgaWYgbm90KCJzdGFydF9vbl9ub2RlIiBpbiBsb2NhdGlvbiBvciAicHJvbW90
ZV9vbl9ub2RlIiBpbiBsb2NhdGlvbik6CiAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICBh
bnl0aGluZ19jaGFuZ2VkID0gVHJ1ZQotICAgICAgICBwcmludCByZXNvdXJjZV9yZWxvY2F0ZV9s
b2NhdGlvbl90b19zdHIobG9jYXRpb24pCisgICAgICAgIHByaW50KHJlc291cmNlX3JlbG9jYXRl
X2xvY2F0aW9uX3RvX3N0cihsb2NhdGlvbikpCiAgICAgICAgIGNvbnN0cmFpbnRfaWQgPSB1dGls
cy5maW5kX3VuaXF1ZV9pZCgKICAgICAgICAgICAgIGNpYl9kb20sCiAgICAgICAgICAgICBSRVNP
VVJDRV9SRUxPQ0FURV9DT05TVFJBSU5UX1BSRUZJWCArIGxvY2F0aW9uWyJpZF9mb3JfY29uc3Ry
YWludCJdCkBAIC0yNzk1LDkgKzI3OTgsOSBAQCBkZWYgcmVzb3VyY2VfcmVsb2NhdGVfcnVuKGNp
Yl9kb20sIHJlc291cmNlcz1Ob25lLCBkcnk9VHJ1ZSk6CiAgICAgICAgIHV0aWxzLnJlcGxhY2Vf
Y2liX2NvbmZpZ3VyYXRpb24oY2liX2RvbSkKIAogICAgICMgd2FpdCBmb3IgcmVzb3VyY2VzIHRv
IG1vdmUKLSAgICBwcmludAotICAgIHByaW50ICJXYWl0aW5nIGZvciByZXNvdXJjZXMgdG8gbW92
ZS4uLiIKLSAgICBwcmludAorICAgIHByaW50KCkKKyAgICBwcmludCgiV2FpdGluZyBmb3IgcmVz
b3VyY2VzIHRvIG1vdmUuLi4iKQorICAgIHByaW50KCkKICAgICBpZiBub3QgZHJ5OgogICAgICAg
ICBvdXRwdXQsIHJldHZhbCA9IHV0aWxzLnJ1bihbImNybV9yZXNvdXJjZSIsICItLXdhaXQiXSkK
ICAgICAgICAgaWYgcmV0dmFsICE9IDA6CkBAIC0yODIwLDcgKzI4MjMsNyBAQCBkZWYgcmVzb3Vy
Y2VfcmVsb2NhdGVfY2xlYXIoY2liX2RvbSk6CiAgICAgICAgIGZvciBsb2NhdGlvbl9lbCBpbiBj
b25zdHJhaW50X2VsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJyc2NfbG9jYXRpb24iKToKICAgICAg
ICAgICAgIGxvY2F0aW9uX2lkID0gbG9jYXRpb25fZWwuZ2V0QXR0cmlidXRlKCJpZCIpCiAgICAg
ICAgICAgICBpZiBsb2NhdGlvbl9pZC5zdGFydHN3aXRoKFJFU09VUkNFX1JFTE9DQVRFX0NPTlNU
UkFJTlRfUFJFRklYKToKLSAgICAgICAgICAgICAgICBwcmludCAiUmVtb3ZpbmcgY29uc3RyYWlu
dCB7MH0iLmZvcm1hdChsb2NhdGlvbl9pZCkKKyAgICAgICAgICAgICAgICBwcmludCgiUmVtb3Zp
bmcgY29uc3RyYWludCB7MH0iLmZvcm1hdChsb2NhdGlvbl9pZCkpCiAgICAgICAgICAgICAgICAg
bG9jYXRpb25fZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsb2NhdGlvbl9lbCkKICAgICByZXR1
cm4gY2liX2RvbQogCmRpZmYgLS1naXQgYS9wY3MvcnVsZS5weSBiL3Bjcy9ydWxlLnB5CmluZGV4
IGU1NjA2ZGIuLjkyNDA3ZWYgMTAwNjQ0Ci0tLSBhL3Bjcy9ydWxlLnB5CisrKyBiL3Bjcy9ydWxl
LnB5CkBAIC0xLDcgKzEsMTQgQEAKK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgYWJzb2x1dGVfaW1w
b3J0Citmcm9tIF9fZnV0dXJlX18gaW1wb3J0IGRpdmlzaW9uCitmcm9tIF9fZnV0dXJlX18gaW1w
b3J0IHByaW50X2Z1bmN0aW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHVuaWNvZGVfbGl0ZXJh
bHMKKwogaW1wb3J0IHJlCiBpbXBvcnQgeG1sLmRvbS5taW5pZG9tCisKIGltcG9ydCB1dGlscwog
CisKICMgbWFpbiBmdW5jdGlvbnMKIAogZGVmIHBhcnNlX2FyZ3YoYXJndiwgZXh0cmFfb3B0aW9u
cz1Ob25lKToKQEAgLTM0LDcgKzQxLDcgQEAgZGVmIGRvbV9ydWxlX2FkZChkb21fZWxlbWVudCwg
b3B0aW9ucywgcnVsZV9hcmd2KToKICAgICAgICAgdXRpbHMuZXJyKCJjYW4gbm90IHNwZWNpZnkg
Ym90aCBzY29yZSBhbmQgc2NvcmUtYXR0cmlidXRlIikKICAgICBpZiBvcHRpb25zLmdldCgic2Nv
cmUiKSBhbmQgbm90IHV0aWxzLmlzX3Njb3JlKG9wdGlvbnNbInNjb3JlIl0pOgogICAgICAgICAj
IHByZXNlcnZpbmcgbGVnYWN5IGJlaGF2aW91cgotICAgICAgICBwcmludCAoCisgICAgICAgIHBy
aW50KAogICAgICAgICAgICAgIldhcm5pbmc6IGludmFsaWQgc2NvcmUgJyVzJywgc2V0dGluZyBz
Y29yZS1hdHRyaWJ1dGU9cGluZ2QgaW5zdGVhZCIKICAgICAgICAgICAgICUgb3B0aW9uc1sic2Nv
cmUiXQogICAgICAgICApCkBAIC03OSw3ICs4Niw3IEBAIGRlZiBkb21fcnVsZV9hZGQoZG9tX2Vs
ZW1lbnQsIG9wdGlvbnMsIHJ1bGVfYXJndik6CiAgICAgIyBhZGQgb3B0aW9ucyBpbnRvIHJ1bGUg
eG1sCiAgICAgaWYgbm90IG9wdGlvbnMuZ2V0KCJzY29yZSIpIGFuZCBub3Qgb3B0aW9ucy5nZXQo
InNjb3JlLWF0dHJpYnV0ZSIpOgogICAgICAgICBvcHRpb25zWyJzY29yZSJdID0gIklORklOSVRZ
IgotICAgIGZvciBuYW1lLCB2YWx1ZSBpbiBvcHRpb25zLml0ZXJpdGVtcygpOgorICAgIGZvciBu
YW1lLCB2YWx1ZSBpbiBvcHRpb25zLml0ZW1zKCk6CiAgICAgICAgIGlmIG5hbWUgIT0gImlkIiBh
bmQgdmFsdWUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICBkb21fcnVsZS5zZXRBdHRyaWJ1dGUo
bmFtZSwgdmFsdWUpCiAgICAgIyBzY29yZSBvciBzY29yZS1hdHRyaWJ1dGUgaXMgcmVxdWlyZWQg
Zm9yIHRoZSBuZXN0ZWQgcnVsZXMgaW4gb3JkZXIgdG8gaGF2ZQpAQCAtMjYwLDggKzI2Nyw5IEBA
IGNsYXNzIEV4cG9ydEFzRXhwcmVzc2lvbihvYmplY3QpOgogCiAgICAgZGVmIGxpc3RfYXR0cmli
dXRlcyhzZWxmLCBlbGVtZW50KToKICAgICAgICAgYXR0cmlidXRlcyA9IHV0aWxzLmRvbV9hdHRy
c190b19saXN0KGVsZW1lbnQsIHdpdGhfaWQ9RmFsc2UpCi0gICAgICAgIGlmIHNlbGYubm9ybWFs
aXplOgotICAgICAgICAgICAgYXR0cmlidXRlcy5zb3J0KCkKKyAgICAgICAgIyBzb3J0IGl0IGFs
d2F5cyB0byBnZXQgdGhlIHNhbWUgb3V0cHV0IGZvciB0aGUgc2FtZSBpbnB1dCBhcyBkaWN0IGlz
CisgICAgICAgICMgdW5vcmRlcmVkCisgICAgICAgIGF0dHJpYnV0ZXMuc29ydCgpCiAgICAgICAg
IHJldHVybiBhdHRyaWJ1dGVzCiAKIApAQCAtNDQwLDcgKzQ0OCw4IEBAIGNsYXNzIFN5bWJvbFRh
YmxlKG9iamVjdCk6CiAgICAgICAgIGlmIG5vdCBzZWxmLmhhc19zeW1ib2woc3ltYm9sX2lkKToK
ICAgICAgICAgICAgIGNsYXNzIFN5bWJvbENsYXNzKHN1cGVyY2xhc3MpOgogICAgICAgICAgICAg
ICAgIHBhc3MKLSAgICAgICAgICAgIFN5bWJvbENsYXNzLl9fbmFtZV9fID0gInN5bWJvbF8iICsg
c3ltYm9sX2lkCisgICAgICAgICAgICAjIGVuZm9yY2Ugc3RyIHRvIGJlIGJvdGggcHl0aG9uMiBh
bmQgcHl0aG9uMyBjb21wYXRpYmxlCisgICAgICAgICAgICBTeW1ib2xDbGFzcy5fX25hbWVfXyA9
IHN0cigic3ltYm9sXyIgKyBzeW1ib2xfaWQpCiAgICAgICAgICAgICBTeW1ib2xDbGFzcy5zeW1i
b2xfaWQgPSBzeW1ib2xfaWQKICAgICAgICAgICAgIFN5bWJvbENsYXNzLmxlZnRfYmluZGluZ19w
b3dlciA9IGJpbmRpbmdfcG93ZXIKICAgICAgICAgICAgIGlmIGV4cHJlc3Npb25fZnVuYzoKQEAg
LTYxNiw4ICs2MjUsMTMgQEAgY2xhc3MgRGF0ZUNvbW1vblZhbHVlKG9iamVjdCk6CiAgICAgICAg
IHJldHVybiBGYWxzZQogCiAgICAgZGVmIF9fc3RyX18oc2VsZik6CisgICAgICAgICMgc29ydCBp
dCBhbHdheXMgdG8gZ2V0IHRoZSBzYW1lIG91dHB1dCBmb3IgdGhlIHNhbWUgaW5wdXQgYXMgZGlj
dCBpcworICAgICAgICAjIHVub3JkZXJlZAogICAgICAgICByZXR1cm4gIiAiLmpvaW4oCi0gICAg
ICAgICAgICBbIiVzPSVzIiAlIChuYW1lLCB2YWx1ZSkgZm9yIG5hbWUsIHZhbHVlIGluIHNlbGYu
cGFydHMuaXRlcml0ZW1zKCldCisgICAgICAgICAgICBbCisgICAgICAgICAgICAgICAgIiVzPSVz
IiAlIChuYW1lLCB2YWx1ZSkKKyAgICAgICAgICAgICAgICBmb3IgbmFtZSwgdmFsdWUgaW4gc29y
dGVkKHNlbGYucGFydHMuaXRlbXMoKSkKKyAgICAgICAgICAgIF0KICAgICAgICAgKQogCiAKQEAg
LTY0MCw3ICs2NTQsNyBAQCBjbGFzcyBEYXRlU3BlY1ZhbHVlKERhdGVDb21tb25WYWx1ZSk6CiAg
ICAgICAgIHN1cGVyKERhdGVTcGVjVmFsdWUsIHNlbGYpLl9faW5pdF9fKHBhcnRzX3N0cmluZywg
c2VsZi5LRVlXT1JEKQogCiAgICAgZGVmIHZhbGlkYXRlKHNlbGYpOgotICAgICAgICBmb3IgbmFt
ZSwgdmFsdWUgaW4gc2VsZi5wYXJ0cy5pdGVyaXRlbXMoKToKKyAgICAgICAgZm9yIG5hbWUsIHZh
bHVlIGluIHNlbGYucGFydHMuaXRlbXMoKToKICAgICAgICAgICAgIGlmIG5vdCBzZWxmLnZhbGlk
X3BhcnQobmFtZSwgdmFsdWUpOgogICAgICAgICAgICAgICAgIHJhaXNlIFN5bnRheEVycm9yKAog
ICAgICAgICAgICAgICAgICAgICAiaW52YWxpZCAlcyAnJXMnIGluICclcyciCkBAIC02NzcsNyAr
NjkxLDcgQEAgY2xhc3MgRGF0ZUR1cmF0aW9uVmFsdWUoRGF0ZUNvbW1vblZhbHVlKToKICAgICAg
ICAgc3VwZXIoRGF0ZUR1cmF0aW9uVmFsdWUsIHNlbGYpLl9faW5pdF9fKHBhcnRzX3N0cmluZywg
c2VsZi5LRVlXT1JEKQogCiAgICAgZGVmIHZhbGlkYXRlKHNlbGYpOgotICAgICAgICBmb3IgbmFt
ZSwgdmFsdWUgaW4gc2VsZi5wYXJ0cy5pdGVyaXRlbXMoKToKKyAgICAgICAgZm9yIG5hbWUsIHZh
bHVlIGluIHNlbGYucGFydHMuaXRlbXMoKToKICAgICAgICAgICAgIGlmIG5vdCB2YWx1ZS5pc2Rp
Z2l0KCk6CiAgICAgICAgICAgICAgICAgcmFpc2UgU3ludGF4RXJyb3IoCiAgICAgICAgICAgICAg
ICAgICAgICJpbnZhbGlkICVzICclcycgaW4gJyVzJyIKQEAgLTg1OSw3ICs4NzMsNyBAQCBjbGFz
cyBDaWJCdWlsZGVyKG9iamVjdCk6CiAgICAgICAgICAgICAiZGF0ZV9zcGVjIiwKICAgICAgICAg
ICAgIGRvbV9leHByZXNzaW9uLmdldEF0dHJpYnV0ZSgiaWQiKSArICItZGF0ZXNwZWMiCiAgICAg
ICAgICkKLSAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gc3ludGFjdGljX3RyZWUuY2hpbGRyZW5b
MF0udmFsdWUucGFydHMuaXRlcml0ZW1zKCk6CisgICAgICAgIGZvciBrZXksIHZhbHVlIGluIHN5
bnRhY3RpY190cmVlLmNoaWxkcmVuWzBdLnZhbHVlLnBhcnRzLml0ZW1zKCk6CiAgICAgICAgICAg
ICBkb21fZGF0ZXNwZWMuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpCiAKICAgICBkZWYgYnVpbGRf
ZXhwcmVzc2lvbihzZWxmLCBkb21fZWxlbWVudCwgc3ludGFjdGljX3RyZWUpOgpAQCAtOTEyLDcg
KzkyNiw3IEBAIGNsYXNzIENpYkJ1aWxkZXIob2JqZWN0KToKICAgICAgICAgICAgICAgICAgICAg
ZG9tX2V4cHJlc3Npb24uZ2V0QXR0cmlidXRlKCJpZCIpICsgIi1kdXJhdGlvbiIKICAgICAgICAg
ICAgICAgICApCiAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSBzeW50YWN0aWNfdHJlZS5jaGls
ZHJlblsyXS5jaGlsZHJlblswXS52YWx1ZQotICAgICAgICAgICAgICAgIGZvciBrZXksIHZhbHVl
IGluIGR1cmF0aW9uLnBhcnRzLml0ZXJpdGVtcygpOgorICAgICAgICAgICAgICAgIGZvciBrZXks
IHZhbHVlIGluIGR1cmF0aW9uLnBhcnRzLml0ZW1zKCk6CiAgICAgICAgICAgICAgICAgICAgIGRv
bV9kdXJhdGlvbi5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSkKICAgICAgICAgICAgIGVsc2U6CiAg
ICAgICAgICAgICAgICAgZG9tX2V4cHJlc3Npb24uc2V0QXR0cmlidXRlKApkaWZmIC0tZ2l0IGEv
cGNzL3N0YXR1cy5weSBiL3Bjcy9zdGF0dXMucHkKaW5kZXggZDMxMGNkMC4uZDU2MzdmZCAxMDA2
NDQKLS0tIGEvcGNzL3N0YXR1cy5weQorKysgYi9wY3Mvc3RhdHVzLnB5CkBAIC0xLDggKzEsMTAg
QEAKK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgYWJzb2x1dGVfaW1wb3J0Citmcm9tIF9fZnV0dXJl
X18gaW1wb3J0IGRpdmlzaW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHByaW50X2Z1bmN0aW9u
Citmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHVuaWNvZGVfbGl0ZXJhbHMKKwogaW1wb3J0IHN5cwog
aW1wb3J0IG9zCi1pbXBvcnQgeG1sLmRvbS5taW5pZG9tCi1mcm9tIHhtbC5kb20ubWluaWRvbSBp
bXBvcnQgcGFyc2VTdHJpbmcKLWltcG9ydCByZQogCiBpbXBvcnQgcmVzb3VyY2UKIGltcG9ydCBj
bHVzdGVyCkBAIC00OCw3ICs1MCw3IEBAIGRlZiBmdWxsX3N0YXR1cygpOgogCiAgICAgaWYgbm90
IHV0aWxzLnVzZWZpbGUgb3IgIi0tY29yb3N5bmNfY29uZiIgaW4gdXRpbHMucGNzX29wdGlvbnM6
CiAgICAgICAgIGNsdXN0ZXJfbmFtZSA9IHV0aWxzLmdldENsdXN0ZXJOYW1lKCkKLSAgICAgICAg
cHJpbnQgIkNsdXN0ZXIgbmFtZTogJXMiICUgY2x1c3Rlcl9uYW1lCisgICAgICAgIHByaW50KCJD
bHVzdGVyIG5hbWU6ICVzIiAlIGNsdXN0ZXJfbmFtZSkKIAogICAgIGlmIHV0aWxzLnN0b25pdGhD
aGVjaygpOgogICAgICAgICBwcmludCgiV0FSTklORzogbm8gc3Rvbml0aCBkZXZpY2VzIGFuZCBz
dG9uaXRoLWVuYWJsZWQgaXMgbm90IGZhbHNlIikKQEAgLTU2LDM3ICs1OCwzNCBAQCBkZWYgZnVs
bF9zdGF0dXMoKToKICAgICBpZiB1dGlscy5jb3Jvc3luY1BhY2VtYWtlck5vZGVDaGVjaygpOgog
ICAgICAgICBwcmludCgiV0FSTklORzogY29yb3N5bmMgYW5kIHBhY2VtYWtlciBub2RlIG5hbWVz
IGRvIG5vdCBtYXRjaCAoSVBzIHVzZWQgaW4gc2V0dXA/KSIpCiAKLSAgICBwcmludCBvdXRwdXQK
KyAgICBwcmludChvdXRwdXQpCiAKICAgICBpZiBub3QgdXRpbHMudXNlZmlsZToKICAgICAgICAg
cHJpbnRfcGNzZF9kYWVtb25fc3RhdHVzKCkKLSAgICAgICAgcHJpbnQKKyAgICAgICAgcHJpbnQo
KQogICAgICAgICB1dGlscy5zZXJ2aWNlU3RhdHVzKCIgICIpCiAKICMgUGFyc2UgY3JtX21vbiBm
b3Igc3RhdHVzCiBkZWYgbm9kZXNfc3RhdHVzKGFyZ3YpOgogICAgIGlmIGxlbihhcmd2KSA9PSAx
IGFuZCBhcmd2WzBdID09ICJwYWNlbWFrZXItaWQiOgogICAgICAgICBmb3Igbm9kZV9pZCwgbm9k
ZV9uYW1lIGluIHV0aWxzLmdldFBhY2VtYWtlck5vZGVzSUQoKS5pdGVtcygpOgotICAgICAgICAg
ICAgcHJpbnQgInswfSB7MX0iLmZvcm1hdChub2RlX2lkLCBub2RlX25hbWUpCisgICAgICAgICAg
ICBwcmludCgiezB9IHsxfSIuZm9ybWF0KG5vZGVfaWQsIG5vZGVfbmFtZSkpCiAgICAgICAgIHJl
dHVybgogCiAgICAgaWYgbGVuKGFyZ3YpID09IDEgYW5kIGFyZ3ZbMF0gPT0gImNvcm9zeW5jLWlk
IjoKICAgICAgICAgZm9yIG5vZGVfaWQsIG5vZGVfbmFtZSBpbiB1dGlscy5nZXRDb3Jvc3luY05v
ZGVzSUQoKS5pdGVtcygpOgotICAgICAgICAgICAgcHJpbnQgInswfSB7MX0iLmZvcm1hdChub2Rl
X2lkLCBub2RlX25hbWUpCisgICAgICAgICAgICBwcmludCgiezB9IHsxfSIuZm9ybWF0KG5vZGVf
aWQsIG5vZGVfbmFtZSkpCiAgICAgICAgIHJldHVybgogCiAgICAgaWYgbGVuKGFyZ3YpID09IDEg
YW5kIChhcmd2WzBdID09ICJjb25maWciKToKICAgICAgICAgY29yb3N5bmNfbm9kZXMgPSB1dGls
cy5nZXROb2Rlc0Zyb21Db3Jvc3luY0NvbmYoKQogICAgICAgICBwYWNlbWFrZXJfbm9kZXMgPSB1
dGlscy5nZXROb2Rlc0Zyb21QYWNlbWFrZXIoKQotICAgICAgICBwcmludCAiQ29yb3N5bmMgTm9k
ZXM6IgotICAgICAgICBwcmludCAiIiwKLSAgICAgICAgZm9yIG5vZGUgaW4gY29yb3N5bmNfbm9k
ZXM6Ci0gICAgICAgICAgICBwcmludCBub2RlLnN0cmlwKCksCi0gICAgICAgIHByaW50ICIiCi0g
ICAgICAgIHByaW50ICJQYWNlbWFrZXIgTm9kZXM6IgotICAgICAgICBwcmludCAiIiwKLSAgICAg
ICAgZm9yIG5vZGUgaW4gcGFjZW1ha2VyX25vZGVzOgotICAgICAgICAgICAgcHJpbnQgbm9kZS5z
dHJpcCgpLAorICAgICAgICBwcmludCgiQ29yb3N5bmMgTm9kZXM6IikKKyAgICAgICAgaWYgY29y
b3N5bmNfbm9kZXM6CisgICAgICAgICAgICBwcmludCgiICIgKyAiICIuam9pbihjb3Jvc3luY19u
b2RlcykpCisgICAgICAgIHByaW50KCJQYWNlbWFrZXIgTm9kZXM6IikKKyAgICAgICAgaWYgcGFj
ZW1ha2VyX25vZGVzOgorICAgICAgICAgICAgcHJpbnQoIiAiICsgIiAiLmpvaW4ocGFjZW1ha2Vy
X25vZGVzKSkKIAogICAgICAgICByZXR1cm4KIApAQCAtMTAyLDE1ICsxMDEsOSBAQCBkZWYgbm9k
ZXNfc3RhdHVzKGFyZ3YpOgogCiAgICAgICAgIG9ubGluZV9ub2Rlcy5zb3J0KCkKICAgICAgICAg
b2ZmbGluZV9ub2Rlcy5zb3J0KCkKLSAgICAgICAgcHJpbnQgIkNvcm9zeW5jIE5vZGVzOiIKLSAg
ICAgICAgcHJpbnQgIiBPbmxpbmU6IiwKLSAgICAgICAgZm9yIG5vZGUgaW4gb25saW5lX25vZGVz
OgotICAgICAgICAgICAgcHJpbnQgbm9kZSwKLSAgICAgICAgcHJpbnQgIiIKLSAgICAgICAgcHJp
bnQgIiBPZmZsaW5lOiIsCi0gICAgICAgIGZvciBub2RlIGluIG9mZmxpbmVfbm9kZXM6Ci0gICAg
ICAgICAgICBwcmludCBub2RlLAotICAgICAgICBwcmludCAiIgorICAgICAgICBwcmludCgiQ29y
b3N5bmMgTm9kZXM6IikKKyAgICAgICAgcHJpbnQoIiAiLmpvaW4oWyIgT25saW5lOiJdICsgb25s
aW5lX25vZGVzKSkKKyAgICAgICAgcHJpbnQoIiAiLmpvaW4oWyIgT2ZmbGluZToiXSArIG9mZmxp
bmVfbm9kZXMpKQogICAgICAgICBpZiBhcmd2WzBdICE9ICJib3RoIjoKICAgICAgICAgICAgIHN5
cy5leGl0KDApCiAKQEAgLTE1Myw1NSArMTQ2LDIzIEBAIGRlZiBub2Rlc19zdGF0dXMoYXJndik6
CiAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgIG9mZmxpbmVub2Rlcy5hcHBlbmQo
bm9kZV9uYW1lKQogCi0gICAgcHJpbnQgIlBhY2VtYWtlciBOb2RlczoiCi0KLSAgICBwcmludCAi
IE9ubGluZToiLAotICAgIGZvciBub2RlIGluIG9ubGluZW5vZGVzOgotICAgICAgICBwcmludCBu
b2RlLAotICAgIHByaW50ICIiCi0KLSAgICBwcmludCAiIFN0YW5kYnk6IiwKLSAgICBmb3Igbm9k
ZSBpbiBzdGFuZGJ5bm9kZXM6Ci0gICAgICAgIHByaW50IG5vZGUsCi0gICAgcHJpbnQgIiIKLQot
ICAgIHByaW50ICIgTWFpbnRlbmFuY2U6IiwKLSAgICBmb3Igbm9kZSBpbiBtYWludGVuYW5jZW5v
ZGVzOgotICAgICAgICBwcmludCBub2RlLAotICAgIHByaW50ICIiCi0KLSAgICBwcmludCAiIE9m
ZmxpbmU6IiwKLSAgICBmb3Igbm9kZSBpbiBvZmZsaW5lbm9kZXM6Ci0gICAgICAgIHByaW50IG5v
ZGUsCi0gICAgcHJpbnQgIiIKLQotICAgIHByaW50ICJQYWNlbWFrZXIgUmVtb3RlIE5vZGVzOiIK
LQotICAgIHByaW50ICIgT25saW5lOiIsCi0gICAgZm9yIG5vZGUgaW4gcmVtb3RlX29ubGluZW5v
ZGVzOgotICAgICAgICBwcmludCBub2RlLAotICAgIHByaW50ICIiCi0KLSAgICBwcmludCAiIFN0
YW5kYnk6IiwKLSAgICBmb3Igbm9kZSBpbiByZW1vdGVfc3RhbmRieW5vZGVzOgotICAgICAgICBw
cmludCBub2RlLAotICAgIHByaW50ICIiCi0KLSAgICBwcmludCAiIE1haW50ZW5hbmNlOiIsCi0g
ICAgZm9yIG5vZGUgaW4gcmVtb3RlX21haW50ZW5hbmNlbm9kZXM6Ci0gICAgICAgIHByaW50IG5v
ZGUsCi0gICAgcHJpbnQgIiIKKyAgICBwcmludCgiUGFjZW1ha2VyIE5vZGVzOiIpCisgICAgcHJp
bnQoIiAiLmpvaW4oWyIgT25saW5lOiJdICsgb25saW5lbm9kZXMpKQorICAgIHByaW50KCIgIi5q
b2luKFsiIFN0YW5kYnk6Il0gKyBzdGFuZGJ5bm9kZXMpKQorICAgIHByaW50KCIgIi5qb2luKFsi
IE1haW50ZW5hbmNlOiJdICsgbWFpbnRlbmFuY2Vub2RlcykpCisgICAgcHJpbnQoIiAiLmpvaW4o
WyIgT2ZmbGluZToiXSArIG9mZmxpbmVub2RlcykpCiAKLSAgICBwcmludCAiIE9mZmxpbmU6IiwK
LSAgICBmb3Igbm9kZSBpbiByZW1vdGVfb2ZmbGluZW5vZGVzOgotICAgICAgICBwcmludCBub2Rl
LAotICAgIHByaW50ICIiCisgICAgcHJpbnQoIlBhY2VtYWtlciBSZW1vdGUgTm9kZXM6IikKKyAg
ICBwcmludCgiICIuam9pbihbIiBPbmxpbmU6Il0gKyByZW1vdGVfb25saW5lbm9kZXMpKQorICAg
IHByaW50KCIgIi5qb2luKFsiIFN0YW5kYnk6Il0gKyByZW1vdGVfc3RhbmRieW5vZGVzKSkKKyAg
ICBwcmludCgiICIuam9pbihbIiBNYWludGVuYW5jZToiXSArIHJlbW90ZV9tYWludGVuYW5jZW5v
ZGVzKSkKKyAgICBwcmludCgiICIuam9pbihbIiBPZmZsaW5lOiJdICsgcmVtb3RlX29mZmxpbmVu
b2RlcykpCiAKICMgVE9ETzogUmVtb3ZlLCBjdXJyZW50bHkgdW51c2VkLCB3ZSB1c2Ugc3RhdHVz
IGZyb20gdGhlIHJlc291cmNlLnB5CiBkZWYgcmVzb3VyY2VzX3N0YXR1cyhhcmd2KToKICAgICBp
bmZvX2RvbSA9IHV0aWxzLmdldENsdXN0ZXJTdGF0ZSgpCiAKLSAgICBwcmludCAiUmVzb3VyY2Vz
OiIKKyAgICBwcmludCgiUmVzb3VyY2VzOiIpCiAKICAgICByZXNvdXJjZXMgPSBpbmZvX2RvbS5n
ZXRFbGVtZW50c0J5VGFnTmFtZSgicmVzb3VyY2VzIikKICAgICBpZiByZXNvdXJjZXMubGVuZ3Ro
ID09IDA6CkBAIC0yMTQsOSArMTc1LDkgQEAgZGVmIHJlc291cmNlc19zdGF0dXMoYXJndik6CiAg
ICAgICAgICAgICBmb3Igbm9kZSBpbiBub2RlczoKICAgICAgICAgICAgICAgICBub2RlX2xpbmUg
Kz0gbm9kZS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSArICIgIgogCi0gICAgICAgIHByaW50ICIiLCBy
ZXNvdXJjZS5nZXRBdHRyaWJ1dGUoImlkIiksCi0gICAgICAgIHByaW50ICIoIiArIHJlc291cmNl
LmdldEF0dHJpYnV0ZSgicmVzb3VyY2VfYWdlbnQiKSArICIpIiwKLSAgICAgICAgcHJpbnQgIi0g
IiArIHJlc291cmNlLmdldEF0dHJpYnV0ZSgicm9sZSIpICsgIiAiICsgbm9kZV9saW5lCisgICAg
ICAgIHByaW50KCIiLCByZXNvdXJjZS5nZXRBdHRyaWJ1dGUoImlkIiksIGVuZD0nICcpCisgICAg
ICAgIHByaW50KCIoIiArIHJlc291cmNlLmdldEF0dHJpYnV0ZSgicmVzb3VyY2VfYWdlbnQiKSAr
ICIpIiwgZW5kPScgJykKKyAgICAgICAgcHJpbnQoIi0gIiArIHJlc291cmNlLmdldEF0dHJpYnV0
ZSgicm9sZSIpICsgIiAiICsgbm9kZV9saW5lKQogCiBkZWYgY2x1c3Rlcl9zdGF0dXMoYXJndik6
CiAgICAgKG91dHB1dCwgcmV0dmFsKSA9IHV0aWxzLnJ1bihbImNybV9tb24iLCAiLTEiLCAiLXIi
XSkKQEAgLTIyNSw3ICsxODYsNyBAQCBkZWYgY2x1c3Rlcl9zdGF0dXMoYXJndik6CiAgICAgICAg
IHV0aWxzLmVycigiY2x1c3RlciBpcyBub3QgY3VycmVudGx5IHJ1bm5pbmcgb24gdGhpcyBub2Rl
IikKIAogICAgIGZpcnN0X2VtcHR5X2xpbmUgPSBGYWxzZQotICAgIHByaW50ICJDbHVzdGVyIFN0
YXR1czoiCisgICAgcHJpbnQoIkNsdXN0ZXIgU3RhdHVzOiIpCiAgICAgZm9yIGxpbmUgaW4gb3V0
cHV0LnNwbGl0bGluZXMoKToKICAgICAgICAgaWYgbGluZSA9PSAiIjoKICAgICAgICAgICAgIGlm
IGZpcnN0X2VtcHR5X2xpbmU6CkBAIC0yMzMsMTAgKzE5NCwxMCBAQCBkZWYgY2x1c3Rlcl9zdGF0
dXMoYXJndik6CiAgICAgICAgICAgICBmaXJzdF9lbXB0eV9saW5lID0gVHJ1ZQogICAgICAgICAg
ICAgY29udGludWUKICAgICAgICAgZWxzZToKLSAgICAgICAgICAgIHByaW50ICIiLGxpbmUKKyAg
ICAgICAgICAgIHByaW50KCIiLGxpbmUpCiAKICAgICBpZiBub3QgdXRpbHMudXNlZmlsZToKLSAg
ICAgICAgcHJpbnQKKyAgICAgICAgcHJpbnQoKQogICAgICAgICBwcmludF9wY3NkX2RhZW1vbl9z
dGF0dXMoKQogCiBkZWYgY29yb3N5bmNfc3RhdHVzKCk6CkBAIC0yNDQsMTQgKzIwNSwxNCBAQCBk
ZWYgY29yb3N5bmNfc3RhdHVzKCk6CiAgICAgaWYgcmV0dmFsICE9IDA6CiAgICAgICAgIHV0aWxz
LmVycigiY29yb3N5bmMgbm90IHJ1bm5pbmciKQogICAgIGVsc2U6Ci0gICAgICAgIHByaW50IG91
dHB1dCwKKyAgICAgICAgcHJpbnQob3V0cHV0LCBlbmQ9IiIpCiAKIGRlZiB4bWxfc3RhdHVzKCk6
CiAgICAgKG91dHB1dCwgcmV0dmFsKSA9IHV0aWxzLnJ1bihbImNybV9tb24iLCAiLTEiLCAiLXIi
LCAiLVgiXSkKIAogICAgIGlmIChyZXR2YWwgIT0gMCk6CiAgICAgICAgIHV0aWxzLmVycigicnVu
bmluZyBjcm1fbW9uLCBpcyBwYWNlbWFrZXIgcnVubmluZz8iKQotICAgIHByaW50IG91dHB1dAor
ICAgIHByaW50KG91dHB1dCwgZW5kPSIiKQogCiBkZWYgaXNfY21hbl9ydW5uaW5nKCk6CiAgICAg
aWYgdXRpbHMuaXNfc3lzdGVtY3RsKCk6CkBAIC0yNzUsNyArMjM2LDcgQEAgZGVmIGlzX3BhY2Vt
YWtlcl9ydW5uaW5nKCk6CiAgICAgcmV0dXJuIHJldHZhbCA9PSAwCiAKIGRlZiBwcmludF9wY3Nk
X2RhZW1vbl9zdGF0dXMoKToKLSAgICBwcmludCAiUENTRCBTdGF0dXM6IgorICAgIHByaW50KCJQ
Q1NEIFN0YXR1czoiKQogICAgIGlmIG9zLmdldHVpZCgpID09IDA6CiAgICAgICAgIGNsdXN0ZXIu
Y2x1c3Rlcl9ndWlfc3RhdHVzKFtdLCBUcnVlKQogICAgIGVsc2U6CkBAIC0yODQsOSArMjQ1LDkg
QEAgZGVmIHByaW50X3Bjc2RfZGFlbW9uX3N0YXR1cygpOgogICAgICAgICApCiAgICAgICAgIGlm
IGVycl9tc2dzOgogICAgICAgICAgICAgZm9yIG1zZyBpbiBlcnJfbXNnczoKLSAgICAgICAgICAg
ICAgICBwcmludCBtc2cKKyAgICAgICAgICAgICAgICBwcmludChtc2cpCiAgICAgICAgIGlmIDAg
PT0gZXhpdGNvZGU6Ci0gICAgICAgICAgICBwcmludCBzdGRfb3V0CisgICAgICAgICAgICBwcmlu
dChzdGRfb3V0KQogICAgICAgICBlbHNlOgotICAgICAgICAgICAgcHJpbnQgIlVuYWJsZSB0byBn
ZXQgUENTRCBzdGF0dXMiCisgICAgICAgICAgICBwcmludCgiVW5hYmxlIHRvIGdldCBQQ1NEIHN0
YXR1cyIpCiAKZGlmZiAtLWdpdCBhL3Bjcy9zdG9uaXRoLnB5IGIvcGNzL3N0b25pdGgucHkKaW5k
ZXggOWQ1NGY3MS4uZDExNTA4YSAxMDA2NDQKLS0tIGEvcGNzL3N0b25pdGgucHkKKysrIGIvcGNz
L3N0b25pdGgucHkKQEAgLTEsMyArMSw4IEBACitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IGFic29s
dXRlX2ltcG9ydAorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBkaXZpc2lvbgorZnJvbSBfX2Z1dHVy
ZV9fIGltcG9ydCBwcmludF9mdW5jdGlvbgorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCB1bmljb2Rl
X2xpdGVyYWxzCisKIGltcG9ydCBzeXMKIGltcG9ydCByZQogaW1wb3J0IGdsb2IKQEAgLTg3LDE5
ICs5MiwyMiBAQCBkZWYgc3Rvbml0aF9saXN0X2F2YWlsYWJsZShhcmd2KToKICAgICAgICAgaWYg
bm90ICItLW5vZGVzYyIgaW4gdXRpbHMucGNzX29wdGlvbnM6CiAgICAgICAgICAgICBtZXRhZGF0
YSA9IHV0aWxzLmdldF9zdG9uaXRoX21ldGFkYXRhKGZkKQogICAgICAgICAgICAgaWYgbWV0YWRh
dGEgPT0gRmFsc2U6Ci0gICAgICAgICAgICAgICAgcHJpbnQgPj4gc3lzLnN0ZGVyciwgIkVycm9y
OiBubyBtZXRhZGF0YSBmb3IgJXMiICUgZmQKKyAgICAgICAgICAgICAgICB1dGlscy5lcnIoIm5v
IG1ldGFkYXRhIGZvciAlcyIgJSBmZCwgRmFsc2UpCiAgICAgICAgICAgICAgICAgY29udGludWUK
ICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICBkb20gPSBwYXJzZVN0cmluZyhtZXRh
ZGF0YSkKICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246Ci0gICAgICAgICAgICAgICAgcHJp
bnQgPj4gc3lzLnN0ZGVyciwgIkVycm9yOiB1bmFibGUgdG8gcGFyc2UgbWV0YWRhdGEgZm9yIGZl
bmNlIGFnZW50OiAlcyIgJSAoZmRfbmFtZSkKKyAgICAgICAgICAgICAgICB1dGlscy5lcnIoCisg
ICAgICAgICAgICAgICAgICAgICJ1bmFibGUgdG8gcGFyc2UgbWV0YWRhdGEgZm9yIGZlbmNlIGFn
ZW50OiAlcyIgJSAoZmRfbmFtZSksCisgICAgICAgICAgICAgICAgICAgIEZhbHNlCisgICAgICAg
ICAgICAgICAgKQogICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICByYSA9IGRv
bS5kb2N1bWVudEVsZW1lbnQKICAgICAgICAgICAgIHNob3J0ZGVzYyA9IHJhLmdldEF0dHJpYnV0
ZSgic2hvcnRkZXNjIikKIAogICAgICAgICAgICAgaWYgbGVuKHNob3J0ZGVzYykgPiAwOgogICAg
ICAgICAgICAgICAgIHNkID0gIiAtICIgKyAgcmVzb3VyY2UuZm9ybWF0X2Rlc2MoZmRfbmFtZS5f
X2xlbl9fKCkgKyAzLCBzaG9ydGRlc2MpCi0gICAgICAgIHByaW50IGZkX25hbWUgKyBzZAorICAg
ICAgICBwcmludChmZF9uYW1lICsgc2QpCiAKIGRlZiBzdG9uaXRoX2xpc3Rfb3B0aW9ucyhzdG9u
aXRoX2FnZW50KToKICAgICBtZXRhZGF0YSA9IHV0aWxzLmdldF9zdG9uaXRoX21ldGFkYXRhKHV0
aWxzLmZlbmNlX2JpbiArIHN0b25pdGhfYWdlbnQpCkBAIC0xMjUsMTIgKzEzMywxMiBAQCBkZWYg
c3Rvbml0aF9saXN0X29wdGlvbnMoc3Rvbml0aF9hZ2VudCk6CiAKICAgICBpZiBzaG9ydF9kZXNj
OgogICAgICAgICB0aXRsZSArPSAiIC0gIiArIHJlc291cmNlLmZvcm1hdF9kZXNjKGxlbih0aXRs
ZSArICIgLSAiKSwgc2hvcnRfZGVzYykKLSAgICBwcmludCB0aXRsZQotICAgIHByaW50CisgICAg
cHJpbnQodGl0bGUpCisgICAgcHJpbnQoKQogICAgIGlmIGxvbmdfZGVzYzoKLSAgICAgICAgcHJp
bnQgbG9uZ19kZXNjCi0gICAgICAgIHByaW50Ci0gICAgcHJpbnQgIlN0b25pdGggb3B0aW9uczoi
CisgICAgICAgIHByaW50KGxvbmdfZGVzYykKKyAgICAgICAgcHJpbnQoKQorICAgIHByaW50KCJT
dG9uaXRoIG9wdGlvbnM6IikKIAogICAgIHBhcmFtcyA9IGRvbS5kb2N1bWVudEVsZW1lbnQuZ2V0
RWxlbWVudHNCeVRhZ05hbWUoInBhcmFtZXRlciIpCiAgICAgZm9yIHBhcmFtIGluIHBhcmFtczoK
QEAgLTE0NSwyMCArMTUzLDIwIEBAIGRlZiBzdG9uaXRoX2xpc3Rfb3B0aW9ucyhzdG9uaXRoX2Fn
ZW50KToKICAgICAgICAgICAgIGRlc2MgPSAiTm8gZGVzY3JpcHRpb24gYXZhaWxhYmxlIgogICAg
ICAgICBpbmRlbnQgPSBuYW1lLl9fbGVuX18oKSArIDQKICAgICAgICAgZGVzYyA9IHJlc291cmNl
LmZvcm1hdF9kZXNjKGluZGVudCwgZGVzYykKLSAgICAgICAgcHJpbnQgIiAgIiArIG5hbWUgKyAi
OiAiICsgZGVzYworICAgICAgICBwcmludCgiICAiICsgbmFtZSArICI6ICIgKyBkZXNjKQogCiAg
ICAgZGVmYXVsdF9zdG9uaXRoX29wdGlvbnMgPSB1dGlscy5nZXRfZGVmYXVsdF9zdG9uaXRoX29w
dGlvbnMoKQogICAgIGZvciBkbyBpbiBkZWZhdWx0X3N0b25pdGhfb3B0aW9uczoKICAgICAgICAg
bmFtZSA9IGRvLmF0dHJpYlsibmFtZSJdCiAgICAgICAgIGRlc2MgPSAiIgotICAgICAgICBpZiBs
ZW4oZG8uZmluZGFsbCgic2hvcnRkZXNjIikpID4gMDoKLSAgICAgICAgICAgIGlmIGRvLmZpbmRh
bGwoInNob3J0ZGVzYyIpWzBdLnRleHQ6Ci0gICAgICAgICAgICAgICAgZGVzYyA9IGRvLmZpbmRh
bGwoInNob3J0ZGVzYyIpWzBdLnRleHQuc3RyaXAoKQorICAgICAgICBpZiBsZW4oZG8uZmluZGFs
bChzdHIoInNob3J0ZGVzYyIpKSkgPiAwOgorICAgICAgICAgICAgaWYgZG8uZmluZGFsbChzdHIo
InNob3J0ZGVzYyIpKVswXS50ZXh0OgorICAgICAgICAgICAgICAgIGRlc2MgPSBkby5maW5kYWxs
KHN0cigic2hvcnRkZXNjIikpWzBdLnRleHQuc3RyaXAoKQogICAgICAgICBpZiBub3QgZGVzYzoK
ICAgICAgICAgICAgIGRlc2MgPSAiTm8gZGVzY3JpcHRpb24gYXZhaWxhYmxlIgogICAgICAgICBp
bmRlbnQgPSBsZW4obmFtZSkgKyA0CiAgICAgICAgIGRlc2MgPSByZXNvdXJjZS5mb3JtYXRfZGVz
YyhpbmRlbnQsIGRlc2MpCi0gICAgICAgIHByaW50ICIgICIgKyBuYW1lICsgIjogIiArIGRlc2MK
KyAgICAgICAgcHJpbnQoIiAgIiArIG5hbWUgKyAiOiAiICsgZGVzYykKIAogZGVmIHN0b25pdGhf
Y3JlYXRlKGFyZ3YpOgogICAgIGlmIGxlbihhcmd2KSA8IDI6CkBAIC0yMTUsNyArMjIzLDcgQEAg
ZGVmIHN0b25pdGhfbGV2ZWwoYXJndik6CiAgICAgZWxpZiBzdWJjbWQgPT0gInZlcmlmeSI6CiAg
ICAgICAgIHN0b25pdGhfbGV2ZWxfdmVyaWZ5KCkKICAgICBlbHNlOgotICAgICAgICBwcmludCAi
cGNzIHN0b25pdGggbGV2ZWw6IGludmFsaWQgb3B0aW9uIC0tICclcyciICUgc3ViY21kCisgICAg
ICAgIHByaW50KCJwY3Mgc3Rvbml0aCBsZXZlbDogaW52YWxpZCBvcHRpb24gLS0gJyVzJyIgJSBz
dWJjbWQpCiAgICAgICAgIHVzYWdlLnN0b25pdGgoWyJsZXZlbCJdKQogICAgICAgICBzeXMuZXhp
dCgxKQogCkBAIC0zNzMsMTMgKzM4MSwxMiBAQCBkZWYgc3Rvbml0aF9sZXZlbF9zaG93KCk6CiAg
ICAgaWYgbGVuKG5vZGVfbGV2ZWxzLmtleXMoKSkgPT0gMDoKICAgICAgICAgcmV0dXJuCiAKLSAg
ICBub2RlcyA9IG5vZGVfbGV2ZWxzLmtleXMoKQotICAgIG5vZGVzLnNvcnQoKQorICAgIG5vZGVz
ID0gc29ydGVkKG5vZGVfbGV2ZWxzLmtleXMoKSkKIAogICAgIGZvciBub2RlIGluIG5vZGVzOgot
ICAgICAgICBwcmludCAiIE5vZGU6ICIgKyBub2RlCisgICAgICAgIHByaW50KCIgTm9kZTogIiAr
IG5vZGUpCiAgICAgICAgIGZvciBsZXZlbCBpbiBzb3J0ZWQobm9kZV9sZXZlbHNbbm9kZV0sIGtl
eT1sYW1iZGEgeDogaW50KHhbMF0pKToKLSAgICAgICAgICAgIHByaW50ICIgIExldmVsICIgKyBs
ZXZlbFswXSArICIgLSAiICsgbGV2ZWxbMV0KKyAgICAgICAgICAgIHByaW50KCIgIExldmVsICIg
KyBsZXZlbFswXSArICIgLSAiICsgbGV2ZWxbMV0pCiAKIAogZGVmIHN0b25pdGhfZmVuY2UoYXJn
dik6CkBAIC0zOTYsNyArNDAzLDcgQEAgZGVmIHN0b25pdGhfZmVuY2UoYXJndik6CiAgICAgaWYg
cmV0dmFsICE9IDA6CiAgICAgICAgIHV0aWxzLmVycigidW5hYmxlIHRvIGZlbmNlICclcydcbiIg
JSBub2RlICsgb3V0cHV0KQogICAgIGVsc2U6Ci0gICAgICAgIHByaW50ICJOb2RlOiAlcyBmZW5j
ZWQiICUgbm9kZQorICAgICAgICBwcmludCgiTm9kZTogJXMgZmVuY2VkIiAlIG5vZGUpCiAKIGRl
ZiBzdG9uaXRoX2NvbmZpcm0oYXJndik6CiAgICAgaWYgbGVuKGFyZ3YpICE9IDE6CkBAIC00MDks
NyArNDE2LDcgQEAgZGVmIHN0b25pdGhfY29uZmlybShhcmd2KToKICAgICBpZiByZXR2YWwgIT0g
MDoKICAgICAgICAgdXRpbHMuZXJyKCJ1bmFibGUgdG8gY29uZmlybSBmZW5jaW5nIG9mIG5vZGUg
JyVzJ1xuIiAlIG5vZGUgKyBvdXRwdXQpCiAgICAgZWxzZToKLSAgICAgICAgcHJpbnQgIk5vZGU6
ICVzIGNvbmZpcm1lZCBmZW5jZWQiICUgbm9kZQorICAgICAgICBwcmludCgiTm9kZTogJXMgY29u
ZmlybWVkIGZlbmNlZCIgJSBub2RlKQogCiBkZWYgc3Rvbml0aF9kb2VzX2FnZW50X3Byb3ZpZGVf
dW5mZW5jaW5nKG1ldGFkYXRhX3N0cmluZyk6CiAgICAgdHJ5OgpkaWZmIC0tZ2l0IGEvcGNzL3Rl
c3QvTWFrZWZpbGUgYi9wY3MvdGVzdC9NYWtlZmlsZQppbmRleCBhNzRkOWY1Li40YTliYjM1IDEw
MDY0NAotLS0gYS9wY3MvdGVzdC9NYWtlZmlsZQorKysgYi9wY3MvdGVzdC9NYWtlZmlsZQpAQCAt
MSwyMCArMSwxNSBAQAotcHl0aG9uX3ZlcnNpb25fZnVsbCA6PSAkKHdvcmRsaXN0IDIsNCwkKHN1
YnN0IC4sICwkKHNoZWxsIHB5dGhvbjIgLS12ZXJzaW9uIDI+JjEpKSkKLXB5dGhvbl92ZXJzaW9u
X21ham9yIDo9ICQod29yZCAxLCR7cHl0aG9uX3ZlcnNpb25fZnVsbH0pCi1weXRob25fdmVyc2lv
bl9taW5vciA6PSAkKHdvcmQgMiwke3B5dGhvbl92ZXJzaW9uX2Z1bGx9KQotcHl0aG9uX3ZlcnNp
b25fbWFqb3JfbWlub3IgOj0gJHtweXRob25fdmVyc2lvbl9tYWpvcn0uJHtweXRob25fdmVyc2lv
bl9taW5vcn0KLQotaWZuZXEgKCQocHl0aG9uX3ZlcnNpb25fbWFqb3JfbWlub3IpLDIuNikKLSAg
cHl1bml0X2ZsYWdzID0gLWYKK2lmbmRlZiAkKFBZVEhPTikKKwlQWVRIT04gPSBweXRob24KIGVu
ZGlmCiAKIHRlc3Q6Ci0JcHl0aG9uMiB0ZXN0X3V0aWxzLnB5ICR7cHl1bml0X2ZsYWdzfQotCXB5
dGhvbjIgdGVzdF9jb3Jvc3luY19jb25mLnB5ICR7cHl1bml0X2ZsYWdzfQotCXB5dGhvbjIgdGVz
dF9jbHVzdGVyLnB5ICR7cHl1bml0X2ZsYWdzfQotCXB5dGhvbjIgdGVzdF9yZXNvdXJjZS5weSAk
e3B5dW5pdF9mbGFnc30KLQlweXRob24yIHRlc3RfcnVsZS5weSAke3B5dW5pdF9mbGFnc30KLQlw
eXRob24yIHRlc3RfY29uc3RyYWludHMucHkgJHtweXVuaXRfZmxhZ3N9Ci0JcHl0aG9uMiB0ZXN0
X3N0b25pdGgucHkgJHtweXVuaXRfZmxhZ3N9Ci0JcHl0aG9uMiB0ZXN0X3Byb3BlcnRpZXMucHkg
JHtweXVuaXRfZmxhZ3N9Ci0JcHl0aG9uMiB0ZXN0X2FjbC5weSAke3B5dW5pdF9mbGFnc30KLQlw
eXRob24yIHRlc3Rfbm9kZS5weSAke3B5dW5pdF9mbGFnc30KKwkkKFBZVEhPTikgdGVzdF91dGls
cy5weSAke3B5dW5pdF9mbGFnc30KKwkkKFBZVEhPTikgdGVzdF9jb3Jvc3luY19jb25mLnB5ICR7
cHl1bml0X2ZsYWdzfQorCSQoUFlUSE9OKSB0ZXN0X2NsdXN0ZXIucHkgJHtweXVuaXRfZmxhZ3N9
CisJJChQWVRIT04pIHRlc3RfcmVzb3VyY2UucHkgJHtweXVuaXRfZmxhZ3N9CisJJChQWVRIT04p
IHRlc3RfcnVsZS5weSAke3B5dW5pdF9mbGFnc30KKwkkKFBZVEhPTikgdGVzdF9jb25zdHJhaW50
cy5weSAke3B5dW5pdF9mbGFnc30KKwkkKFBZVEhPTikgdGVzdF9zdG9uaXRoLnB5ICR7cHl1bml0
X2ZsYWdzfQorCSQoUFlUSE9OKSB0ZXN0X3Byb3BlcnRpZXMucHkgJHtweXVuaXRfZmxhZ3N9CisJ
JChQWVRIT04pIHRlc3RfYWNsLnB5ICR7cHl1bml0X2ZsYWdzfQorCSQoUFlUSE9OKSB0ZXN0X25v
ZGUucHkgJHtweXVuaXRfZmxhZ3N9CmRpZmYgLS1naXQgYS9wY3MvdGVzdC9wY3NfdGVzdF9mdW5j
dGlvbnMucHkgYi9wY3MvdGVzdC9wY3NfdGVzdF9mdW5jdGlvbnMucHkKaW5kZXggNzg3ZDE3Ny4u
OTcyMmUyZiAxMDA2NDQKLS0tIGEvcGNzL3Rlc3QvcGNzX3Rlc3RfZnVuY3Rpb25zLnB5CisrKyBi
L3Bjcy90ZXN0L3Bjc190ZXN0X2Z1bmN0aW9ucy5weQpAQCAtMSwxMSArMSwxOSBAQAotaW1wb3J0
IG9zLHN5cworZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKK2Zyb20gX19m
dXR1cmVfXyBpbXBvcnQgZGl2aXNpb24KK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgcHJpbnRfZnVu
Y3Rpb24KK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgdW5pY29kZV9saXRlcmFscworCitpbXBvcnQg
b3MucGF0aAoraW1wb3J0IHN5cwogaW1wb3J0IGRpZmZsaWIKIGltcG9ydCBzdWJwcm9jZXNzCiBp
bXBvcnQgcmUKIHBhcmVudGRpciA9IG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmRpcm5hbWUob3Mu
cGF0aC5hYnNwYXRoKF9fZmlsZV9fKSkpCi1zeXMucGF0aC5pbnNlcnQoMCxwYXJlbnRkaXIpIAor
c3lzLnBhdGguaW5zZXJ0KDAscGFyZW50ZGlyKQorCiBpbXBvcnQgdXRpbHMKIAorCiBwY3NfbG9j
YXRpb24gPSAiLi4vcGNzLnB5IgogCiAjIFJ1biBwY3Mgd2l0aCAtZiBvbiBzcGVjaWZpZWQgZmls
ZQpAQCAtMzksMTQgKzQ3LDEzIEBAIGRlZiBhYyhhLGIpOgogICAgIGlmIGEgIT0gYjoKICAgICAg
ICAgZCA9IGRpZmZsaWIuRGlmZmVyKCkKICAgICAgICAgZGlmZiA9IGQuY29tcGFyZShiLnNwbGl0
bGluZXMoMSksYS5zcGxpdGxpbmVzKDEpKQotICAgICAgICBwcmludCAiIgotICAgICAgICBwcmlu
dCAiIi5qb2luKGRpZmYpCisgICAgICAgIHByaW50KCIiKQorICAgICAgICBwcmludCgiIi5qb2lu
KGRpZmYpKQogICAgICAgICBhc3NlcnQgRmFsc2UsW2FdCiAKIGRlZiBpc01pbmltdW1QYWNlbWFr
ZXJWZXJzaW9uKGNtYWpvcixjbWlub3IsY3Jldik6Ci0gICAgcCA9IHN1YnByb2Nlc3MuUG9wZW4o
WyJjcm1fbW9uIiwiLS12ZXJzaW9uIl0sIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUpCi0gICAgKHN0
ZG91dCwgc3RkZXJyKSA9IHAuY29tbXVuaWNhdGUoKQotICAgIHBhY2VtYWtlcl92ZXJzaW9uID0g
IHN0ZG91dC5zcGxpdCgiXG4iKVswXQorICAgIG91dHB1dCwgcmV0dmFsID0gdXRpbHMucnVuKFsi
Y3JtX21vbiIsICItLXZlcnNpb24iXSkKKyAgICBwYWNlbWFrZXJfdmVyc2lvbiA9IG91dHB1dC5z
cGxpdCgiXG4iKVswXQogICAgIHIgPSByZS5jb21waWxlKHIiUGFjZW1ha2VyIChcZCspXC4oXGQr
KVwuKFxkKykiKQogICAgIG0gPSByLm1hdGNoKHBhY2VtYWtlcl92ZXJzaW9uKQogICAgIG1ham9y
ID0gaW50KG0uZ3JvdXAoMSkpCmRpZmYgLS1naXQgYS9wY3MvdGVzdC90ZXN0LnB5IGIvcGNzL3Rl
c3QvdGVzdC5weQppbmRleCAwYTA0M2E2Li4wZTliOTgwIDEwMDY0NAotLS0gYS9wY3MvdGVzdC90
ZXN0LnB5CisrKyBiL3Bjcy90ZXN0L3Rlc3QucHkKQEAgLTMsMTcgKzMsMTcgQEAgaW1wb3J0IHht
bC5ldHJlZS5FbGVtZW50VHJlZSBhcyBFVAogCiB0cmVlID0gRVQucGFyc2UoJ3RlbXAueG1sJykK
IHJvb3QgPSB0cmVlLmdldHJvb3QoKQotcHJpbnQgdHlwZSh0cmVlKQotcHJpbnQgdHlwZShyb290
KQorcHJpbnQodHlwZSh0cmVlKSkKK3ByaW50KHR5cGUocm9vdCkpCiAKIGlmIHR5cGUodHJlZSkg
PT0gRVQuRWxlbWVudFRyZWU6Ci0gIHByaW50ICJFTEVNRU5UIgorICBwcmludCgiRUxFTUVOVCIp
CiBlbHNlOgotICBwcmludCAiRkFJTCIKKyAgcHJpbnQoIkZBSUwiKQogCiBjaGVja19pZCA9ICJE
NCIKLXByaW50IHJvb3QuZmluZCgiLi8vcHJpbWl0aXZlW2lkPUQxXSIpCi1wcmludCByb290LmZp
bmQoIi4vL3ByaW1pdGl2ZVtAaWQ9JyIrY2hlY2tfaWQrIiddIikKK3ByaW50KHJvb3QuZmluZCgi
Li8vcHJpbWl0aXZlW2lkPUQxXSIpKQorcHJpbnQocm9vdC5maW5kKCIuLy9wcmltaXRpdmVbQGlk
PSciK2NoZWNrX2lkKyInXSIpKQogCiAjZm9yIHogaW4gcm9vdC5maW5kYWxsKCIuLy8qIik6CiAj
ICBwcmludCB6CmRpZmYgLS1naXQgYS9wY3MvdGVzdC90ZXN0X2FjbC5weSBiL3Bjcy90ZXN0L3Rl
c3RfYWNsLnB5CmluZGV4IDU3ZGI5YzkuLmM4Njc3YjIgMTAwNjQ0Ci0tLSBhL3Bjcy90ZXN0L3Rl
c3RfYWNsLnB5CisrKyBiL3Bjcy90ZXN0L3Rlc3RfYWNsLnB5CkBAIC0xLDEwICsxLDE4IEBACi1p
bXBvcnQgb3Msc3lzCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IGFic29sdXRlX2ltcG9ydAorZnJv
bSBfX2Z1dHVyZV9fIGltcG9ydCBkaXZpc2lvbgorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBwcmlu
dF9mdW5jdGlvbgorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCB1bmljb2RlX2xpdGVyYWxzCisKK2lt
cG9ydCBvcy5wYXRoCitpbXBvcnQgc3lzCiBpbXBvcnQgc2h1dGlsCiBpbXBvcnQgdW5pdHRlc3QK
IHBhcmVudGRpciA9IG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5hYnNw
YXRoKF9fZmlsZV9fKSkpCi1zeXMucGF0aC5pbnNlcnQoMCxwYXJlbnRkaXIpIAorc3lzLnBhdGgu
aW5zZXJ0KDAscGFyZW50ZGlyKQorCiBpbXBvcnQgdXRpbHMKLWZyb20gcGNzX3Rlc3RfZnVuY3Rp
b25zIGltcG9ydCBwY3MsYWMsaXNNaW5pbXVtUGFjZW1ha2VyVmVyc2lvbgorZnJvbSBwY3NfdGVz
dF9mdW5jdGlvbnMgaW1wb3J0IHBjcywgYWMsIGlzTWluaW11bVBhY2VtYWtlclZlcnNpb24KKwog
CiBvbGRfY2liID0gImVtcHR5LnhtbCIKIGVtcHR5X2NpYiA9ICJlbXB0eS0xLjIueG1sIgpAQCAt
NzcsMTkgKzg1LDE5IEBAIGNsYXNzIEFDTFRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogCiAgICAg
ICAgIG8sIHIgPSBwY3MoImFjbCB1c2VyIGNyZWF0ZSB1c2VyMSByb2xlWCIpCiAgICAgICAgIGFj
KG8sICJFcnJvcjogY2Fubm90IGZpbmQgYWNsIHJvbGU6IHJvbGVYXG4iKQotICAgICAgICBzZWxm
LmFzc2VydEVxdWFscygxLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHIpCiAKICAg
ICAgICAgbywgciA9IHBjcygiYWNsIHVzZXIgY3JlYXRlIHVzZXIxIHJvbGUxIHJvbGVYIikKICAg
ICAgICAgYWMobywgIkVycm9yOiBjYW5ub3QgZmluZCBhY2wgcm9sZTogcm9sZVhcbiIpCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwg
cikKIAogICAgICAgICBvLCByID0gcGNzKCJhY2wgZ3JvdXAgY3JlYXRlIGdyb3VwMSByb2xlWCIp
CiAgICAgICAgIGFjKG8sICJFcnJvcjogY2Fubm90IGZpbmQgYWNsIHJvbGU6IHJvbGVYXG4iKQot
ICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFs
KDEsIHIpCiAKICAgICAgICAgbywgciA9IHBjcygiYWNsIGdyb3VwIGNyZWF0ZSBncm91cDEgcm9s
ZTEgcm9sZVgiKQogICAgICAgICBhYyhvLCAiRXJyb3I6IGNhbm5vdCBmaW5kIGFjbCByb2xlOiBy
b2xlWFxuIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcikKKyAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbCgxLCByKQogCiAgICAgICAgIG8sIHIgPSBwY3MoImFjbCIpCiAgICAgICAgIGFj
KG8sICIiIlwKQEAgLTEwNSw3ICsxMTMsNyBAQCBSb2xlOiByb2xlMwogICBQZXJtaXNzaW9uOiBy
ZWFkIHhwYXRoIC94cGF0aDUvIChyb2xlMy1yZWFkKQogICBQZXJtaXNzaW9uOiByZWFkIHhwYXRo
IC94cGF0aDYvIChyb2xlMy1yZWFkLTEpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KDAsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcikKIAogICAgICAgICBvLHIgPSBw
Y3MoImFjbCB1c2VyIGNyZWF0ZSB1c2VyMSByb2xlMSByb2xlMiIpCiAgICAgICAgIGFzc2VydCBy
ID09IDAKQEAgLTE5NiwxNiArMjA0LDQ1IEBAIFJvbGU6IHJvbGUzCiAgICAgICAgIGFjKG8sIiIp
CiAKICAgICAgICAgbyxyID0gcGNzKCJhY2wiKQorICAgICAgICBhYyhvLCAiIiJcCitBQ0xzIGFy
ZSBkaXNhYmxlZCwgcnVuICdwY3MgYWNsIGVuYWJsZScgdG8gZW5hYmxlCisKK1VzZXI6IHVzZXIx
CisgIFJvbGVzOgorR3JvdXA6IGdyb3VwMQorICBSb2xlczogcm9sZTEgcm9sZTMKK1JvbGU6IHJv
bGUxCisgIFBlcm1pc3Npb246IHJlYWQgeHBhdGggL3hwYXRoMS8gKHJvbGUxLXJlYWQpCisgIFBl
cm1pc3Npb246IHdyaXRlIHhwYXRoIC94cGF0aDIvIChyb2xlMS13cml0ZSkKK1JvbGU6IHJvbGUy
CisgIFBlcm1pc3Npb246IGRlbnkgeHBhdGggL3hwYXRoMy8gKHJvbGUyLWRlbnkpCisgIFBlcm1p
c3Npb246IGRlbnkgeHBhdGggL3hwYXRoNC8gKHJvbGUyLWRlbnktMSkKK1JvbGU6IHJvbGUzCisg
IFBlcm1pc3Npb246IHJlYWQgeHBhdGggL3hwYXRoNS8gKHJvbGUzLXJlYWQpCisgIFBlcm1pc3Np
b246IHJlYWQgeHBhdGggL3hwYXRoNi8gKHJvbGUzLXJlYWQtMSkKKyIiIikKICAgICAgICAgYXNz
ZXJ0IHIgPT0gMAotICAgICAgICBhYyhvLCJBQ0xzIGFyZSBkaXNhYmxlZCwgcnVuICdwY3MgYWNs
IGVuYWJsZScgdG8gZW5hYmxlXG5cblVzZXI6IHVzZXIxXG4gIFJvbGVzOiBcbkdyb3VwOiBncm91
cDFcbiAgUm9sZXM6IHJvbGUxIHJvbGUzXG5Sb2xlOiByb2xlMVxuICBQZXJtaXNzaW9uOiByZWFk
IHhwYXRoIC94cGF0aDEvIChyb2xlMS1yZWFkKVxuICBQZXJtaXNzaW9uOiB3cml0ZSB4cGF0aCAv
eHBhdGgyLyAocm9sZTEtd3JpdGUpXG5Sb2xlOiByb2xlMlxuICBQZXJtaXNzaW9uOiBkZW55IHhw
YXRoIC94cGF0aDMvIChyb2xlMi1kZW55KVxuICBQZXJtaXNzaW9uOiBkZW55IHhwYXRoIC94cGF0
aDQvIChyb2xlMi1kZW55LTEpXG5Sb2xlOiByb2xlM1xuICBQZXJtaXNzaW9uOiByZWFkIHhwYXRo
IC94cGF0aDUvIChyb2xlMy1yZWFkKVxuICBQZXJtaXNzaW9uOiByZWFkIHhwYXRoIC94cGF0aDYv
IChyb2xlMy1yZWFkLTEpXG4iKQogCiAgICAgICAgIG8sciA9IHBjcygiYWNsIHJvbGUgZGVsZXRl
IHJvbGUzIikKICAgICAgICAgYXNzZXJ0IHIgPT0gMAogICAgICAgICBhYyhvLCIiKQogCiAgICAg
ICAgIG8sciA9IHBjcygiYWNsIikKKyAgICAgICAgYWMobywgIiIiXAorQUNMcyBhcmUgZGlzYWJs
ZWQsIHJ1biAncGNzIGFjbCBlbmFibGUnIHRvIGVuYWJsZQorCitVc2VyOiB1c2VyMQorICBSb2xl
czoKK0dyb3VwOiBncm91cDEKKyAgUm9sZXM6IHJvbGUxCitSb2xlOiByb2xlMQorICBQZXJtaXNz
aW9uOiByZWFkIHhwYXRoIC94cGF0aDEvIChyb2xlMS1yZWFkKQorICBQZXJtaXNzaW9uOiB3cml0
ZSB4cGF0aCAveHBhdGgyLyAocm9sZTEtd3JpdGUpCitSb2xlOiByb2xlMgorICBQZXJtaXNzaW9u
OiBkZW55IHhwYXRoIC94cGF0aDMvIChyb2xlMi1kZW55KQorICBQZXJtaXNzaW9uOiBkZW55IHhw
YXRoIC94cGF0aDQvIChyb2xlMi1kZW55LTEpCisiIiIpCiAgICAgICAgIGFzc2VydCByID09IDAK
LSAgICAgICAgYWMobywiQUNMcyBhcmUgZGlzYWJsZWQsIHJ1biAncGNzIGFjbCBlbmFibGUnIHRv
IGVuYWJsZVxuXG5Vc2VyOiB1c2VyMVxuICBSb2xlczogXG5Hcm91cDogZ3JvdXAxXG4gIFJvbGVz
OiByb2xlMVxuUm9sZTogcm9sZTFcbiAgUGVybWlzc2lvbjogcmVhZCB4cGF0aCAveHBhdGgxLyAo
cm9sZTEtcmVhZClcbiAgUGVybWlzc2lvbjogd3JpdGUgeHBhdGggL3hwYXRoMi8gKHJvbGUxLXdy
aXRlKVxuUm9sZTogcm9sZTJcbiAgUGVybWlzc2lvbjogZGVueSB4cGF0aCAveHBhdGgzLyAocm9s
ZTItZGVueSlcbiAgUGVybWlzc2lvbjogZGVueSB4cGF0aCAveHBhdGg0LyAocm9sZTItZGVueS0x
KVxuIikKIAogICAgICAgICBvLHIgPSBwY3MoImFjbCByb2xlIGFzc2lnbiByb2xlMiB0byB1c2Vy
MSIpCiAgICAgICAgIGFzc2VydCByID09IDAKQEAgLTM0Myw0MCArMzgwLDgzIEBAIFJvbGU6IHJv
bGUyCiAgICAgICAgIGFjKG8sIkVycm9yOiBncm91cCBncm91cDEgYWxyZWFkeSBleGlzdHNcbiIp
CiAKICAgICAgICAgbyxyID0gcGNzKCJhY2wiKQorICAgICAgICBhYyhvLCIiIlwKK0FDTHMgYXJl
IGRpc2FibGVkLCBydW4gJ3BjcyBhY2wgZW5hYmxlJyB0byBlbmFibGUKKworVXNlcjogdXNlcjEK
KyAgUm9sZXM6CitVc2VyOiB1c2VyMgorICBSb2xlczoKK0dyb3VwOiBncm91cDEKKyAgUm9sZXM6
CitHcm91cDogZ3JvdXAyCisgIFJvbGVzOgorIiIiKQogICAgICAgICBhc3NlcnQgciA9PSAwCi0g
ICAgICAgIGFjKG8sIkFDTHMgYXJlIGRpc2FibGVkLCBydW4gJ3BjcyBhY2wgZW5hYmxlJyB0byBl
bmFibGVcblxuVXNlcjogdXNlcjFcbiAgUm9sZXM6IFxuVXNlcjogdXNlcjJcbiAgUm9sZXM6IFxu
R3JvdXA6IGdyb3VwMVxuICBSb2xlczogXG5Hcm91cDogZ3JvdXAyXG4gIFJvbGVzOiBcbiIpCiAK
ICAgICAgICAgbyxyID0gcGNzKCJhY2wgZ3JvdXAgZGVsZXRlIHVzZXIxIikKICAgICAgICAgYXNz
ZXJ0IHIgPT0gMQogICAgICAgICBhYyhvLCJFcnJvcjogdW5hYmxlIHRvIGZpbmQgYWNsIGdyb3Vw
OiB1c2VyMVxuIikKIAogICAgICAgICBvLHIgPSBwY3MoImFjbCIpCisgICAgICAgIGFjKG8sICIi
IlwKK0FDTHMgYXJlIGRpc2FibGVkLCBydW4gJ3BjcyBhY2wgZW5hYmxlJyB0byBlbmFibGUKKwor
VXNlcjogdXNlcjEKKyAgUm9sZXM6CitVc2VyOiB1c2VyMgorICBSb2xlczoKK0dyb3VwOiBncm91
cDEKKyAgUm9sZXM6CitHcm91cDogZ3JvdXAyCisgIFJvbGVzOgorIiIiKQogICAgICAgICBhc3Nl
cnQgciA9PSAwCi0gICAgICAgIGFjKG8sIkFDTHMgYXJlIGRpc2FibGVkLCBydW4gJ3BjcyBhY2wg
ZW5hYmxlJyB0byBlbmFibGVcblxuVXNlcjogdXNlcjFcbiAgUm9sZXM6IFxuVXNlcjogdXNlcjJc
biAgUm9sZXM6IFxuR3JvdXA6IGdyb3VwMVxuICBSb2xlczogXG5Hcm91cDogZ3JvdXAyXG4gIFJv
bGVzOiBcbiIpCiAKICAgICAgICAgbyxyID0gcGNzKCJhY2wgZ3JvdXAgZGVsZXRlIGdyb3VwMiIp
CiAgICAgICAgIGFjKG8sIiIpCiAgICAgICAgIGFzc2VydCByID09IDAKIAogICAgICAgICBvLHIg
PSBwY3MoImFjbCIpCisgICAgICAgIGFjKG8sICIiIlwKK0FDTHMgYXJlIGRpc2FibGVkLCBydW4g
J3BjcyBhY2wgZW5hYmxlJyB0byBlbmFibGUKKworVXNlcjogdXNlcjEKKyAgUm9sZXM6CitVc2Vy
OiB1c2VyMgorICBSb2xlczoKK0dyb3VwOiBncm91cDEKKyAgUm9sZXM6CisiIiIpCiAgICAgICAg
IGFzc2VydCByID09IDAKLSAgICAgICAgYWMobywiQUNMcyBhcmUgZGlzYWJsZWQsIHJ1biAncGNz
IGFjbCBlbmFibGUnIHRvIGVuYWJsZVxuXG5Vc2VyOiB1c2VyMVxuICBSb2xlczogXG5Vc2VyOiB1
c2VyMlxuICBSb2xlczogXG5Hcm91cDogZ3JvdXAxXG4gIFJvbGVzOiBcbiIpCiAKICAgICAgICAg
byxyID0gcGNzKCJhY2wgZ3JvdXAgZGVsZXRlIGdyb3VwMSIpCiAgICAgICAgIGFjKG8sIiIpCiAg
ICAgICAgIGFzc2VydCByID09IDAKIAogICAgICAgICBvLHIgPSBwY3MoImFjbCIpCisgICAgICAg
IGFjKG8sICIiIlwKK0FDTHMgYXJlIGRpc2FibGVkLCBydW4gJ3BjcyBhY2wgZW5hYmxlJyB0byBl
bmFibGUKKworVXNlcjogdXNlcjEKKyAgUm9sZXM6CitVc2VyOiB1c2VyMgorICBSb2xlczoKKyIi
IikKICAgICAgICAgYXNzZXJ0IHIgPT0gMAotICAgICAgICBhYyhvLCJBQ0xzIGFyZSBkaXNhYmxl
ZCwgcnVuICdwY3MgYWNsIGVuYWJsZScgdG8gZW5hYmxlXG5cblVzZXI6IHVzZXIxXG4gIFJvbGVz
OiBcblVzZXI6IHVzZXIyXG4gIFJvbGVzOiBcbiIpCiAKICAgICAgICAgbyxyID0gcGNzKCJhY2wg
dXNlciBkZWxldGUgdXNlcjEiKQogICAgICAgICBhYyhvLCIiKQogICAgICAgICBhc3NlcnQgciA9
PSAwCiAKICAgICAgICAgbyxyID0gcGNzKCJhY2wiKQorICAgICAgICBhYyhvLCAiIiJcCitBQ0xz
IGFyZSBkaXNhYmxlZCwgcnVuICdwY3MgYWNsIGVuYWJsZScgdG8gZW5hYmxlCisKK1VzZXI6IHVz
ZXIyCisgIFJvbGVzOgorIiIiKQogICAgICAgICBhc3NlcnQgciA9PSAwCi0gICAgICAgIGFjKG8s
IkFDTHMgYXJlIGRpc2FibGVkLCBydW4gJ3BjcyBhY2wgZW5hYmxlJyB0byBlbmFibGVcblxuVXNl
cjogdXNlcjJcbiAgUm9sZXM6IFxuIikKIAogICAgICAgICBvLHIgPSBwY3MoImFjbCB1c2VyIGRl
bGV0ZSB1c2VyMiIpCiAgICAgICAgIGFjKG8sIiIpCkBAIC0zODksODMgKzQ2OSw4MyBAQCBSb2xl
OiByb2xlMgogICAgIGRlZiB0ZXN0Um9sZUNyZWF0ZURlbGV0ZShzZWxmKToKICAgICAgICAgbywg
ciA9IHBjcygiYWNsIHJvbGUgY3JlYXRlIHJvbGUwIHJlYWQiKQogICAgICAgICBzZWxmLmFzc2Vy
dFRydWUoby5zdGFydHN3aXRoKCJcblVzYWdlOiBwY3MgYWNsIHJvbGUgY3JlYXRlLi4uIikpCi0g
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
MSwgcikKIAogICAgICAgICBvLCByID0gcGNzKCJhY2wgcm9sZSBjcmVhdGUgcm9sZTAgcmVhZCAv
L3Jlc291cmNlcyIpCiAgICAgICAgIHNlbGYuYXNzZXJ0VHJ1ZShvLnN0YXJ0c3dpdGgoIlxuVXNh
Z2U6IHBjcyBhY2wgcm9sZSBjcmVhdGUuLi4iKSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMo
MSwgcikKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByKQogCiAgICAgICAgIG8sIHIgPSBw
Y3MoImFjbCByb2xlIGNyZWF0ZSByb2xlMCByZWFkIHhwYXRoIikKICAgICAgICAgc2VsZi5hc3Nl
cnRUcnVlKG8uc3RhcnRzd2l0aCgiXG5Vc2FnZTogcGNzIGFjbCByb2xlIGNyZWF0ZS4uLiIpKQot
ICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFs
KDEsIHIpCiAKICAgICAgICAgbywgciA9IHBjcygiYWNsIHJvbGUgY3JlYXRlIHJvbGUwIHJlYWQg
aWQiKQogICAgICAgICBzZWxmLmFzc2VydFRydWUoby5zdGFydHN3aXRoKCJcblVzYWdlOiBwY3Mg
YWNsIHJvbGUgY3JlYXRlLi4uIikpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHIpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcikKIAogICAgICAgICBvLCByID0gcGNzKCJhY2wg
cm9sZSBjcmVhdGUgcm9sZTAgcmVhZFggeHBhdGggLy9yZXNvdXJjZXMiKQogICAgICAgICBzZWxm
LmFzc2VydFRydWUoby5zdGFydHN3aXRoKCJcblVzYWdlOiBwY3MgYWNsIHJvbGUgY3JlYXRlLi4u
IikpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwoMSwgcikKIAogICAgICAgICBvLCByID0gcGNzKCJhY2wgcm9sZSBjcmVhdGUgcm9sZTAg
cmVhZCB4cGF0aFggLy9yZXNvdXJjZXMiKQogICAgICAgICBzZWxmLmFzc2VydFRydWUoby5zdGFy
dHN3aXRoKCJcblVzYWdlOiBwY3MgYWNsIHJvbGUgY3JlYXRlLi4uIikpCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKDEsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcikKIAogICAg
ICAgICBvLCByID0gcGNzKCJhY2wgcm9sZSBjcmVhdGUgcm9sZTAgZGVzY3JpcHRpb249dGVzdCBy
ZWFkIikKICAgICAgICAgc2VsZi5hc3NlcnRUcnVlKG8uc3RhcnRzd2l0aCgiXG5Vc2FnZTogcGNz
IGFjbCByb2xlIGNyZWF0ZS4uLiIpKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByKQor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHIpCiAKICAgICAgICAgbywgciA9IHBjcygiYWNs
IHJvbGUgY3JlYXRlIHJvbGUwIGRlc2NyaXB0aW9uPXRlc3QgcmVhZCAvL3Jlc291cmNlcyIpCiAg
ICAgICAgIHNlbGYuYXNzZXJ0VHJ1ZShvLnN0YXJ0c3dpdGgoIlxuVXNhZ2U6IHBjcyBhY2wgcm9s
ZSBjcmVhdGUuLi4iKSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcikKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbCgxLCByKQogCiAgICAgICAgIG8sIHIgPSBwY3MoImFjbCByb2xlIGNy
ZWF0ZSByb2xlMCBkZXNjcmlwdGlvbj10ZXN0IHJlYWQgeHBhdGgiKQogICAgICAgICBzZWxmLmFz
c2VydFRydWUoby5zdGFydHN3aXRoKCJcblVzYWdlOiBwY3MgYWNsIHJvbGUgY3JlYXRlLi4uIikp
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoMSwgcikKIAogICAgICAgICBvLCByID0gcGNzKCJhY2wgcm9sZSBjcmVhdGUgcm9sZTAgZGVz
Y3JpcHRpb249dGVzdCByZWFkIGlkIikKICAgICAgICAgc2VsZi5hc3NlcnRUcnVlKG8uc3RhcnRz
d2l0aCgiXG5Vc2FnZTogcGNzIGFjbCByb2xlIGNyZWF0ZS4uLiIpKQotICAgICAgICBzZWxmLmFz
c2VydEVxdWFscygxLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHIpCiAKICAgICAg
ICAgbywgciA9IHBjcygKICAgICAgICAgICAgICJhY2wgcm9sZSBjcmVhdGUgcm9sZTAgZGVzY3Jp
cHRpb249dGVzdCByZWFkWCB4cGF0aCAvL3Jlc291cmNlcyIKICAgICAgICAgKQogICAgICAgICBz
ZWxmLmFzc2VydFRydWUoby5zdGFydHN3aXRoKCJcblVzYWdlOiBwY3MgYWNsIHJvbGUgY3JlYXRl
Li4uIikpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHIpCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoMSwgcikKIAogICAgICAgICBvLCByID0gcGNzKAogICAgICAgICAgICAgImFjbCBy
b2xlIGNyZWF0ZSByb2xlMCBkZXNjcmlwdGlvbj10ZXN0IHJlYWQgeHBhdGhYIC8vcmVzb3VyY2Vz
IgogICAgICAgICApCiAgICAgICAgIHNlbGYuYXNzZXJ0VHJ1ZShvLnN0YXJ0c3dpdGgoIlxuVXNh
Z2U6IHBjcyBhY2wgcm9sZSBjcmVhdGUuLi4iKSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMo
MSwgcikKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByKQogCiAgICAgICAgIG8sIHIgPSBw
Y3MoImFjbCByb2xlIGNyZWF0ZSByb2xlMCBkZXNjPXRlc3QgcmVhZCIpCiAgICAgICAgIHNlbGYu
YXNzZXJ0VHJ1ZShvLnN0YXJ0c3dpdGgoIlxuVXNhZ2U6IHBjcyBhY2wgcm9sZSBjcmVhdGUuLi4i
KSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcikKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgxLCByKQogCiAgICAgICAgIG8sIHIgPSBwY3MoImFjbCByb2xlIGNyZWF0ZSByb2xlMCBk
ZXNjPXRlc3QgcmVhZCAvL3Jlc291cmNlcyIpCiAgICAgICAgIHNlbGYuYXNzZXJ0VHJ1ZShvLnN0
YXJ0c3dpdGgoIlxuVXNhZ2U6IHBjcyBhY2wgcm9sZSBjcmVhdGUuLi4iKSkKLSAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbHMoMSwgcikKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByKQogCiAg
ICAgICAgIG8sIHIgPSBwY3MoImFjbCByb2xlIGNyZWF0ZSByb2xlMCBkZXNjPXRlc3QgcmVhZCB4
cGF0aCIpCiAgICAgICAgIHNlbGYuYXNzZXJ0VHJ1ZShvLnN0YXJ0c3dpdGgoIlxuVXNhZ2U6IHBj
cyBhY2wgcm9sZSBjcmVhdGUuLi4iKSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcikK
KyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByKQogCiAgICAgICAgIG8sIHIgPSBwY3MoImFj
bCByb2xlIGNyZWF0ZSByb2xlMCBkZXNjPXRlc3QgcmVhZCBpZCIpCiAgICAgICAgIHNlbGYuYXNz
ZXJ0VHJ1ZShvLnN0YXJ0c3dpdGgoIlxuVXNhZ2U6IHBjcyBhY2wgcm9sZSBjcmVhdGUuLi4iKSkK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcikKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgxLCByKQogCiAgICAgICAgIG8sIHIgPSBwY3MoImFjbCByb2xlIGNyZWF0ZSByb2xlMCBkZXNj
PXRlc3QgcmVhZFggeHBhdGggLy9yZXNvdXJjZXMiKQogICAgICAgICBzZWxmLmFzc2VydFRydWUo
by5zdGFydHN3aXRoKCJcblVzYWdlOiBwY3MgYWNsIHJvbGUgY3JlYXRlLi4uIikpCi0gICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcikK
IAogICAgICAgICBvLCByID0gcGNzKCJhY2wgcm9sZSBjcmVhdGUgcm9sZTAgZGVzYz10ZXN0IHJl
YWQgeHBhdGhYIC8vcmVzb3VyY2VzIikKICAgICAgICAgc2VsZi5hc3NlcnRUcnVlKG8uc3RhcnRz
d2l0aCgiXG5Vc2FnZTogcGNzIGFjbCByb2xlIGNyZWF0ZS4uLiIpKQotICAgICAgICBzZWxmLmFz
c2VydEVxdWFscygxLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHIpCiAKICAgICAg
ICAgbyxyID0gcGNzKCJhY2wiKQogICAgICAgICBhYyhvLCAiQUNMcyBhcmUgZGlzYWJsZWQsIHJ1
biAncGNzIGFjbCBlbmFibGUnIHRvIGVuYWJsZVxuXG4iKQotICAgICAgICBzZWxmLmFzc2VydEVx
dWFscygwLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHIpCiAKICAgICAgICAgbyxy
ID0gcGNzKCJhY2wgcm9sZSBjcmVhdGUgcm9sZTAiKQogICAgICAgICBhYyhvLCIiKQpAQCAtNTgy
LDIzICs2NjIsMjMgQEAgUm9sZTogcm9sZTIKIAogICAgICAgICBvLCByID0gcGNzKCJhY2wgcGVy
bWlzc2lvbiBkZWxldGUgcm9sZTEtcmVhZCIpCiAgICAgICAgIGFjKG8sICIiKQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscygwLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHIpCiAK
ICAgICAgICAgbywgciA9IHBjcygiYWNsIHBlcm1pc3Npb24gZGVsZXRlIHJvbGUxLXdyaXRlIikK
ICAgICAgICAgYWMobywgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHIpCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcikKIAogICAgICAgICBvLCByID0gcGNzKCJhY2wgcGVy
bWlzc2lvbiBkZWxldGUgcm9sZTEtZGVueSIpCiAgICAgICAgIGFjKG8sICIiKQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscygwLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHIpCiAK
ICAgICAgICAgbywgciA9IHBjcygiYWNsIHBlcm1pc3Npb24gZGVsZXRlIHJvbGUyLXJlYWQiKQog
ICAgICAgICBhYyhvLCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcikKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByKQogCiAgICAgICAgIG8sIHIgPSBwY3MoImFjbCBwZXJt
aXNzaW9uIGRlbGV0ZSByb2xlMi13cml0ZSIpCiAgICAgICAgIGFjKG8sICIiKQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscygwLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHIpCiAK
ICAgICAgICAgbywgciA9IHBjcygiYWNsIikKICAgICAgICAgYWMobywgIiIiXApAQCAtNjA5LDU5
ICs2ODksNTkgQEAgUm9sZTogcm9sZTIKIFJvbGU6IHJvbGUzCiBSb2xlOiByb2xlNAogIiIiKQot
ICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFs
KDAsIHIpCiAKICAgICAgICAgbywgciA9IHBjcygiYWNsIHBlcm1pc3Npb24gYWRkIHJvbGUxIHJl
YWQiKQogICAgICAgICBzZWxmLmFzc2VydFRydWUoby5zdGFydHN3aXRoKCJcblVzYWdlOiBwY3Mg
YWNsIHBlcm1pc3Npb24gYWRkLi4uIikpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHIp
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcikKIAogICAgICAgICBvLCByID0gcGNzKCJh
Y2wgcGVybWlzc2lvbiBhZGQgcm9sZTEgcmVhZCAvL3Jlc291cmNlcyIpCiAgICAgICAgIHNlbGYu
YXNzZXJ0VHJ1ZShvLnN0YXJ0c3dpdGgoIlxuVXNhZ2U6IHBjcyBhY2wgcGVybWlzc2lvbiBhZGQu
Li4iKSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcikKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbCgxLCByKQogCiAgICAgICAgIG8sIHIgPSBwY3MoImFjbCBwZXJtaXNzaW9uIGFkZCBy
b2xlMSByZWFkIHhwYXRoIikKICAgICAgICAgc2VsZi5hc3NlcnRUcnVlKG8uc3RhcnRzd2l0aCgi
XG5Vc2FnZTogcGNzIGFjbCBwZXJtaXNzaW9uIGFkZC4uLiIpKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygxLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHIpCiAKICAgICAgICAg
bywgciA9IHBjcygiYWNsIHBlcm1pc3Npb24gYWRkIHJvbGUxIHJlYWQgaWQiKQogICAgICAgICBz
ZWxmLmFzc2VydFRydWUoby5zdGFydHN3aXRoKCJcblVzYWdlOiBwY3MgYWNsIHBlcm1pc3Npb24g
YWRkLi4uIikpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHIpCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoMSwgcikKIAogICAgICAgICBvLCByID0gcGNzKCJhY2wgcGVybWlzc2lvbiBh
ZGQgcm9sZTEgcmVhZFggeHBhdGggLy9yZXNvdXJjZXMiKQogICAgICAgICBzZWxmLmFzc2VydFRy
dWUoby5zdGFydHN3aXRoKCJcblVzYWdlOiBwY3MgYWNsIHBlcm1pc3Npb24gYWRkLi4uIikpCi0g
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
MSwgcikKIAogICAgICAgICBvLCByID0gcGNzKCJhY2wgcGVybWlzc2lvbiBhZGQgcm9sZTEgcmVh
ZCB4cGF0aFggLy9yZXNvdXJjZXMiKQogICAgICAgICBzZWxmLmFzc2VydFRydWUoby5zdGFydHN3
aXRoKCJcblVzYWdlOiBwY3MgYWNsIHBlcm1pc3Npb24gYWRkLi4uIikpCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKDEsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcikKIAogICAg
ICAgICBvLCByID0gcGNzKCJhY2wgcGVybWlzc2lvbiBhZGQgcm9sZTEgcmVhZCBpZCBkdW1teSBy
ZWFkIikKICAgICAgICAgc2VsZi5hc3NlcnRUcnVlKG8uc3RhcnRzd2l0aCgiXG5Vc2FnZTogcGNz
IGFjbCBwZXJtaXNzaW9uIGFkZC4uLiIpKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCBy
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHIpCiAKICAgICAgICAgbywgciA9IHBjcygi
YWNsIHBlcm1pc3Npb24gYWRkIHJvbGUxIHJlYWQgaWQgZHVtbXkgcmVhZCAvL3Jlc291cmNlcyIp
CiAgICAgICAgIHNlbGYuYXNzZXJ0VHJ1ZShvLnN0YXJ0c3dpdGgoIlxuVXNhZ2U6IHBjcyBhY2wg
cGVybWlzc2lvbiBhZGQuLi4iKSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcikKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByKQogCiAgICAgICAgIG8sIHIgPSBwY3MoImFjbCBw
ZXJtaXNzaW9uIGFkZCByb2xlMSByZWFkIGlkIGR1bW15IHJlYWQgeHBhdGgiKQogICAgICAgICBz
ZWxmLmFzc2VydFRydWUoby5zdGFydHN3aXRoKCJcblVzYWdlOiBwY3MgYWNsIHBlcm1pc3Npb24g
YWRkLi4uIikpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHIpCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoMSwgcikKIAogICAgICAgICBvLCByID0gcGNzKCJhY2wgcGVybWlzc2lvbiBh
ZGQgcm9sZTEgcmVhZCBpZCBkdW1teSByZWFkIGlkIikKICAgICAgICAgc2VsZi5hc3NlcnRUcnVl
KG8uc3RhcnRzd2l0aCgiXG5Vc2FnZTogcGNzIGFjbCBwZXJtaXNzaW9uIGFkZC4uLiIpKQotICAg
ICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEs
IHIpCiAKICAgICAgICAgbywgciA9IHBjcygKICAgICAgICAgICAgICJhY2wgcGVybWlzc2lvbiBh
ZGQgcm9sZTEgcmVhZCBpZCBkdW1teSByZWFkWCB4cGF0aCAvL3Jlc291cmNlcyIKICAgICAgICAg
KQogICAgICAgICBzZWxmLmFzc2VydFRydWUoby5zdGFydHN3aXRoKCJcblVzYWdlOiBwY3MgYWNs
IHBlcm1pc3Npb24gYWRkLi4uIikpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHIpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcikKIAogICAgICAgICBvLCByID0gcGNzKAogICAg
ICAgICAgICAgImFjbCBwZXJtaXNzaW9uIGFkZCByb2xlMSByZWFkIGlkIGR1bW15IHJlYWQgeHBh
dGhYIC8vcmVzb3VyY2VzIgogICAgICAgICApCiAgICAgICAgIHNlbGYuYXNzZXJ0VHJ1ZShvLnN0
YXJ0c3dpdGgoIlxuVXNhZ2U6IHBjcyBhY2wgcGVybWlzc2lvbiBhZGQuLi4iKSkKLSAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbHMoMSwgcikKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByKQog
CiAgICAgICAgIG8sIHIgPSBwY3MoImFjbCIpCiAgICAgICAgIGFjKG8sICIiIlwKQEAgLTY3Miwx
MSArNzUyLDExIEBAIFJvbGU6IHJvbGUyCiBSb2xlOiByb2xlMwogUm9sZTogcm9sZTQKICIiIikK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcikKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgwLCByKQogCiAKIGlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICAgaWYgaXNNaW5pbXVt
UGFjZW1ha2VyVmVyc2lvbigxLDEsMTEpOgogICAgICAgICB1bml0dGVzdC5tYWluKCkKICAgICBl
bHNlOgotICAgICAgICBwcmludCAiV0FSTklORzogUGFjZW1ha2VyIHZlcnNpb24gaXMgdG9vIG9s
ZCAobXVzdCBiZSA+PSAxLjEuMTEpIHRvIHRlc3QgYWNscyIKKyAgICAgICAgcHJpbnQoIldBUk5J
Tkc6IFBhY2VtYWtlciB2ZXJzaW9uIGlzIHRvbyBvbGQgKG11c3QgYmUgPj0gMS4xLjExKSB0byB0
ZXN0IGFjbHMiKQpkaWZmIC0tZ2l0IGEvcGNzL3Rlc3QvdGVzdF9jbHVzdGVyLnB5IGIvcGNzL3Rl
c3QvdGVzdF9jbHVzdGVyLnB5CmluZGV4IGFjY2Q0MGEuLjgwNWZjODAgMTAwNjQ0Ci0tLSBhL3Bj
cy90ZXN0L3Rlc3RfY2x1c3Rlci5weQorKysgYi9wY3MvdGVzdC90ZXN0X2NsdXN0ZXIucHkKQEAg
LTEsMTIgKzEsMTkgQEAKK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgYWJzb2x1dGVfaW1wb3J0Citm
cm9tIF9fZnV0dXJlX18gaW1wb3J0IGRpdmlzaW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHBy
aW50X2Z1bmN0aW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHVuaWNvZGVfbGl0ZXJhbHMKKwog
aW1wb3J0IG9zCiBpbXBvcnQgc3lzCiBpbXBvcnQgc2h1dGlsCiBpbXBvcnQgdW5pdHRlc3QKIHBh
cmVudGRpciA9IG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5hYnNwYXRo
KF9fZmlsZV9fKSkpCiBzeXMucGF0aC5pbnNlcnQoMCwgcGFyZW50ZGlyKQorCiBpbXBvcnQgdXRp
bHMKIGZyb20gcGNzX3Rlc3RfZnVuY3Rpb25zIGltcG9ydCBwY3MsIGFjLCBpc01pbmltdW1QYWNl
bWFrZXJWZXJzaW9uCiAKKwogZW1wdHlfY2liID0gImVtcHR5LXdpdGhub2Rlcy54bWwiCiB0ZW1w
X2NpYiA9ICJ0ZW1wLnhtbCIKIApAQCAtOTIsMjIgKzk5LDIyIEBAIGNsYXNzIENsdXN0ZXJUZXN0
KHVuaXR0ZXN0LlRlc3RDYXNlKToKIAogICAgIGRlZiB0ZXN0X2NsdXN0ZXJfc2V0dXBfYmFkX2Fy
Z3Moc2VsZik6CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAiY2x1
c3RlciBzZXR1cCIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKAogICAgICAgICAgICAgIkVycm9yOiBBIGNsdXN0ZXIgbmFtZSAoLS1uYW1lIDxu
YW1lPikgaXMgcmVxdWlyZWQgdG8gc2V0dXAgYSBjbHVzdGVyXG4iLAogICAgICAgICAgICAgb3V0
cHV0CiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQs
IHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgImNsdXN0ZXIgc2V0dXAgLS1uYW1lIGNuYW1lIikK
ICAgICAgICAgc2VsZi5hc3NlcnRUcnVlKG91dHB1dC5zdGFydHN3aXRoKCJcblVzYWdlOiBwY3Mg
Y2x1c3RlciBzZXR1cC4uLiIpKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5W
YWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91
dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAiY2x1c3RlciBzZXR1cCBjbmFtZSByaDct
MSByaDctMiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFsKAogICAgICAgICAgICAgIkVycm9yOiBBIGNsdXN0ZXIgbmFtZSAoLS1uYW1lIDxuYW1l
PikgaXMgcmVxdWlyZWQgdG8gc2V0dXAgYSBjbHVzdGVyXG4iLAogICAgICAgICAgICAgb3V0cHV0
CiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgIGRlZiB0ZXN0X2NsdXN0
ZXJfc2V0dXBfaG9zdG5hbWVzX3Jlc29sdmluZyhzZWxmKToKICAgICAgICAgb3V0cHV0LCByZXR1
cm5WYWwgPSBwY3MoCkBAIC0xMTgsNyArMTI1LDcgQEAgY2xhc3MgQ2x1c3RlclRlc3QodW5pdHRl
c3QuVGVzdENhc2UpOgogRXJyb3I6IFVuYWJsZSB0byByZXNvbHZlIGFsbCBob3N0bmFtZXMsIHVz
ZSAtLWZvcmNlIHRvIG92ZXJyaWRlCiBXYXJuaW5nOiBVbmFibGUgdG8gcmVzb2x2ZSBob3N0bmFt
ZTogbm9uZXhpc3RhbnQtYWRkcmVzcwogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygx
LCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAg
ICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCkBA
IC0xMjcsNyArMTM0LDcgQEAgV2FybmluZzogVW5hYmxlIHRvIHJlc29sdmUgaG9zdG5hbWU6IG5v
bmV4aXN0YW50LWFkZHJlc3MKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCiBXYXJuaW5nOiBVbmFi
bGUgdG8gcmVzb2x2ZSBob3N0bmFtZTogbm9uZXhpc3RhbnQtYWRkcmVzcwogIiIiKQotICAgICAg
ICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgZGVmIHRlc3RfY2x1c3Rlcl9zZXR1cF9maWxlX2V4aXN0
cyhzZWxmKToKICAgICAgICAgaWYgdXRpbHMuaXNfcmhlbDYoKToKQEAgLTEzNyw4ICsxNDQsOCBA
QCBXYXJuaW5nOiBVbmFibGUgdG8gcmVzb2x2ZSBob3N0bmFtZTogbm9uZXhpc3RhbnQtYWRkcmVz
cwogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAiY2x1c3RlciBzZXR1cCAtLWxv
Y2FsIC0tY29yb3N5bmNfY29uZj1jb3Jvc3luYy5jb25mLnRtcCAtLW5hbWUgY25hbWUgcmg3LTEg
cmg3LTIiCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoIiIsIG91dHB1dCkK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKCIiLCBvdXRwdXQpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJu
VmFsKQogICAgICAgICBjb3Jvc3luY19jb25mID0gIiIiXAogdG90ZW0gewogICAgIHZlcnNpb246
IDIKQEAgLTE3OCwxMiArMTg1LDEyIEBAIGxvZ2dpbmcgewogICAgICAgICAgICAgdGVtcF9jaWIs
CiAgICAgICAgICAgICAiY2x1c3RlciBzZXR1cCAtLWxvY2FsIC0tY29yb3N5bmNfY29uZj1jb3Jv
c3luYy5jb25mLnRtcCAtLW5hbWUgY25hbWUgcmg3LTIgcmg3LTMiCiAgICAgICAgICkKLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoIiIiXAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKCIiIlwK
IEVycm9yOiBjb3Jvc3luYy5jb25mLnRtcCBhbHJlYWR5IGV4aXN0cywgdXNlIC0tZm9yY2UgdG8g
b3ZlcndyaXRlCiAiIiIsCiAgICAgICAgICAgICBvdXRwdXQKICAgICAgICAgKQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
MSwgcmV0dXJuVmFsKQogICAgICAgICB3aXRoIG9wZW4oImNvcm9zeW5jLmNvbmYudG1wIikgYXMg
ZjoKICAgICAgICAgICAgIGRhdGEgPSBmLnJlYWQoKQogICAgICAgICAgICAgYWMoZGF0YSwgY29y
b3N5bmNfY29uZikKQEAgLTE5Miw4ICsxOTksOCBAQCBFcnJvcjogY29yb3N5bmMuY29uZi50bXAg
YWxyZWFkeSBleGlzdHMsIHVzZSAtLWZvcmNlIHRvIG92ZXJ3cml0ZQogICAgICAgICAgICAgdGVt
cF9jaWIsCiAgICAgICAgICAgICAiY2x1c3RlciBzZXR1cCAtLWZvcmNlIC0tbG9jYWwgLS1jb3Jv
c3luY19jb25mPWNvcm9zeW5jLmNvbmYudG1wIC0tbmFtZSBjbmFtZSByaDctMiByaDctMyIKICAg
ICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygiIiwgb3V0cHV0KQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
IiIsIG91dHB1dCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAgICAg
ICAgIHdpdGggb3BlbigiY29yb3N5bmMuY29uZi50bXAiKSBhcyBmOgogICAgICAgICAgICAgZGF0
YSA9IGYucmVhZCgpCiAgICAgICAgICAgICBhYyhkYXRhLCAiIiJcCkBAIC0yMzYsOCArMjQzLDgg
QEAgbG9nZ2luZyB7CiAgICAgICAgICAgICB0ZW1wX2NpYiwKICAgICAgICAgICAgICJjbHVzdGVy
IHNldHVwIC0tbG9jYWwgLS1jbHVzdGVyX2NvbmY9Y2x1c3Rlci5jb25mLnRtcCAtLW5hbWUgY25h
bWUgcmg3LTEgcmg3LTIiCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoIiIs
IG91dHB1dCkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKCIiLCBvdXRwdXQpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
MCwgcmV0dXJuVmFsKQogICAgICAgICBjbHVzdGVyX2NvbmYgPSAiIiJcCiA8Y2x1c3RlciBjb25m
aWdfdmVyc2lvbj0iOSIgbmFtZT0iY25hbWUiPgogICA8ZmVuY2VfZGFlbW9uLz4KQEAgLTI3NSwx
MiArMjgyLDEyIEBAIGxvZ2dpbmcgewogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAg
ICAiY2x1c3RlciBzZXR1cCAtLWxvY2FsIC0tY2x1c3Rlcl9jb25mPWNsdXN0ZXIuY29uZi50bXAg
LS1uYW1lIGNuYW1lIHJoNy0yIHJoNy0zIgogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKCIiIlwKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgiIiJcCiBFcnJvcjogY2x1c3Rl
ci5jb25mLnRtcCBhbHJlYWR5IGV4aXN0cywgdXNlIC0tZm9yY2UgdG8gb3ZlcndyaXRlCiAiIiIs
CiAgICAgICAgICAgICBvdXRwdXQKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQog
ICAgICAgICB3aXRoIG9wZW4oImNsdXN0ZXIuY29uZi50bXAiKSBhcyBmOgogICAgICAgICAgICAg
ZGF0YSA9IGYucmVhZCgpCiAgICAgICAgICAgICBhYyhkYXRhLCBjbHVzdGVyX2NvbmYpCkBAIC0y
ODksOCArMjk2LDggQEAgRXJyb3I6IGNsdXN0ZXIuY29uZi50bXAgYWxyZWFkeSBleGlzdHMsIHVz
ZSAtLWZvcmNlIHRvIG92ZXJ3cml0ZQogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAg
ICAiY2x1c3RlciBzZXR1cCAtLWZvcmNlIC0tbG9jYWwgLS1jbHVzdGVyX2NvbmY9Y2x1c3Rlci5j
b25mLnRtcCAtLW5hbWUgY25hbWUgcmg3LTIgcmg3LTMiCiAgICAgICAgICkKLSAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbHMoIiIsIG91dHB1dCkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwg
cmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKCIiLCBvdXRwdXQpCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogICAgICAgICB3aXRoIG9wZW4oImNsdXN0
ZXIuY29uZi50bXAiKSBhcyBmOgogICAgICAgICAgICAgZGF0YSA9IGYucmVhZCgpCiAgICAgICAg
ICAgICBhYyhkYXRhLCAiIiJcCkBAIC0zMzQsOCArMzQxLDggQEAgRXJyb3I6IGNsdXN0ZXIuY29u
Zi50bXAgYWxyZWFkeSBleGlzdHMsIHVzZSAtLWZvcmNlIHRvIG92ZXJ3cml0ZQogICAgICAgICAg
ICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAiY2x1c3RlciBzZXR1cCAtLWxvY2FsIC0tY29yb3N5
bmNfY29uZj1jb3Jvc3luYy5jb25mLnRtcCAtLW5hbWUgY25hbWUgcmg3LTEgcmg3LTIiCiAgICAg
ICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoIiIsIG91dHB1dCkKLSAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKCIi
LCBvdXRwdXQpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogICAgICAg
ICB3aXRoIG9wZW4oImNvcm9zeW5jLmNvbmYudG1wIikgYXMgZjoKICAgICAgICAgICAgIGRhdGEg
PSBmLnJlYWQoKQogICAgICAgICAgICAgYWMoZGF0YSwgIiIiXApAQCAtMzc0LDggKzM4MSw4IEBA
IGxvZ2dpbmcgewogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAiY2x1c3RlciBs
b2NhbG5vZGUgYWRkIC0tY29yb3N5bmNfY29uZj1jb3Jvc3luYy5jb25mLnRtcCByaDctMyIKICAg
ICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygicmg3LTM6IHN1Y2Nlc3NmdWxseSBh
ZGRlZCFcbiIsIG91dHB1dCkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFs
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKCJyaDctMzogc3VjY2Vzc2Z1bGx5IGFkZGVkIVxu
Iiwgb3V0cHV0KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKICAgICAg
ICAgd2l0aCBvcGVuKCJjb3Jvc3luYy5jb25mLnRtcCIpIGFzIGY6CiAgICAgICAgICAgICBkYXRh
ID0gZi5yZWFkKCkKICAgICAgICAgICAgIGFjKGRhdGEsICIiIlwKQEAgLTQxOCw4ICs0MjUsOCBA
QCBsb2dnaW5nIHsKICAgICAgICAgICAgIHRlbXBfY2liLAogICAgICAgICAgICAgImNsdXN0ZXIg
bG9jYWxub2RlIHJlbW92ZSAtLWNvcm9zeW5jX2NvbmY9Y29yb3N5bmMuY29uZi50bXAgcmg3LTMi
CiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQotICAg
ICAgICBzZWxmLmFzc2VydEVxdWFscygicmg3LTM6IHN1Y2Nlc3NmdWxseSByZW1vdmVkIVxuIiwg
b3V0cHV0KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbCgicmg3LTM6IHN1Y2Nlc3NmdWxseSByZW1vdmVkIVxuIiwgb3V0cHV0
KQogICAgICAgICB3aXRoIG9wZW4oImNvcm9zeW5jLmNvbmYudG1wIikgYXMgZjoKICAgICAgICAg
ICAgIGRhdGEgPSBmLnJlYWQoKQogICAgICAgICAgICAgYWMoZGF0YSwgIiIiXApAQCAtNDU4LDgg
KzQ2NSw4IEBAIGxvZ2dpbmcgewogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAi
Y2x1c3RlciBsb2NhbG5vZGUgYWRkIC0tY29yb3N5bmNfY29uZj1jb3Jvc3luYy5jb25mLnRtcCBy
aDctMywxOTIuMTY4LjEuMyIKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygi
cmg3LTMsMTkyLjE2OC4xLjM6IHN1Y2Nlc3NmdWxseSBhZGRlZCFcbiIsIG91dHB1dCkKLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVx
dWFsKCJyaDctMywxOTIuMTY4LjEuMzogc3VjY2Vzc2Z1bGx5IGFkZGVkIVxuIiwgb3V0cHV0KQor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKICAgICAgICAgd2l0aCBvcGVu
KCJjb3Jvc3luYy5jb25mLnRtcCIpIGFzIGY6CiAgICAgICAgICAgICBkYXRhID0gZi5yZWFkKCkK
ICAgICAgICAgICAgIGFjKGRhdGEsICIiIlwKQEAgLTUwMyw4ICs1MTAsOCBAQCBsb2dnaW5nIHsK
ICAgICAgICAgICAgIHRlbXBfY2liLAogICAgICAgICAgICAgImNsdXN0ZXIgbG9jYWxub2RlIHJl
bW92ZSAtLWNvcm9zeW5jX2NvbmY9Y29yb3N5bmMuY29uZi50bXAgcmg3LTIiCiAgICAgICAgICkK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQotICAgICAgICBzZWxmLmFz
c2VydEVxdWFscygicmg3LTI6IHN1Y2Nlc3NmdWxseSByZW1vdmVkIVxuIiwgb3V0cHV0KQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgicmg3LTI6IHN1Y2Nlc3NmdWxseSByZW1vdmVkIVxuIiwgb3V0cHV0KQogICAgICAgICB3
aXRoIG9wZW4oImNvcm9zeW5jLmNvbmYudG1wIikgYXMgZjoKICAgICAgICAgICAgIGRhdGEgPSBm
LnJlYWQoKQogICAgICAgICAgICAgYWMoZGF0YSwgIiIiXApAQCAtNTQ0LDggKzU1MSw4IEBAIGxv
Z2dpbmcgewogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAiY2x1c3RlciBsb2Nh
bG5vZGUgcmVtb3ZlIC0tY29yb3N5bmNfY29uZj1jb3Jvc3luYy5jb25mLnRtcCByaDctMywxOTIu
MTY4LjEuMyIKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5W
YWwpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKCJyaDctMywxOTIuMTY4LjEuMzogc3VjY2Vz
c2Z1bGx5IHJlbW92ZWQhXG4iLCBvdXRwdXQpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwg
cmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKCJyaDctMywxOTIuMTY4LjEuMzog
c3VjY2Vzc2Z1bGx5IHJlbW92ZWQhXG4iLCBvdXRwdXQpCiAgICAgICAgIHdpdGggb3BlbigiY29y
b3N5bmMuY29uZi50bXAiKSBhcyBmOgogICAgICAgICAgICAgZGF0YSA9IGYucmVhZCgpCiAgICAg
ICAgICAgICBhYyhkYXRhLCAiIiJcCkBAIC01ODUsOCArNTkyLDggQEAgbG9nZ2luZyB7CiAgICAg
ICAgICAgICB0ZW1wX2NpYiwKICAgICAgICAgICAgICJjbHVzdGVyIHNldHVwIC0tbG9jYWwgLS1j
b3Jvc3luY19jb25mPWNvcm9zeW5jLmNvbmYudG1wIC0tbmFtZSBjbmFtZSByaDctMSByaDctMiAt
LWF1dG9fdGllX2JyZWFrZXI9MSIKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygiIiwgb3V0cHV0KQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoIiIsIG91dHB1dCkKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgwLCByZXR1cm5WYWwpCiAgICAgICAgIHdpdGggb3BlbigiY29yb3N5bmMuY29uZi50bXAi
KSBhcyBmOgogICAgICAgICAgICAgZGF0YSA9IGYucmVhZCgpCiAgICAgICAgICAgICBhYyhkYXRh
LCAiIiJcCkBAIC02MjUsOCArNjMyLDggQEAgbG9nZ2luZyB7CiAgICAgICAgICAgICB0ZW1wX2Np
YiwKICAgICAgICAgICAgICJjbHVzdGVyIGxvY2Fsbm9kZSBhZGQgLS1jb3Jvc3luY19jb25mPWNv
cm9zeW5jLmNvbmYudG1wIHJoNy0zIgogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWxzKG91dHB1dCwgInJoNy0zOiBzdWNjZXNzZnVsbHkgYWRkZWQhXG4iKQotICAgICAgICBzZWxm
LmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwob3V0
cHV0LCAicmg3LTM6IHN1Y2Nlc3NmdWxseSBhZGRlZCFcbiIpCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwoMCwgcmV0dXJuVmFsKQogICAgICAgICB3aXRoIG9wZW4oImNvcm9zeW5jLmNvbmYudG1w
IikgYXMgZjoKICAgICAgICAgICAgIGRhdGEgPSBmLnJlYWQoKQogICAgICAgICAgICAgYWMoZGF0
YSwgIiIiXApAQCAtNjcwLDggKzY3Nyw4IEBAIGxvZ2dpbmcgewogICAgICAgICAgICAgdGVtcF9j
aWIsCiAgICAgICAgICAgICAiY2x1c3RlciBsb2NhbG5vZGUgcmVtb3ZlIC0tY29yb3N5bmNfY29u
Zj1jb3Jvc3luYy5jb25mLnRtcCByaDctMyIKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygicmg3LTM6IHN1Y2Nlc3NmdWxseSByZW1vdmVkIVxuIiwgb3V0cHV0KQotICAgICAg
ICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoInJoNy0zOiBzdWNjZXNzZnVsbHkgcmVtb3ZlZCFcbiIsIG91dHB1dCkKKyAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAgICAgICAgIHdpdGggb3BlbigiY29yb3N5bmMu
Y29uZi50bXAiKSBhcyBmOgogICAgICAgICAgICAgZGF0YSA9IGYucmVhZCgpCiAgICAgICAgICAg
ICBhYyhkYXRhLCAiIiJcCkBAIC03MTUsOCArNzIyLDggQEAgbG9nZ2luZyB7CiAgICAgICAgICAg
ICB0ZW1wX2NpYiwKICAgICAgICAgICAgICJjbHVzdGVyIHNldHVwIC0tbG9jYWwgLS1jb3Jvc3lu
Y19jb25mPWNvcm9zeW5jLmNvbmYudG1wIC0tbmFtZSBjbmFtZSByaDctMSByaDctMiByaDctMyIK
ICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygiIiwgb3V0cHV0KQotICAgICAg
ICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoIiIsIG91dHB1dCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAg
ICAgICAgIHdpdGggb3BlbigiY29yb3N5bmMuY29uZi50bXAiKSBhcyBmOgogICAgICAgICAgICAg
ZGF0YSA9IGYucmVhZCgpCiAgICAgICAgICAgICBhYyhkYXRhLCAiIiJcCkBAIC03NjQsOCArNzcx
LDggQEAgbG9nZ2luZyB7CiAgICAgICAgICAgICB0ZW1wX2NpYiwKICAgICAgICAgICAgICJjbHVz
dGVyIHNldHVwIC0tbG9jYWwgLS1jb3Jvc3luY19jb25mPWNvcm9zeW5jLmNvbmYudG1wIC0tbmFt
ZSBjbmFtZSByaDctMSByaDctMiAtLXRyYW5zcG9ydCB1ZHAiCiAgICAgICAgICkKLSAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbHMoIiIsIG91dHB1dCkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMo
MCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKCIiLCBvdXRwdXQpCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogICAgICAgICB3aXRoIG9wZW4oImNv
cm9zeW5jLmNvbmYudG1wIikgYXMgZjoKICAgICAgICAgICAgIGRhdGEgPSBmLnJlYWQoKQogICAg
ICAgICAgICAgYWMoZGF0YSwgIiIiXApAQCAtODE0LDcgKzgyMSw3IEBAIGxvZ2dpbmcgewogICAg
ICAgICAgICAgImNsdXN0ZXIgc2V0dXAgLS1sb2NhbCAtLWNsdXN0ZXJfY29uZj1jbHVzdGVyLmNv
bmYudG1wIC0tbmFtZSBjbmFtZSByaDctMSByaDctMiIKICAgICAgICAgKQogICAgICAgICBhYyhv
dXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5WYWwsIDApCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0dXJuVmFsLCAwKQogICAgICAgICB3aXRoIG9wZW4oImNs
dXN0ZXIuY29uZi50bXAiKSBhcyBmOgogICAgICAgICAgICAgZGF0YSA9IGYucmVhZCgpCiAgICAg
ICAgICAgICBhYyhkYXRhLCAiIiJcCkBAIC04NTIsNyArODU5LDcgQEAgbG9nZ2luZyB7CiAgICAg
ICAgICAgICAiY2x1c3RlciBsb2NhbG5vZGUgYWRkIC0tY2x1c3Rlcl9jb25mPWNsdXN0ZXIuY29u
Zi50bXAgcmg3LTMiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAicmg3LTM6IHN1Y2Nl
c3NmdWxseSBhZGRlZCFcbiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldHVyblZhbCwg
MCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXR1cm5WYWwsIDApCiAgICAgICAgIHdpdGgg
b3BlbigiY2x1c3Rlci5jb25mLnRtcCIpIGFzIGY6CiAgICAgICAgICAgICBkYXRhID0gZi5yZWFk
KCkKICAgICAgICAgICAgIGFjKGRhdGEsICIiIlwKQEAgLTg5Nyw3ICs5MDQsNyBAQCBsb2dnaW5n
IHsKICAgICAgICAgICAgICJjbHVzdGVyIGxvY2Fsbm9kZSByZW1vdmUgLS1jbHVzdGVyX2NvbmY9
Y2x1c3Rlci5jb25mLnRtcCByaDctMyIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICJy
aDctMzogc3VjY2Vzc2Z1bGx5IHJlbW92ZWQhXG4iKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cyhyZXR1cm5WYWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0dXJuVmFsLCAwKQog
CiAgICAgICAgIHdpdGggb3BlbigiY2x1c3Rlci5jb25mLnRtcCIpIGFzIGY6CiAgICAgICAgICAg
ICBkYXRhID0gZi5yZWFkKCkKQEAgLTkzNiw3ICs5NDMsNyBAQCBsb2dnaW5nIHsKICAgICAgICAg
ICAgICJjbHVzdGVyIGxvY2Fsbm9kZSBhZGQgLS1jbHVzdGVyX2NvbmY9Y2x1c3Rlci5jb25mLnRt
cCByaDctMywxOTIuMTY4LjEuMyIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICJyaDct
MywxOTIuMTY4LjEuMzogc3VjY2Vzc2Z1bGx5IGFkZGVkIVxuIikKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHMocmV0dXJuVmFsLCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldHVyblZh
bCwgMCkKIAogICAgICAgICB3aXRoIG9wZW4oImNsdXN0ZXIuY29uZi50bXAiKSBhcyBmOgogICAg
ICAgICAgICAgZGF0YSA9IGYucmVhZCgpCkBAIC05ODMsNyArOTkwLDcgQEAgbG9nZ2luZyB7CiAg
ICAgICAgICAgICAiY2x1c3RlciBsb2NhbG5vZGUgcmVtb3ZlIC0tY2x1c3Rlcl9jb25mPWNsdXN0
ZXIuY29uZi50bXAgcmg3LTIiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAicmg3LTI6
IHN1Y2Nlc3NmdWxseSByZW1vdmVkIVxuIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0
dXJuVmFsLCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldHVyblZhbCwgMCkKIAogICAg
ICAgICB3aXRoIG9wZW4oImNsdXN0ZXIuY29uZi50bXAiKSBhcyBmOgogICAgICAgICAgICAgZGF0
YSA9IGYucmVhZCgpCkBAIC0xMDIzLDcgKzEwMzAsNyBAQCBsb2dnaW5nIHsKICAgICAgICAgICAg
ICJjbHVzdGVyIGxvY2Fsbm9kZSByZW1vdmUgLS1jbHVzdGVyX2NvbmY9Y2x1c3Rlci5jb25mLnRt
cCByaDctMywxOTIuMTY4LjEuMyIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICJyaDct
MywxOTIuMTY4LjEuMzogc3VjY2Vzc2Z1bGx5IHJlbW92ZWQhXG4iKQotICAgICAgICBzZWxmLmFz
c2VydEVxdWFscyhyZXR1cm5WYWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0dXJu
VmFsLCAwKQogCiAgICAgICAgIHdpdGggb3BlbigiY2x1c3Rlci5jb25mLnRtcCIpIGFzIGY6CiAg
ICAgICAgICAgICBkYXRhID0gZi5yZWFkKCkKQEAgLTEwNjAsNyArMTA2Nyw3IEBAIGxvZ2dpbmcg
ewogICAgICAgICAgICAgImNsdXN0ZXIgc2V0dXAgLS1sb2NhbCAtLWNsdXN0ZXJfY29uZj1jbHVz
dGVyLmNvbmYudG1wIC0tbmFtZSBjbmFtZSByaDctMSByaDctMiByaDctMyIKICAgICAgICAgKQog
ICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5W
YWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0dXJuVmFsLCAwKQogICAgICAgICB3
aXRoIG9wZW4oImNsdXN0ZXIuY29uZi50bXAiKSBhcyBmOgogICAgICAgICAgICAgZGF0YSA9IGYu
cmVhZCgpCiAgICAgICAgICAgICBhYyhkYXRhLCAiIiJcCkBAIC0xMTEyLDcgKzExMTksNyBAQCBs
b2dnaW5nIHsKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCiBXYXJuaW5nOiBVc2luZyB1ZHB1IHRy
YW5zcG9ydCBvbiBhIENNQU4gY2x1c3RlciwgY2x1c3RlciByZXN0YXJ0IGlzIHJlcXVpcmVkIGFm
dGVyIG5vZGUgYWRkIG9yIHJlbW92ZQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhy
ZXR1cm5WYWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0dXJuVmFsLCAwKQogICAg
ICAgICB3aXRoIG9wZW4oImNsdXN0ZXIuY29uZi50bXAiKSBhcyBmOgogICAgICAgICAgICAgZGF0
YSA9IGYucmVhZCgpCiAgICAgICAgICAgICBhYyhkYXRhLCAiIiJcCkBAIC0xMTUzLDggKzExNjAs
OCBAQCBXYXJuaW5nOiBVc2luZyB1ZHB1IHRyYW5zcG9ydCBvbiBhIENNQU4gY2x1c3RlciwgY2x1
c3RlciByZXN0YXJ0IGlzIHJlcXVpcmVkIGFmdAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAg
ICAgICAgICAiY2x1c3RlciBzZXR1cCAtLWxvY2FsIC0tY29yb3N5bmNfY29uZj1jb3Jvc3luYy5j
b25mLnRtcCAtLW5hbWUgY25hbWUgcmg3LTEgcmg3LTIgLS1pcHY2IgogICAgICAgICApCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKCIiLCBvdXRwdXQpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgiIiwgb3V0cHV0KQor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKICAgICAgICAgd2l0aCBvcGVu
KCJjb3Jvc3luYy5jb25mLnRtcCIpIGFzIGY6CiAgICAgICAgICAgICBkYXRhID0gZi5yZWFkKCkK
ICAgICAgICAgICAgIGFjKGRhdGEsICIiIlwKQEAgLTEyMDEsNyArMTIwOCw3IEBAIGxvZ2dpbmcg
ewogICAgICAgICBhYyhvdXRwdXQsICIiIlwKIFdhcm5pbmc6IC0taXB2NiBpZ25vcmVkIGFzIGl0
IGlzIG5vdCBzdXBwb3J0ZWQgb24gQ01BTiBjbHVzdGVycwogIiIiKQotICAgICAgICBzZWxmLmFz
c2VydEVxdWFscyhyZXR1cm5WYWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0dXJu
VmFsLCAwKQogICAgICAgICB3aXRoIG9wZW4oImNsdXN0ZXIuY29uZi50bXAiKSBhcyBmOgogICAg
ICAgICAgICAgZGF0YSA9IGYucmVhZCgpCiAgICAgICAgICAgICBhYyhkYXRhLCAiIiJcCkBAIC0x
NzIwLDcgKzE3MjcsNyBAQCBsb2dnaW5nIHsKICAgICAgICAgICAgICJjbHVzdGVyIHNldHVwIC0t
bG9jYWwgLS1uYW1lIGNuYW1lIHJoNy0xIHJoNy0yIC0tYWRkcjAgMS4xLjEuMCAtLWFkZHIwIDEu
MS4yLjAiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiRXJyb3I6IC0tYWRkcjAgY2Fu
IG9ubHkgYmUgdXNlZCBvbmNlXG4iKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5W
YWwsIDEpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0dXJuVmFsLCAxKQogCiAgICAgICAg
IG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCkBAIC0xNzMw
LDE0ICsxNzM3LDE0IEBAIGxvZ2dpbmcgewogRXJyb3I6IGJsYWggaXMgYW4gdW5rbm93biBSUlAg
bW9kZSwgdXNlIC0tZm9yY2UgdG8gb3ZlcnJpZGUKIFdhcm5pbmc6IEVuYWJsaW5nIGJyb2FkY2Fz
dCBmb3IgcmluZyAxIGFzIENNQU4gZG9lcyBub3Qgc3VwcG9ydCBicm9hZGNhc3QgaW4gb25seSBv
bmUgcmluZwogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5WYWwsIDEpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0dXJuVmFsLCAxKQogCiAgICAgICAgIG91dHB1dCwg
cmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAiY2x1
c3RlciBzZXR1cCAtLXRyYW5zcG9ydCB1ZHAgLS1sb2NhbCAtLWNsdXN0ZXJfY29uZj1jbHVzdGVy
LmNvbmYudG1wIC0tbmFtZSBjbmFtZSByaDctMSByaDctMiAtLWFkZHIwIDEuMS4xLjAgLS1hZGRy
MSAxLjEuMi4wIgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKHJldHVyblZhbCwgMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChy
ZXR1cm5WYWwsIDApCiAKICAgICAgICAgd2l0aCBvcGVuKCJjbHVzdGVyLmNvbmYudG1wIikgYXMg
ZjoKICAgICAgICAgICAgIGRhdGEgPSBmLnJlYWQoKQpAQCAtMTc4Niw3ICsxNzkzLDcgQEAgV2Fy
bmluZzogRW5hYmxpbmcgYnJvYWRjYXN0IGZvciByaW5nIDEgYXMgQ01BTiBkb2VzIG5vdCBzdXBw
b3J0IGJyb2FkY2FzdCBpbiBvbmwKICAgICAgICAgICAgICJjbHVzdGVyIHNldHVwIC0tdHJhbnNw
b3J0IHVkcCAtLWxvY2FsIC0tY2x1c3Rlcl9jb25mPWNsdXN0ZXIuY29uZi50bXAgLS1uYW1lIGNu
YW1lIHJoNy0xIHJoNy0yIC0tYWRkcjAgMS4xLjEuMCAtLW1jYXN0MCA4LjguOC44IC0tYWRkcjEg
MS4xLjIuMCAtLW1jYXN0MSA5LjkuOS45IgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwg
IiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldHVyblZhbCwgMCkKKyAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbChyZXR1cm5WYWwsIDApCiAKICAgICAgICAgd2l0aCBvcGVuKCJjbHVzdGVy
LmNvbmYudG1wIikgYXMgZjoKICAgICAgICAgICAgIGRhdGEgPSBmLnJlYWQoKQpAQCAtMTgzNSw3
ICsxODQyLDcgQEAgV2FybmluZzogRW5hYmxpbmcgYnJvYWRjYXN0IGZvciByaW5nIDEgYXMgQ01B
TiBkb2VzIG5vdCBzdXBwb3J0IGJyb2FkY2FzdCBpbiBvbmwKICAgICAgICAgICAgICJjbHVzdGVy
IHNldHVwIC0tdHJhbnNwb3J0IHVkcCAtLWxvY2FsIC0tY2x1c3Rlcl9jb25mPWNsdXN0ZXIuY29u
Zi50bXAgLS1uYW1lIGNuYW1lIHJoNy0xIHJoNy0yIC0tYWRkcjAgMS4xLjEuMCAtLW1jYXN0cG9y
dDAgOTk5OSAtLW1jYXN0cG9ydDEgOTk5OCAtLWFkZHIxIDEuMS4yLjAiCiAgICAgICAgICkKICAg
ICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0dXJuVmFs
LCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldHVyblZhbCwgMCkKIAogICAgICAgICB3
aXRoIG9wZW4oImNsdXN0ZXIuY29uZi50bXAiKSBhcyBmOgogICAgICAgICAgICAgZGF0YSA9IGYu
cmVhZCgpCkBAIC0xODg0LDcgKzE4OTEsNyBAQCBXYXJuaW5nOiBFbmFibGluZyBicm9hZGNhc3Qg
Zm9yIHJpbmcgMSBhcyBDTUFOIGRvZXMgbm90IHN1cHBvcnQgYnJvYWRjYXN0IGluIG9ubAogICAg
ICAgICAgICAgImNsdXN0ZXIgc2V0dXAgLS1sb2NhbCAtLWNsdXN0ZXJfY29uZj1jbHVzdGVyLmNv
bmYudG1wIC0tbmFtZSBjbmFtZSByaDctMSByaDctMiAtLWFkZHIwIDEuMS4xLjAgLS1hZGRyMSAx
LjEuMi4wIC0tdHRsMCA0IC0tdHRsMSA1IC0tdHJhbnNwb3J0IHVkcCIKICAgICAgICAgKQogICAg
ICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5WYWws
IDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0dXJuVmFsLCAwKQogCiAgICAgICAgIHdp
dGggb3BlbigiY2x1c3Rlci5jb25mLnRtcCIpIGFzIGY6CiAgICAgICAgICAgICBkYXRhID0gZi5y
ZWFkKCkKQEAgLTE5MzYsNyArMTk0Myw3IEBAIFdhcm5pbmc6IEVuYWJsaW5nIGJyb2FkY2FzdCBm
b3IgcmluZyAxIGFzIENNQU4gZG9lcyBub3Qgc3VwcG9ydCBicm9hZGNhc3QgaW4gb25sCiAgICAg
ICAgICAgICBvdXRwdXQsCiAgICAgICAgICAgICAiRXJyb3I6IHVzaW5nIGEgUlJQIG1vZGUgb2Yg
J2FjdGl2ZScgaXMgbm90IHN1cHBvcnRlZCBvciB0ZXN0ZWQsIHVzZSAtLWZvcmNlIHRvIG92ZXJy
aWRlXG4iCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0dXJuVmFsLCAx
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldHVyblZhbCwgMSkKIAogICAgICAgICBvdXRw
dXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLApAQCAtMTk0Niw3ICsx
OTUzLDcgQEAgV2FybmluZzogRW5hYmxpbmcgYnJvYWRjYXN0IGZvciByaW5nIDEgYXMgQ01BTiBk
b2VzIG5vdCBzdXBwb3J0IGJyb2FkY2FzdCBpbiBvbmwKICAgICAgICAgICAgIG91dHB1dCwKICAg
ICAgICAgICAgICJXYXJuaW5nOiB1c2luZyBhIFJSUCBtb2RlIG9mICdhY3RpdmUnIGlzIG5vdCBz
dXBwb3J0ZWQgb3IgdGVzdGVkXG4iCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bHMocmV0dXJuVmFsLCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldHVyblZhbCwgMCkK
ICAgICAgICAgd2l0aCBvcGVuKCJjbHVzdGVyLmNvbmYudG1wIikgYXMgZjoKICAgICAgICAgICAg
IGRhdGEgPSBmLnJlYWQoKQogICAgICAgICAgICAgYWMoZGF0YSwgIiIiXApAQCAtMTk5Nyw3ICsy
MDA0LDcgQEAgV2FybmluZzogRW5hYmxpbmcgYnJvYWRjYXN0IGZvciByaW5nIDEgYXMgQ01BTiBk
b2VzIG5vdCBzdXBwb3J0IGJyb2FkY2FzdCBpbiBvbmwKIEVycm9yOiB1c2luZyBhIFJSUCBtb2Rl
IG9mICdhY3RpdmUnIGlzIG5vdCBzdXBwb3J0ZWQgb3IgdGVzdGVkLCB1c2UgLS1mb3JjZSB0byBv
dmVycmlkZQogV2FybmluZzogRW5hYmxpbmcgYnJvYWRjYXN0IGZvciByaW5nIDEgYXMgQ01BTiBk
b2VzIG5vdCBzdXBwb3J0IGJyb2FkY2FzdCBpbiBvbmx5IG9uZSByaW5nCiAiIiIpCi0gICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWxzKHJldHVyblZhbCwgMSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bChyZXR1cm5WYWwsIDEpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAg
ICAgICAgICB0ZW1wX2NpYiwKQEAgLTIwMDcsNyArMjAxNCw3IEBAIFdhcm5pbmc6IEVuYWJsaW5n
IGJyb2FkY2FzdCBmb3IgcmluZyAxIGFzIENNQU4gZG9lcyBub3Qgc3VwcG9ydCBicm9hZGNhc3Qg
aW4gb25sCiBXYXJuaW5nOiBFbmFibGluZyBicm9hZGNhc3QgZm9yIHJpbmcgMSBhcyBDTUFOIGRv
ZXMgbm90IHN1cHBvcnQgYnJvYWRjYXN0IGluIG9ubHkgb25lIHJpbmcKIFdhcm5pbmc6IHVzaW5n
IGEgUlJQIG1vZGUgb2YgJ2FjdGl2ZScgaXMgbm90IHN1cHBvcnRlZCBvciB0ZXN0ZWQKICIiIikK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0dXJuVmFsLCAwKQorICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKHJldHVyblZhbCwgMCkKICAgICAgICAgd2l0aCBvcGVuKCJjbHVzdGVyLmNvbmYu
dG1wIikgYXMgZjoKICAgICAgICAgICAgIGRhdGEgPSBmLnJlYWQoKQogICAgICAgICAgICAgYWMo
ZGF0YSwgIiIiXApAQCAtMjA1NCw3ICsyMDYxLDcgQEAgV2FybmluZzogdXNpbmcgYSBSUlAgbW9k
ZSBvZiAnYWN0aXZlJyBpcyBub3Qgc3VwcG9ydGVkIG9yIHRlc3RlZAogICAgICAgICBhYyhvdXRw
dXQsICIiIlwKIEVycm9yOiBZb3UgY2Fubm90IHNwZWNpZnkgbW9yZSB0aGFuIHR3byBhZGRyZXNz
ZXMgZm9yIGEgbm9kZTogcmg3LTIsMTkyLjE2OC45OS4yLDE5Mi4xNjguOTkuMwogIiIiKQotICAg
ICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5WYWwsIDEpCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwocmV0dXJuVmFsLCAxKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAog
ICAgICAgICAgICAgdGVtcF9jaWIsCkBAIC0yMDYzLDcgKzIwNzAsNyBAQCBFcnJvcjogWW91IGNh
bm5vdCBzcGVjaWZ5IG1vcmUgdGhhbiB0d28gYWRkcmVzc2VzIGZvciBhIG5vZGU6IHJoNy0yLDE5
Mi4xNjguOTkuMgogICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEVycm9yOiBpZiBvbmUgbm9kZSBp
cyBjb25maWd1cmVkIGZvciBSUlAsIGFsbCBub2RlcyBtdXN0IGJlIGNvbmZpZ3VyZWQgZm9yIFJS
UAogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5WYWwsIDEpCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwocmV0dXJuVmFsLCAxKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJu
VmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCkBAIC0yMDczLDE0ICsyMDgwLDE0IEBA
IEVycm9yOiBpZiBvbmUgbm9kZSBpcyBjb25maWd1cmVkIGZvciBSUlAsIGFsbCBub2RlcyBtdXN0
IGJlIGNvbmZpZ3VyZWQgZm9yIFJSUAogRXJyb3I6IC0tYWRkcjAgYW5kIC0tYWRkcjEgY2FuIG9u
bHkgYmUgdXNlZCB3aXRoIC0tdHJhbnNwb3J0PXVkcAogV2FybmluZzogVXNpbmcgdWRwdSB0cmFu
c3BvcnQgb24gYSBDTUFOIGNsdXN0ZXIsIGNsdXN0ZXIgcmVzdGFydCBpcyByZXF1aXJlZCBhZnRl
ciBub2RlIGFkZCBvciByZW1vdmUKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0
dXJuVmFsLCAxKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldHVyblZhbCwgMSkKIAogICAg
ICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLAogICAg
ICAgICAgICAgImNsdXN0ZXIgc2V0dXAgLS1sb2NhbCAtLWNsdXN0ZXJfY29uZj1jbHVzdGVyLmNv
bmYudG1wIC0tbmFtZSBjbmFtZSByaDctMSwxOTIuMTY4Ljk5LjEgcmg3LTIsMTkyLjE2OC45OS4y
IgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKHJldHVyblZhbCwgMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXR1cm5WYWws
IDApCiAgICAgICAgIHdpdGggb3BlbigiY2x1c3Rlci5jb25mLnRtcCIpIGFzIGY6CiAgICAgICAg
ICAgICBkYXRhID0gZi5yZWFkKCkKICAgICAgICAgICAgIGFjKGRhdGEsICIiIlwKQEAgLTIxNjAs
NyArMjE2Nyw3IEBAIFdhcm5pbmc6IFVzaW5nIHVkcHUgdHJhbnNwb3J0IG9uIGEgQ01BTiBjbHVz
dGVyLCBjbHVzdGVyIHJlc3RhcnQgaXMgcmVxdWlyZWQgYWZ0CiAgICAgICAgIGFjKG91dHB1dCwg
IiIiXAogV2FybmluZzogRW5hYmxpbmcgYnJvYWRjYXN0IGZvciByaW5nIDEgYXMgQ01BTiBkb2Vz
IG5vdCBzdXBwb3J0IGJyb2FkY2FzdCBpbiBvbmx5IG9uZSByaW5nCiAiIiIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKHJldHVyblZhbCwgMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChy
ZXR1cm5WYWwsIDApCiAgICAgICAgIHdpdGggb3BlbigiY2x1c3Rlci5jb25mLnRtcCIpIGFzIGY6
CiAgICAgICAgICAgICBkYXRhID0gZi5yZWFkKCkKICAgICAgICAgICAgIGFjKGRhdGEsIGNsdXN0
ZXJfY29uZikKQEAgLTIxNzQsNyArMjE4MSw3IEBAIFdhcm5pbmc6IEVuYWJsaW5nIGJyb2FkY2Fz
dCBmb3IgcmluZyAxIGFzIENNQU4gZG9lcyBub3Qgc3VwcG9ydCBicm9hZGNhc3QgaW4gb25sCiAg
ICAgICAgIGFjKG91dHB1dCwgIiIiXAogV2FybmluZzogRW5hYmxpbmcgYnJvYWRjYXN0IGZvciBy
aW5nIDEgYXMgQ01BTiBkb2VzIG5vdCBzdXBwb3J0IGJyb2FkY2FzdCBpbiBvbmx5IG9uZSByaW5n
CiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldHVyblZhbCwgMCkKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbChyZXR1cm5WYWwsIDApCiAgICAgICAgIHdpdGggb3BlbigiY2x1c3Rl
ci5jb25mLnRtcCIpIGFzIGY6CiAgICAgICAgICAgICBkYXRhID0gZi5yZWFkKCkKICAgICAgICAg
ICAgIGFjKGRhdGEsIGNsdXN0ZXJfY29uZikKQEAgLTIxOTMsNyArMjIwMCw3IEBAIFdhcm5pbmc6
IC0tYXV0b190aWVfYnJlYWtlciBpZ25vcmVkIGFzIGl0IGlzIG5vdCBzdXBwb3J0ZWQgb24gQ01B
TiBjbHVzdGVycwogV2FybmluZzogLS1sYXN0X21hbl9zdGFuZGluZyBpZ25vcmVkIGFzIGl0IGlz
IG5vdCBzdXBwb3J0ZWQgb24gQ01BTiBjbHVzdGVycwogV2FybmluZzogLS1sYXN0X21hbl9zdGFu
ZGluZ193aW5kb3cgaWdub3JlZCBhcyBpdCBpcyBub3Qgc3VwcG9ydGVkIG9uIENNQU4gY2x1c3Rl
cnMKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0dXJuVmFsLCAwKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKHJldHVyblZhbCwgMCkKICAgICAgICAgd2l0aCBvcGVuKCJjbHVz
dGVyLmNvbmYudG1wIikgYXMgZjoKICAgICAgICAgICAgIGRhdGEgPSBmLnJlYWQoKQogICAgICAg
ICAgICAgYWMoZGF0YSwgIiIiXApAQCAtMjI4Myw3ICsyMjkwLDcgQEAgbG9nZ2luZyB7CiAgICAg
ICAgIGFjKG91dHB1dCwgIiIiXAogV2FybmluZzogLS10b2tlbl9jb2VmZmljaWVudCBpZ25vcmVk
IGFzIGl0IGlzIG5vdCBzdXBwb3J0ZWQgb24gQ01BTiBjbHVzdGVycwogIiIiKQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscyhyZXR1cm5WYWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
cmV0dXJuVmFsLCAwKQogICAgICAgICB3aXRoIG9wZW4oImNsdXN0ZXIuY29uZi50bXAiKSBhcyBm
OgogICAgICAgICAgICAgZGF0YSA9IGYucmVhZCgpCiAgICAgICAgICAgICBhYyhkYXRhLCAiIiJc
CkBAIC0yNDQzLDcgKzI0NTAsNyBAQCBXYXJuaW5nOiAtLXRva2VuX2NvZWZmaWNpZW50IGlnbm9y
ZWQgYXMgaXQgaXMgbm90IHN1cHBvcnRlZCBvbiBDTUFOIGNsdXN0ZXJzCiAKICAgICBkZWYgdGVz
dENsdXN0ZXJVcGdyYWRlKHNlbGYpOgogICAgICAgICBpZiBub3QgaXNNaW5pbXVtUGFjZW1ha2Vy
VmVyc2lvbigxLDEsMTEpOgotICAgICAgICAgICAgcHJpbnQgIldBUk5JTkc6IFVuYWJsZSB0byB0
ZXN0IGNsdXN0ZXIgdXBncmFkZSBiZWNhdXNlIHBhY2VtYWtlciBpcyBvbGRlciB0aGFuIDEuMS4x
MSIKKyAgICAgICAgICAgIHByaW50KCJXQVJOSU5HOiBVbmFibGUgdG8gdGVzdCBjbHVzdGVyIHVw
Z3JhZGUgYmVjYXVzZSBwYWNlbWFrZXIgaXMgb2xkZXIgdGhhbiAxLjEuMTEiKQogICAgICAgICAg
ICAgcmV0dXJuCiAgICAgICAgIHdpdGggb3Blbih0ZW1wX2NpYikgYXMgbXlmaWxlOgogICAgICAg
ICAgICAgZGF0YSA9IG15ZmlsZS5yZWFkKCkKZGlmZiAtLWdpdCBhL3Bjcy90ZXN0L3Rlc3RfY29u
c3RyYWludHMucHkgYi9wY3MvdGVzdC90ZXN0X2NvbnN0cmFpbnRzLnB5CmluZGV4IGU4ZjAzMzku
LjJjOWY5NjMgMTAwNjQ0Ci0tLSBhL3Bjcy90ZXN0L3Rlc3RfY29uc3RyYWludHMucHkKKysrIGIv
cGNzL3Rlc3QvdGVzdF9jb25zdHJhaW50cy5weQpAQCAtMSwxMCArMSwxOCBAQAotaW1wb3J0IG9z
LHN5cworZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKK2Zyb20gX19mdXR1
cmVfXyBpbXBvcnQgZGl2aXNpb24KK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgcHJpbnRfZnVuY3Rp
b24KK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgdW5pY29kZV9saXRlcmFscworCitpbXBvcnQgb3MK
K2ltcG9ydCBzeXMKIGltcG9ydCBzaHV0aWwKIGltcG9ydCB1bml0dGVzdAogcGFyZW50ZGlyID0g
b3MucGF0aC5kaXJuYW1lKG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmFic3BhdGgoX19maWxlX18p
KSkKLXN5cy5wYXRoLmluc2VydCgwLHBhcmVudGRpcikgCitzeXMucGF0aC5pbnNlcnQoMCxwYXJl
bnRkaXIpCisKIGltcG9ydCB1dGlscwotZnJvbSBwY3NfdGVzdF9mdW5jdGlvbnMgaW1wb3J0IHBj
cyxhYyxpc01pbmltdW1QYWNlbWFrZXJWZXJzaW9uCitmcm9tIHBjc190ZXN0X2Z1bmN0aW9ucyBp
bXBvcnQgcGNzLCBhYywgaXNNaW5pbXVtUGFjZW1ha2VyVmVyc2lvbgorCiAKIGVtcHR5X2NpYiA9
ICJlbXB0eS54bWwiCiBlbXB0eV9jaWJfMV8yID0gImVtcHR5LTEuMi54bWwiCkBAIC0yMTgsNyAr
MjI2LDcgQEAgQ29sb2NhdGlvbiBDb25zdHJhaW50czoKIAogICAgIGRlZiB0ZXN0T3JkZXJDb25z
dHJhaW50UmVxdWlyZUFsbChzZWxmKToKICAgICAgICAgaWYgbm90IGlzTWluaW11bVBhY2VtYWtl
clZlcnNpb24oMSwxLDEyKToKLSAgICAgICAgICAgIHByaW50ICJXQVJOSU5HOiBQYWNlbWFrZXIg
dmVyc2lvbiBpcyB0b28gb2xkIChtdXN0IGJlID49IDEuMS4xMikgdG8gdGVzdCByZXF1aXJlLWFs
bCIKKyAgICAgICAgICAgIHByaW50KCJXQVJOSU5HOiBQYWNlbWFrZXIgdmVyc2lvbiBpcyB0b28g
b2xkIChtdXN0IGJlID49IDEuMS4xMikgdG8gdGVzdCByZXF1aXJlLWFsbCIpCiAgICAgICAgICAg
ICByZXR1cm4KIAogICAgICAgICBvLHIgPSBwY3MoImNsdXN0ZXIgY2liLXVwZ3JhZGUiKQpAQCAt
NDUzLDQzICs0NjEsNDMgQEAgQ29sb2NhdGlvbiBDb25zdHJhaW50czoKICAgICAgICAgCiAgICAg
ICAgIG91dHB1dCwgcmV0VmFsdWUgPSBwY3ModGVtcF9jaWIsICJjb25zdHJhaW50IGNvbG9jYXRp
b24gc2V0IEQxIEQyIHNlcXVlbnRpYWw9Zm9vIikKICAgICAgICAgYWMob3V0cHV0LCAiRXJyb3I6
IGludmFsaWQgdmFsdWUgJ2Zvbycgb2Ygb3B0aW9uICdzZXF1ZW50aWFsJywgYWxsb3dlZCB2YWx1
ZXMgYXJlOiB0cnVlLCBmYWxzZVxuIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0
VmFsdWUpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0VmFsdWUpCiAKICAgICAgICAg
b3V0cHV0LCByZXRWYWx1ZSA9IHBjcyh0ZW1wX2NpYiwgImNvbnN0cmFpbnQgY29sb2NhdGlvbiBz
ZXQgRDEgRDIgcmVxdWlyZS1hbGw9Zm9vIikKICAgICAgICAgYWMob3V0cHV0LCAiRXJyb3I6IGlu
dmFsaWQgdmFsdWUgJ2Zvbycgb2Ygb3B0aW9uICdyZXF1aXJlLWFsbCcsIGFsbG93ZWQgdmFsdWVz
IGFyZTogdHJ1ZSwgZmFsc2VcbiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldFZh
bHVlKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldFZhbHVlKQogCiAgICAgICAgIG91
dHB1dCwgcmV0VmFsdWUgPSBwY3ModGVtcF9jaWIsICJjb25zdHJhaW50IGNvbG9jYXRpb24gc2V0
IEQxIEQyIHJvbGU9Zm9vIikKICAgICAgICAgYWMob3V0cHV0LCAiRXJyb3I6IGludmFsaWQgdmFs
dWUgJ2Zvbycgb2Ygb3B0aW9uICdyb2xlJywgYWxsb3dlZCB2YWx1ZXMgYXJlOiBTdG9wcGVkLCBT
dGFydGVkLCBNYXN0ZXIsIFNsYXZlXG4iKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCBy
ZXRWYWx1ZSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXRWYWx1ZSkKIAogICAgICAg
ICBvdXRwdXQsIHJldFZhbHVlID0gcGNzKHRlbXBfY2liLCAiY29uc3RyYWludCBjb2xvY2F0aW9u
IHNldCBEMSBEMiBhY3Rpb249Zm9vIikKICAgICAgICAgYWMob3V0cHV0LCAiRXJyb3I6IGludmFs
aWQgdmFsdWUgJ2Zvbycgb2Ygb3B0aW9uICdhY3Rpb24nLCBhbGxvd2VkIHZhbHVlcyBhcmU6IHN0
YXJ0LCBwcm9tb3RlLCBkZW1vdGUsIHN0b3BcbiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KDEsIHJldFZhbHVlKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldFZhbHVlKQogCiAg
ICAgICAgIG91dHB1dCwgcmV0VmFsdWUgPSBwY3ModGVtcF9jaWIsICJjb25zdHJhaW50IGNvbG9j
YXRpb24gc2V0IEQxIEQyIGZvbz1iYXIiKQogICAgICAgICBhYyhvdXRwdXQsICJFcnJvcjogaW52
YWxpZCBvcHRpb24gJ2ZvbycsIGFsbG93ZWQgb3B0aW9ucyBhcmU6IGFjdGlvbiwgcm9sZSwgc2Vx
dWVudGlhbCwgcmVxdWlyZS1hbGxcbiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJl
dFZhbHVlKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldFZhbHVlKQogCiAgICAgICAg
IG91dHB1dCwgcmV0VmFsdWUgPSBwY3ModGVtcF9jaWIsICJjb25zdHJhaW50IGNvbG9jYXRpb24g
c2V0IEQxIEQyIHNldG9wdGlvbnMgZm9vPWJhciIpCiAgICAgICAgIGFjKG91dHB1dCwgIkVycm9y
OiBpbnZhbGlkIG9wdGlvbiAnZm9vJywgYWxsb3dlZCBvcHRpb25zIGFyZTogc2NvcmUsIHNjb3Jl
LWF0dHJpYnV0ZSwgc2NvcmUtYXR0cmlidXRlLW1hbmdsZSwgaWRcbiIpCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKDEsIHJldFZhbHVlKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJl
dFZhbHVlKQogCiAgICAgICAgIG91dHB1dCwgcmV0VmFsdWUgPSBwY3ModGVtcF9jaWIsICJjb25z
dHJhaW50IGNvbG9jYXRpb24gc2V0IEQxIEQyIHNldG9wdGlvbnMgc2NvcmU9Zm9vIikKICAgICAg
ICAgYWMob3V0cHV0LCAiRXJyb3I6IGludmFsaWQgc2NvcmUgJ2ZvbycsIHVzZSBpbnRlZ2VyIG9y
IElORklOSVRZIG9yIC1JTkZJTklUWVxuIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwg
cmV0VmFsdWUpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0VmFsdWUpCiAKICAgICAg
ICAgb3V0cHV0LCByZXRWYWx1ZSA9IHBjcyh0ZW1wX2NpYiwgImNvbnN0cmFpbnQgY29sb2NhdGlv
biBzZXQgRDEgRDIgc2V0b3B0aW9ucyBzY29yZT0xMDAgc2NvcmUtYXR0cmlidXRlPWZvbyIpCiAg
ICAgICAgIGFjKG91dHB1dCwgIkVycm9yOiB5b3UgY2Fubm90IHNwZWNpZnkgbXVsdGlwbGUgc2Nv
cmUgb3B0aW9uc1xuIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0VmFsdWUpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0VmFsdWUpCiAKICAgICAgICAgb3V0cHV0LCBy
ZXRWYWx1ZSA9IHBjcyh0ZW1wX2NpYiwgImNvbnN0cmFpbnQgY29sb2NhdGlvbiBzZXQgRDEgRDIg
c2V0b3B0aW9ucyBzY29yZS1hdHRyaWJ1dGU9Zm9vIikKICAgICAgICAgYWMob3V0cHV0LCAiIikK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0VmFsdWUpCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoMCwgcmV0VmFsdWUpCiAKICAgICBkZWYgdGVzdENvbnN0cmFpbnRSZXNvdXJjZURp
c2NvdmVyeShzZWxmKToKICAgICAgICAgaWYgbm90IGlzTWluaW11bVBhY2VtYWtlclZlcnNpb24o
MSwxLDEyKToKLSAgICAgICAgICAgIHByaW50ICJXQVJOSU5HOiBQYWNlbWFrZXIgdmVyc2lvbiBp
cyB0b28gb2xkIChtdXN0IGJlID49IDEuMS4xMikgdG8gdGVzdCByZXNvdXJjZS1kaXNjb3Zlcnki
CisgICAgICAgICAgICBwcmludCgiV0FSTklORzogUGFjZW1ha2VyIHZlcnNpb24gaXMgdG9vIG9s
ZCAobXVzdCBiZSA+PSAxLjEuMTIpIHRvIHRlc3QgcmVzb3VyY2UtZGlzY292ZXJ5IikKICAgICAg
ICAgICAgIHJldHVybgogCiAgICAgICAgIG8sciA9IHBjcygicmVzb3VyY2UgY3JlYXRlIGNyZCBE
dW1teSIpCkBAIC02ODUsMjMgKzY5MywyMyBAQCBPcmRlcmluZyBDb25zdHJhaW50czoKIAogICAg
ICAgICBvdXRwdXQsIHJldFZhbHVlID0gcGNzKHRlbXBfY2liLCAiY29uc3RyYWludCBvcmRlciBz
ZXQgRDEgRDIgc2VxdWVudGlhbD1mb28iKQogICAgICAgICBhYyhvdXRwdXQsICJFcnJvcjogaW52
YWxpZCB2YWx1ZSAnZm9vJyBvZiBvcHRpb24gJ3NlcXVlbnRpYWwnLCBhbGxvd2VkIHZhbHVlcyBh
cmU6IHRydWUsIGZhbHNlXG4iKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXRWYWx1
ZSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXRWYWx1ZSkKIAogICAgICAgICBvdXRw
dXQsIHJldFZhbHVlID0gcGNzKHRlbXBfY2liLCAiY29uc3RyYWludCBvcmRlciBzZXQgRDEgRDIg
cmVxdWlyZS1hbGw9Zm9vIikKICAgICAgICAgYWMob3V0cHV0LCAiRXJyb3I6IGludmFsaWQgdmFs
dWUgJ2Zvbycgb2Ygb3B0aW9uICdyZXF1aXJlLWFsbCcsIGFsbG93ZWQgdmFsdWVzIGFyZTogdHJ1
ZSwgZmFsc2VcbiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldFZhbHVlKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldFZhbHVlKQogCiAgICAgICAgIG91dHB1dCwgcmV0
VmFsdWUgPSBwY3ModGVtcF9jaWIsICJjb25zdHJhaW50IG9yZGVyIHNldCBEMSBEMiByb2xlPWZv
byIpCiAgICAgICAgIGFjKG91dHB1dCwgIkVycm9yOiBpbnZhbGlkIHZhbHVlICdmb28nIG9mIG9w
dGlvbiAncm9sZScsIGFsbG93ZWQgdmFsdWVzIGFyZTogU3RvcHBlZCwgU3RhcnRlZCwgTWFzdGVy
LCBTbGF2ZVxuIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0VmFsdWUpCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0VmFsdWUpCiAKICAgICAgICAgb3V0cHV0LCByZXRW
YWx1ZSA9IHBjcyh0ZW1wX2NpYiwgImNvbnN0cmFpbnQgb3JkZXIgc2V0IEQxIEQyIGFjdGlvbj1m
b28iKQogICAgICAgICBhYyhvdXRwdXQsICJFcnJvcjogaW52YWxpZCB2YWx1ZSAnZm9vJyBvZiBv
cHRpb24gJ2FjdGlvbicsIGFsbG93ZWQgdmFsdWVzIGFyZTogc3RhcnQsIHByb21vdGUsIGRlbW90
ZSwgc3RvcFxuIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0VmFsdWUpCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0VmFsdWUpCiAKICAgICAgICAgb3V0cHV0LCByZXRW
YWx1ZSA9IHBjcyh0ZW1wX2NpYiwgImNvbnN0cmFpbnQgb3JkZXIgc2V0IEQxIEQyIGZvbz1iYXIi
KQogICAgICAgICBhYyhvdXRwdXQsICJFcnJvcjogaW52YWxpZCBvcHRpb24gJ2ZvbycsIGFsbG93
ZWQgb3B0aW9ucyBhcmU6IGFjdGlvbiwgcm9sZSwgc2VxdWVudGlhbCwgcmVxdWlyZS1hbGxcbiIp
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldFZhbHVlKQorICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKDEsIHJldFZhbHVlKQogCiAgICAgICAgIG91dHB1dCwgcmV0VmFsdWUgPSBwY3Mo
CiAgICAgICAgICAgICB0ZW1wX2NpYiwKQEAgLTcxMCw3ICs3MTgsNyBAQCBPcmRlcmluZyBDb25z
dHJhaW50czoKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCiBFcnJvcjogaW52YWxpZCBvcHRpb24g
J2ZvbycsIGFsbG93ZWQgb3B0aW9ucyBhcmU6IGtpbmQsIHN5bW1ldHJpY2FsLCBpZAogIiIiKQot
ICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXRWYWx1ZSkKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbCgxLCByZXRWYWx1ZSkKIAogICAgICAgICBvdXRwdXQsIHJldFZhbHVlID0gcGNzKAog
ICAgICAgICAgICAgdGVtcF9jaWIsCkBAIC03MTksNyArNzI3LDcgQEAgRXJyb3I6IGludmFsaWQg
b3B0aW9uICdmb28nLCBhbGxvd2VkIG9wdGlvbnMgYXJlOiBraW5kLCBzeW1tZXRyaWNhbCwgaWQK
ICAgICAgICAgYWMob3V0cHV0LCAiIiJcCiBFcnJvcjogaW52YWxpZCBraW5kIHZhbHVlICdmb28n
LCBhbGxvd2VkIHZhbHVlcyBhcmU6IE9wdGlvbmFsLCBNYW5kYXRvcnksIFNlcmlhbGl6ZQogIiIi
KQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXRWYWx1ZSkKKyAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbCgxLCByZXRWYWx1ZSkKIAogICAgICAgICBvdXRwdXQsIHJldFZhbHVlID0gcGNz
KAogICAgICAgICAgICAgdGVtcF9jaWIsCkBAIC03MjgsMTQgKzczNiwxNCBAQCBFcnJvcjogaW52
YWxpZCBraW5kIHZhbHVlICdmb28nLCBhbGxvd2VkIHZhbHVlcyBhcmU6IE9wdGlvbmFsLCBNYW5k
YXRvcnksIFNlcmlhbAogICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEVycm9yOiBpbnZhbGlkIHN5
bW1ldHJpY2FsIHZhbHVlICdmb28nLCBhbGxvd2VkIHZhbHVlcyBhcmU6IHRydWUsIGZhbHNlCiAi
IiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldFZhbHVlKQorICAgICAgICBzZWxm
LmFzc2VydEVxdWFsKDEsIHJldFZhbHVlKQogCiAgICAgICAgIG91dHB1dCwgcmV0VmFsdWUgPSBw
Y3MoCiAgICAgICAgICAgICB0ZW1wX2NpYiwKICAgICAgICAgICAgICJjb25zdHJhaW50IG9yZGVy
IHNldCBEMSBEMiBzZXRvcHRpb25zIHN5bW1ldHJpY2FsPWZhbHNlIGtpbmQ9bWFuZGF0b3J5Igog
ICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWxzKDAsIHJldFZhbHVlKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldFZhbHVlKQog
CiAgICAgICAgIG91dHB1dCwgcmV0VmFsdWUgPSBwY3ModGVtcF9jaWIsICJjb25zdHJhaW50IC0t
ZnVsbCIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtNzQ3LDcgKzc1NSw3IEBAIE9yZGVy
aW5nIENvbnN0cmFpbnRzOgogICAgIHNldCBEMSBEMiAoaWQ6cGNzX3JzY19zZXRfRDFfRDIpIHNl
dG9wdGlvbnMgc3ltbWV0cmljYWw9ZmFsc2Uga2luZD1NYW5kYXRvcnkgKGlkOnBjc19yc2Nfb3Jk
ZXJfc2V0X0QxX0QyKQogQ29sb2NhdGlvbiBDb25zdHJhaW50czoKICIiIikKLSAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbHMoMCwgcmV0VmFsdWUpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwg
cmV0VmFsdWUpCiAKICAgICBkZWYgdGVzdExvY2F0aW9uQ29uc3RyYWludFJ1bGUoc2VsZik6CiAg
ICAgICAgIG8sIHIgPSBwY3ModGVtcF9jaWIsICJjb25zdHJhaW50IGxvY2F0aW9uIEQxIHByZWZl
cnMgcmg3LTEiKQpAQCAtMTAyMiw3ICsxMDMwLDcgQEAgQ29sb2NhdGlvbiBDb25zdHJhaW50czoK
ICAgICBkZWYgdGVzdE1hc3RlclNsYXZlQ29uc3RyYWludEF1dG9jb3JyZWN0KHNlbGYpOgogICAg
ICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygicmVzb3VyY2UgY3JlYXRlIGR1bW15MSBkdW1t
eSIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAs
IHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAg
ICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICAicmVzb3VyY2UgY3Jl
YXRlIHN0YXRlZnVsMSBvY2Y6cGFjZW1ha2VyOlN0YXRlZnVsIC0tbWFzdGVyIgpAQCAtMTAzMCw3
ICsxMDM4LDcgQEAgQ29sb2NhdGlvbiBDb25zdHJhaW50czoKICAgICAgICAgYWMob3V0cHV0LCAi
IiJcCiBXYXJuaW5nOiBjaGFuZ2luZyBhIG1vbml0b3Igb3BlcmF0aW9uIGludGVydmFsIGZyb20g
MTAgdG8gMTEgdG8gbWFrZSB0aGUgb3BlcmF0aW9uIHVuaXF1ZQogIiIiKQotICAgICAgICBzZWxm
LmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwg
cmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAg
ICAgInJlc291cmNlIGNyZWF0ZSBzdGF0ZWZ1bDIgb2NmOnBhY2VtYWtlcjpTdGF0ZWZ1bCAtLWdy
b3VwIHN0YXRlZnVsRyIKQEAgLTEwMzgsMzUgKzEwNDYsMzUgQEAgV2FybmluZzogY2hhbmdpbmcg
YSBtb25pdG9yIG9wZXJhdGlvbiBpbnRlcnZhbCBmcm9tIDEwIHRvIDExIHRvIG1ha2UgdGhlIG9w
ZXJhdGkKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCiBXYXJuaW5nOiBjaGFuZ2luZyBhIG1vbml0
b3Igb3BlcmF0aW9uIGludGVydmFsIGZyb20gMTAgdG8gMTEgdG8gbWFrZSB0aGUgb3BlcmF0aW9u
IHVuaXF1ZQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwg
cmV0dXJuVmFsID0gcGNzKCJyZXNvdXJjZSBtYXN0ZXIgc3RhdGVmdWxHIikKICAgICAgICAgYWMo
b3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJl
dHVyblZhbCA9IHBjcygKICAgICAgICAgICAgICJjb25zdHJhaW50IGxvY2F0aW9uIHN0YXRlZnVs
MSBwcmVmZXJzIHJoNy0xIC0tYXV0b2NvcnJlY3QiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0
cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVy
blZhbCA9IHBjcygKICAgICAgICAgICAgICJjb25zdHJhaW50IGxvY2F0aW9uIHN0YXRlZnVsRyBw
cmVmZXJzIHJoNy0xIC0tYXV0b2NvcnJlY3QiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0
LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZh
bCA9IHBjcygKICAgICAgICAgICAgICJjb25zdHJhaW50IGxvY2F0aW9uIHN0YXRlZnVsMSBydWxl
ICN1bmFtZSBlcSByaDctMSAtLWF1dG9jb3JyZWN0IgogICAgICAgICApCiAgICAgICAgIGFjKG91
dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1
cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICAiY29uc3RyYWludCBsb2NhdGlvbiBzdGF0ZWZ1bEcg
cnVsZSAjdW5hbWUgZXEgcmg3LTEgLS1hdXRvY29ycmVjdCIKICAgICAgICAgKQogICAgICAgICBh
YyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwg
cmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgImNvbnN0cmFpbnQgb3JkZXIgc3RhdGVmdWwx
IHRoZW4gZHVtbXkxIC0tYXV0b2NvcnJlY3QiCkBAIC0xMDc0LDcgKzEwODIsNyBAQCBXYXJuaW5n
OiBjaGFuZ2luZyBhIG1vbml0b3Igb3BlcmF0aW9uIGludGVydmFsIGZyb20gMTAgdG8gMTEgdG8g
bWFrZSB0aGUgb3BlcmF0aQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEFkZGluZyBzdGF0ZWZ1
bDEtbWFzdGVyIGR1bW15MSAoa2luZDogTWFuZGF0b3J5KSAoT3B0aW9uczogZmlyc3QtYWN0aW9u
PXN0YXJ0IHRoZW4tYWN0aW9uPXN0YXJ0KQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQog
CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgImNvbnN0cmFp
bnQgb3JkZXIgZHVtbXkxIHRoZW4gc3RhdGVmdWxHIC0tYXV0b2NvcnJlY3QiCkBAIC0xMDgyLDQz
ICsxMDkwLDQzIEBAIEFkZGluZyBzdGF0ZWZ1bDEtbWFzdGVyIGR1bW15MSAoa2luZDogTWFuZGF0
b3J5KSAoT3B0aW9uczogZmlyc3QtYWN0aW9uPXN0YXJ0IHRoCiAgICAgICAgIGFjKG91dHB1dCwg
IiIiXAogQWRkaW5nIGR1bW15MSBzdGF0ZWZ1bEctbWFzdGVyIChraW5kOiBNYW5kYXRvcnkpIChP
cHRpb25zOiBmaXJzdC1hY3Rpb249c3RhcnQgdGhlbi1hY3Rpb249c3RhcnQpCiAiIiIpCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAg
ICAgICAgICAgICAiY29uc3RyYWludCBvcmRlciBzZXQgc3RhdGVmdWwxIGR1bW15MSAtLWF1dG9j
b3JyZWN0IgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCBy
ZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAg
ICAiY29uc3RyYWludCBvcmRlciBzZXQgZHVtbXkxIHN0YXRlZnVsRyAtLWF1dG9jb3JyZWN0Igog
ICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwp
CiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICAiY29uc3Ry
YWludCBjb2xvY2F0aW9uIGFkZCBzdGF0ZWZ1bDEgd2l0aCBkdW1teTEgLS1hdXRvY29ycmVjdCIK
ICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVx
dWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFs
KQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgImNvbnN0
cmFpbnQgY29sb2NhdGlvbiBhZGQgZHVtbXkxIHdpdGggc3RhdGVmdWxHIC0tYXV0b2NvcnJlY3Qi
CiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZh
bCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgICJjb25z
dHJhaW50IGNvbG9jYXRpb24gc2V0IGR1bW15MSBzdGF0ZWZ1bDEgLS1hdXRvY29ycmVjdCIKICAg
ICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQog
CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgImNvbnN0cmFp
bnQgY29sb2NhdGlvbiBzZXQgc3RhdGVmdWxHIGR1bW15MSAtLWF1dG9jb3JyZWN0IgogICAgICAg
ICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAs
IHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAg
ICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoImNvbnN0cmFpbnQgLS1mdWxsIikKICAgICAg
ICAgYWMob3V0cHV0LCAiIiJcCkBAIC0xMTQ2LDcgKzExNTQsNyBAQCBDb2xvY2F0aW9uIENvbnN0
cmFpbnRzOgogICAgIHNldCBkdW1teTEgc3RhdGVmdWwxLW1hc3RlciAoaWQ6cGNzX3JzY19zZXRf
ZHVtbXkxX3N0YXRlZnVsMS1tYXN0ZXIpIHNldG9wdGlvbnMgc2NvcmU9SU5GSU5JVFkgKGlkOnBj
c19yc2NfY29sb2NhdGlvbl9zZXRfZHVtbXkxX3N0YXRlZnVsMSkKICAgICBzZXQgc3RhdGVmdWxH
LW1hc3RlciBkdW1teTEgKGlkOnBjc19yc2Nfc2V0X3N0YXRlZnVsRy1tYXN0ZXJfZHVtbXkxKSBz
ZXRvcHRpb25zIHNjb3JlPUlORklOSVRZIChpZDpwY3NfcnNjX2NvbG9jYXRpb25fc2V0X3N0YXRl
ZnVsR19kdW1teTEpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZh
bCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0
cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICAiY29uc3RyYWludCBsb2NhdGlvbiBz
dGF0ZWZ1bDEgcnVsZSAjdW5hbWUgZXEgcmg3LTEgLS1hdXRvY29ycmVjdCIKQEAgLTExNTcsMTMg
KzExNjUsMTMgQEAgRXJyb3I6IGR1cGxpY2F0ZSBjb25zdHJhaW50IGFscmVhZHkgZXhpc3RzLCB1
c2UgLS1mb3JjZSB0byBvdmVycmlkZQogICAgIFJ1bGU6IHNjb3JlPUlORklOSVRZICAoaWQ6bG9j
YXRpb24tc3RhdGVmdWwxLW1hc3Rlci1ydWxlKQogICAgICAgRXhwcmVzc2lvbjogI3VuYW1lIGVx
IHJoNy0xICAoaWQ6bG9jYXRpb24tc3RhdGVmdWwxLW1hc3Rlci1ydWxlLWV4cHIpCiAiIiIpCi0g
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbCgxLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3Mo
CiAgICAgICAgICAgICAiY29uc3RyYWludCBsb2NhdGlvbiBzdGF0ZWZ1bDEgcnVsZSAjdW5hbWUg
ZXEgcmg3LTEgLS1hdXRvY29ycmVjdCAtLWZvcmNlIgogICAgICAgICApCiAgICAgICAgIGFjKG91
dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1
cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICAiY29uc3RyYWludCBvcmRlciBzdGF0ZWZ1bDEgdGhl
biBkdW1teTEgLS1hdXRvY29ycmVjdCIKQEAgLTExNzIsNyArMTE4MCw3IEBAIEVycm9yOiBkdXBs
aWNhdGUgY29uc3RyYWludCBhbHJlYWR5IGV4aXN0cywgdXNlIC0tZm9yY2UgdG8gb3ZlcnJpZGUK
IEVycm9yOiBkdXBsaWNhdGUgY29uc3RyYWludCBhbHJlYWR5IGV4aXN0cywgdXNlIC0tZm9yY2Ug
dG8gb3ZlcnJpZGUKICAgc3RhcnQgc3RhdGVmdWwxLW1hc3RlciB0aGVuIHN0YXJ0IGR1bW15MSAo
a2luZDpNYW5kYXRvcnkpIChpZDpvcmRlci1zdGF0ZWZ1bDEtbWFzdGVyLWR1bW15MS1tYW5kYXRv
cnkpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1
cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICAiY29uc3RyYWludCBvcmRlciBzdGF0ZWZ1bDEgdGhl
biBkdW1teTEgLS1hdXRvY29ycmVjdCAtLWZvcmNlIgpAQCAtMTE4MCw3ICsxMTg4LDcgQEAgRXJy
b3I6IGR1cGxpY2F0ZSBjb25zdHJhaW50IGFscmVhZHkgZXhpc3RzLCB1c2UgLS1mb3JjZSB0byBv
dmVycmlkZQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEFkZGluZyBzdGF0ZWZ1bDEtbWFzdGVy
IGR1bW15MSAoa2luZDogTWFuZGF0b3J5KSAoT3B0aW9uczogZmlyc3QtYWN0aW9uPXN0YXJ0IHRo
ZW4tYWN0aW9uPXN0YXJ0KQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1
cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAg
IG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgImNvbnN0cmFpbnQgb3JkZXIg
c2V0IHN0YXRlZnVsMSBkdW1teTEgLS1hdXRvY29ycmVjdCIKQEAgLTExODksMTMgKzExOTcsMTMg
QEAgQWRkaW5nIHN0YXRlZnVsMS1tYXN0ZXIgZHVtbXkxIChraW5kOiBNYW5kYXRvcnkpIChPcHRp
b25zOiBmaXJzdC1hY3Rpb249c3RhcnQgdGgKIEVycm9yOiBkdXBsaWNhdGUgY29uc3RyYWludCBh
bHJlYWR5IGV4aXN0cywgdXNlIC0tZm9yY2UgdG8gb3ZlcnJpZGUKICAgc2V0IHN0YXRlZnVsMS1t
YXN0ZXIgZHVtbXkxIChpZDpwY3NfcnNjX3NldF9zdGF0ZWZ1bDEtbWFzdGVyX2R1bW15MSkgKGlk
OnBjc19yc2Nfb3JkZXJfc2V0X3N0YXRlZnVsMV9kdW1teTEpCiAiIiIpCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCBy
ZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAg
ICAiY29uc3RyYWludCBvcmRlciBzZXQgc3RhdGVmdWwxIGR1bW15MSAtLWF1dG9jb3JyZWN0IC0t
Zm9yY2UiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJl
dHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAg
ICJjb25zdHJhaW50IGNvbG9jYXRpb24gYWRkIHN0YXRlZnVsMSB3aXRoIGR1bW15MSAtLWF1dG9j
b3JyZWN0IgpAQCAtMTIwNCwxMyArMTIxMiwxMyBAQCBFcnJvcjogZHVwbGljYXRlIGNvbnN0cmFp
bnQgYWxyZWFkeSBleGlzdHMsIHVzZSAtLWZvcmNlIHRvIG92ZXJyaWRlCiBFcnJvcjogZHVwbGlj
YXRlIGNvbnN0cmFpbnQgYWxyZWFkeSBleGlzdHMsIHVzZSAtLWZvcmNlIHRvIG92ZXJyaWRlCiAg
IHN0YXRlZnVsMS1tYXN0ZXIgd2l0aCBkdW1teTEgKHNjb3JlOklORklOSVRZKSAoaWQ6Y29sb2Nh
dGlvbi1zdGF0ZWZ1bDEtbWFzdGVyLWR1bW15MS1JTkZJTklUWSkKICIiIikKLSAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEs
IHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAg
ICAgICJjb25zdHJhaW50IGNvbG9jYXRpb24gYWRkIHN0YXRlZnVsMSB3aXRoIGR1bW15MSAtLWF1
dG9jb3JyZWN0IC0tZm9yY2UiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygK
ICAgICAgICAgICAgICJjb25zdHJhaW50IGNvbG9jYXRpb24gc2V0IGR1bW15MSBzdGF0ZWZ1bDEg
LS1hdXRvY29ycmVjdCIKQEAgLTEyMTksMTMgKzEyMjcsMTMgQEAgRXJyb3I6IGR1cGxpY2F0ZSBj
b25zdHJhaW50IGFscmVhZHkgZXhpc3RzLCB1c2UgLS1mb3JjZSB0byBvdmVycmlkZQogRXJyb3I6
IGR1cGxpY2F0ZSBjb25zdHJhaW50IGFscmVhZHkgZXhpc3RzLCB1c2UgLS1mb3JjZSB0byBvdmVy
cmlkZQogICBzZXQgZHVtbXkxIHN0YXRlZnVsMS1tYXN0ZXIgKGlkOnBjc19yc2Nfc2V0X2R1bW15
MV9zdGF0ZWZ1bDEtbWFzdGVyKSBzZXRvcHRpb25zIHNjb3JlPUlORklOSVRZIChpZDpwY3NfcnNj
X2NvbG9jYXRpb25fc2V0X2R1bW15MV9zdGF0ZWZ1bDEpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXR1
cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICAi
Y29uc3RyYWludCBjb2xvY2F0aW9uIHNldCBkdW1teTEgc3RhdGVmdWwxIC0tYXV0b2NvcnJlY3Qg
LS1mb3JjZSIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxm
LmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwg
cmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKCJjb25zdHJhaW50
IC0tZnVsbCIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtMTI2MCw3ICsxMjY4LDcgQEAg
Q29sb2NhdGlvbiBDb25zdHJhaW50czoKICAgICBzZXQgc3RhdGVmdWxHLW1hc3RlciBkdW1teTEg
KGlkOnBjc19yc2Nfc2V0X3N0YXRlZnVsRy1tYXN0ZXJfZHVtbXkxKSBzZXRvcHRpb25zIHNjb3Jl
PUlORklOSVRZIChpZDpwY3NfcnNjX2NvbG9jYXRpb25fc2V0X3N0YXRlZnVsR19kdW1teTEpCiAg
ICAgc2V0IGR1bW15MSBzdGF0ZWZ1bDEtbWFzdGVyIChpZDpwY3NfcnNjX3NldF9kdW1teTFfc3Rh
dGVmdWwxLW1hc3Rlci0xKSBzZXRvcHRpb25zIHNjb3JlPUlORklOSVRZIChpZDpwY3NfcnNjX2Nv
bG9jYXRpb25fc2V0X2R1bW15MV9zdGF0ZWZ1bDEtMSkKICIiIikKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVy
blZhbCkKIAogICAgIGRlZiB0ZXN0Q2xvbmVDb25zdHJhaW50KHNlbGYpOgogICAgICAgICBvcy5z
eXN0ZW0oIkNJQl9maWxlPSIrdGVtcF9jaWIrIiBjaWJhZG1pbiAtUiAtLXNjb3BlIG5vZGVzIC0t
eG1sLXRleHQgJzxub2Rlcz48bm9kZSBpZD1cIjFcIiB1bmFtZT1cInJoNy0xXCIvPjxub2RlIGlk
PVwiMlwiIHVuYW1lPVwicmg3LTJcIi8+PC9ub2Rlcz4nIikKQEAgLTEzODAsNDMgKzEzODgsNDMg
QEAgQ29sb2NhdGlvbiBDb25zdHJhaW50czoKICAgICBkZWYgdGVzdENsb25lQ29uc3RyYWludEF1
dG9jb3JyZWN0KHNlbGYpOgogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygicmVzb3Vy
Y2UgY3JlYXRlIGR1bW15MSBkdW1teSIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoInJlc291
cmNlIGNyZWF0ZSBkdW1teSBEdW1teSAtLWNsb25lIikKICAgICAgICAgYWMob3V0cHV0LCAiIikK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBj
cygicmVzb3VyY2UgY3JlYXRlIGR1bW15MiBEdW1teSAtLWdyb3VwIGR1bW15RyIpCiAgICAgICAg
IGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkK
KyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0
LCByZXR1cm5WYWwgPSBwY3MoInJlc291cmNlIGNsb25lIGR1bW15RyIpCiAgICAgICAgIGFjKG91
dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1
cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICAiY29uc3RyYWludCBsb2NhdGlvbiBkdW1teSBwcmVm
ZXJzIHJoNy0xIC0tYXV0b2NvcnJlY3QiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAi
IikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxm
LmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9
IHBjcygKICAgICAgICAgICAgICJjb25zdHJhaW50IGxvY2F0aW9uIGR1bW15RyBwcmVmZXJzIHJo
Ny0xIC0tYXV0b2NvcnJlY3QiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygK
ICAgICAgICAgICAgICJjb25zdHJhaW50IGxvY2F0aW9uIGR1bW15IHJ1bGUgI3VuYW1lIGVxIHJo
Ny0xIC0tYXV0b2NvcnJlY3QiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygK
ICAgICAgICAgICAgICJjb25zdHJhaW50IGxvY2F0aW9uIGR1bW15RyBydWxlICN1bmFtZSBlcSBy
aDctMSAtLWF1dG9jb3JyZWN0IgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0g
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3Mo
CiAgICAgICAgICAgICAiY29uc3RyYWludCBvcmRlciBkdW1teSB0aGVuIGR1bW15MSAtLWF1dG9j
b3JyZWN0IgpAQCAtMTQyNCw3ICsxNDMyLDcgQEAgQ29sb2NhdGlvbiBDb25zdHJhaW50czoKICAg
ICAgICAgYWMob3V0cHV0LCAiIiJcCiBBZGRpbmcgZHVtbXktY2xvbmUgZHVtbXkxIChraW5kOiBN
YW5kYXRvcnkpIChPcHRpb25zOiBmaXJzdC1hY3Rpb249c3RhcnQgdGhlbi1hY3Rpb249c3RhcnQp
CiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5W
YWwgPSBwY3MoCiAgICAgICAgICAgICAiY29uc3RyYWludCBvcmRlciBkdW1teTEgdGhlbiBkdW1t
eUcgLS1hdXRvY29ycmVjdCIKQEAgLTE0MzIsNDMgKzE0NDAsNDMgQEAgQWRkaW5nIGR1bW15LWNs
b25lIGR1bW15MSAoa2luZDogTWFuZGF0b3J5KSAoT3B0aW9uczogZmlyc3QtYWN0aW9uPXN0YXJ0
IHRoZW4tYWMKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCiBBZGRpbmcgZHVtbXkxIGR1bW15Ry1j
bG9uZSAoa2luZDogTWFuZGF0b3J5KSAoT3B0aW9uczogZmlyc3QtYWN0aW9uPXN0YXJ0IHRoZW4t
YWN0aW9uPXN0YXJ0KQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5W
YWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91
dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgImNvbnN0cmFpbnQgb3JkZXIgc2V0
IGR1bW15MSBkdW1teSAtLWF1dG9jb3JyZWN0IgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1
dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5W
YWwgPSBwY3MoCiAgICAgICAgICAgICAiY29uc3RyYWludCBvcmRlciBzZXQgZHVtbXlHIGR1bW15
MSAtLWF1dG9jb3JyZWN0IgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAg
ICAgICAgICAgICAiY29uc3RyYWludCBjb2xvY2F0aW9uIGFkZCBkdW1teSB3aXRoIGR1bW15MSAt
LWF1dG9jb3JyZWN0IgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAg
ICAgICAgICAiY29uc3RyYWludCBjb2xvY2F0aW9uIGFkZCBkdW1teTEgd2l0aCBkdW1teUcgLS1h
dXRvY29ycmVjdCIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
MCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAg
ICAgICAgImNvbnN0cmFpbnQgY29sb2NhdGlvbiBzZXQgZHVtbXkxIGR1bW15IC0tYXV0b2NvcnJl
Y3QiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVy
blZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgICJj
b25zdHJhaW50IGNvbG9jYXRpb24gc2V0IGR1bW15MSBkdW1teUcgLS1hdXRvY29ycmVjdCIKICAg
ICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQog
CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKCJjb25zdHJhaW50IC0tZnVsbCIpCiAg
ICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtMTQ5Niw3ICsxNTA0LDcgQEAgQ29sb2NhdGlvbiBD
b25zdHJhaW50czoKICAgICBzZXQgZHVtbXkxIGR1bW15LWNsb25lIChpZDpwY3NfcnNjX3NldF9k
dW1teTFfZHVtbXktY2xvbmUtMSkgc2V0b3B0aW9ucyBzY29yZT1JTkZJTklUWSAoaWQ6cGNzX3Jz
Y19jb2xvY2F0aW9uX3NldF9kdW1teTFfZHVtbXkpCiAgICAgc2V0IGR1bW15MSBkdW1teUctY2xv
bmUgKGlkOnBjc19yc2Nfc2V0X2R1bW15MV9kdW1teUctY2xvbmUpIHNldG9wdGlvbnMgc2NvcmU9
SU5GSU5JVFkgKGlkOnBjc19yc2NfY29sb2NhdGlvbl9zZXRfZHVtbXkxX2R1bW15RykKICIiIikK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBj
cygKICAgICAgICAgICAgICJjb25zdHJhaW50IGxvY2F0aW9uIGR1bW15IHJ1bGUgI3VuYW1lIGVx
IHJoNy0xIC0tYXV0b2NvcnJlY3QiCkBAIC0xNTA3LDEzICsxNTE1LDEzIEBAIEVycm9yOiBkdXBs
aWNhdGUgY29uc3RyYWludCBhbHJlYWR5IGV4aXN0cywgdXNlIC0tZm9yY2UgdG8gb3ZlcnJpZGUK
ICAgICBSdWxlOiBzY29yZT1JTkZJTklUWSAgKGlkOmxvY2F0aW9uLWR1bW15LWNsb25lLXJ1bGUp
CiAgICAgICBFeHByZXNzaW9uOiAjdW5hbWUgZXEgcmg3LTEgIChpZDpsb2NhdGlvbi1kdW1teS1j
bG9uZS1ydWxlLWV4cHIpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldHVy
blZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXR1cm5WYWwpCiAKICAgICAgICAg
b3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICAiY29uc3RyYWludCBsb2NhdGlv
biBkdW1teSBydWxlICN1bmFtZSBlcSByaDctMSAtLWF1dG9jb3JyZWN0IC0tZm9yY2UiCiAgICAg
ICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMo
MCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAog
ICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgICJjb25zdHJhaW50
IG9yZGVyIGR1bW15IHRoZW4gZHVtbXkxIC0tYXV0b2NvcnJlY3QiCkBAIC0xNTIyLDcgKzE1MzAs
NyBAQCBFcnJvcjogZHVwbGljYXRlIGNvbnN0cmFpbnQgYWxyZWFkeSBleGlzdHMsIHVzZSAtLWZv
cmNlIHRvIG92ZXJyaWRlCiBFcnJvcjogZHVwbGljYXRlIGNvbnN0cmFpbnQgYWxyZWFkeSBleGlz
dHMsIHVzZSAtLWZvcmNlIHRvIG92ZXJyaWRlCiAgIHN0YXJ0IGR1bW15LWNsb25lIHRoZW4gc3Rh
cnQgZHVtbXkxIChraW5kOk1hbmRhdG9yeSkgKGlkOm9yZGVyLWR1bW15LWNsb25lLWR1bW15MS1t
YW5kYXRvcnkpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkK
KyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0
LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICAiY29uc3RyYWludCBvcmRlciBkdW1teSB0
aGVuIGR1bW15MSAtLWF1dG9jb3JyZWN0IC0tZm9yY2UiCkBAIC0xNTMwLDcgKzE1MzgsNyBAQCBF
cnJvcjogZHVwbGljYXRlIGNvbnN0cmFpbnQgYWxyZWFkeSBleGlzdHMsIHVzZSAtLWZvcmNlIHRv
IG92ZXJyaWRlCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXAogQWRkaW5nIGR1bW15LWNsb25lIGR1
bW15MSAoa2luZDogTWFuZGF0b3J5KSAoT3B0aW9uczogZmlyc3QtYWN0aW9uPXN0YXJ0IHRoZW4t
YWN0aW9uPXN0YXJ0KQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5W
YWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91
dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgImNvbnN0cmFpbnQgb3JkZXIgc2V0
IGR1bW15MSBkdW1teSAtLWF1dG9jb3JyZWN0IgpAQCAtMTUzOSwxMyArMTU0NywxMyBAQCBBZGRp
bmcgZHVtbXktY2xvbmUgZHVtbXkxIChraW5kOiBNYW5kYXRvcnkpIChPcHRpb25zOiBmaXJzdC1h
Y3Rpb249c3RhcnQgdGhlbi1hYwogRXJyb3I6IGR1cGxpY2F0ZSBjb25zdHJhaW50IGFscmVhZHkg
ZXhpc3RzLCB1c2UgLS1mb3JjZSB0byBvdmVycmlkZQogICBzZXQgZHVtbXkxIGR1bW15LWNsb25l
IChpZDpwY3NfcnNjX3NldF9kdW1teTFfZHVtbXktY2xvbmUpIChpZDpwY3NfcnNjX29yZGVyX3Nl
dF9kdW1teTFfZHVtbXkpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldHVy
blZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXR1cm5WYWwpCiAKICAgICAgICAg
b3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICAiY29uc3RyYWludCBvcmRlciBz
ZXQgZHVtbXkxIGR1bW15IC0tYXV0b2NvcnJlY3QgLS1mb3JjZSIKICAgICAgICAgKQogICAgICAg
ICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwp
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1
dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgImNvbnN0cmFpbnQgY29sb2NhdGlvbiBh
ZGQgZHVtbXkgd2l0aCBkdW1teTEgLS1hdXRvY29ycmVjdCIKQEAgLTE1NTQsMTMgKzE1NjIsMTMg
QEAgRXJyb3I6IGR1cGxpY2F0ZSBjb25zdHJhaW50IGFscmVhZHkgZXhpc3RzLCB1c2UgLS1mb3Jj
ZSB0byBvdmVycmlkZQogRXJyb3I6IGR1cGxpY2F0ZSBjb25zdHJhaW50IGFscmVhZHkgZXhpc3Rz
LCB1c2UgLS1mb3JjZSB0byBvdmVycmlkZQogICBkdW1teS1jbG9uZSB3aXRoIGR1bW15MSAoc2Nv
cmU6SU5GSU5JVFkpIChpZDpjb2xvY2F0aW9uLWR1bW15LWNsb25lLWR1bW15MS1JTkZJTklUWSkK
ICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZh
bCA9IHBjcygKICAgICAgICAgICAgICJjb25zdHJhaW50IGNvbG9jYXRpb24gYWRkIGR1bW15IHdp
dGggZHVtbXkxIC0tYXV0b2NvcnJlY3QgLS1mb3JjZSIKICAgICAgICAgKQogICAgICAgICBhYyhv
dXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0
dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgImNvbnN0cmFpbnQgY29sb2NhdGlvbiBzZXQgZHVt
bXkxIGR1bW15IC0tYXV0b2NvcnJlY3QiCkBAIC0xNTY5LDEzICsxNTc3LDEzIEBAIEVycm9yOiBk
dXBsaWNhdGUgY29uc3RyYWludCBhbHJlYWR5IGV4aXN0cywgdXNlIC0tZm9yY2UgdG8gb3ZlcnJp
ZGUKIEVycm9yOiBkdXBsaWNhdGUgY29uc3RyYWludCBhbHJlYWR5IGV4aXN0cywgdXNlIC0tZm9y
Y2UgdG8gb3ZlcnJpZGUKICAgc2V0IGR1bW15MSBkdW1teS1jbG9uZSAoaWQ6cGNzX3JzY19zZXRf
ZHVtbXkxX2R1bW15LWNsb25lLTEpIHNldG9wdGlvbnMgc2NvcmU9SU5GSU5JVFkgKGlkOnBjc19y
c2NfY29sb2NhdGlvbl9zZXRfZHVtbXkxX2R1bW15KQogIiIiKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJu
VmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgImNv
bnN0cmFpbnQgY29sb2NhdGlvbiBzZXQgZHVtbXkxIGR1bW15IC0tYXV0b2NvcnJlY3QgLS1mb3Jj
ZSIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJu
VmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKCJjb25zdHJhaW50IC0tZnVs
bCIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtMTYxMCw3ICsxNjE4LDcgQEAgQ29sb2Nh
dGlvbiBDb25zdHJhaW50czoKICAgICBzZXQgZHVtbXkxIGR1bW15Ry1jbG9uZSAoaWQ6cGNzX3Jz
Y19zZXRfZHVtbXkxX2R1bW15Ry1jbG9uZSkgc2V0b3B0aW9ucyBzY29yZT1JTkZJTklUWSAoaWQ6
cGNzX3JzY19jb2xvY2F0aW9uX3NldF9kdW1teTFfZHVtbXlHKQogICAgIHNldCBkdW1teTEgZHVt
bXktY2xvbmUgKGlkOnBjc19yc2Nfc2V0X2R1bW15MV9kdW1teS1jbG9uZS0zKSBzZXRvcHRpb25z
IHNjb3JlPUlORklOSVRZIChpZDpwY3NfcnNjX2NvbG9jYXRpb25fc2V0X2R1bW15MV9kdW1teS0x
KQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgZGVmIHRlc3RNaXNzaW5nUm9s
ZShzZWxmKToKICAgICAgICAgb3Muc3lzdGVtKCJDSUJfZmlsZT0iK3RlbXBfY2liKyIgY2liYWRt
aW4gLVIgLS1zY29wZSBub2RlcyAtLXhtbC10ZXh0ICc8bm9kZXM+PG5vZGUgaWQ9XCIxXCIgdW5h
bWU9XCJyaDctMVwiLz48bm9kZSBpZD1cIjJcIiB1bmFtZT1cInJoNy0yXCIvPjwvbm9kZXM+JyIp
CkBAIC0xODM2LDMxICsxODQ0LDMxIEBAIENvbG9jYXRpb24gQ29uc3RyYWludHM6CiAgICAgICAg
ICAgICAncmVzb3VyY2UgY3JlYXRlIHZtLWd1ZXN0MSBWaXJ0dWFsRG9tYWluIGh5cGVydmlzb3I9
InFlbXU6Ly8vc3lzdGVtIiBjb25maWc9Ii9yb290L2d1ZXN0MS54bWwiIG1ldGEgcmVtb3RlLW5v
ZGU9Z3Vlc3QxJwogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgw
LCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAg
ICAgICB0ZW1wX2NpYiwgImNvbnN0cmFpbnQgbG9jYXRpb24gRDEgcHJlZmVycyBub2RlMT0xMDAi
CiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZh
bCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBf
Y2liLCAiY29uc3RyYWludCBsb2NhdGlvbiBEMSBwcmVmZXJzIGd1ZXN0MT0yMDAiCiAgICAgICAg
ICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwg
cmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAg
ICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLCAiY29u
c3RyYWludCBsb2NhdGlvbiBEMiBhdm9pZHMgbm9kZTI9MzAwIgogICAgICAgICApCiAgICAgICAg
IGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkK
KyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0
LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1wX2NpYiwgImNvbnN0cmFpbnQgbG9j
YXRpb24gRDIgYXZvaWRzIGd1ZXN0MT00MDAiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0
LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZh
bCA9IHBjcyh0ZW1wX2NpYiwgImNvbnN0cmFpbnQgLS1mdWxsIikKICAgICAgICAgYWMob3V0cHV0
LCAiIiJcCkBAIC0xODc0LDcgKzE4ODIsNyBAQCBMb2NhdGlvbiBDb25zdHJhaW50czoKIE9yZGVy
aW5nIENvbnN0cmFpbnRzOgogQ29sb2NhdGlvbiBDb25zdHJhaW50czoKICIiIikKLSAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFs
KDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2Np
YiwgInJlc291cmNlIGRlbGV0ZSB2bS1ndWVzdDEiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwK
QEAgLTE4ODIsNyArMTg5MCw3IEBAIFJlbW92aW5nIENvbnN0cmFpbnQgLSBsb2NhdGlvbi1EMS1n
dWVzdDEtMjAwCiBSZW1vdmluZyBDb25zdHJhaW50IC0gbG9jYXRpb24tRDItZ3Vlc3QxLS00MDAK
IERlbGV0aW5nIFJlc291cmNlIC0gdm0tZ3Vlc3QxCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5W
YWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJjb25zdHJh
aW50IC0tZnVsbCIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtMTg5NCw3ICsxOTAyLDcg
QEAgTG9jYXRpb24gQ29uc3RyYWludHM6CiBPcmRlcmluZyBDb25zdHJhaW50czoKIENvbG9jYXRp
b24gQ29uc3RyYWludHM6CiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVy
blZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAg
IyBjb25zdHJhaW50cyByZWZlcmVuY2luZyB0aGUgcmVtb3RlIG5vZGUncyBuYW1lLAogICAgICAg
ICAjIHJlbW92aW5nIHRoZSByZW1vdGUgbm9kZQpAQCAtMTkwMywxOSArMTkxMSwxOSBAQCBDb2xv
Y2F0aW9uIENvbnN0cmFpbnRzOgogICAgICAgICAgICAgJ3Jlc291cmNlIGNyZWF0ZSB2bS1ndWVz
dDEgVmlydHVhbERvbWFpbiBoeXBlcnZpc29yPSJxZW11Oi8vL3N5c3RlbSIgY29uZmlnPSIvcm9v
dC9ndWVzdDEueG1sIiBtZXRhIHJlbW90ZS1ub2RlPWd1ZXN0MScKICAgICAgICAgKQogICAgICAg
ICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwp
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1
dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsICJjb25zdHJhaW50IGxv
Y2F0aW9uIEQxIHByZWZlcnMgZ3Vlc3QxPTIwMCIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRw
dXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJu
VmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsICJjb25zdHJhaW50IGxvY2F0aW9uIEQy
IGF2b2lkcyBndWVzdDE9NDAwIgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0g
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3Mo
dGVtcF9jaWIsICJjb25zdHJhaW50IC0tZnVsbCIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApA
QCAtMTkyOSwxMyArMTkzNywxMyBAQCBMb2NhdGlvbiBDb25zdHJhaW50czoKIE9yZGVyaW5nIENv
bnN0cmFpbnRzOgogQ29sb2NhdGlvbiBDb25zdHJhaW50czoKICIiIikKLSAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJl
dHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAg
IHRlbXBfY2liLCAiY2x1c3RlciByZW1vdGUtbm9kZSByZW1vdmUgZ3Vlc3QxIgogICAgICAgICAp
CiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJl
dHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAg
ICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJjb25zdHJhaW50IC0tZnVsbCIp
CiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtMTk0NywxMyArMTk1NSwxMyBAQCBMb2NhdGlv
biBDb25zdHJhaW50czoKIE9yZGVyaW5nIENvbnN0cmFpbnRzOgogQ29sb2NhdGlvbiBDb25zdHJh
aW50czoKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJl
dHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGRlbGV0ZSB2bS1ndWVzdDEiKQogICAg
ICAgICBhYyhvdXRwdXQsICIiIlwKIERlbGV0aW5nIFJlc291cmNlIC0gdm0tZ3Vlc3QxCiAiIiIp
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgIyBjb25zdHJhaW50cyByZWZlcmVu
Y2luZyB0aGUgcmVtb3RlIG5vZGUgcmVzb3VyY2UKICAgICAgICAgIyBkZWxldGluZyB0aGUgcmVt
b3RlIG5vZGUgcmVzb3VyY2UKQEAgLTE5NjIsNDAgKzE5NzAsNDAgQEAgRGVsZXRpbmcgUmVzb3Vy
Y2UgLSB2bS1ndWVzdDEKICAgICAgICAgICAgICdyZXNvdXJjZSBjcmVhdGUgdm0tZ3Vlc3QxIFZp
cnR1YWxEb21haW4gaHlwZXJ2aXNvcj0icWVtdTovLy9zeXN0ZW0iIGNvbmZpZz0iL3Jvb3QvZ3Vl
c3QxLnhtbCIgbWV0YSByZW1vdGUtbm9kZT1ndWVzdDEnCiAgICAgICAgICkKICAgICAgICAgYWMo
b3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJl
dHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLCAiY29uc3RyYWludCBsb2NhdGlv
biB2bS1ndWVzdDEgcHJlZmVycyBub2RlMSIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQs
ICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFs
ID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZGVsZXRlIHZtLWd1ZXN0MSIpCiAgICAgICAgIGFj
KG91dHB1dCwgIiIiXAogUmVtb3ZpbmcgQ29uc3RyYWludCAtIGxvY2F0aW9uLXZtLWd1ZXN0MS1u
b2RlMS1JTkZJTklUWQogRGVsZXRpbmcgUmVzb3VyY2UgLSB2bS1ndWVzdDEKICIiIikKLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVx
dWFsKDAsIHJldHVyblZhbCkKIAogICAgIGRlZiB0ZXN0RHVwbGljYXRlT3JkZXIoc2VsZik6CiAg
ICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKCJjb25zdHJhaW50IG9yZGVyIEQxIHRoZW4g
RDIiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEFkZGluZyBEMSBEMiAoa2luZDogTWFuZGF0
b3J5KSAoT3B0aW9uczogZmlyc3QtYWN0aW9uPXN0YXJ0IHRoZW4tYWN0aW9uPXN0YXJ0KQogIiIi
KQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0g
cGNzKCJjb25zdHJhaW50IG9yZGVyIEQxIHRoZW4gRDIiKQogICAgICAgICBhYyhvdXRwdXQsICIi
IlwKIEVycm9yOiBkdXBsaWNhdGUgY29uc3RyYWludCBhbHJlYWR5IGV4aXN0cywgdXNlIC0tZm9y
Y2UgdG8gb3ZlcnJpZGUKICAgc3RhcnQgRDEgdGhlbiBzdGFydCBEMiAoa2luZDpNYW5kYXRvcnkp
IChpZDpvcmRlci1EMS1EMi1tYW5kYXRvcnkpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWxzKDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXR1cm5WYWwp
CiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoImNvbnN0cmFpbnQgb3JkZXIgRDEg
dGhlbiBEMiAtLWZvcmNlIikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCiBBZGRpbmcgRDEgRDIg
KGtpbmQ6IE1hbmRhdG9yeSkgKE9wdGlvbnM6IGZpcnN0LWFjdGlvbj1zdGFydCB0aGVuLWFjdGlv
bj1zdGFydCkKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQs
IHJldHVyblZhbCA9IHBjcygiY29uc3RyYWludCBvcmRlciBzdGFydCBEMSB0aGVuIHN0YXJ0IEQy
IikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCkBAIC0yMDAzLDcgKzIwMTEsNyBAQCBFcnJvcjog
ZHVwbGljYXRlIGNvbnN0cmFpbnQgYWxyZWFkeSBleGlzdHMsIHVzZSAtLWZvcmNlIHRvIG92ZXJy
aWRlCiAgIHN0YXJ0IEQxIHRoZW4gc3RhcnQgRDIgKGtpbmQ6TWFuZGF0b3J5KSAoaWQ6b3JkZXIt
RDEtRDItbWFuZGF0b3J5KQogICBzdGFydCBEMSB0aGVuIHN0YXJ0IEQyIChraW5kOk1hbmRhdG9y
eSkgKGlkOm9yZGVyLUQxLUQyLW1hbmRhdG9yeS0xKQogIiIiKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJu
VmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgImNv
bnN0cmFpbnQgb3JkZXIgc3RhcnQgRDEgdGhlbiBzdGFydCBEMiAtLWZvcmNlIgpAQCAtMjAxMSwy
MCArMjAxOSwyMCBAQCBFcnJvcjogZHVwbGljYXRlIGNvbnN0cmFpbnQgYWxyZWFkeSBleGlzdHMs
IHVzZSAtLWZvcmNlIHRvIG92ZXJyaWRlCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXAogQWRkaW5n
IEQxIEQyIChraW5kOiBNYW5kYXRvcnkpIChPcHRpb25zOiBmaXJzdC1hY3Rpb249c3RhcnQgdGhl
bi1hY3Rpb249c3RhcnQpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVy
blZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAg
b3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoImNvbnN0cmFpbnQgb3JkZXIgc3RhcnQgRDIgdGhlbiBz
dGFydCBENSIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXAogQWRkaW5nIEQyIEQ1IChraW5kOiBN
YW5kYXRvcnkpIChPcHRpb25zOiBmaXJzdC1hY3Rpb249c3RhcnQgdGhlbi1hY3Rpb249c3RhcnQp
CiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5W
YWwgPSBwY3MoImNvbnN0cmFpbnQgb3JkZXIgc3RhcnQgRDIgdGhlbiBzdGFydCBENSIpCiAgICAg
ICAgIGFjKG91dHB1dCwgIiIiXAogRXJyb3I6IGR1cGxpY2F0ZSBjb25zdHJhaW50IGFscmVhZHkg
ZXhpc3RzLCB1c2UgLS1mb3JjZSB0byBvdmVycmlkZQogICBzdGFydCBEMiB0aGVuIHN0YXJ0IEQ1
IChraW5kOk1hbmRhdG9yeSkgKGlkOm9yZGVyLUQyLUQ1LW1hbmRhdG9yeSkKICIiIikKLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVx
dWFsKDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAg
ICAgICAgICAgICJjb25zdHJhaW50IG9yZGVyIHN0YXJ0IEQyIHRoZW4gc3RhcnQgRDUgLS1mb3Jj
ZSIKQEAgLTIwMzIsMjYgKzIwNDAsMjYgQEAgRXJyb3I6IGR1cGxpY2F0ZSBjb25zdHJhaW50IGFs
cmVhZHkgZXhpc3RzLCB1c2UgLS1mb3JjZSB0byBvdmVycmlkZQogICAgICAgICBhYyhvdXRwdXQs
ICIiIlwKIEFkZGluZyBEMiBENSAoa2luZDogTWFuZGF0b3J5KSAoT3B0aW9uczogZmlyc3QtYWN0
aW9uPXN0YXJ0IHRoZW4tYWN0aW9uPXN0YXJ0KQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVx
dWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFs
KQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKCJjb25zdHJhaW50IG9yZGVyIHN0
b3AgRDUgdGhlbiBzdG9wIEQ2IikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCiBBZGRpbmcgRDUg
RDYgKGtpbmQ6IE1hbmRhdG9yeSkgKE9wdGlvbnM6IGZpcnN0LWFjdGlvbj1zdG9wIHRoZW4tYWN0
aW9uPXN0b3ApCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkK
KyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0
LCByZXR1cm5WYWwgPSBwY3MoImNvbnN0cmFpbnQgb3JkZXIgc3RvcCBENSB0aGVuIHN0b3AgRDYi
KQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEVycm9yOiBkdXBsaWNhdGUgY29uc3RyYWludCBh
bHJlYWR5IGV4aXN0cywgdXNlIC0tZm9yY2UgdG8gb3ZlcnJpZGUKICAgc3RvcCBENSB0aGVuIHN0
b3AgRDYgKGtpbmQ6TWFuZGF0b3J5KSAoaWQ6b3JkZXItRDUtRDYtbWFuZGF0b3J5KQogIiIiKQot
ICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNz
KCJjb25zdHJhaW50IG9yZGVyIHN0b3AgRDUgdGhlbiBzdG9wIEQ2IC0tZm9yY2UiKQogICAgICAg
ICBhYyhvdXRwdXQsICIiIlwKIEFkZGluZyBENSBENiAoa2luZDogTWFuZGF0b3J5KSAoT3B0aW9u
czogZmlyc3QtYWN0aW9uPXN0b3AgdGhlbi1hY3Rpb249c3RvcCkKICIiIikKLSAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAs
IHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwg
ImNvbnN0cmFpbnQgLS1mdWxsIikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCkBAIC0yMDY2LDMy
ICsyMDc0LDMyIEBAIE9yZGVyaW5nIENvbnN0cmFpbnRzOgogICBzdG9wIEQ1IHRoZW4gc3RvcCBE
NiAoa2luZDpNYW5kYXRvcnkpIChpZDpvcmRlci1ENS1ENi1tYW5kYXRvcnktMSkKIENvbG9jYXRp
b24gQ29uc3RyYWludHM6CiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVy
blZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICBkZWYg
dGVzdER1cGxpY2F0ZUNvbG9jYXRpb24oc2VsZik6CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFs
ID0gcGNzKCJjb25zdHJhaW50IGNvbG9jYXRpb24gYWRkIEQxIHdpdGggRDIiKQogICAgICAgICBh
YyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwg
cmV0dXJuVmFsID0gcGNzKCJjb25zdHJhaW50IGNvbG9jYXRpb24gYWRkIEQxIHdpdGggRDIiKQog
ICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEVycm9yOiBkdXBsaWNhdGUgY29uc3RyYWludCBhbHJl
YWR5IGV4aXN0cywgdXNlIC0tZm9yY2UgdG8gb3ZlcnJpZGUKICAgRDEgd2l0aCBEMiAoc2NvcmU6
SU5GSU5JVFkpIChpZDpjb2xvY2F0aW9uLUQxLUQyLUlORklOSVRZKQogIiIiKQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
MSwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKCJjb25zdHJh
aW50IGNvbG9jYXRpb24gYWRkIEQxIHdpdGggRDIgNTAiKQogICAgICAgICBhYyhvdXRwdXQsICIi
IlwKIEVycm9yOiBkdXBsaWNhdGUgY29uc3RyYWludCBhbHJlYWR5IGV4aXN0cywgdXNlIC0tZm9y
Y2UgdG8gb3ZlcnJpZGUKICAgRDEgd2l0aCBEMiAoc2NvcmU6SU5GSU5JVFkpIChpZDpjb2xvY2F0
aW9uLUQxLUQyLUlORklOSVRZKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCBy
ZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAg
ICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgImNvbnN0cmFpbnQgY29s
b2NhdGlvbiBhZGQgRDEgd2l0aCBEMiA1MCAtLWZvcmNlIgogICAgICAgICApCiAgICAgICAgIGFj
KG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCBy
ZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICAiY29uc3RyYWludCBjb2xvY2F0aW9uIGFkZCBz
dGFydGVkIEQxIHdpdGggc3RhcnRlZCBEMiIKQEAgLTIxMDEsMjUgKzIxMDksMjUgQEAgRXJyb3I6
IGR1cGxpY2F0ZSBjb25zdHJhaW50IGFscmVhZHkgZXhpc3RzLCB1c2UgLS1mb3JjZSB0byBvdmVy
cmlkZQogICBEMSB3aXRoIEQyIChzY29yZTpJTkZJTklUWSkgKGlkOmNvbG9jYXRpb24tRDEtRDIt
SU5GSU5JVFkpCiAgIEQxIHdpdGggRDIgKHNjb3JlOjUwKSAoaWQ6Y29sb2NhdGlvbi1EMS1EMi01
MCkKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVy
blZhbCA9IHBjcygKICAgICAgICAgICAgICJjb25zdHJhaW50IGNvbG9jYXRpb24gYWRkIHN0YXJ0
ZWQgRDEgd2l0aCBzdGFydGVkIEQyIC0tZm9yY2UiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0
cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVy
blZhbCA9IHBjcygKICAgICAgICAgICAgICJjb25zdHJhaW50IGNvbG9jYXRpb24gYWRkIHN0YXJ0
ZWQgRDIgd2l0aCBzdGFydGVkIEQ1IgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIp
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBw
Y3MoCiAgICAgICAgICAgICAiY29uc3RyYWludCBjb2xvY2F0aW9uIGFkZCBzdG9wcGVkIEQyIHdp
dGggc3RvcHBlZCBENSIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAg
ICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAg
ICAgICAgICAgImNvbnN0cmFpbnQgY29sb2NhdGlvbiBhZGQgc3RvcHBlZCBEMiB3aXRoIHN0b3Bw
ZWQgRDUiCkBAIC0yMTI4LDEzICsyMTM2LDEzIEBAIEVycm9yOiBkdXBsaWNhdGUgY29uc3RyYWlu
dCBhbHJlYWR5IGV4aXN0cywgdXNlIC0tZm9yY2UgdG8gb3ZlcnJpZGUKIEVycm9yOiBkdXBsaWNh
dGUgY29uc3RyYWludCBhbHJlYWR5IGV4aXN0cywgdXNlIC0tZm9yY2UgdG8gb3ZlcnJpZGUKICAg
RDIgd2l0aCBENSAoc2NvcmU6SU5GSU5JVFkpIChyc2Mtcm9sZTpTdG9wcGVkKSAod2l0aC1yc2Mt
cm9sZTpTdG9wcGVkKSAoaWQ6Y29sb2NhdGlvbi1EMi1ENS1JTkZJTklUWS0xKQogIiIiKQotICAg
ICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAog
ICAgICAgICAgICAgImNvbnN0cmFpbnQgY29sb2NhdGlvbiBhZGQgc3RvcHBlZCBEMiB3aXRoIHN0
b3BwZWQgRDUgLS1mb3JjZSIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAg
ICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRl
bXBfY2liLCAiY29uc3RyYWludCAtLWZ1bGwiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAg
LTIxNTIsNzUgKzIxNjAsNzUgQEAgQ29sb2NhdGlvbiBDb25zdHJhaW50czoKICAgICBkZWYgdGVz
dER1cGxpY2F0ZVNldENvbnN0cmFpbnRzKHNlbGYpOgogICAgICAgICBvdXRwdXQsIHJldHVyblZh
bCA9IHBjcygiY29uc3RyYWludCBvcmRlciBzZXQgRDEgRDIiKQogICAgICAgICBhYyhvdXRwdXQs
ICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFs
ID0gcGNzKCJjb25zdHJhaW50IG9yZGVyIHNldCBEMSBEMiIpCiAgICAgICAgIGFjKG91dHB1dCwg
IiIiXAogRXJyb3I6IGR1cGxpY2F0ZSBjb25zdHJhaW50IGFscmVhZHkgZXhpc3RzLCB1c2UgLS1m
b3JjZSB0byBvdmVycmlkZQogICBzZXQgRDEgRDIgKGlkOnBjc19yc2Nfc2V0X0QxX0QyKSAoaWQ6
cGNzX3JzY19vcmRlcl9zZXRfRDFfRDIpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXR1cm5WYWwpCiAK
ICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoImNvbnN0cmFpbnQgb3JkZXIgc2V0IEQx
IEQyIC0tZm9yY2UiKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJu
VmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKCJjb25zdHJhaW50IG9yZGVy
IHNldCBEMSBEMiBzZXQgRDUgRDYiKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
MCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKCJjb25zdHJh
aW50IG9yZGVyIHNldCBEMSBEMiBzZXQgRDUgRDYiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwK
IEVycm9yOiBkdXBsaWNhdGUgY29uc3RyYWludCBhbHJlYWR5IGV4aXN0cywgdXNlIC0tZm9yY2Ug
dG8gb3ZlcnJpZGUKICAgc2V0IEQxIEQyIChpZDpwY3NfcnNjX3NldF9EMV9EMi0yKSBzZXQgRDUg
RDYgKGlkOnBjc19yc2Nfc2V0X0Q1X0Q2KSAoaWQ6cGNzX3JzY19vcmRlcl9zZXRfRDFfRDJfc2V0
X0Q1X0Q2KQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwg
cmV0dXJuVmFsID0gcGNzKCJjb25zdHJhaW50IG9yZGVyIHNldCBEMSBEMiBzZXQgRDUgRDYgLS1m
b3JjZSIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAK
IAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygiY29uc3RyYWludCBjb2xvY2F0aW9u
IHNldCBEMSBEMiIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5W
YWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoImNvbnN0cmFpbnQgY29sb2Nh
dGlvbiBzZXQgRDEgRDIiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEVycm9yOiBkdXBsaWNh
dGUgY29uc3RyYWludCBhbHJlYWR5IGV4aXN0cywgdXNlIC0tZm9yY2UgdG8gb3ZlcnJpZGUKICAg
c2V0IEQxIEQyIChpZDpwY3NfcnNjX3NldF9EMV9EMi00KSBzZXRvcHRpb25zIHNjb3JlPUlORklO
SVRZIChpZDpwY3NfcnNjX2NvbG9jYXRpb25fc2V0X0QxX0QyKQogIiIiKQotICAgICAgICBzZWxm
LmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwg
cmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKCJjb25zdHJhaW50
IGNvbG9jYXRpb24gc2V0IEQxIEQyIC0tZm9yY2UiKQogICAgICAgICBhYyhvdXRwdXQsICIiKQot
ICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNz
KCJjb25zdHJhaW50IGNvbG9jYXRpb24gc2V0IEQxIEQyIHNldCBENSBENiIpCiAgICAgICAgIGFj
KG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCBy
ZXR1cm5WYWwgPSBwY3MoImNvbnN0cmFpbnQgY29sb2NhdGlvbiBzZXQgRDEgRDIgc2V0IEQ1IEQ2
IikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCiBFcnJvcjogZHVwbGljYXRlIGNvbnN0cmFpbnQg
YWxyZWFkeSBleGlzdHMsIHVzZSAtLWZvcmNlIHRvIG92ZXJyaWRlCiAgIHNldCBEMSBEMiAoaWQ6
cGNzX3JzY19zZXRfRDFfRDItNikgc2V0IEQ1IEQ2IChpZDpwY3NfcnNjX3NldF9ENV9ENi0yKSBz
ZXRvcHRpb25zIHNjb3JlPUlORklOSVRZIChpZDpwY3NfcnNjX2NvbG9jYXRpb25fc2V0X0QxX0Qy
X3NldF9ENV9ENikKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFs
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRw
dXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgICJjb25zdHJhaW50IGNvbG9jYXRpb24g
c2V0IEQxIEQyIHNldCBENSBENiAtLWZvcmNlIgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1
dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKIAogICAgICAgICBvdXRwdXQsIHJldHVy
blZhbCA9IHBjcygiY29uc3RyYWludCBjb2xvY2F0aW9uIHNldCBENiBEMSIpCiAgICAgICAgIGFj
KG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCBy
ZXR1cm5WYWwgPSBwY3MoImNvbnN0cmFpbnQgb3JkZXIgc2V0IEQ2IEQxIikKICAgICAgICAgYWMo
b3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogCiAgICAgICAgIG91dHB1dCwg
cmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAiY29uc3RyYWludCAtLWZ1bGwiKQpAQCAtMjI0NSw3
ICsyMjUzLDcgQEAgQ29sb2NhdGlvbiBDb25zdHJhaW50czoKICAgICBkZWYgdGVzdER1cGxpY2F0
ZUxvY2F0aW9uUnVsZXMoc2VsZik6CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKCJj
b25zdHJhaW50IGxvY2F0aW9uIEQxIHJ1bGUgI3VuYW1lIGVxIG5vZGUxIikKICAgICAgICAgYWMo
b3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJl
dHVyblZhbCA9IHBjcygiY29uc3RyYWludCBsb2NhdGlvbiBEMSBydWxlICN1bmFtZSBlcSBub2Rl
MSIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtMjI1NCwyMyArMjI2MiwyMyBAQCBFcnJv
cjogZHVwbGljYXRlIGNvbnN0cmFpbnQgYWxyZWFkeSBleGlzdHMsIHVzZSAtLWZvcmNlIHRvIG92
ZXJyaWRlCiAgICAgUnVsZTogc2NvcmU9SU5GSU5JVFkgIChpZDpsb2NhdGlvbi1EMS1ydWxlKQog
ICAgICAgRXhwcmVzc2lvbjogI3VuYW1lIGVxIG5vZGUxICAoaWQ6bG9jYXRpb24tRDEtcnVsZS1l
eHByKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0
dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgImNvbnN0cmFpbnQgbG9jYXRpb24gRDEgcnVsZSAj
dW5hbWUgZXEgbm9kZTEgLS1mb3JjZSIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIi
KQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0g
cGNzKCJjb25zdHJhaW50IGxvY2F0aW9uIEQyIHJ1bGUgI3VuYW1lIGVxIG5vZGUxIikKICAgICAg
ICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFs
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRw
dXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgICJjb25zdHJhaW50IGxvY2F0aW9uIEQy
IHJ1bGUgI3VuYW1lIGVxIG5vZGUxIG9yICN1bmFtZSBlcSBub2RlMiIKICAgICAgICAgKQogICAg
ICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5W
YWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91
dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgImNvbnN0cmFpbnQgbG9jYXRpb24g
RDIgcnVsZSAjdW5hbWUgZXEgbm9kZTEgb3IgI3VuYW1lIGVxIG5vZGUyIgpAQCAtMjI4Miw3ICsy
MjkwLDcgQEAgRXJyb3I6IGR1cGxpY2F0ZSBjb25zdHJhaW50IGFscmVhZHkgZXhpc3RzLCB1c2Ug
LS1mb3JjZSB0byBvdmVycmlkZQogICAgICAgRXhwcmVzc2lvbjogI3VuYW1lIGVxIG5vZGUxICAo
aWQ6bG9jYXRpb24tRDItMS1ydWxlLWV4cHIpCiAgICAgICBFeHByZXNzaW9uOiAjdW5hbWUgZXEg
bm9kZTIgIChpZDpsb2NhdGlvbi1EMi0xLXJ1bGUtZXhwci0xKQogIiIiKQotICAgICAgICBzZWxm
LmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwg
cmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAg
ICAgImNvbnN0cmFpbnQgbG9jYXRpb24gRDIgcnVsZSAjdW5hbWUgZXEgbm9kZTIgb3IgI3VuYW1l
IGVxIG5vZGUxIgpAQCAtMjI5NCwxMyArMjMwMiwxMyBAQCBFcnJvcjogZHVwbGljYXRlIGNvbnN0
cmFpbnQgYWxyZWFkeSBleGlzdHMsIHVzZSAtLWZvcmNlIHRvIG92ZXJyaWRlCiAgICAgICBFeHBy
ZXNzaW9uOiAjdW5hbWUgZXEgbm9kZTEgIChpZDpsb2NhdGlvbi1EMi0xLXJ1bGUtZXhwcikKICAg
ICAgIEV4cHJlc3Npb246ICN1bmFtZSBlcSBub2RlMiAgKGlkOmxvY2F0aW9uLUQyLTEtcnVsZS1l
eHByLTEpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCBy
ZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICAiY29uc3RyYWludCBsb2NhdGlvbiBEMiBydWxl
ICN1bmFtZSBlcSBub2RlMiBvciAjdW5hbWUgZXEgbm9kZTEgLS1mb3JjZSIKICAgICAgICAgKQog
ICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1
cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAg
IG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAiY29uc3RyYWludCAtLWZ1bGwiKQog
ICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTIzMjcsNyArMjMzNSw3IEBAIExvY2F0aW9uIENv
bnN0cmFpbnRzOgogT3JkZXJpbmcgQ29uc3RyYWludHM6CiBDb2xvY2F0aW9uIENvbnN0cmFpbnRz
OgogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgZGVmIHRlc3RDb25zdHJhaW50
c0N1c3RvbUlkKHNlbGYpOgogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKQEAgLTIz
MzcsMTQgKzIzNDUsMTQgQEAgQ29sb2NhdGlvbiBDb25zdHJhaW50czoKICAgICAgICAgYWMob3V0
cHV0LCAiIiJcCiBFcnJvcjogaW52YWxpZCBjb25zdHJhaW50IGlkICcxaWQnLCAnMScgaXMgbm90
IGEgdmFsaWQgZmlyc3QgY2hhcmFjdGVyIGZvciBhIGNvbnN0cmFpbnQgaWQKICIiIikKLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVx
dWFsKDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAg
ICAgICAgICAgIHRlbXBfY2liLAogICAgICAgICAgICAgImNvbnN0cmFpbnQgY29sb2NhdGlvbiBh
ZGQgRDEgd2l0aCBEMiBpZD1pZDEiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBj
cygKICAgICAgICAgICAgIHRlbXBfY2liLApAQCAtMjM1MywxNCArMjM2MSwxNCBAQCBFcnJvcjog
aW52YWxpZCBjb25zdHJhaW50IGlkICcxaWQnLCAnMScgaXMgbm90IGEgdmFsaWQgZmlyc3QgY2hh
cmFjdGVyIGZvciBhIGNvbgogICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEVycm9yOiBpZCAnaWQx
JyBpcyBhbHJlYWR5IGluIHVzZSwgcGxlYXNlIHNwZWNpZnkgYW5vdGhlciBvbmUKICIiIikKLSAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygK
ICAgICAgICAgICAgIHRlbXBfY2liLAogICAgICAgICAgICAgImNvbnN0cmFpbnQgY29sb2NhdGlv
biBhZGQgRDIgd2l0aCBEMSAxMDAgaWQ9aWQyIgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1
dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5W
YWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1wX2NpYiwKQEAgLTIzNjksMTQgKzIzNzcsMTQgQEAg
RXJyb3I6IGlkICdpZDEnIGlzIGFscmVhZHkgaW4gdXNlLCBwbGVhc2Ugc3BlY2lmeSBhbm90aGVy
IG9uZQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEVycm9yOiBpbnZhbGlkIGNvbnN0cmFpbnQg
aWQgJzNpZCcsICczJyBpcyBub3QgYSB2YWxpZCBmaXJzdCBjaGFyYWN0ZXIgZm9yIGEgY29uc3Ry
YWludCBpZAogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwg
cmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAiY29u
c3RyYWludCBjb2xvY2F0aW9uIHNldCBEMSBEMiBzZXRvcHRpb25zIGlkPWlkMyIKICAgICAgICAg
KQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCBy
ZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAg
ICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCkBAIC0y
Mzg1LDE0ICsyMzkzLDE0IEBAIEVycm9yOiBpbnZhbGlkIGNvbnN0cmFpbnQgaWQgJzNpZCcsICcz
JyBpcyBub3QgYSB2YWxpZCBmaXJzdCBjaGFyYWN0ZXIgZm9yIGEgY29uCiAgICAgICAgIGFjKG91
dHB1dCwgIiIiXAogRXJyb3I6IGlkICdpZDMnIGlzIGFscmVhZHkgaW4gdXNlLCBwbGVhc2Ugc3Bl
Y2lmeSBhbm90aGVyIG9uZQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1
cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAg
IG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAg
ICAgICAiY29uc3RyYWludCBjb2xvY2F0aW9uIHNldCBEMiBEMSBzZXRvcHRpb25zIHNjb3JlPTEw
MCBpZD1pZDQiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAs
IHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAg
ICAgIHRlbXBfY2liLApAQCAtMjQwMSwxNCArMjQwOSwxNCBAQCBFcnJvcjogaWQgJ2lkMycgaXMg
YWxyZWFkeSBpbiB1c2UsIHBsZWFzZSBzcGVjaWZ5IGFub3RoZXIgb25lCiAgICAgICAgIGFjKG91
dHB1dCwgIiIiXAogRXJyb3I6IGludmFsaWQgY29uc3RyYWludCBpZCAnNWlkJywgJzUnIGlzIG5v
dCBhIHZhbGlkIGZpcnN0IGNoYXJhY3RlciBmb3IgYSBjb25zdHJhaW50IGlkCiAiIiIpCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgxLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAg
ICAgICAgICAgICB0ZW1wX2NpYiwKICAgICAgICAgICAgICJjb25zdHJhaW50IG9yZGVyIHNldCBE
MSBEMiBzZXRvcHRpb25zIGlkPWlkNSIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIi
KQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0g
cGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCkBAIC0yNDE3LDE0ICsyNDI1LDE0IEBAIEVycm9y
OiBpbnZhbGlkIGNvbnN0cmFpbnQgaWQgJzVpZCcsICc1JyBpcyBub3QgYSB2YWxpZCBmaXJzdCBj
aGFyYWN0ZXIgZm9yIGEgY29uCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXAogRXJyb3I6IGlkICdp
ZDUnIGlzIGFscmVhZHkgaW4gdXNlLCBwbGVhc2Ugc3BlY2lmeSBhbm90aGVyIG9uZQogIiIiKQot
ICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNz
KAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAiY29uc3RyYWludCBvcmRlciBz
ZXQgRDIgRDEgc2V0b3B0aW9ucyBraW5kPU1hbmRhdG9yeSBpZD1pZDYiCiAgICAgICAgICkKICAg
ICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJu
VmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBv
dXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLApAQCAtMjQzMyw3
ICsyNDQxLDcgQEAgRXJyb3I6IGlkICdpZDUnIGlzIGFscmVhZHkgaW4gdXNlLCBwbGVhc2Ugc3Bl
Y2lmeSBhbm90aGVyIG9uZQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEVycm9yOiBpbnZhbGlk
IGNvbnN0cmFpbnQgaWQgJzdpZCcsICc3JyBpcyBub3QgYSB2YWxpZCBmaXJzdCBjaGFyYWN0ZXIg
Zm9yIGEgY29uc3RyYWludCBpZAogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCBy
ZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAg
ICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCkBAIC0y
NDQyLDcgKzI0NTAsNyBAQCBFcnJvcjogaW52YWxpZCBjb25zdHJhaW50IGlkICc3aWQnLCAnNycg
aXMgbm90IGEgdmFsaWQgZmlyc3QgY2hhcmFjdGVyIGZvciBhIGNvbgogICAgICAgICBhYyhvdXRw
dXQsICIiIlwKIEFkZGluZyBEMSBEMiAoa2luZDogTWFuZGF0b3J5KSAoT3B0aW9uczogaWQ9aWQ3
IGZpcnN0LWFjdGlvbj1zdGFydCB0aGVuLWFjdGlvbj1zdGFydCkKICIiIikKLSAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAs
IHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAg
ICAgIHRlbXBfY2liLApAQCAtMjQ1MSw3ICsyNDU5LDcgQEAgQWRkaW5nIEQxIEQyIChraW5kOiBN
YW5kYXRvcnkpIChPcHRpb25zOiBpZD1pZDcgZmlyc3QtYWN0aW9uPXN0YXJ0IHRoZW4tYWN0aW9u
PXMKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCiBFcnJvcjogaWQgJ2lkNycgaXMgYWxyZWFkeSBp
biB1c2UsIHBsZWFzZSBzcGVjaWZ5IGFub3RoZXIgb25lCiAiIiIpCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXR1
cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICB0
ZW1wX2NpYiwKQEAgLTI0NjAsNyArMjQ2OCw3IEBAIEVycm9yOiBpZCAnaWQ3JyBpcyBhbHJlYWR5
IGluIHVzZSwgcGxlYXNlIHNwZWNpZnkgYW5vdGhlciBvbmUKICAgICAgICAgYWMob3V0cHV0LCAi
IiJcCiBBZGRpbmcgRDIgRDEgKGtpbmQ6IE9wdGlvbmFsKSAoT3B0aW9uczogaWQ9aWQ4IGZpcnN0
LWFjdGlvbj1zdGFydCB0aGVuLWFjdGlvbj1zdGFydCkKICIiIikKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVy
blZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRl
bXBfY2liLApAQCAtMjQ2OSwxNCArMjQ3NywxNCBAQCBBZGRpbmcgRDIgRDEgKGtpbmQ6IE9wdGlv
bmFsKSAoT3B0aW9uczogaWQ9aWQ4IGZpcnN0LWFjdGlvbj1zdGFydCB0aGVuLWFjdGlvbj1zdAog
ICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEVycm9yOiBpbnZhbGlkIGNvbnN0cmFpbnQgaWQgJzlp
ZCcsICc5JyBpcyBub3QgYSB2YWxpZCBmaXJzdCBjaGFyYWN0ZXIgZm9yIGEgY29uc3RyYWludCBp
ZAogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJu
VmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAiY29uc3RyYWlu
dCBsb2NhdGlvbiBEMSBydWxlIGNvbnN0cmFpbnQtaWQ9aWQ5IGRlZmluZWQgcGluZ2QiCiAgICAg
ICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMo
MCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAog
ICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLApA
QCAtMjQ4NSwxNCArMjQ5MywxNCBAQCBFcnJvcjogaW52YWxpZCBjb25zdHJhaW50IGlkICc5aWQn
LCAnOScgaXMgbm90IGEgdmFsaWQgZmlyc3QgY2hhcmFjdGVyIGZvciBhIGNvbgogICAgICAgICBh
YyhvdXRwdXQsICIiIlwKIEVycm9yOiBpZCAnaWQ5JyBpcyBhbHJlYWR5IGluIHVzZSwgcGxlYXNl
IHNwZWNpZnkgYW5vdGhlciBvbmUKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwg
cmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAg
ICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLAogICAg
ICAgICAgICAgImNvbnN0cmFpbnQgbG9jYXRpb24gRDIgcnVsZSBzY29yZT0xMDAgY29uc3RyYWlu
dC1pZD1pZDEwIGlkPXJ1bGUxIGRlZmluZWQgcGluZ2QiCiAgICAgICAgICkKICAgICAgICAgYWMo
b3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJl
dHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgImNvbnN0cmFpbnQgLS1mdWxsIikKICAgICAgICAgYWMo
b3V0cHV0LCAiIiJcCkBAIC0yNTE4LDcgKzI1MjYsNyBAQCBDb2xvY2F0aW9uIENvbnN0cmFpbnRz
OgogICAgIHNldCBEMSBEMiAoaWQ6cGNzX3JzY19zZXRfRDFfRDIpIHNldG9wdGlvbnMgc2NvcmU9
SU5GSU5JVFkgKGlkOmlkMykKICAgICBzZXQgRDIgRDEgKGlkOnBjc19yc2Nfc2V0X0QyX0QxKSBz
ZXRvcHRpb25zIHNjb3JlPTEwMCAoaWQ6aWQ0KQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVx
dWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFs
KQogCiBpZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgIHVuaXR0ZXN0Lm1haW4oKQpkaWZm
IC0tZ2l0IGEvcGNzL3Rlc3QvdGVzdF9jb3Jvc3luY19jb25mLnB5IGIvcGNzL3Rlc3QvdGVzdF9j
b3Jvc3luY19jb25mLnB5CmluZGV4IGEyOGMzMWYuLjU0MWUzZjAgMTAwNjQ0Ci0tLSBhL3Bjcy90
ZXN0L3Rlc3RfY29yb3N5bmNfY29uZi5weQorKysgYi9wY3MvdGVzdC90ZXN0X2Nvcm9zeW5jX2Nv
bmYucHkKQEAgLTEsMjcgKzEsMzQgQEAKLWltcG9ydCBvcworZnJvbSBfX2Z1dHVyZV9fIGltcG9y
dCBhYnNvbHV0ZV9pbXBvcnQKK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgZGl2aXNpb24KK2Zyb20g
X19mdXR1cmVfXyBpbXBvcnQgcHJpbnRfZnVuY3Rpb24KK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQg
dW5pY29kZV9saXRlcmFscworCitpbXBvcnQgb3MucGF0aAogaW1wb3J0IHN5cwogaW1wb3J0IHVu
aXR0ZXN0CiBwYXJlbnRkaXIgPSBvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5kaXJuYW1lKG9zLnBh
dGguYWJzcGF0aChfX2ZpbGVfXykpKQogc3lzLnBhdGguaW5zZXJ0KDAsIHBhcmVudGRpcikKKwog
ZnJvbSBwY3NfdGVzdF9mdW5jdGlvbnMgaW1wb3J0IHBjcywgYWMKIGltcG9ydCBjb3Jvc3luY19j
b25mCiAKKwogY2xhc3MgU2VjdGlvblRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogCiAgICAgZGVm
IHRlc3RfZW1wdHlfc2VjdGlvbihzZWxmKToKICAgICAgICAgc2VjdGlvbiA9IGNvcm9zeW5jX2Nv
bmYuU2VjdGlvbigibXlTZWN0aW9uIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoc2VjdGlv
bi5wYXJlbnQsIE5vbmUpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHNlY3Rpb24uZ2V0X3Jv
b3QoKSwgc2VjdGlvbikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoc2VjdGlvbi5uYW1lLCAi
bXlTZWN0aW9uIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoc2VjdGlvbi5nZXRfYXR0cmli
dXRlcygpLCBbXSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoc2VjdGlvbi5nZXRfc2VjdGlv
bnMoKSwgW10pCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoc2VjdGlvbi5wYXJlbnQsIE5vbmUp
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoc2VjdGlvbi5nZXRfcm9vdCgpLCBzZWN0aW9uKQor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHNlY3Rpb24ubmFtZSwgIm15U2VjdGlvbiIpCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwoc2VjdGlvbi5nZXRfYXR0cmlidXRlcygpLCBbXSkKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbChzZWN0aW9uLmdldF9zZWN0aW9ucygpLCBbXSkKICAgICAgICAg
YWMoc3RyKHNlY3Rpb24pLCAiIikKIAogICAgIGRlZiB0ZXN0X2F0dHJpYnV0ZV9hZGQoc2VsZik6
CiAgICAgICAgIHNlY3Rpb24gPSBjb3Jvc3luY19jb25mLlNlY3Rpb24oIm15U2VjdGlvbiIpCiAK
ICAgICAgICAgc2VjdGlvbi5hZGRfYXR0cmlidXRlKCJuYW1lMSIsICJ2YWx1ZTEiKQotICAgICAg
ICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAg
ICAgIHNlY3Rpb24uZ2V0X2F0dHJpYnV0ZXMoKSwKICAgICAgICAgICAgIFsKICAgICAgICAgICAg
ICAgICBbIm5hbWUxIiwgInZhbHVlMSJdLApAQCAtMjksNyArMzYsNyBAQCBjbGFzcyBTZWN0aW9u
VGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgICkKIAogICAgICAgICBzZWN0aW9uLmFk
ZF9hdHRyaWJ1dGUoIm5hbWUyIiwgInZhbHVlMiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgc2VjdGlvbi5nZXRfYXR0
cmlidXRlcygpLAogICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgIFsibmFtZTEiLCAidmFs
dWUxIl0sCkBAIC0zOCw3ICs0NSw3IEBAIGNsYXNzIFNlY3Rpb25UZXN0KHVuaXR0ZXN0LlRlc3RD
YXNlKToKICAgICAgICAgKQogCiAgICAgICAgIHNlY3Rpb24uYWRkX2F0dHJpYnV0ZSgibmFtZTIi
LCAidmFsdWUyIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoCiAgICAgICAgICAgICBzZWN0aW9uLmdldF9hdHRyaWJ1dGVzKCksCiAgICAgICAg
ICAgICBbCiAgICAgICAgICAgICAgICAgWyJuYW1lMSIsICJ2YWx1ZTEiXSwKQEAgLTU0LDcgKzYx
LDcgQEAgY2xhc3MgU2VjdGlvblRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICBzZWN0
aW9uLmFkZF9hdHRyaWJ1dGUoIm5hbWUzIiwgInZhbHVlMyIpCiAgICAgICAgIHNlY3Rpb24uYWRk
X2F0dHJpYnV0ZSgibmFtZTIiLCAidmFsdWUyYSIpCiAKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBzZWN0aW9uLmdldF9h
dHRyaWJ1dGVzKCksCiAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgWyJuYW1lMSIsICJ2
YWx1ZTEiXSwKQEAgLTYzLDIwICs3MCwyMCBAQCBjbGFzcyBTZWN0aW9uVGVzdCh1bml0dGVzdC5U
ZXN0Q2FzZSk6CiAgICAgICAgICAgICAgICAgWyJuYW1lMiIsICJ2YWx1ZTJhIl0sCiAgICAgICAg
ICAgICBdCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBzZWN0aW9uLmdldF9hdHRyaWJ1dGVzKCJuYW1l
MSIpLAogICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgIFsibmFtZTEiLCAidmFsdWUxIl0s
CiAgICAgICAgICAgICBdCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBzZWN0aW9uLmdldF9hdHRyaWJ1
dGVzKCJuYW1lMiIpLAogICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgIFsibmFtZTIiLCAi
dmFsdWUyIl0sCiAgICAgICAgICAgICAgICAgWyJuYW1lMiIsICJ2YWx1ZTJhIl0sCiAgICAgICAg
ICAgICBdCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBzZWN0aW9uLmdldF9hdHRyaWJ1dGVzKCJuYW1l
WCIpLAogICAgICAgICAgICAgW10KICAgICAgICAgKQpAQCAtODUsNyArOTIsNyBAQCBjbGFzcyBT
ZWN0aW9uVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgIHNlY3Rpb24gPSBjb3Jvc3lu
Y19jb25mLlNlY3Rpb24oIm15U2VjdGlvbiIpCiAKICAgICAgICAgc2VjdGlvbi5zZXRfYXR0cmli
dXRlKCJuYW1lMSIsICJ2YWx1ZTEiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIHNlY3Rpb24uZ2V0X2F0dHJpYnV0ZXMo
KSwKICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICBbIm5hbWUxIiwgInZhbHVlMSJdLApA
QCAtOTMsNyArMTAwLDcgQEAgY2xhc3MgU2VjdGlvblRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgog
ICAgICAgICApCiAKICAgICAgICAgc2VjdGlvbi5zZXRfYXR0cmlidXRlKCJuYW1lMSIsICJ2YWx1
ZTEiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgKICAgICAgICAgICAgIHNlY3Rpb24uZ2V0X2F0dHJpYnV0ZXMoKSwKICAgICAgICAgICAgIFsK
ICAgICAgICAgICAgICAgICBbIm5hbWUxIiwgInZhbHVlMSJdLApAQCAtMTAxLDcgKzEwOCw3IEBA
IGNsYXNzIFNlY3Rpb25UZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgKQogCiAgICAg
ICAgIHNlY3Rpb24uc2V0X2F0dHJpYnV0ZSgibmFtZTEiLCAidmFsdWUxYSIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAg
c2VjdGlvbi5nZXRfYXR0cmlidXRlcygpLAogICAgICAgICAgICAgWwogICAgICAgICAgICAgICAg
IFsibmFtZTEiLCAidmFsdWUxYSJdLApAQCAtMTA5LDcgKzExNiw3IEBAIGNsYXNzIFNlY3Rpb25U
ZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgKQogCiAgICAgICAgIHNlY3Rpb24uc2V0
X2F0dHJpYnV0ZSgibmFtZTIiLCAidmFsdWUyIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMo
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBzZWN0aW9uLmdldF9hdHRy
aWJ1dGVzKCksCiAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgWyJuYW1lMSIsICJ2YWx1
ZTFhIl0sCkBAIC0xMTgsNyArMTI1LDcgQEAgY2xhc3MgU2VjdGlvblRlc3QodW5pdHRlc3QuVGVz
dENhc2UpOgogICAgICAgICApCiAKICAgICAgICAgc2VjdGlvbi5zZXRfYXR0cmlidXRlKCJuYW1l
MSIsICJ2YWx1ZTEiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbCgKICAgICAgICAgICAgIHNlY3Rpb24uZ2V0X2F0dHJpYnV0ZXMoKSwKICAgICAg
ICAgICAgIFsKICAgICAgICAgICAgICAgICBbIm5hbWUxIiwgInZhbHVlMSJdLApAQCAtMTI4LDcg
KzEzNSw3IEBAIGNsYXNzIFNlY3Rpb25UZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKIAogICAgICAg
ICBzZWN0aW9uLmFkZF9hdHRyaWJ1dGUoIm5hbWUzIiwgInZhbHVlMyIpCiAgICAgICAgIHNlY3Rp
b24uYWRkX2F0dHJpYnV0ZSgibmFtZTIiLCAidmFsdWUyIikKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBzZWN0aW9uLmdl
dF9hdHRyaWJ1dGVzKCksCiAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgWyJuYW1lMSIs
ICJ2YWx1ZTEiXSwKQEAgLTEzOCw3ICsxNDUsNyBAQCBjbGFzcyBTZWN0aW9uVGVzdCh1bml0dGVz
dC5UZXN0Q2FzZSk6CiAgICAgICAgICAgICBdCiAgICAgICAgICkKICAgICAgICAgc2VjdGlvbi5z
ZXRfYXR0cmlidXRlKCJuYW1lMiIsICJ2YWx1ZTJhIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBzZWN0aW9uLmdldF9h
dHRyaWJ1dGVzKCksCiAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgWyJuYW1lMSIsICJ2
YWx1ZTEiXSwKQEAgLTE1MCw3ICsxNTcsNyBAQCBjbGFzcyBTZWN0aW9uVGVzdCh1bml0dGVzdC5U
ZXN0Q2FzZSk6CiAgICAgICAgIHNlY3Rpb24uYWRkX2F0dHJpYnV0ZSgibmFtZTEiLCAidmFsdWUx
IikKICAgICAgICAgc2VjdGlvbi5hZGRfYXR0cmlidXRlKCJuYW1lMSIsICJ2YWx1ZTEiKQogICAg
ICAgICBzZWN0aW9uLnNldF9hdHRyaWJ1dGUoIm5hbWUxIiwgInZhbHVlMSIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAg
c2VjdGlvbi5nZXRfYXR0cmlidXRlcygpLAogICAgICAgICAgICAgWwogICAgICAgICAgICAgICAg
IFsibmFtZTEiLCAidmFsdWUxIl0sCkBAIC0xNjksNyArMTc2LDcgQEAgY2xhc3MgU2VjdGlvblRl
c3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICBhdHRyID0gc2VjdGlvbi5nZXRfYXR0cmli
dXRlcygpWzFdCiAgICAgICAgIGF0dHJbMF0gPSAibmFtZTJhIgogICAgICAgICBhdHRyWzFdID0g
InZhbHVlMmEiCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFsKAogICAgICAgICAgICAgc2VjdGlvbi5nZXRfYXR0cmlidXRlcygpLAogICAgICAgICAg
ICAgWwogICAgICAgICAgICAgICAgIFsibmFtZTEiLCAidmFsdWUxIl0sCkBAIC0xODcsNyArMTk0
LDcgQEAgY2xhc3MgU2VjdGlvblRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICBzZWN0
aW9uLmFkZF9hdHRyaWJ1dGUoIm5hbWUyIiwgInZhbHVlMiIpCiAKICAgICAgICAgc2VjdGlvbi5k
ZWxfYXR0cmlidXRlKHNlY3Rpb24uZ2V0X2F0dHJpYnV0ZXMoKVsxXSkKLSAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBzZWN0
aW9uLmdldF9hdHRyaWJ1dGVzKCksCiAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgWyJu
YW1lMSIsICJ2YWx1ZTEiXSwKQEAgLTE5Niw3ICsyMDMsNyBAQCBjbGFzcyBTZWN0aW9uVGVzdCh1
bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgICkKIAogICAgICAgICBzZWN0aW9uLmRlbF9hdHRy
aWJ1dGUoWyJuYW1lMyIsICJ2YWx1ZTMiXSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBzZWN0aW9uLmdldF9hdHRyaWJ1
dGVzKCksCiAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgWyJuYW1lMSIsICJ2YWx1ZTEi
XSwKQEAgLTIwNCw3ICsyMTEsNyBAQCBjbGFzcyBTZWN0aW9uVGVzdCh1bml0dGVzdC5UZXN0Q2Fz
ZSk6CiAgICAgICAgICkKIAogICAgICAgICBzZWN0aW9uLmRlbF9hdHRyaWJ1dGUoWyJuYW1lMyIs
ICJ2YWx1ZTMiXSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoCiAgICAgICAgICAgICBzZWN0aW9uLmdldF9hdHRyaWJ1dGVzKCksCiAgICAgICAg
ICAgICBbCiAgICAgICAgICAgICAgICAgWyJuYW1lMSIsICJ2YWx1ZTEiXSwKQEAgLTIxOSw3ICsy
MjYsNyBAQCBjbGFzcyBTZWN0aW9uVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgIHNl
Y3Rpb24uYWRkX2F0dHJpYnV0ZSgibmFtZTIiLCAidmFsdWUyIikKIAogICAgICAgICBzZWN0aW9u
LmRlbF9hdHRyaWJ1dGVzX2J5X25hbWUoIm5hbWVYIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBzZWN0aW9uLmdldF9h
dHRyaWJ1dGVzKCksCiAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgWyJuYW1lMSIsICJ2
YWx1ZTEiXSwKQEAgLTIzMCw3ICsyMzcsNyBAQCBjbGFzcyBTZWN0aW9uVGVzdCh1bml0dGVzdC5U
ZXN0Q2FzZSk6CiAgICAgICAgICkKIAogICAgICAgICBzZWN0aW9uLmRlbF9hdHRyaWJ1dGVzX2J5
X25hbWUoIm5hbWUyIiwgInZhbHVlMiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgc2VjdGlvbi5nZXRfYXR0cmlidXRl
cygpLAogICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgIFsibmFtZTEiLCAidmFsdWUxIl0s
CkBAIC0yNDAsNyArMjQ3LDcgQEAgY2xhc3MgU2VjdGlvblRlc3QodW5pdHRlc3QuVGVzdENhc2Up
OgogCiAgICAgICAgIHNlY3Rpb24uYWRkX2F0dHJpYnV0ZSgibmFtZTIiLCAidmFsdWUyIikKICAg
ICAgICAgc2VjdGlvbi5hZGRfYXR0cmlidXRlKCJuYW1lMiIsICJ2YWx1ZTJhIikKLSAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAg
ICBzZWN0aW9uLmdldF9hdHRyaWJ1dGVzKCksCiAgICAgICAgICAgICBbCiAgICAgICAgICAgICAg
ICAgWyJuYW1lMSIsICJ2YWx1ZTEiXSwKQEAgLTI1MCw3ICsyNTcsNyBAQCBjbGFzcyBTZWN0aW9u
VGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgICAgICBdCiAgICAgICAgICkKICAgICAg
ICAgc2VjdGlvbi5kZWxfYXR0cmlidXRlc19ieV9uYW1lKCJuYW1lMiIsICJ2YWx1ZTIiKQotICAg
ICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAg
ICAgICAgIHNlY3Rpb24uZ2V0X2F0dHJpYnV0ZXMoKSwKICAgICAgICAgICAgIFsKICAgICAgICAg
ICAgICAgICBbIm5hbWUxIiwgInZhbHVlMSJdLApAQCAtMjYwLDcgKzI2Nyw3IEBAIGNsYXNzIFNl
Y3Rpb25UZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgKQogCiAgICAgICAgIHNlY3Rp
b24uYWRkX2F0dHJpYnV0ZSgibmFtZTMiLCAidmFsdWUzYSIpCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgc2VjdGlvbi5n
ZXRfYXR0cmlidXRlcygpLAogICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgIFsibmFtZTEi
LCAidmFsdWUxIl0sCkBAIC0yNzAsNyArMjc3LDcgQEAgY2xhc3MgU2VjdGlvblRlc3QodW5pdHRl
c3QuVGVzdENhc2UpOgogICAgICAgICAgICAgXQogICAgICAgICApCiAgICAgICAgIHNlY3Rpb24u
ZGVsX2F0dHJpYnV0ZXNfYnlfbmFtZSgibmFtZTMiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIHNlY3Rpb24uZ2V0X2F0
dHJpYnV0ZXMoKSwKICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICBbIm5hbWUxIiwgInZh
bHVlMSJdLApAQCAtMjg3LDEwICsyOTQsMTAgQEAgY2xhc3MgU2VjdGlvblRlc3QodW5pdHRlc3Qu
VGVzdENhc2UpOgogICAgICAgICByb290LmFkZF9zZWN0aW9uKGNoaWxkMSkKICAgICAgICAgY2hp
bGQxLmFkZF9zZWN0aW9uKGNoaWxkMWEpCiAgICAgICAgIHJvb3QuYWRkX3NlY3Rpb24oY2hpbGQy
KQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyb290LnBhcmVudCwgTm9uZSkKLSAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbHMoY2hpbGQxLnBhcmVudC5uYW1lLCAicm9vdCIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKGNoaWxkMWEucGFyZW50Lm5hbWUsICJjaGlsZDEiKQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscyhjaGlsZDIucGFyZW50Lm5hbWUsICJyb290IikKKyAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbChyb290LnBhcmVudCwgTm9uZSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bChjaGlsZDEucGFyZW50Lm5hbWUsICJyb290IikKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChj
aGlsZDFhLnBhcmVudC5uYW1lLCAiY2hpbGQxIikKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChj
aGlsZDIucGFyZW50Lm5hbWUsICJyb290IikKICAgICAgICAgYWMoc3RyKHJvb3QpLCAiIiJcCiBj
aGlsZDEgewogICAgIGNoaWxkMWEgewpAQCAtMzAyLDcgKzMwOSw3IEBAIGNoaWxkMiB7CiAiIiIp
CiAKICAgICAgICAgY2hpbGQyLmFkZF9zZWN0aW9uKGNoaWxkMWEpCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKGNoaWxkMWEucGFyZW50Lm5hbWUsICJjaGlsZDIiKQorICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKGNoaWxkMWEucGFyZW50Lm5hbWUsICJjaGlsZDIiKQogICAgICAgICBhYyhzdHIo
cm9vdCksICIiIlwKIGNoaWxkMSB7CiB9CkBAIC0zODEsNyArMzg4LDcgQEAgY2hpbGQyIHsKICIi
IikKIAogICAgICAgICBhYygKLSAgICAgICAgICAgICItLS1cbiIuam9pbihtYXAobGFtYmRhIHg6
IHN0cih4KSwgcm9vdC5nZXRfc2VjdGlvbnMoKSkpLAorICAgICAgICAgICAgIi0tLVxuIi5qb2lu
KFtzdHIoeCkgZm9yIHggaW4gcm9vdC5nZXRfc2VjdGlvbnMoKV0pLAogICAgICAgICAgICAgIiIi
XAogY2hpbGQxIHsKICAgICBjaGlsZEEgewpAQCAtNDEzLDcgKzQyMCw3IEBAIGNoaWxkMiB7CiAi
IiIpCiAKICAgICAgICAgYWMoCi0gICAgICAgICAgICAiLS0tXG4iLmpvaW4obWFwKGxhbWJkYSB4
OiBzdHIoeCksIHJvb3QuZ2V0X3NlY3Rpb25zKCJjaGlsZDEiKSkpLAorICAgICAgICAgICAgIi0t
LVxuIi5qb2luKFtzdHIoeCkgZm9yIHggaW4gcm9vdC5nZXRfc2VjdGlvbnMoImNoaWxkMSIpXSks
CiAgICAgICAgICAgICAiIiJcCiBjaGlsZDEgewogICAgIGNoaWxkQSB7CkBAIC00MzEsNyArNDM4
LDcgQEAgY2hpbGQxIHsKICIiIikKIAogICAgICAgICBhYygKLSAgICAgICAgICAgICItLS1cbiIu
am9pbihtYXAobGFtYmRhIHg6IHN0cih4KSwgY2hpbGQxLmdldF9zZWN0aW9ucygiY2hpbGRBIikp
KSwKKyAgICAgICAgICAgICItLS1cbiIuam9pbihbc3RyKHgpIGZvciB4IGluIGNoaWxkMS5nZXRf
c2VjdGlvbnMoImNoaWxkQSIpXSksCiAgICAgICAgICAgICAiIiJcCiBjaGlsZEEgewogICAgIGlk
OiAxCkBAIC00NDMsNyArNDUwLDcgQEAgY2hpbGRBIHsKICIiIikKIAogICAgICAgICBhYygKLSAg
ICAgICAgICAgICItLS1cbiIuam9pbihtYXAobGFtYmRhIHg6IHN0cih4KSwgY2hpbGQxLmdldF9z
ZWN0aW9ucygiY2hpbGQyIikpKSwKKyAgICAgICAgICAgICItLS1cbiIuam9pbihbc3RyKHgpIGZv
ciB4IGluIGNoaWxkMS5nZXRfc2VjdGlvbnMoImNoaWxkMiIpXSksCiAgICAgICAgICAgICAiIgog
ICAgICAgICApCiAKQEAgLTUwMiw3ICs1MDksNyBAQCBjaGlsZDIgewogIiIiKQogCiAgICAgICAg
IGNoaWxkMi5kZWxfc2VjdGlvbihjaGlsZGIyKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhj
aGlsZGIyLnBhcmVudCwgTm9uZSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChjaGlsZGIyLnBh
cmVudCwgTm9uZSkKICAgICAgICAgYWMoc3RyKHJvb3QpLCAiIiJcCiBjaGlsZDEgewogICAgIGNo
aWxkQSB7CkBAIC01MzAsNyArNTM3LDcgQEAgY2hpbGQyIHsKICIiIikKIAogICAgICAgICByb290
LmRlbF9zZWN0aW9uKGNoaWxkMikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoY2hpbGQyLnBh
cmVudCwgTm9uZSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChjaGlsZDIucGFyZW50LCBOb25l
KQogICAgICAgICBhYyhzdHIocm9vdCksICIiIlwKIGNoaWxkMSB7CiAgICAgY2hpbGRBIHsKQEAg
LTU0OSwxMiArNTU2LDEyIEBAIGNoaWxkMSB7CiAKICAgICAgICAgc2VsZi5hc3NlcnRSYWlzZXMo
VmFsdWVFcnJvciwgcm9vdC5kZWxfc2VjdGlvbiwgY2hpbGQyKQogCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKGNoaWxkYTEucGFyZW50Lm5hbWUsICJjaGlsZDEiKQorICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKGNoaWxkYTEucGFyZW50Lm5hbWUsICJjaGlsZDEiKQogICAgICAgICBzZWxmLmFz
c2VydFJhaXNlcyhWYWx1ZUVycm9yLCBjaGlsZDIuZGVsX3NlY3Rpb24sIGNoaWxkYTEpCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKGNoaWxkYTEucGFyZW50Lm5hbWUsICJjaGlsZDEiKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKGNoaWxkYTEucGFyZW50Lm5hbWUsICJjaGlsZDEiKQogCiAg
ICAgICAgIGNoaWxkMS5kZWxfc2VjdGlvbihjaGlsZGIxKQotICAgICAgICBzZWxmLmFzc2VydEVx
dWFscyhjaGlsZGIxLnBhcmVudCwgTm9uZSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChjaGls
ZGIxLnBhcmVudCwgTm9uZSkKICAgICAgICAgYWMoc3RyKHJvb3QpLCAiIiJcCiBjaGlsZDEgewog
ICAgIGNoaWxkQSB7CkBAIC01NjgsMTYgKzU3NSwxNiBAQCBjaGlsZDEgewogIiIiKQogCiAgICAg
ICAgIGNoaWxkMS5kZWxfc2VjdGlvbihjaGlsZGExKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cyhjaGlsZGExLnBhcmVudCwgTm9uZSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChjaGlsZGEx
LnBhcmVudCwgTm9uZSkKICAgICAgICAgY2hpbGQxLmRlbF9zZWN0aW9uKGNoaWxkYTIpCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKGNoaWxkYTIucGFyZW50LCBOb25lKQorICAgICAgICBzZWxm
LmFzc2VydEVxdWFsKGNoaWxkYTIucGFyZW50LCBOb25lKQogICAgICAgICBhYyhzdHIocm9vdCks
ICIiIlwKIGNoaWxkMSB7CiB9CiAiIiIpCiAKICAgICAgICAgcm9vdC5kZWxfc2VjdGlvbihjaGls
ZDEpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKGNoaWxkMS5wYXJlbnQsIE5vbmUpCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwoY2hpbGQxLnBhcmVudCwgTm9uZSkKICAgICAgICAgYWMoc3Ry
KHJvb3QpLCAiIikKIAogICAgIGRlZiB0ZXN0X2dldF9yb290KHNlbGYpOgpAQCAtNTg3LDkgKzU5
NCw5IEBAIGNoaWxkMSB7CiAgICAgICAgIHJvb3QuYWRkX3NlY3Rpb24oY2hpbGQxKQogICAgICAg
ICBjaGlsZDEuYWRkX3NlY3Rpb24oY2hpbGQxYSkKIAotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cyhyb290LmdldF9yb290KCkubmFtZSwgInJvb3QiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cyhjaGlsZDEuZ2V0X3Jvb3QoKS5uYW1lLCAicm9vdCIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWxzKGNoaWxkMWEuZ2V0X3Jvb3QoKS5uYW1lLCAicm9vdCIpCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwocm9vdC5nZXRfcm9vdCgpLm5hbWUsICJyb290IikKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbChjaGlsZDEuZ2V0X3Jvb3QoKS5uYW1lLCAicm9vdCIpCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwoY2hpbGQxYS5nZXRfcm9vdCgpLm5hbWUsICJyb290IikKIAogICAgIGRlZiB0ZXN0X3N0
cihzZWxmKToKICAgICAgICAgcm9vdCA9IGNvcm9zeW5jX2NvbmYuU2VjdGlvbigicm9vdCIpCkBA
IC03NTQsNyArNzYxLDcgQEAgbmFtZTpmb286dmFsdWUKIG5hbWU6IGZvbzp2YWx1ZQogIiIiCiAg
ICAgICAgIHJvb3QgPSBjb3Jvc3luY19jb25mLnBhcnNlX3N0cmluZyhzdHJpbmcpCi0gICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWxzKHJvb3QuZ2V0X2F0dHJpYnV0ZXMoKSwgW1sibmFtZSIsICJmb286
dmFsdWUiXV0pCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocm9vdC5nZXRfYXR0cmlidXRlcygp
LCBbWyJuYW1lIiwgImZvbzp2YWx1ZSJdXSkKICAgICAgICAgYWMoc3RyKHJvb3QpLCBwYXJzZWQp
CiAKICAgICAgICAgc3RyaW5nID0gIiIiXApAQCAtNzY0LDcgKzc3MSw3IEBAIG5hbWUgOgogbmFt
ZTogCiAiIiIKICAgICAgICAgcm9vdCA9IGNvcm9zeW5jX2NvbmYucGFyc2Vfc3RyaW5nKHN0cmlu
ZykKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocm9vdC5nZXRfYXR0cmlidXRlcygpLCBbWyJu
YW1lIiwgIiJdXSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyb290LmdldF9hdHRyaWJ1dGVz
KCksIFtbIm5hbWUiLCAiIl1dKQogICAgICAgICBhYyhzdHIocm9vdCksIHBhcnNlZCkKIAogICAg
IGRlZiB0ZXN0X3NlY3Rpb24oc2VsZik6CmRpZmYgLS1naXQgYS9wY3MvdGVzdC90ZXN0X25vZGUu
cHkgYi9wY3MvdGVzdC90ZXN0X25vZGUucHkKaW5kZXggNzAyODUxNC4uMjVkZTBlYSAxMDA2NDQK
LS0tIGEvcGNzL3Rlc3QvdGVzdF9ub2RlLnB5CisrKyBiL3Bjcy90ZXN0L3Rlc3Rfbm9kZS5weQpA
QCAtMSwzICsxLDggQEAKK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgYWJzb2x1dGVfaW1wb3J0Citm
cm9tIF9fZnV0dXJlX18gaW1wb3J0IGRpdmlzaW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHBy
aW50X2Z1bmN0aW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHVuaWNvZGVfbGl0ZXJhbHMKKwog
aW1wb3J0IG9zLHN5cwogaW1wb3J0IHNodXRpbAogaW1wb3J0IHVuaXR0ZXN0CmRpZmYgLS1naXQg
YS9wY3MvdGVzdC90ZXN0X3Byb3BlcnRpZXMucHkgYi9wY3MvdGVzdC90ZXN0X3Byb3BlcnRpZXMu
cHkKaW5kZXggMWFiZDVkMS4uYWVhYjUyYiAxMDA2NDQKLS0tIGEvcGNzL3Rlc3QvdGVzdF9wcm9w
ZXJ0aWVzLnB5CisrKyBiL3Bjcy90ZXN0L3Rlc3RfcHJvcGVydGllcy5weQpAQCAtMSwzICsxLDgg
QEAKK2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgYWJzb2x1dGVfaW1wb3J0Citmcm9tIF9fZnV0dXJl
X18gaW1wb3J0IGRpdmlzaW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHByaW50X2Z1bmN0aW9u
Citmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHVuaWNvZGVfbGl0ZXJhbHMKKwogaW1wb3J0IG9zLHN5
cwogaW1wb3J0IHNodXRpbAogaW1wb3J0IHVuaXR0ZXN0CmRpZmYgLS1naXQgYS9wY3MvdGVzdC90
ZXN0X3Jlc291cmNlLnB5IGIvcGNzL3Rlc3QvdGVzdF9yZXNvdXJjZS5weQppbmRleCAzNzA5ZjI3
Li5iYWVkYmMwIDEwMDY0NAotLS0gYS9wY3MvdGVzdC90ZXN0X3Jlc291cmNlLnB5CisrKyBiL3Bj
cy90ZXN0L3Rlc3RfcmVzb3VyY2UucHkKQEAgLTEsMTMgKzEsMjAgQEAKLWltcG9ydCBvcyxzeXMK
K2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgYWJzb2x1dGVfaW1wb3J0Citmcm9tIF9fZnV0dXJlX18g
aW1wb3J0IGRpdmlzaW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHByaW50X2Z1bmN0aW9uCitm
cm9tIF9fZnV0dXJlX18gaW1wb3J0IHVuaWNvZGVfbGl0ZXJhbHMKKworaW1wb3J0IG9zCitpbXBv
cnQgc3lzCiBpbXBvcnQgc2h1dGlsCiBpbXBvcnQgcmUKLWltcG9ydCBkYXRldGltZQogaW1wb3J0
IHVuaXR0ZXN0CiBwYXJlbnRkaXIgPSBvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5kaXJuYW1lKG9z
LnBhdGguYWJzcGF0aChfX2ZpbGVfXykpKQotc3lzLnBhdGguaW5zZXJ0KDAscGFyZW50ZGlyKSAK
K3N5cy5wYXRoLmluc2VydCgwLCBwYXJlbnRkaXIpCisKIGltcG9ydCB1dGlscworZnJvbSBwY3Nf
dGVzdF9mdW5jdGlvbnMgaW1wb3J0IHBjcywgYWMKIGltcG9ydCByZXNvdXJjZQotZnJvbSBwY3Nf
dGVzdF9mdW5jdGlvbnMgaW1wb3J0IHBjcyxhYworCiAKIGVtcHR5X2NpYiA9ICJlbXB0eS54bWwi
CiB0ZW1wX2NpYiA9ICJ0ZW1wLnhtbCIKQEAgLTIwMiw3ICsyMDksMzIgQEAgdGhlIGhlYWx0aCBv
ZiBhIHN5c3RlbSB2aWEgSVBNSS4KIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0
ZW1wX2NpYiwgInJlc291cmNlIHNob3cgQ2x1c3RlcklQNiAtLWZ1bGwiKQogICAgICAgICBhc3Nl
cnQgcmV0dXJuVmFsID09IDAKLSAgICAgICAgYXNzZXJ0IG91dHB1dCA9PSAnIFJlc291cmNlOiBD
bHVzdGVySVAgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1JUGFkZHIyKVxuICBB
dHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMyIFxuICBPcGVyYXRpb25z
OiBtb25pdG9yIGludGVydmFsPTMwcyAoQ2x1c3RlcklQLW1vbml0b3ItaW50ZXJ2YWwtMzBzKVxu
IFJlc291cmNlOiBDbHVzdGVySVAyIChjbGFzcz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9
SVBhZGRyMilcbiAgQXR0cmlidXRlczogaXA9MTkyLjE2OC4wLjk5IGNpZHJfbmV0bWFzaz0zMiBc
biAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJUDItbW9uaXRvci1p
bnRlcnZhbC0zMHMpXG4gUmVzb3VyY2U6IENsdXN0ZXJJUDMgKGNsYXNzPW9jZiBwcm92aWRlcj1o
ZWFydGJlYXQgdHlwZT1JUGFkZHIyKVxuICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lk
cl9uZXRtYXNrPTMyIFxuICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMwcyAoQ2x1c3Rl
cklQMy1tb25pdG9yLWludGVydmFsLTMwcylcbiBSZXNvdXJjZTogQ2x1c3RlcklQNCAoY2xhc3M9
b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRkcjIpXG4gIEF0dHJpYnV0ZXM6IGlwPTE5
Mi4xNjguMC45OSBjaWRyX25ldG1hc2s9MzIgXG4gIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2
YWw9MzBzIChDbHVzdGVySVA0LW1vbml0b3ItaW50ZXJ2YWwtMzBzKVxuIFJlc291cmNlOiBDbHVz
dGVySVA1IChjbGFzcz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9SVBhZGRyMilcbiAgQXR0
cmlidXRlczogaXA9MTkyLjE2OC4wLjk5IGNpZHJfbmV0bWFzaz0zMiBcbiAgT3BlcmF0aW9uczog
bW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJUDUtbW9uaXRvci1pbnRlcnZhbC0zMHMpXG4g
UmVzb3VyY2U6IENsdXN0ZXJJUDYgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1J
UGFkZHIyKVxuICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMyIFxu
ICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMxcyAoQ2x1c3RlcklQNi1tb25pdG9yLWlu
dGVydmFsLTMxcylcbiAgICAgICAgICAgICAgc3RhcnQgaW50ZXJ2YWw9MzJzIChDbHVzdGVySVA2
LXN0YXJ0LWludGVydmFsLTMycylcbiAgICAgICAgICAgICAgc3RvcCBpbnRlcnZhbD0zM3MgKENs
dXN0ZXJJUDYtc3RvcC1pbnRlcnZhbC0zM3MpXG4gUmVzb3VyY2U6IENsdXN0ZXJJUDcgKGNsYXNz
PW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1JUGFkZHIyKVxuICBBdHRyaWJ1dGVzOiBpcD0x
OTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMyIFxuICBNZXRhIEF0dHJzOiB0YXJnZXQtcm9sZT1T
dG9wcGVkIFxuICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMwcyAoQ2x1c3RlcklQNy1t
b25pdG9yLWludGVydmFsLTMwcylcbicsW291dHB1dF0KKyAgICAgICAgYWMob3V0cHV0LCAiIiJc
CisgUmVzb3VyY2U6IENsdXN0ZXJJUCAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBl
PUlQYWRkcjIpCisgIEF0dHJpYnV0ZXM6IGlwPTE5Mi4xNjguMC45OSBjaWRyX25ldG1hc2s9MzIK
KyAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJUC1tb25pdG9yLWlu
dGVydmFsLTMwcykKKyBSZXNvdXJjZTogQ2x1c3RlcklQMiAoY2xhc3M9b2NmIHByb3ZpZGVyPWhl
YXJ0YmVhdCB0eXBlPUlQYWRkcjIpCisgIEF0dHJpYnV0ZXM6IGlwPTE5Mi4xNjguMC45OSBjaWRy
X25ldG1hc2s9MzIKKyAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJ
UDItbW9uaXRvci1pbnRlcnZhbC0zMHMpCisgUmVzb3VyY2U6IENsdXN0ZXJJUDMgKGNsYXNzPW9j
ZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1JUGFkZHIyKQorICBBdHRyaWJ1dGVzOiBpcD0xOTIu
MTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMyCisgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9
MzBzIChDbHVzdGVySVAzLW1vbml0b3ItaW50ZXJ2YWwtMzBzKQorIFJlc291cmNlOiBDbHVzdGVy
SVA0IChjbGFzcz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9SVBhZGRyMikKKyAgQXR0cmli
dXRlczogaXA9MTkyLjE2OC4wLjk5IGNpZHJfbmV0bWFzaz0zMgorICBPcGVyYXRpb25zOiBtb25p
dG9yIGludGVydmFsPTMwcyAoQ2x1c3RlcklQNC1tb25pdG9yLWludGVydmFsLTMwcykKKyBSZXNv
dXJjZTogQ2x1c3RlcklQNSAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRk
cjIpCisgIEF0dHJpYnV0ZXM6IGlwPTE5Mi4xNjguMC45OSBjaWRyX25ldG1hc2s9MzIKKyAgT3Bl
cmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJUDUtbW9uaXRvci1pbnRlcnZh
bC0zMHMpCisgUmVzb3VyY2U6IENsdXN0ZXJJUDYgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJl
YXQgdHlwZT1JUGFkZHIyKQorICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRt
YXNrPTMyCisgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9MzFzIChDbHVzdGVySVA2LW1v
bml0b3ItaW50ZXJ2YWwtMzFzKQorICAgICAgICAgICAgICBzdGFydCBpbnRlcnZhbD0zMnMgKENs
dXN0ZXJJUDYtc3RhcnQtaW50ZXJ2YWwtMzJzKQorICAgICAgICAgICAgICBzdG9wIGludGVydmFs
PTMzcyAoQ2x1c3RlcklQNi1zdG9wLWludGVydmFsLTMzcykKKyBSZXNvdXJjZTogQ2x1c3RlcklQ
NyAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRkcjIpCisgIEF0dHJpYnV0
ZXM6IGlwPTE5Mi4xNjguMC45OSBjaWRyX25ldG1hc2s9MzIKKyAgTWV0YSBBdHRyczogdGFyZ2V0
LXJvbGU9U3RvcHBlZCAKKyAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0
ZXJJUDctbW9uaXRvci1pbnRlcnZhbC0zMHMpCisiIiIpCiAKICAgICAgICAgb3V0cHV0LCByZXR1
cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1wX2NpYiwKQEAgLTIxMSw3ICsyNDMsNyBAQCB0
aGUgaGVhbHRoIG9mIGEgc3lzdGVtIHZpYSBJUE1JLgogICAgICAgICBhYyhvdXRwdXQsICIiIlwK
IEVycm9yOiBXaGVuIHVzaW5nICdvcCcgeW91IG11c3Qgc3BlY2lmeSBhbiBvcGVyYXRpb24gbmFt
ZSBhbmQgYXQgbGVhc3Qgb25lIG9wdGlvbgogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQog
CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIs
CkBAIC0yMjAsNyArMjUyLDcgQEAgRXJyb3I6IFdoZW4gdXNpbmcgJ29wJyB5b3UgbXVzdCBzcGVj
aWZ5IGFuIG9wZXJhdGlvbiBuYW1lIGFuZCBhdCBsZWFzdCBvbmUgb3B0aW8KICAgICAgICAgYWMo
b3V0cHV0LCAiIiJcCiBFcnJvcjogV2hlbiB1c2luZyAnb3AnIHlvdSBtdXN0IHNwZWNpZnkgYW4g
b3BlcmF0aW9uIG5hbWUgYWZ0ZXIgJ29wJwogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQog
CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIs
CkBAIC0yMjksNyArMjYxLDcgQEAgRXJyb3I6IFdoZW4gdXNpbmcgJ29wJyB5b3UgbXVzdCBzcGVj
aWZ5IGFuIG9wZXJhdGlvbiBuYW1lIGFmdGVyICdvcCcKICAgICAgICAgYWMob3V0cHV0LCAiIiJc
CiBFcnJvcjogV2hlbiB1c2luZyAnb3AnIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3BlcmF0aW9uIG5h
bWUgYW5kIGF0IGxlYXN0IG9uZSBvcHRpb24KICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bHMoMSwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkK
IAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2li
LApAQCAtMjM4LDcgKzI3MCw3IEBAIEVycm9yOiBXaGVuIHVzaW5nICdvcCcgeW91IG11c3Qgc3Bl
Y2lmeSBhbiBvcGVyYXRpb24gbmFtZSBhbmQgYXQgbGVhc3Qgb25lIG9wdGlvCiAgICAgICAgIGFj
KG91dHB1dCwgIiIiXAogRXJyb3I6IFdoZW4gdXNpbmcgJ29wJyB5b3UgbXVzdCBzcGVjaWZ5IGFu
IG9wZXJhdGlvbiBuYW1lIGFuZCBhdCBsZWFzdCBvbmUgb3B0aW9uCiAiIiIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgx
LCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAg
ICAgICB0ZW1wX2NpYiwKQEAgLTI0Nyw3ICsyNzksNyBAQCBFcnJvcjogV2hlbiB1c2luZyAnb3An
IHlvdSBtdXN0IHNwZWNpZnkgYW4gb3BlcmF0aW9uIG5hbWUgYW5kIGF0IGxlYXN0IG9uZSBvcHRp
bwogICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEVycm9yOiBXaGVuIHVzaW5nICdvcCcgeW91IG11
c3Qgc3BlY2lmeSBhbiBvcGVyYXRpb24gbmFtZSBhbmQgYXQgbGVhc3Qgb25lIG9wdGlvbgogIiIi
KQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0g
cGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCkBAIC0yNTcsMTQgKzI4OSwxNCBAQCBFcnJvcjog
V2hlbiB1c2luZyAnb3AnIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3BlcmF0aW9uIG5hbWUgYW5kIGF0
IGxlYXN0IG9uZSBvcHRpbwogRXJyb3I6IG9wZXJhdGlvbiBtb25pdG9yIHdpdGggaW50ZXJ2YWwg
MTBzIGFscmVhZHkgc3BlY2lmaWVkIGZvciBBOgogbW9uaXRvciBpbnRlcnZhbD0xMCB0aW1lb3V0
PTEwIChBLW1vbml0b3ItaW50ZXJ2YWwtMTApCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWxzKDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXR1cm5WYWwp
CiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1wX2Np
YiwKICAgICAgICAgICAgICJyZXNvdXJjZSBjcmVhdGUgQSBkdW1teSBvcCBtb25pdG9yIGludGVy
dmFsPTEwIHRpbWVvdXQ9MTAgb3Agc3RvcCBpbnRlcnZhbD0xMCB0aW1lb3V0PTIwIgogICAgICAg
ICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAs
IHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAg
ICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBzaG93IEEi
KQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTI3Myw3ICszMDUsNyBAQCBtb25pdG9yIGlu
dGVydmFsPTEwIHRpbWVvdXQ9MTAgKEEtbW9uaXRvci1pbnRlcnZhbC0xMCkKICAgICAgICAgICAg
ICAgbW9uaXRvciBpbnRlcnZhbD0xMCB0aW1lb3V0PTEwIChBLW1vbml0b3ItaW50ZXJ2YWwtMTAp
CiAgICAgICAgICAgICAgIHN0b3AgaW50ZXJ2YWw9MTAgdGltZW91dD0yMCAoQS1zdG9wLWludGVy
dmFsLTEwKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgZGVmIHRlc3RBZGRC
YWRSZXNvdXJjZXMoc2VsZik6CiAgICAgICAgIGxpbmUgPSAicmVzb3VyY2UgY3JlYXRlIC0tbm8t
ZGVmYXVsdC1vcHMgYmFkX3Jlc291cmNlIGlkb250ZXhpc3QgdGVzdD1iYWQiCkBAIC0yODksNyAr
MzIxLDExIEBAIG1vbml0b3IgaW50ZXJ2YWw9MTAgdGltZW91dD0xMCAoQS1tb25pdG9yLWludGVy
dmFsLTEwKQogICAgICAgICBsaW5lID0gInJlc291cmNlIHNob3cgLS1mdWxsIgogICAgICAgICBv
dXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgbGluZSkgCiAgICAgICAgIGFzc2VydCBy
ZXR1cm5WYWwgPT0gMAotICAgICAgICBhc3NlcnQgb3V0cHV0ID09ICIgUmVzb3VyY2U6IGJhZF9y
ZXNvdXJjZTIgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1pZG9udGV4aXN0Milc
biAgQXR0cmlidXRlczogdGVzdDQ9YmFkMyBcbiAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZh
bD02MHMgKGJhZF9yZXNvdXJjZTItbW9uaXRvci1pbnRlcnZhbC02MHMpXG4iLFtvdXRwdXRdCisg
ICAgICAgIGFjKG91dHB1dCwgIiIiXAorIFJlc291cmNlOiBiYWRfcmVzb3VyY2UyIChjbGFzcz1v
Y2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9aWRvbnRleGlzdDIpCisgIEF0dHJpYnV0ZXM6IHRl
c3Q0PWJhZDMKKyAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD02MHMgKGJhZF9yZXNvdXJj
ZTItbW9uaXRvci1pbnRlcnZhbC02MHMpCisiIiIpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5W
YWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBjcmVhdGUgZHVtOm15IER1bW15IikKICAgICAg
ICAgYXNzZXJ0IHJldHVyblZhbCA9PSAxCkBAIC0zMzIsNyArMzY4LDExIEBAIG1vbml0b3IgaW50
ZXJ2YWw9MTAgdGltZW91dD0xMCAoQS1tb25pdG9yLWludGVydmFsLTEwKQogCiAgICAgICAgIG91
dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2Ugc2hvdyBDbHVzdGVySVAi
KQogICAgICAgICBhc3NlcnQgcmV0dXJuVmFsID09IDAKLSAgICAgICAgYXNzZXJ0IG91dHB1dCA9
PSAnIFJlc291cmNlOiBDbHVzdGVySVAgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlw
ZT1JUGFkZHIyKVxuICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMy
IFxuICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMwcyAoQ2x1c3RlcklQLW1vbml0b3It
aW50ZXJ2YWwtMzBzKVxuJywgW291dHB1dF0KKyAgICAgICAgYWMob3V0cHV0LCAiIiJcCisgUmVz
b3VyY2U6IENsdXN0ZXJJUCAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRk
cjIpCisgIEF0dHJpYnV0ZXM6IGlwPTE5Mi4xNjguMC45OSBjaWRyX25ldG1hc2s9MzIKKyAgT3Bl
cmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJUC1tb25pdG9yLWludGVydmFs
LTMwcykKKyIiIikKIAogICAgIGRlZiB0ZXN0UmVzb3VyY2VVcGRhdGUoc2VsZik6CiAgICAgICAg
IGxpbmUgPSAicmVzb3VyY2UgY3JlYXRlIC0tbm8tZGVmYXVsdC1vcHMgQ2x1c3RlcklQIG9jZjpo
ZWFydGJlYXQ6SVBhZGRyMiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMyIG9wIG1vbml0
b3IgaW50ZXJ2YWw9MzBzIgpAQCAtMzc5LDcgKzQxOSw3IEBAIG1vbml0b3IgaW50ZXJ2YWw9MTAg
dGltZW91dD0xMCAoQS1tb25pdG9yLWludGVydmFsLTEwKQogRXJyb3I6IG9wZXJhdGlvbiBtb25p
dG9yIGFscmVhZHkgc3BlY2lmaWVkIGZvciBDbHVzdGVySVAsIHVzZSAtLWZvcmNlIHRvIG92ZXJy
aWRlOgogbW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJUC1tb25pdG9yLWludGVydmFsLTMw
cykKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVy
blZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLCAicmVzb3VyY2Ugb3AgYWRkIENsdXN0
ZXJJUCBtb25pdG9yIGludGVydmFsPTMxcyAtLWZvcmNlIgpAQCAtNDE0LDcgKzQ1NCwxMiBAQCBF
cnJvcjogbW9uaT10b3IgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgdmFsaWQgb3BlcmF0aW9uIGFj
dGlvbgogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3Vy
Y2Ugc2hvdyBDbHVzdGVySVAiKQogICAgICAgICBhc3NlcnQgcmV0dXJuVmFsID09IDAKLSAgICAg
ICAgYWMgKG91dHB1dCwnIFJlc291cmNlOiBDbHVzdGVySVAgKGNsYXNzPW9jZiBwcm92aWRlcj1o
ZWFydGJlYXQgdHlwZT1JUGFkZHIyKVxuICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lk
cl9uZXRtYXNrPTMyIFxuICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMwcyAoQ2x1c3Rl
cklQLW1vbml0b3ItaW50ZXJ2YWwtMzBzKVxuICAgICAgICAgICAgICBtb25pdG9yIGludGVydmFs
PTMxcyAoQ2x1c3RlcklQLW1vbml0b3ItaW50ZXJ2YWwtMzFzKVxuJykKKyAgICAgICAgYWMob3V0
cHV0LCAiIiJcCisgUmVzb3VyY2U6IENsdXN0ZXJJUCAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0
YmVhdCB0eXBlPUlQYWRkcjIpCisgIEF0dHJpYnV0ZXM6IGlwPTE5Mi4xNjguMC45OSBjaWRyX25l
dG1hc2s9MzIKKyAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJUC1t
b25pdG9yLWludGVydmFsLTMwcykKKyAgICAgICAgICAgICAgbW9uaXRvciBpbnRlcnZhbD0zMXMg
KENsdXN0ZXJJUC1tb25pdG9yLWludGVydmFsLTMxcykKKyIiIikKIAogICAgICAgICBvLCByID0g
cGNzKHRlbXBfY2liLCAicmVzb3VyY2UgY3JlYXRlIC0tbm8tZGVmYXVsdC1vcHMgT1BUZXN0IER1
bW15IG9wIG1vbml0b3IgaW50ZXJ2YWw9MzBzIE9DRl9DSEVDS19MRVZFTD0xIG9wIG1vbml0b3Ig
aW50ZXJ2YWw9MjVzIE9DRl9DSEVDS19MRVZFTD0xIikKICAgICAgICAgYWMobywiIikKQEAgLTQ0
Miw3ICs0ODcsNyBAQCBzdGFydCBpbnRlcnZhbD0wcyB0aW1lb3V0PTMwcyAoT1BUZXN0Mi1zdGFy
dC1pbnRlcnZhbC0wcykKIEVycm9yOiBvcGVyYXRpb24gc3RhcnQgYWxyZWFkeSBzcGVjaWZpZWQg
Zm9yIE9QVGVzdDIsIHVzZSAtLWZvcmNlIHRvIG92ZXJyaWRlOgogc3RhcnQgaW50ZXJ2YWw9MHMg
dGltZW91dD0zMHMgKE9QVGVzdDItc3RhcnQtaW50ZXJ2YWwtMHMpCiAiIiIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKDEsIHJldFZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCBy
ZXRWYWwpCiAKICAgICAgICAgbywgciA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIG9wIGFkZCBP
UFRlc3QyIG1vbml0b3IgdGltZW91dD0xODAwcyIpCiAgICAgICAgIGFjKG8sIiIpCkBAIC01MDks
NyArNTU0LDcgQEAgc3RhcnQgaW50ZXJ2YWw9MHMgdGltZW91dD0zMHMgKE9QVGVzdDItc3RhcnQt
aW50ZXJ2YWwtMHMpCiBFcnJvcjogb3BlcmF0aW9uIG1vbml0b3IgYWxyZWFkeSBzcGVjaWZpZWQg
Zm9yIE9QVGVzdDcsIHVzZSAtLWZvcmNlIHRvIG92ZXJyaWRlOgogbW9uaXRvciBpbnRlcnZhbD02
MHMgT0NGX0NIRUNLX0xFVkVMPTEgKE9QVGVzdDctbW9uaXRvci1pbnRlcnZhbC02MHMpCiAiIiIp
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoMSwgcikKIAogICAgICAgICBvLHIgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBvcCBhZGQg
T1BUZXN0NyBtb25pdG9yIGludGVydmFsPTYxcyBPQ0ZfQ0hFQ0tfTEVWRUw9MSAtLWZvcmNlIikK
ICAgICAgICAgYWMobywiIikKQEAgLTUzNSw3ICs1ODAsNyBAQCBtb25pdG9yIGludGVydmFsPTYw
cyBPQ0ZfQ0hFQ0tfTEVWRUw9MSAoT1BUZXN0Ny1tb25pdG9yLWludGVydmFsLTYwcykKIEVycm9y
OiBvcGVyYXRpb24gbW9uaXRvciBhbHJlYWR5IHNwZWNpZmllZCBmb3IgT0NGVGVzdDEsIHVzZSAt
LWZvcmNlIHRvIG92ZXJyaWRlOgogbW9uaXRvciBpbnRlcnZhbD02MHMgKE9DRlRlc3QxLW1vbml0
b3ItaW50ZXJ2YWwtNjBzKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByKQor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHIpCiAKICAgICAgICAgbyxyID0gcGNzKHRlbXBf
Y2liLCAicmVzb3VyY2Ugb3AgYWRkIE9DRlRlc3QxIG1vbml0b3IgaW50ZXJ2YWw9MzFzIC0tZm9y
Y2UiKQogICAgICAgICBhYyhvLCIiKQpAQCAtNTc4LDcgKzYyMyw3IEBAIG1vbml0b3IgaW50ZXJ2
YWw9NjBzIChPQ0ZUZXN0MS1tb25pdG9yLWludGVydmFsLTYwcykKICAgICAgICAgICAgICJyZXNv
dXJjZSBjcmVhdGUgLS1uby1kZWZhdWx0LW9wcyBzdGF0ZSBvY2Y6cGFjZW1ha2VyOlN0YXRlZnVs
IgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKDAsIHJldFZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXRWYWwpCiAK
ICAgICAgICAgb3V0cHV0LCByZXRWYWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1wX2NpYiwgInJl
c291cmNlIG9wIGFkZCBzdGF0ZSBtb25pdG9yIGludGVydmFsPTEwIgpAQCAtNTg3LDcgKzYzMiw3
IEBAIG1vbml0b3IgaW50ZXJ2YWw9NjBzIChPQ0ZUZXN0MS1tb25pdG9yLWludGVydmFsLTYwcykK
IEVycm9yOiBvcGVyYXRpb24gbW9uaXRvciBhbHJlYWR5IHNwZWNpZmllZCBmb3Igc3RhdGUsIHVz
ZSAtLWZvcmNlIHRvIG92ZXJyaWRlOgogbW9uaXRvciBpbnRlcnZhbD02MHMgKHN0YXRlLW1vbml0
b3ItaW50ZXJ2YWwtNjBzKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXRW
YWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0VmFsKQogCiAgICAgICAgIG91dHB1
dCwgcmV0VmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsICJyZXNvdXJjZSBvcCBhZGQg
c3RhdGUgbW9uaXRvciBpbnRlcnZhbD0xMCByb2xlPVN0YXJ0ZWQiCkBAIC01OTYsMTMgKzY0MSwx
MyBAQCBtb25pdG9yIGludGVydmFsPTYwcyAoc3RhdGUtbW9uaXRvci1pbnRlcnZhbC02MHMpCiBF
cnJvcjogb3BlcmF0aW9uIG1vbml0b3IgYWxyZWFkeSBzcGVjaWZpZWQgZm9yIHN0YXRlLCB1c2Ug
LS1mb3JjZSB0byBvdmVycmlkZToKIG1vbml0b3IgaW50ZXJ2YWw9NjBzIChzdGF0ZS1tb25pdG9y
LWludGVydmFsLTYwcykKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0VmFs
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldFZhbCkKIAogICAgICAgICBvdXRwdXQs
IHJldFZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLCAicmVzb3VyY2Ugb3AgYWRkIHN0
YXRlIG1vbml0b3IgaW50ZXJ2YWw9MTAgcm9sZT1NYXN0ZXIiCiAgICAgICAgICkKICAgICAgICAg
YWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0VmFsKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldFZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldFZh
bCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHNob3cgc3RhdGUiKQogICAgICAgICBhYyhvdXRw
dXQsICIiIlwKQEAgLTYxMCw3ICs2NTUsNyBAQCBtb25pdG9yIGludGVydmFsPTYwcyAoc3RhdGUt
bW9uaXRvci1pbnRlcnZhbC02MHMpCiAgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBz
IChzdGF0ZS1tb25pdG9yLWludGVydmFsLTYwcykKICAgICAgICAgICAgICAgbW9uaXRvciBpbnRl
cnZhbD0xMCByb2xlPU1hc3RlciAoc3RhdGUtbW9uaXRvci1pbnRlcnZhbC0xMCkKICIiIikKLSAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0VmFsKQorICAgICAgICBzZWxmLmFzc2VydEVx
dWFsKDAsIHJldFZhbCkKIAogICAgIGRlZiB0ZXN0UmVtb3ZlT3BlcmF0aW9uKHNlbGYpOgogICAg
ICAgICBsaW5lID0gInJlc291cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIENsdXN0ZXJJUCBv
Y2Y6aGVhcnRiZWF0OklQYWRkcjIgaXA9MTkyLjE2OC4wLjk5IGNpZHJfbmV0bWFzaz0zMiBvcCBt
b25pdG9yIGludGVydmFsPTMwcyIKQEAgLTY0OSw4ICs2OTQsMTIgQEAgbW9uaXRvciBpbnRlcnZh
bD02MHMgKHN0YXRlLW1vbml0b3ItaW50ZXJ2YWwtNjBzKQogICAgICAgICBhc3NlcnQgb3V0cHV0
ID09ICdFcnJvcjogVW5hYmxlIHRvIGZpbmQgb3BlcmF0aW9uIG1hdGNoaW5nOiBtb25pdG9yIGlu
dGVydmFsPTMwc1xuJwogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2li
LCAicmVzb3VyY2Ugc2hvdyBDbHVzdGVySVAiKQorICAgICAgICBhYyhvdXRwdXQsICIiIlwKKyBS
ZXNvdXJjZTogQ2x1c3RlcklQIChjbGFzcz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9SVBh
ZGRyMikKKyAgQXR0cmlidXRlczogaXA9MTkyLjE2OC4wLjk5IGNpZHJfbmV0bWFzaz0zMgorICBP
cGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMxcyAoQ2x1c3RlcklQLW1vbml0b3ItaW50ZXJ2
YWwtMzFzKQorIiIiKQogICAgICAgICBhc3NlcnQgcmV0dXJuVmFsID09IDAKLSAgICAgICAgYWMo
b3V0cHV0LCcgUmVzb3VyY2U6IENsdXN0ZXJJUCAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVh
dCB0eXBlPUlQYWRkcjIpXG4gIEF0dHJpYnV0ZXM6IGlwPTE5Mi4xNjguMC45OSBjaWRyX25ldG1h
c2s9MzIgXG4gIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9MzFzIChDbHVzdGVySVAtbW9u
aXRvci1pbnRlcnZhbC0zMXMpXG4nKQogCiAgICAgICAgIGxpbmUgPSAncmVzb3VyY2Ugb3AgcmVt
b3ZlIENsdXN0ZXJJUCBtb25pdG9yIGludGVydmFsPTMxcycKICAgICAgICAgb3V0cHV0LCByZXR1
cm5WYWwgPSBwY3ModGVtcF9jaWIsIGxpbmUpIApAQCAtNjU4LDggKzcwNywxMSBAQCBtb25pdG9y
IGludGVydmFsPTYwcyAoc3RhdGUtbW9uaXRvci1pbnRlcnZhbC02MHMpCiAgICAgICAgIGFzc2Vy
dCBvdXRwdXQgPT0gIiIKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2Np
YiwgInJlc291cmNlIHNob3cgQ2x1c3RlcklQIikKKyAgICAgICAgYWMob3V0cHV0LCAiIiJcCisg
UmVzb3VyY2U6IENsdXN0ZXJJUCAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQ
YWRkcjIpCisgIEF0dHJpYnV0ZXM6IGlwPTE5Mi4xNjguMC45OSBjaWRyX25ldG1hc2s9MzIKKyIi
IikKICAgICAgICAgYXNzZXJ0IHJldHVyblZhbCA9PSAwCi0gICAgICAgIGFzc2VydCBvdXRwdXQg
PT0gJyBSZXNvdXJjZTogQ2x1c3RlcklQIChjbGFzcz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5
cGU9SVBhZGRyMilcbiAgQXR0cmlidXRlczogaXA9MTkyLjE2OC4wLjk5IGNpZHJfbmV0bWFzaz0z
MiBcbicKIAogICAgICAgICBsaW5lID0gJ3Jlc291cmNlIG9wIGFkZCBDbHVzdGVySVAgbW9uaXRv
ciBpbnRlcnZhbD0zMXMnCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2li
LCBsaW5lKSAKQEAgLTY4OCw4ICs3NDAsMTMgQEAgbW9uaXRvciBpbnRlcnZhbD02MHMgKHN0YXRl
LW1vbml0b3ItaW50ZXJ2YWwtNjBzKQogICAgICAgICBhc3NlcnQgb3V0cHV0ID09ICIiCiAKICAg
ICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBzaG93IENs
dXN0ZXJJUCIpCisgICAgICAgIGFjKG91dHB1dCwgIiIiXAorIFJlc291cmNlOiBDbHVzdGVySVAg
KGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1JUGFkZHIyKQorICBBdHRyaWJ1dGVz
OiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMyCisgIE9wZXJhdGlvbnM6IHN0b3AgaW50
ZXJ2YWw9MHMgdGltZW91dD0zNHMgKENsdXN0ZXJJUC1zdG9wLWludGVydmFsLTBzKQorICAgICAg
ICAgICAgICBzdGFydCBpbnRlcnZhbD0wcyB0aW1lb3V0PTMzcyAoQ2x1c3RlcklQLXN0YXJ0LWlu
dGVydmFsLTBzKQorIiIiKQogICAgICAgICBhc3NlcnQgcmV0dXJuVmFsID09IDAKLSAgICAgICAg
YWMgKG91dHB1dCwnIFJlc291cmNlOiBDbHVzdGVySVAgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFy
dGJlYXQgdHlwZT1JUGFkZHIyKVxuICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9u
ZXRtYXNrPTMyIFxuICBPcGVyYXRpb25zOiBzdG9wIGludGVydmFsPTBzIHRpbWVvdXQ9MzRzIChD
bHVzdGVySVAtc3RvcC1pbnRlcnZhbC0wcylcbiAgICAgICAgICAgICAgc3RhcnQgaW50ZXJ2YWw9
MHMgdGltZW91dD0zM3MgKENsdXN0ZXJJUC1zdGFydC1pbnRlcnZhbC0wcylcbicpCiAKICAgICBk
ZWYgdGVzdFVwZGF0ZU9wZXJhdGlvbihzZWxmKToKICAgICAgICAgbGluZSA9ICJyZXNvdXJjZSBj
cmVhdGUgLS1uby1kZWZhdWx0LW9wcyBDbHVzdGVySVAgb2NmOmhlYXJ0YmVhdDpJUGFkZHIyIGlw
PTE5Mi4xNjguMC45OSBjaWRyX25ldG1hc2s9MzIgb3AgbW9uaXRvciBpbnRlcnZhbD0zMHMiCkBA
IC03MjQsMTUgKzc4MSwyMCBAQCBtb25pdG9yIGludGVydmFsPTYwcyAoc3RhdGUtbW9uaXRvci1p
bnRlcnZhbC02MHMpCiAKICAgICAgICAgbGluZSA9ICdyZXNvdXJjZSBzaG93IENsdXN0ZXJJUCAt
LWZ1bGwnCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCBsaW5lKSAK
KyAgICAgICAgYWMob3V0cHV0LCAiIiJcCisgUmVzb3VyY2U6IENsdXN0ZXJJUCAoY2xhc3M9b2Nm
IHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRkcjIpCisgIEF0dHJpYnV0ZXM6IGlwPTE5Mi4x
NjguMC45OSBjaWRyX25ldG1hc2s9MzIKKyAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0z
M3MgKENsdXN0ZXJJUC1tb25pdG9yLWludGVydmFsLTMzcykKKyAgICAgICAgICAgICAgc3RhcnQg
aW50ZXJ2YWw9MzBzIHRpbWVvdXQ9MTgwcyAoQ2x1c3RlcklQLXN0YXJ0LWludGVydmFsLTMwcykK
KyIiIikKICAgICAgICAgYXNzZXJ0IHJldHVyblZhbCA9PSAwCi0gICAgICAgIGFjKG91dHB1dCwn
IFJlc291cmNlOiBDbHVzdGVySVAgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1J
UGFkZHIyKVxuICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMyIFxu
ICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMzcyAoQ2x1c3RlcklQLW1vbml0b3ItaW50
ZXJ2YWwtMzNzKVxuICAgICAgICAgICAgICBzdGFydCBpbnRlcnZhbD0zMHMgdGltZW91dD0xODBz
IChDbHVzdGVySVAtc3RhcnQtaW50ZXJ2YWwtMzBzKVxuJykKIAogICAgICAgICBvdXRwdXQsIHJl
dHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLAogICAgICAgICAgICAgInJlc291
cmNlIGNyZWF0ZSBBIGR1bW15IG9wIG1vbml0b3IgaW50ZXJ2YWw9MTAgb3AgbW9uaXRvciBpbnRl
cnZhbD0yMCIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxm
LmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwg
cmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAi
cmVzb3VyY2Ugc2hvdyBBIikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCkBAIC03NDIsNyArODA0
LDcgQEAgbW9uaXRvciBpbnRlcnZhbD02MHMgKHN0YXRlLW1vbml0b3ItaW50ZXJ2YWwtNjBzKQog
ICAgICAgICAgICAgICBtb25pdG9yIGludGVydmFsPTEwIChBLW1vbml0b3ItaW50ZXJ2YWwtMTAp
CiAgICAgICAgICAgICAgIG1vbml0b3IgaW50ZXJ2YWw9MjAgKEEtbW9uaXRvci1pbnRlcnZhbC0y
MCkKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVy
blZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLApAQCAtNzUyLDE0ICs4MTQsMTQgQEAg
bW9uaXRvciBpbnRlcnZhbD02MHMgKHN0YXRlLW1vbml0b3ItaW50ZXJ2YWwtNjBzKQogRXJyb3I6
IG9wZXJhdGlvbiBtb25pdG9yIHdpdGggaW50ZXJ2YWwgMjBzIGFscmVhZHkgc3BlY2lmaWVkIGZv
ciBBOgogbW9uaXRvciBpbnRlcnZhbD0yMCAoQS1tb25pdG9yLWludGVydmFsLTIwKQogIiIiKQot
ICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNz
KAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAicmVzb3VyY2UgdXBkYXRlIEEg
b3AgbW9uaXRvciBpbnRlcnZhbD0xMSIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIi
KQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0g
cGNzKHRlbXBfY2liLCAicmVzb3VyY2Ugc2hvdyBBIikKICAgICAgICAgYWMob3V0cHV0LCAiIiJc
CkBAIC03NjksNjIgKzgzMSw2MiBAQCBtb25pdG9yIGludGVydmFsPTIwIChBLW1vbml0b3ItaW50
ZXJ2YWwtMjApCiAgICAgICAgICAgICAgIG1vbml0b3IgaW50ZXJ2YWw9MTEgKEEtbW9uaXRvci1p
bnRlcnZhbC0xMSkKICAgICAgICAgICAgICAgbW9uaXRvciBpbnRlcnZhbD0yMCAoQS1tb25pdG9y
LWludGVydmFsLTIwKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5W
YWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91
dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAg
ICAicmVzb3VyY2UgY3JlYXRlIEIgZHVtbXkgLS1uby1kZWZhdWx0LW9wcyIKICAgICAgICAgKQog
ICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1
cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAg
IG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAg
ICAgICAicmVzb3VyY2Ugb3AgcmVtb3ZlIEItbW9uaXRvci1pbnRlcnZhbC02MHMiCiAgICAgICAg
ICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwg
cmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAg
ICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHNob3cgQiIp
CiAgICAgICAgIGFjKG91dHB1dCwgIiIiXAogIFJlc291cmNlOiBCIChjbGFzcz1vY2YgcHJvdmlk
ZXI9aGVhcnRiZWF0IHR5cGU9RHVtbXkpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAK
ICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1wX2NpYiwK
ICAgICAgICAgICAgICJyZXNvdXJjZSB1cGRhdGUgQiBvcCBtb25pdG9yIGludGVydmFsPTYwcyIK
ICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVx
dWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFs
KQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2Ug
c2hvdyBCIikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCiAgUmVzb3VyY2U6IEIgKGNsYXNzPW9j
ZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1EdW1teSkKICAgT3BlcmF0aW9uczogbW9uaXRvciBp
bnRlcnZhbD02MHMgKEItbW9uaXRvci1pbnRlcnZhbC02MHMpCiAiIiIpCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCBy
ZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAg
ICB0ZW1wX2NpYiwKICAgICAgICAgICAgICJyZXNvdXJjZSB1cGRhdGUgQiBvcCBtb25pdG9yIGlu
dGVydmFsPTMwIgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgw
LCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIs
ICJyZXNvdXJjZSBzaG93IEIiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKICBSZXNvdXJjZTog
QiAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUR1bW15KQogICBPcGVyYXRpb25z
OiBtb25pdG9yIGludGVydmFsPTMwIChCLW1vbml0b3ItaW50ZXJ2YWwtMzApCiAiIiIpCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAg
ICAgICAgICAgICB0ZW1wX2NpYiwKICAgICAgICAgICAgICJyZXNvdXJjZSB1cGRhdGUgQiBvcCBz
dGFydCBpbnRlcnZhbD0wIHRpbWVvdXQ9MTAiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0
LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZh
bCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHNob3cgQiIpCiAgICAgICAgIGFjKG91dHB1dCwg
IiIiXApAQCAtODMyLDE0ICs4OTQsMTQgQEAgbW9uaXRvciBpbnRlcnZhbD0yMCAoQS1tb25pdG9y
LWludGVydmFsLTIwKQogICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMwIChCLW1vbml0
b3ItaW50ZXJ2YWwtMzApCiAgICAgICAgICAgICAgIHN0YXJ0IGludGVydmFsPTAgdGltZW91dD0x
MCAoQi1zdGFydC1pbnRlcnZhbC0wKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygw
LCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAg
ICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAg
ICAgICAgICAgICAicmVzb3VyY2UgdXBkYXRlIEIgb3Agc3RhcnQgaW50ZXJ2YWw9MCB0aW1lb3V0
PTIwIgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1
cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNv
dXJjZSBzaG93IEIiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTg0NywxNCArOTA5LDE0
IEBAIG1vbml0b3IgaW50ZXJ2YWw9MjAgKEEtbW9uaXRvci1pbnRlcnZhbC0yMCkKICAgT3BlcmF0
aW9uczogbW9uaXRvciBpbnRlcnZhbD0zMCAoQi1tb25pdG9yLWludGVydmFsLTMwKQogICAgICAg
ICAgICAgICBzdGFydCBpbnRlcnZhbD0wIHRpbWVvdXQ9MjAgKEItc3RhcnQtaW50ZXJ2YWwtMCkK
ICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZh
bCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLAogICAgICAgICAgICAgInJlc291cmNlIHVw
ZGF0ZSBCIG9wIG1vbml0b3IgaW50ZXJ2YWw9MzMiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0
cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVy
blZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHNob3cgQiIpCiAgICAgICAgIGFjKG91dHB1
dCwgIiIiXApAQCAtODYyLDE0ICs5MjQsMTQgQEAgbW9uaXRvciBpbnRlcnZhbD0yMCAoQS1tb25p
dG9yLWludGVydmFsLTIwKQogICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMzIChCLW1v
bml0b3ItaW50ZXJ2YWwtMzMpCiAgICAgICAgICAgICAgIHN0YXJ0IGludGVydmFsPTAgdGltZW91
dD0yMCAoQi1zdGFydC1pbnRlcnZhbC0wKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQog
CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIs
CiAgICAgICAgICAgICAicmVzb3VyY2UgdXBkYXRlIEIgb3AgbW9uaXRvciBpbnRlcnZhbD0xMDAg
cm9sZT1NYXN0ZXIiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFs
KDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2Np
YiwgInJlc291cmNlIHNob3cgQiIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtODc4LDE0
ICs5NDAsMTQgQEAgbW9uaXRvciBpbnRlcnZhbD0yMCAoQS1tb25pdG9yLWludGVydmFsLTIwKQog
ICAgICAgICAgICAgICBzdGFydCBpbnRlcnZhbD0wIHRpbWVvdXQ9MjAgKEItc3RhcnQtaW50ZXJ2
YWwtMCkKICAgICAgICAgICAgICAgbW9uaXRvciBpbnRlcnZhbD0xMDAgcm9sZT1NYXN0ZXIgKEIt
bW9uaXRvci1pbnRlcnZhbC0xMDApCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAs
IHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAg
ICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1wX2NpYiwKICAg
ICAgICAgICAgICJyZXNvdXJjZSB1cGRhdGUgQiBvcCBzdGFydCBpbnRlcnZhbD0wIHRpbWVvdXQ9
MjIiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVy
blZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291
cmNlIHNob3cgQiIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtODk0LDcgKzk1Niw3IEBA
IG1vbml0b3IgaW50ZXJ2YWw9MjAgKEEtbW9uaXRvci1pbnRlcnZhbC0yMCkKICAgICAgICAgICAg
ICAgc3RhcnQgaW50ZXJ2YWw9MCB0aW1lb3V0PTIyIChCLXN0YXJ0LWludGVydmFsLTApCiAgICAg
ICAgICAgICAgIG1vbml0b3IgaW50ZXJ2YWw9MTAwIHJvbGU9TWFzdGVyIChCLW1vbml0b3ItaW50
ZXJ2YWwtMTAwKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwp
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgZGVmIHRlc3RH
cm91cERlbGV0ZVRlc3Qoc2VsZik6CiAgICAgICAgIG8sciA9IHBjcyh0ZW1wX2NpYiwgInJlc291
cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIEExIER1bW15IC0tZ3JvdXAgQUdyb3VwIikKQEAg
LTEwNzQsMTggKzExMzYsMTggQEAgQ29sb2NhdGlvbiBDb25zdHJhaW50czoKICIiIikKIAogICAg
ICAgICBvLCByID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgY3JlYXRlIC0tbm8tZGVmYXVsdC1v
cHMgQTYgRHVtbXkiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByKQorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKDAsIHIpCiAKICAgICAgICAgbywgciA9IHBjcyh0ZW1wX2NpYiwgInJl
c291cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIEE3IER1bW15IikKLSAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbHMoMCwgcikKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByKQogCiAgICAg
ICAgIG8sIHIgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBncm91cCBhZGQgTXlHcm91cCBBNiAt
LWFmdGVyIEExIikKICAgICAgICAgYWMobywgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KDAsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcikKIAogICAgICAgICBvLCByID0g
cGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZ3JvdXAgYWRkIE15R3JvdXAgQTcgLS1iZWZvcmUgQTEi
KQogICAgICAgICBhYyhvLCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcikKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByKQogCiAgICAgICAgIG8sIHIgPSBwY3ModGVtcF9j
aWIsICJyZXNvdXJjZSBzaG93IikKICAgICAgICAgYWMobywgIiIiXApAQCAtMTA5OSwxNSArMTE2
MSwxNSBAQCBDb2xvY2F0aW9uIENvbnN0cmFpbnRzOgogICAgICBBNFx0KG9jZjo6aGVhcnRiZWF0
OkR1bW15KTpcdFN0b3BwZWQKICAgICAgQTVcdChvY2Y6OmhlYXJ0YmVhdDpEdW1teSk6XHRTdG9w
cGVkCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHIpCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoMCwgcikKIAogICAgICAgICBvLCByID0gcGNzKHRlbXBfY2liLCAicmVzb3Vy
Y2UgZ3JvdXAgYWRkIE15R3JvdXAyIEE2IC0tYmVmb3JlIEE1IikKICAgICAgICAgYWMobywgIiIp
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoMCwgcikKIAogICAgICAgICBvLCByID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZ3JvdXAg
YWRkIE15R3JvdXAyIEE3IC0tYWZ0ZXIgQTUiKQogICAgICAgICBhYyhvLCAiIikKLSAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbHMoMCwgcikKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByKQog
CiAgICAgICAgIG8sIHIgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBzaG93IikKICAgICAgICAg
YWMobywgIiIiXApAQCAtMTEyMSwxMSArMTE4MywxMSBAQCBDb2xvY2F0aW9uIENvbnN0cmFpbnRz
OgogICAgICBBNVx0KG9jZjo6aGVhcnRiZWF0OkR1bW15KTpcdFN0b3BwZWQKICAgICAgQTdcdChv
Y2Y6OmhlYXJ0YmVhdDpEdW1teSk6XHRTdG9wcGVkCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKDAsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcikKIAogICAgICAgICBv
LCByID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZ3JvdXAgYWRkIE15R3JvdXAgQTYgQTcgLS1i
ZWZvcmUgQTIiKQogICAgICAgICBhYyhvLCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMo
MCwgcikKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByKQogCiAgICAgICAgIG8sIHIgPSBw
Y3ModGVtcF9jaWIsICJyZXNvdXJjZSBzaG93IikKICAgICAgICAgYWMobywgIiIiXApAQCAtMTEz
OSwxMSArMTIwMSwxMSBAQCBDb2xvY2F0aW9uIENvbnN0cmFpbnRzOgogICAgICBBNFx0KG9jZjo6
aGVhcnRiZWF0OkR1bW15KTpcdFN0b3BwZWQKICAgICAgQTVcdChvY2Y6OmhlYXJ0YmVhdDpEdW1t
eSk6XHRTdG9wcGVkCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHIpCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcikKIAogICAgICAgICBvLCByID0gcGNzKHRlbXBfY2li
LCAicmVzb3VyY2UgZ3JvdXAgYWRkIE15R3JvdXAyIEE2IEE3IC0tYWZ0ZXIgQTQiKQogICAgICAg
ICBhYyhvLCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcikKKyAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbCgwLCByKQogCiAgICAgICAgIG8sIHIgPSBwY3ModGVtcF9jaWIsICJyZXNv
dXJjZSBzaG93IikKICAgICAgICAgYWMobywgIiIiXApAQCAtMTE1NywzNiArMTIxOSwzNiBAQCBD
b2xvY2F0aW9uIENvbnN0cmFpbnRzOgogICAgICBBN1x0KG9jZjo6aGVhcnRiZWF0OkR1bW15KTpc
dFN0b3BwZWQKICAgICAgQTVcdChvY2Y6OmhlYXJ0YmVhdDpEdW1teSk6XHRTdG9wcGVkCiAiIiIp
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoMCwgcikKIAogICAgICAgICBvLCByID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZ3JvdXAg
YWRkIE15R3JvdXAgQTYgLS1iZWZvcmUgQTAiKQogICAgICAgICBhYyhvLCAiRXJyb3I6IHRoZXJl
IGlzIG5vIHJlc291cmNlICdBMCcgaW4gdGhlIGdyb3VwICdNeUdyb3VwJ1xuIikKLSAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbHMoMSwgcikKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByKQog
CiAgICAgICAgIG8sIHIgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBncm91cCBhZGQgTXlHcm91
cCBBNiAtLWFmdGVyIEEwIikKICAgICAgICAgYWMobywgIkVycm9yOiB0aGVyZSBpcyBubyByZXNv
dXJjZSAnQTAnIGluIHRoZSBncm91cCAnTXlHcm91cCdcbiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKDEsIHIpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcikKIAogICAgICAgICBv
LCByID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAicmVzb3VyY2Ug
Z3JvdXAgYWRkIE15R3JvdXAgQTYgLS1hZnRlciBBMSAtLWJlZm9yZSBBMiIKICAgICAgICAgKQog
ICAgICAgICBhYyhvLCAiRXJyb3I6IHlvdSBjYW5ub3Qgc3BlY2lmeSBib3RoIC0tYmVmb3JlIGFu
ZCAtLWFmdGVyXG4iKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByKQorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKDEsIHIpCiAKICAgICAgICAgbyxyID0gcGNzKAogICAgICAgICAgICAg
dGVtcF9jaWIsCiAgICAgICAgICAgICAicmVzb3VyY2UgY3JlYXRlIC0tbm8tZGVmYXVsdC1vcHMg
QTggRHVtbXkgLS1ncm91cCBNeUdyb3VwIC0tYmVmb3JlIEExIgogICAgICAgICApCiAgICAgICAg
IGFjKG8sICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByKQorICAgICAgICBzZWxm
LmFzc2VydEVxdWFsKDAsIHIpCiAKICAgICAgICAgbyxyID0gcGNzKAogICAgICAgICAgICAgdGVt
cF9jaWIsCiAgICAgICAgICAgICAicmVzb3VyY2UgY3JlYXRlIC0tbm8tZGVmYXVsdC1vcHMgQTkg
RHVtbXkgLS1ncm91cCBNeUdyb3VwIC0tYWZ0ZXIgQTEiCiAgICAgICAgICkKICAgICAgICAgYWMo
bywgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHIpCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoMCwgcikKIAogICAgICAgICBvLCByID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2Ug
c2hvdyIpCiAgICAgICAgIGFjKG8sICIiIlwKQEAgLTEyMDIsMTQgKzEyNjQsMTQgQEAgQ29sb2Nh
dGlvbiBDb25zdHJhaW50czoKICAgICAgQTdcdChvY2Y6OmhlYXJ0YmVhdDpEdW1teSk6XHRTdG9w
cGVkCiAgICAgIEE1XHQob2NmOjpoZWFydGJlYXQ6RHVtbXkpOlx0U3RvcHBlZAogIiIiKQotICAg
ICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAs
IHIpCiAKICAgICAgICAgbywgciA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGdyb3VwIGFkZCBN
eUdyb3VwIEExIC0tYmVmb3JlIEE4IikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcikK
KyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByKQogICAgICAgICBhYyhvLCAiIikKIAogICAg
ICAgICBvLCByID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZ3JvdXAgYWRkIE15R3JvdXAyIEEz
IC0tYWZ0ZXIgQTYiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByKQorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKDAsIHIpCiAgICAgICAgIGFjKG8sICIiKQogCiAgICAgICAgIG8sIHIg
PSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBzaG93IikKQEAgLTEyMjYsMzkgKzEyODgsMzkgQEAg
Q29sb2NhdGlvbiBDb25zdHJhaW50czoKICAgICAgQTdcdChvY2Y6OmhlYXJ0YmVhdDpEdW1teSk6
XHRTdG9wcGVkCiAgICAgIEE1XHQob2NmOjpoZWFydGJlYXQ6RHVtbXkpOlx0U3RvcHBlZAogIiIi
KQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByKQorICAgICAgICBzZWxmLmFzc2VydEVx
dWFsKDAsIHIpCiAKICAgICAgICAgbywgciA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGdyb3Vw
IGFkZCBNeUdyb3VwMiBBMyAtLWFmdGVyIEEzIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMo
MSwgcikKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByKQogICAgICAgICBhYyhvLCAiRXJy
b3I6IGNhbm5vdCBwdXQgcmVzb3VyY2UgYWZ0ZXIgaXRzZWxmXG4iKQogCiAgICAgICAgIG8sIHIg
PSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBncm91cCBhZGQgTXlHcm91cDIgQTMgLS1iZWZvcmUg
QTMiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByKQorICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFsKDEsIHIpCiAgICAgICAgIGFjKG8sICJFcnJvcjogY2Fubm90IHB1dCByZXNvdXJjZSBi
ZWZvcmUgaXRzZWxmXG4iKQogCiAgICAgICAgIG8sIHIgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJj
ZSBncm91cCBhZGQgQTcgQTYiKQogICAgICAgICBhYyhvLCAiRXJyb3I6ICdBNycgaXMgYWxyZWFk
eSBhIHJlc291cmNlXG4iKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKDEsIHIpCiAKICAgICAgICAgbywgciA9IHBjcyh0ZW1wX2NpYiwg
InJlc291cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIEEwIER1bW15IC0tY2xvbmUiKQotICAg
ICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAs
IHIpCiAgICAgICAgIGFjKG8sICIiKQogCiAgICAgICAgIG8sIHIgPSBwY3ModGVtcF9jaWIsICJy
ZXNvdXJjZSBncm91cCBhZGQgQTAtY2xvbmUgQTYiKQogICAgICAgICBhYyhvLCAiRXJyb3I6ICdB
MC1jbG9uZScgaXMgYWxyZWFkeSBhIGNsb25lIHJlc291cmNlXG4iKQotICAgICAgICBzZWxmLmFz
c2VydEVxdWFscygxLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHIpCiAKICAgICAg
ICAgbywgciA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHVuY2xvbmUgQTAtY2xvbmUiKQotICAg
ICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAs
IHIpCiAgICAgICAgIGFjKG8sICIiKQogCiAgICAgICAgIG8sIHIgPSBwY3ModGVtcF9jaWIsICJy
ZXNvdXJjZSBtYXN0ZXIgQTAiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHIpCiAgICAgICAgIGFjKG8sICIiKQogCiAgICAgICAg
IG8sIHIgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBncm91cCBhZGQgQTAtbWFzdGVyIEE2IikK
ICAgICAgICAgYWMobywgIkVycm9yOiAnQTAtbWFzdGVyJyBpcyBhbHJlYWR5IGEgbWFzdGVyL3Ns
YXZlIHJlc291cmNlXG4iKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKDEsIHIpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBw
Y3ModGVtcF9sYXJnZV9jaWIsICJyZXNvdXJjZSBncm91cCBhZGQgZHVtbXlHcm91cCBkdW1teTEi
KQogICAgICAgICBhc3NlcnQgcmV0dXJuVmFsID09IDAKQEAgLTEzMTgsMjEgKzEzODAsMjEgQEAg
RGVsZXRpbmcgUmVzb3VyY2UgKGFuZCBncm91cCkgLSBkdW1teWxhcmdlCiAiIiIpCiAKICAgICAg
ICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBncm91cCBsaXN0
IikKKyAgICAgICAgYWMob3V0cHV0LCAiUkdBOiBBIEIgQyBFIEQgSyBKIElcbiIpCiAgICAgICAg
IGFzc2VydCByZXR1cm5WYWwgPT0gMAotICAgICAgICBhc3NlcnQgb3V0cHV0ID09ICJSR0E6IEEg
QiBDIEUgRCBLIEogSSBcbiIsW291dHB1dF0KIAogICAgIGRlZiB0ZXN0UmVtb3ZlTGFzdFJlc291
cmNlRnJvbUdyb3VwKHNlbGYpOgogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAg
ICAgICAgICAgIHRlbXBfY2liLCAicmVzb3VyY2UgY3JlYXRlIC0tbm8tZGVmYXVsdC1vcHMgZDEg
RHVtbXkgLS1ncm91cCBncjEiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygK
ICAgICAgICAgICAgIHRlbXBfY2liLCAicmVzb3VyY2UgY3JlYXRlIC0tbm8tZGVmYXVsdC1vcHMg
ZDIgRHVtbXkgLS1ncm91cCBncjIiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBj
cyh0ZW1wX2NpYiwgInJlc291cmNlIHNob3ciKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAg
LTEzNDEsMTEgKzE0MDMsMTEgQEAgRGVsZXRpbmcgUmVzb3VyY2UgKGFuZCBncm91cCkgLSBkdW1t
eWxhcmdlCiAgUmVzb3VyY2UgR3JvdXA6IGdyMgogICAgICBkMlx0KG9jZjo6aGVhcnRiZWF0OkR1
bW15KTpcdFN0b3BwZWQKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJu
VmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBv
dXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGdyb3VwIGFkZCBncjEg
ZDIiKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygw
LCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAg
ICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2Ugc2hvdyIp
CiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtMTM1MywyNCArMTQxNSwyNCBAQCBEZWxldGlu
ZyBSZXNvdXJjZSAoYW5kIGdyb3VwKSAtIGR1bW15bGFyZ2UKICAgICAgZDFcdChvY2Y6OmhlYXJ0
YmVhdDpEdW1teSk6XHRTdG9wcGVkCiAgICAgIGQyXHQob2NmOjpoZWFydGJlYXQ6RHVtbXkpOlx0
U3RvcHBlZAogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgZGVmIHRlc3RSZW1v
dmVMYXN0UmVzb3VyY2VGcm9tQ2xvbmVkR3JvdXAoc2VsZik6CiAgICAgICAgIG91dHB1dCwgcmV0
dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsICJyZXNvdXJjZSBjcmVhdGUgLS1u
by1kZWZhdWx0LW9wcyBkMSBEdW1teSAtLWdyb3VwIGdyMSIKICAgICAgICAgKQogICAgICAgICBh
YyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwg
cmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsICJyZXNvdXJjZSBjcmVhdGUg
LS1uby1kZWZhdWx0LW9wcyBkMiBEdW1teSAtLWdyb3VwIGdyMiIKICAgICAgICAgKQogICAgICAg
ICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwp
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1
dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgY2xvbmUgZ3IyIikKICAgICAg
ICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFs
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRw
dXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHNob3ciKQogICAgICAgICBh
YyhvdXRwdXQsICIiIlwKQEAgLTEzNzgsMTEgKzE0NDAsMTEgQEAgRGVsZXRpbmcgUmVzb3VyY2Ug
KGFuZCBncm91cCkgLSBkdW1teWxhcmdlCiAgICAgIGQxXHQob2NmOjpoZWFydGJlYXQ6RHVtbXkp
Olx0U3RvcHBlZAogIENsb25lIFNldDogZ3IyLWNsb25lIFtncjJdCiAiIiIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgw
LCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIs
ICJyZXNvdXJjZSBncm91cCBhZGQgZ3IxIGQyIikKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0
ZW1wX2NpYiwgInJlc291cmNlIHNob3ciKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTEz
OTAsMjQgKzE0NTIsMjQgQEAgRGVsZXRpbmcgUmVzb3VyY2UgKGFuZCBncm91cCkgLSBkdW1teWxh
cmdlCiAgICAgIGQxXHQob2NmOjpoZWFydGJlYXQ6RHVtbXkpOlx0U3RvcHBlZAogICAgICBkMlx0
KG9jZjo6aGVhcnRiZWF0OkR1bW15KTpcdFN0b3BwZWQKICIiIikKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVy
blZhbCkKIAogICAgIGRlZiB0ZXN0UmVtb3ZlTGFzdFJlc291cmNlRnJvbU1hc3RlcmVkR3JvdXAo
c2VsZik6CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVt
cF9jaWIsICJyZXNvdXJjZSBjcmVhdGUgLS1uby1kZWZhdWx0LW9wcyBkMSBEdW1teSAtLWdyb3Vw
IGdyMSIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFz
c2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0
dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAg
dGVtcF9jaWIsICJyZXNvdXJjZSBjcmVhdGUgLS1uby1kZWZhdWx0LW9wcyBkMiBEdW1teSAtLWdy
b3VwIGdyMiIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxm
LmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwg
cmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAi
cmVzb3VyY2UgbWFzdGVyIGdyMiIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgw
LCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIs
ICJyZXNvdXJjZSBzaG93IikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCkBAIC0xNDE1LDExICsx
NDc3LDExIEBAIERlbGV0aW5nIFJlc291cmNlIChhbmQgZ3JvdXApIC0gZHVtbXlsYXJnZQogICAg
ICBkMVx0KG9jZjo6aGVhcnRiZWF0OkR1bW15KTpcdFN0b3BwZWQKICBNYXN0ZXIvU2xhdmUgU2V0
OiBncjItbWFzdGVyIFtncjJdCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJl
dHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAg
ICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBncm91cCBhZGQg
Z3IxIGQyIikKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkK
IAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHNo
b3ciKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTE0MjcsMTQgKzE0ODksNTcgQEAgRGVs
ZXRpbmcgUmVzb3VyY2UgKGFuZCBncm91cCkgLSBkdW1teWxhcmdlCiAgICAgIGQxXHQob2NmOjpo
ZWFydGJlYXQ6RHVtbXkpOlx0U3RvcHBlZAogICAgICBkMlx0KG9jZjo6aGVhcnRiZWF0OkR1bW15
KTpcdFN0b3BwZWQKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFs
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgIGRlZiB0ZXN0
Q2x1c3RlckNvbmZpZyhzZWxmKToKICAgICAgICAgc2VsZi5zZXR1cENsdXN0ZXJBKHRlbXBfY2li
KQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAiY29uZmlnIikK
ICAgICAgICAgYXNzZXJ0IHJldHVyblZhbCA9PSAwCi0gICAgICAgIGFjIChvdXRwdXQsJ0NsdXN0
ZXIgTmFtZTogdGVzdDk5XG5Db3Jvc3luYyBOb2RlczpcbiByaDctMSByaDctMiBcblBhY2VtYWtl
ciBOb2RlczpcbiBcblxuUmVzb3VyY2VzOiBcbiBSZXNvdXJjZTogQ2x1c3RlcklQNiAoY2xhc3M9
b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRkcjIpXG4gIEF0dHJpYnV0ZXM6IGlwPTE5
Mi4xNjguMC45OSBjaWRyX25ldG1hc2s9MzIgXG4gIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2
YWw9MzBzIChDbHVzdGVySVA2LW1vbml0b3ItaW50ZXJ2YWwtMzBzKVxuIEdyb3VwOiBUZXN0R3Jv
dXAxXG4gIFJlc291cmNlOiBDbHVzdGVySVAgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQg
dHlwZT1JUGFkZHIyKVxuICAgQXR0cmlidXRlczogaXA9MTkyLjE2OC4wLjk5IGNpZHJfbmV0bWFz
az0zMiBcbiAgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9MzBzIChDbHVzdGVySVAtbW9u
aXRvci1pbnRlcnZhbC0zMHMpXG4gR3JvdXA6IFRlc3RHcm91cDJcbiAgUmVzb3VyY2U6IENsdXN0
ZXJJUDIgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1JUGFkZHIyKVxuICAgQXR0
cmlidXRlczogaXA9MTkyLjE2OC4wLjk5IGNpZHJfbmV0bWFzaz0zMiBcbiAgIE9wZXJhdGlvbnM6
IG1vbml0b3IgaW50ZXJ2YWw9MzBzIChDbHVzdGVySVAyLW1vbml0b3ItaW50ZXJ2YWwtMzBzKVxu
ICBSZXNvdXJjZTogQ2x1c3RlcklQMyAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBl
PUlQYWRkcjIpXG4gICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMy
IFxuICAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJUDMtbW9uaXRv
ci1pbnRlcnZhbC0zMHMpXG4gQ2xvbmU6IENsdXN0ZXJJUDQtY2xvbmVcbiAgUmVzb3VyY2U6IENs
dXN0ZXJJUDQgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1JUGFkZHIyKVxuICAg
QXR0cmlidXRlczogaXA9MTkyLjE2OC4wLjk5IGNpZHJfbmV0bWFzaz0zMiBcbiAgIE9wZXJhdGlv
bnM6IG1vbml0b3IgaW50ZXJ2YWw9MzBzIChDbHVzdGVySVA0LW1vbml0b3ItaW50ZXJ2YWwtMzBz
KVxuIE1hc3RlcjogTWFzdGVyXG4gIFJlc291cmNlOiBDbHVzdGVySVA1IChjbGFzcz1vY2YgcHJv
dmlkZXI9aGVhcnRiZWF0IHR5cGU9SVBhZGRyMilcbiAgIEF0dHJpYnV0ZXM6IGlwPTE5Mi4xNjgu
MC45OSBjaWRyX25ldG1hc2s9MzIgXG4gICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMw
cyAoQ2x1c3RlcklQNS1tb25pdG9yLWludGVydmFsLTMwcylcblxuU3Rvbml0aCBEZXZpY2VzOiBc
bkZlbmNpbmcgTGV2ZWxzOiBcblxuTG9jYXRpb24gQ29uc3RyYWludHM6XG5PcmRlcmluZyBDb25z
dHJhaW50czpcbkNvbG9jYXRpb24gQ29uc3RyYWludHM6XG5cblJlc291cmNlcyBEZWZhdWx0czpc
biBObyBkZWZhdWx0cyBzZXRcbk9wZXJhdGlvbnMgRGVmYXVsdHM6XG4gTm8gZGVmYXVsdHMgc2V0
XG5cbkNsdXN0ZXIgUHJvcGVydGllczpcbicpCisgICAgICAgIGFjKG91dHB1dCwgIiIiXAorQ2x1
c3RlciBOYW1lOiB0ZXN0OTkKK0Nvcm9zeW5jIE5vZGVzOgorIHJoNy0xIHJoNy0yCitQYWNlbWFr
ZXIgTm9kZXM6CisKK1Jlc291cmNlczoKKyBSZXNvdXJjZTogQ2x1c3RlcklQNiAoY2xhc3M9b2Nm
IHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRkcjIpCisgIEF0dHJpYnV0ZXM6IGlwPTE5Mi4x
NjguMC45OSBjaWRyX25ldG1hc2s9MzIKKyAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0z
MHMgKENsdXN0ZXJJUDYtbW9uaXRvci1pbnRlcnZhbC0zMHMpCisgR3JvdXA6IFRlc3RHcm91cDEK
KyAgUmVzb3VyY2U6IENsdXN0ZXJJUCAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBl
PUlQYWRkcjIpCisgICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMy
CisgICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMwcyAoQ2x1c3RlcklQLW1vbml0b3It
aW50ZXJ2YWwtMzBzKQorIEdyb3VwOiBUZXN0R3JvdXAyCisgIFJlc291cmNlOiBDbHVzdGVySVAy
IChjbGFzcz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9SVBhZGRyMikKKyAgIEF0dHJpYnV0
ZXM6IGlwPTE5Mi4xNjguMC45OSBjaWRyX25ldG1hc2s9MzIKKyAgIE9wZXJhdGlvbnM6IG1vbml0
b3IgaW50ZXJ2YWw9MzBzIChDbHVzdGVySVAyLW1vbml0b3ItaW50ZXJ2YWwtMzBzKQorICBSZXNv
dXJjZTogQ2x1c3RlcklQMyAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRk
cjIpCisgICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMyCisgICBP
cGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMwcyAoQ2x1c3RlcklQMy1tb25pdG9yLWludGVy
dmFsLTMwcykKKyBDbG9uZTogQ2x1c3RlcklQNC1jbG9uZQorICBSZXNvdXJjZTogQ2x1c3RlcklQ
NCAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRkcjIpCisgICBBdHRyaWJ1
dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMyCisgICBPcGVyYXRpb25zOiBtb25p
dG9yIGludGVydmFsPTMwcyAoQ2x1c3RlcklQNC1tb25pdG9yLWludGVydmFsLTMwcykKKyBNYXN0
ZXI6IE1hc3RlcgorICBSZXNvdXJjZTogQ2x1c3RlcklQNSAoY2xhc3M9b2NmIHByb3ZpZGVyPWhl
YXJ0YmVhdCB0eXBlPUlQYWRkcjIpCisgICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lk
cl9uZXRtYXNrPTMyCisgICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMwcyAoQ2x1c3Rl
cklQNS1tb25pdG9yLWludGVydmFsLTMwcykKKworU3Rvbml0aCBEZXZpY2VzOgorRmVuY2luZyBM
ZXZlbHM6CisKK0xvY2F0aW9uIENvbnN0cmFpbnRzOgorT3JkZXJpbmcgQ29uc3RyYWludHM6CitD
b2xvY2F0aW9uIENvbnN0cmFpbnRzOgorCitSZXNvdXJjZXMgRGVmYXVsdHM6CisgTm8gZGVmYXVs
dHMgc2V0CitPcGVyYXRpb25zIERlZmF1bHRzOgorIE5vIGRlZmF1bHRzIHNldAorCitDbHVzdGVy
IFByb3BlcnRpZXM6CisiIiIpCiAKICAgICBkZWYgdGVzdENsb25lUmVtb3ZlKHNlbGYpOgogICAg
ICAgICBvLHIgPSBwY3MoInJlc291cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIEQxIER1bW15
IC0tY2xvbmUiKQpAQCAtMTU0OCw3ICsxNjUzLDUyIEBAIERlbGV0aW5nIFJlc291cmNlIC0gQ2x1
c3RlcklQNQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAiY29u
ZmlnIikKICAgICAgICAgYXNzZXJ0IHJldHVyblZhbCA9PSAwCi0gICAgICAgIGFjKG91dHB1dCwn
Q2x1c3RlciBOYW1lOiB0ZXN0OTlcbkNvcm9zeW5jIE5vZGVzOlxuIHJoNy0xIHJoNy0yIFxuUGFj
ZW1ha2VyIE5vZGVzOlxuIFxuXG5SZXNvdXJjZXM6IFxuIFJlc291cmNlOiBDbHVzdGVySVA2IChj
bGFzcz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9SVBhZGRyMilcbiAgQXR0cmlidXRlczog
aXA9MTkyLjE2OC4wLjk5IGNpZHJfbmV0bWFzaz0zMiBcbiAgT3BlcmF0aW9uczogbW9uaXRvciBp
bnRlcnZhbD0zMHMgKENsdXN0ZXJJUDYtbW9uaXRvci1pbnRlcnZhbC0zMHMpXG4gR3JvdXA6IFRl
c3RHcm91cDFcbiAgUmVzb3VyY2U6IENsdXN0ZXJJUCAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0
YmVhdCB0eXBlPUlQYWRkcjIpXG4gICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9u
ZXRtYXNrPTMyIFxuICAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJ
UC1tb25pdG9yLWludGVydmFsLTMwcylcbiBHcm91cDogVGVzdEdyb3VwMlxuICBSZXNvdXJjZTog
Q2x1c3RlcklQMiAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRkcjIpXG4g
ICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMyIFxuICAgT3BlcmF0
aW9uczogbW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJUDItbW9uaXRvci1pbnRlcnZhbC0z
MHMpXG4gIFJlc291cmNlOiBDbHVzdGVySVAzIChjbGFzcz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0
IHR5cGU9SVBhZGRyMilcbiAgIEF0dHJpYnV0ZXM6IGlwPTE5Mi4xNjguMC45OSBjaWRyX25ldG1h
c2s9MzIgXG4gICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMwcyAoQ2x1c3RlcklQMy1t
b25pdG9yLWludGVydmFsLTMwcylcbiBDbG9uZTogQ2x1c3RlcklQNC1jbG9uZVxuICBSZXNvdXJj
ZTogQ2x1c3RlcklQNCAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRkcjIp
XG4gICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMyIFxuICAgT3Bl
cmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJUDQtbW9uaXRvci1pbnRlcnZh
bC0zMHMpXG4gUmVzb3VyY2U6IENsdXN0ZXJJUDUgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJl
YXQgdHlwZT1JUGFkZHIyKVxuICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRt
YXNrPTMyIFxuICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMwcyAoQ2x1c3RlcklQNS1t
b25pdG9yLWludGVydmFsLTMwcylcblxuU3Rvbml0aCBEZXZpY2VzOiBcbkZlbmNpbmcgTGV2ZWxz
OiBcblxuTG9jYXRpb24gQ29uc3RyYWludHM6XG4gIFJlc291cmNlOiBDbHVzdGVySVA1XG4gICAg
RW5hYmxlZCBvbjogcmg3LTEgKHNjb3JlOklORklOSVRZKSAoaWQ6bG9jYXRpb24tQ2x1c3RlcklQ
NS1yaDctMS1JTkZJTklUWSlcbiAgICBFbmFibGVkIG9uOiByaDctMiAoc2NvcmU6SU5GSU5JVFkp
IChpZDpsb2NhdGlvbi1DbHVzdGVySVA1LXJoNy0yLUlORklOSVRZKVxuT3JkZXJpbmcgQ29uc3Ry
YWludHM6XG5Db2xvY2F0aW9uIENvbnN0cmFpbnRzOlxuXG5SZXNvdXJjZXMgRGVmYXVsdHM6XG4g
Tm8gZGVmYXVsdHMgc2V0XG5PcGVyYXRpb25zIERlZmF1bHRzOlxuIE5vIGRlZmF1bHRzIHNldFxu
XG5DbHVzdGVyIFByb3BlcnRpZXM6XG4nKQorICAgICAgICBhYyhvdXRwdXQsICIiIlwKK0NsdXN0
ZXIgTmFtZTogdGVzdDk5CitDb3Jvc3luYyBOb2RlczoKKyByaDctMSByaDctMgorUGFjZW1ha2Vy
IE5vZGVzOgorCitSZXNvdXJjZXM6CisgUmVzb3VyY2U6IENsdXN0ZXJJUDYgKGNsYXNzPW9jZiBw
cm92aWRlcj1oZWFydGJlYXQgdHlwZT1JUGFkZHIyKQorICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4
LjAuOTkgY2lkcl9uZXRtYXNrPTMyCisgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9MzBz
IChDbHVzdGVySVA2LW1vbml0b3ItaW50ZXJ2YWwtMzBzKQorIEdyb3VwOiBUZXN0R3JvdXAxCisg
IFJlc291cmNlOiBDbHVzdGVySVAgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1J
UGFkZHIyKQorICAgQXR0cmlidXRlczogaXA9MTkyLjE2OC4wLjk5IGNpZHJfbmV0bWFzaz0zMgor
ICAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJUC1tb25pdG9yLWlu
dGVydmFsLTMwcykKKyBHcm91cDogVGVzdEdyb3VwMgorICBSZXNvdXJjZTogQ2x1c3RlcklQMiAo
Y2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRkcjIpCisgICBBdHRyaWJ1dGVz
OiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMyCisgICBPcGVyYXRpb25zOiBtb25pdG9y
IGludGVydmFsPTMwcyAoQ2x1c3RlcklQMi1tb25pdG9yLWludGVydmFsLTMwcykKKyAgUmVzb3Vy
Y2U6IENsdXN0ZXJJUDMgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1JUGFkZHIy
KQorICAgQXR0cmlidXRlczogaXA9MTkyLjE2OC4wLjk5IGNpZHJfbmV0bWFzaz0zMgorICAgT3Bl
cmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJUDMtbW9uaXRvci1pbnRlcnZh
bC0zMHMpCisgQ2xvbmU6IENsdXN0ZXJJUDQtY2xvbmUKKyAgUmVzb3VyY2U6IENsdXN0ZXJJUDQg
KGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1JUGFkZHIyKQorICAgQXR0cmlidXRl
czogaXA9MTkyLjE2OC4wLjk5IGNpZHJfbmV0bWFzaz0zMgorICAgT3BlcmF0aW9uczogbW9uaXRv
ciBpbnRlcnZhbD0zMHMgKENsdXN0ZXJJUDQtbW9uaXRvci1pbnRlcnZhbC0zMHMpCisgUmVzb3Vy
Y2U6IENsdXN0ZXJJUDUgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1JUGFkZHIy
KQorICBBdHRyaWJ1dGVzOiBpcD0xOTIuMTY4LjAuOTkgY2lkcl9uZXRtYXNrPTMyCisgIE9wZXJh
dGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9MzBzIChDbHVzdGVySVA1LW1vbml0b3ItaW50ZXJ2YWwt
MzBzKQorCitTdG9uaXRoIERldmljZXM6CitGZW5jaW5nIExldmVsczoKKworTG9jYXRpb24gQ29u
c3RyYWludHM6CisgIFJlc291cmNlOiBDbHVzdGVySVA1CisgICAgRW5hYmxlZCBvbjogcmg3LTEg
KHNjb3JlOklORklOSVRZKSAoaWQ6bG9jYXRpb24tQ2x1c3RlcklQNS1yaDctMS1JTkZJTklUWSkK
KyAgICBFbmFibGVkIG9uOiByaDctMiAoc2NvcmU6SU5GSU5JVFkpIChpZDpsb2NhdGlvbi1DbHVz
dGVySVA1LXJoNy0yLUlORklOSVRZKQorT3JkZXJpbmcgQ29uc3RyYWludHM6CitDb2xvY2F0aW9u
IENvbnN0cmFpbnRzOgorCitSZXNvdXJjZXMgRGVmYXVsdHM6CisgTm8gZGVmYXVsdHMgc2V0CitP
cGVyYXRpb25zIERlZmF1bHRzOgorIE5vIGRlZmF1bHRzIHNldAorCitDbHVzdGVyIFByb3BlcnRp
ZXM6CisiIiIpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9sYXJnZV9j
aWIsICJyZXNvdXJjZSBtYXN0ZXIgZHVtbXlsYXJnZSIpCiAgICAgICAgIGFjKG91dHB1dCwgJycp
CkBAIC0xODY1LDggKzIwMTUsMTMgQEAgRGVsZXRpbmcgUmVzb3VyY2UgKGFuZCBncm91cCBhbmQg
TS9TKSAtIGR1bW15bGFyZ2UKICAgICAgICAgYXNzZXJ0IG91dHB1dCA9PSAiIiwgW291dHB1dF0K
IAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHNo
b3cgRDAiKQorICAgICAgICBhYyhvdXRwdXQsICIiIlwKKyBSZXNvdXJjZTogRDAgKGNsYXNzPW9j
ZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1EdW1teSkKKyAgQXR0cmlidXRlczogdGVzdD10ZXN0
QiB0ZXN0Mj10ZXN0QyB0ZXN0ND10ZXN0NEEgdGVzdDM9dGVzdEQKKyAgTWV0YSBBdHRyczogdGVz
dDc9dGVzdDdhIHRlc3Q2PSAKKyAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0zNSAoRDAt
bW9uaXRvci1pbnRlcnZhbC0zNSkKKyIiIikKICAgICAgICAgYXNzZXJ0IHJldHVyblZhbCA9PSAw
Ci0gICAgICAgIGFzc2VydCBvdXRwdXQgPT0gIiBSZXNvdXJjZTogRDAgKGNsYXNzPW9jZiBwcm92
aWRlcj1oZWFydGJlYXQgdHlwZT1EdW1teSlcbiAgQXR0cmlidXRlczogdGVzdD10ZXN0QiB0ZXN0
Mj10ZXN0QyB0ZXN0ND10ZXN0NEEgdGVzdDM9dGVzdEQgXG4gIE1ldGEgQXR0cnM6IHRlc3Q3PXRl
c3Q3YSB0ZXN0Nj0gXG4gIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9MzUgKEQwLW1vbml0
b3ItaW50ZXJ2YWwtMzUpXG4iLCBbb3V0cHV0XQogCiAgICAgZGVmIHRlc3RNZXRhQXR0cnMoc2Vs
Zik6CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2Ug
Y3JlYXRlIC0tbm8tZGVmYXVsdC1vcHMgLS1mb3JjZSBEMCBEdW1teSB0ZXN0PXRlc3RBIHRlc3Qy
PXRlc3QyYSBvcCBtb25pdG9yIGludGVydmFsPTMwIG1ldGEgdGVzdDU9dGVzdDVhIHRlc3Q2PXRl
c3Q2YSIpCkBAIC0xODk0LDggKzIwNDksMTkgQEAgRGVsZXRpbmcgUmVzb3VyY2UgKGFuZCBncm91
cCBhbmQgTS9TKSAtIGR1bW15bGFyZ2UKICAgICAgICAgYXNzZXJ0IG91dHB1dCA9PSAiIiwgW291
dHB1dF0KIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291
cmNlIHNob3cgLS1mdWxsIikKKyAgICAgICAgYWMob3V0cHV0LCAiIiJcCisgUmVzb3VyY2U6IEQw
IChjbGFzcz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9RHVtbXkpCisgIEF0dHJpYnV0ZXM6
IHRlc3Q9dGVzdEMgdGVzdDI9dGVzdDJhCisgIE1ldGEgQXR0cnM6IHRlc3Q1PXRlc3Q1YSB0ZXN0
Nz10ZXN0N2EgCisgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9MzUgKEQwLW1vbml0b3It
aW50ZXJ2YWwtMzUpCisgR3JvdXA6IFRlc3RSRworICBNZXRhIEF0dHJzOiB0ZXN0cmdtZXRhPW15
bWV0YSB0ZXN0cmdtZXRhMj1teW1ldGEyIAorICBSZXNvdXJjZTogRDEgKGNsYXNzPW9jZiBwcm92
aWRlcj1oZWFydGJlYXQgdHlwZT1EdW1teSkKKyAgIEF0dHJpYnV0ZXM6IHRlc3Q9dGVzdEEgdGVz
dDI9dGVzdDJhCisgICBNZXRhIEF0dHJzOiBkMW1ldGE9c3VwZXJkMW1ldGEgCisgICBPcGVyYXRp
b25zOiBtb25pdG9yIGludGVydmFsPTMwIChEMS1tb25pdG9yLWludGVydmFsLTMwKQorIiIiKQog
ICAgICAgICBhc3NlcnQgcmV0dXJuVmFsID09IDAKLSAgICAgICAgYXNzZXJ0IG91dHB1dCA9PSAi
IFJlc291cmNlOiBEMCAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUR1bW15KVxu
ICBBdHRyaWJ1dGVzOiB0ZXN0PXRlc3RDIHRlc3QyPXRlc3QyYSBcbiAgTWV0YSBBdHRyczogdGVz
dDU9dGVzdDVhIHRlc3Q3PXRlc3Q3YSBcbiAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD0z
NSAoRDAtbW9uaXRvci1pbnRlcnZhbC0zNSlcbiBHcm91cDogVGVzdFJHXG4gIE1ldGEgQXR0cnM6
IHRlc3RyZ21ldGE9bXltZXRhIHRlc3RyZ21ldGEyPW15bWV0YTIgXG4gIFJlc291cmNlOiBEMSAo
Y2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUR1bW15KVxuICAgQXR0cmlidXRlczog
dGVzdD10ZXN0QSB0ZXN0Mj10ZXN0MmEgXG4gICBNZXRhIEF0dHJzOiBkMW1ldGE9c3VwZXJkMW1l
dGEgXG4gICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTMwIChEMS1tb25pdG9yLWludGVy
dmFsLTMwKVxuIiwgW291dHB1dF0KIAogICAgIGRlZiB0ZXN0TVNHcm91cChzZWxmKToKICAgICAg
ICAgb3V0cHV0LCByZXR1cm5WYWwgID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgY3JlYXRlIC0t
bm8tZGVmYXVsdC1vcHMgRDAgRHVtbXkiKQpAQCAtMTk1MiwzMSArMjExOCwzMSBAQCBEZWxldGlu
ZyBSZXNvdXJjZSAoYW5kIGdyb3VwIGFuZCBNL1MpIC0gZHVtbXlsYXJnZQogICAgICAgICAgICAg
dGVtcF9jaWIsICJyZXNvdXJjZSBjcmVhdGUgLS1uby1kZWZhdWx0LW9wcyBkdW1teTEgRHVtbXki
CiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZh
bCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBf
Y2liLCAicmVzb3VyY2UgY3JlYXRlIC0tbm8tZGVmYXVsdC1vcHMgZHVtbXkyIER1bW15IgogICAg
ICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAK
ICAgICAgICAgIyB0cnkgdG8gdW5jbG9uZSBhIG5vbi1jbG9uZWQgcmVzb3VyY2UKICAgICAgICAg
b3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSB1bmNsb25lIGR1bW15
MSIpCiAgICAgICAgIGFjKG91dHB1dCwgIkVycm9yOiAnZHVtbXkxJyBpcyBub3QgYSBjbG9uZSBy
ZXNvdXJjZVxuIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJl
dHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGdyb3VwIGFkZCBnciBkdW1teTEiKQog
ICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1
cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAg
IG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgdW5jbG9uZSBnciIp
CiAgICAgICAgIGFjKG91dHB1dCwgIkVycm9yOiAnZ3InIGlzIG5vdCBhIGNsb25lIHJlc291cmNl
XG4iKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAgICMgdW5jbG9uZSB3aXRoIGEg
Y2xvbmVkIHByaW1pdGl2ZSBzcGVjaWZpZWQKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBw
Y3ModGVtcF9jaWIsICJyZXNvdXJjZSBjbG9uZSBkdW1teTIiKQogICAgICAgICBhYyhvdXRwdXQs
ICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFs
ID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgLS1mdWxsIikKICAgICAgICAgYWMob3V0cHV0LCAi
IiJcCkBAIC0xOTg3LDExICsyMTUzLDExIEBAIERlbGV0aW5nIFJlc291cmNlIChhbmQgZ3JvdXAg
YW5kIE0vUykgLSBkdW1teWxhcmdlCiAgIFJlc291cmNlOiBkdW1teTIgKGNsYXNzPW9jZiBwcm92
aWRlcj1oZWFydGJlYXQgdHlwZT1EdW1teSkKICAgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2
YWw9NjBzIChkdW1teTItbW9uaXRvci1pbnRlcnZhbC02MHMpCiAiIiIpCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCBy
ZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJy
ZXNvdXJjZSB1bmNsb25lIGR1bW15MiIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9j
aWIsICJyZXNvdXJjZSAtLWZ1bGwiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTIwMDEs
MTYgKzIxNjcsMTYgQEAgRGVsZXRpbmcgUmVzb3VyY2UgKGFuZCBncm91cCBhbmQgTS9TKSAtIGR1
bW15bGFyZ2UKICBSZXNvdXJjZTogZHVtbXkyIChjbGFzcz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0
IHR5cGU9RHVtbXkpCiAgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChkdW1teTIt
bW9uaXRvci1pbnRlcnZhbC02MHMpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAs
IHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAg
ICAgICAgIyB1bmNsb25lIHdpdGggYSBjbG9uZSBpdHNlbGYgc3BlY2lmaWVkCiAgICAgICAgIG91
dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZ3JvdXAgYWRkIGdyIGR1
bW15MiIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAK
ICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBjbG9u
ZSBnciIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAK
ICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSAtLWZ1
bGwiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTIwMjEsMTEgKzIxODcsMTEgQEAgRGVs
ZXRpbmcgUmVzb3VyY2UgKGFuZCBncm91cCBhbmQgTS9TKSAtIGR1bW15bGFyZ2UKICAgIFJlc291
cmNlOiBkdW1teTIgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1EdW1teSkKICAg
ICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAoZHVtbXkyLW1vbml0b3ItaW50ZXJ2
YWwtNjBzKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwg
cmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgdW5jbG9uZSBnci1jbG9uZSIpCiAg
ICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVy
blZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAg
b3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSAtLWZ1bGwiKQogICAg
ICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTIwMzUsMTIgKzIyMDEsMTIgQEAgRGVsZXRpbmcgUmVz
b3VyY2UgKGFuZCBncm91cCBhbmQgTS9TKSAtIGR1bW15bGFyZ2UKICAgUmVzb3VyY2U6IGR1bW15
MiAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUR1bW15KQogICAgT3BlcmF0aW9u
czogbW9uaXRvciBpbnRlcnZhbD02MHMgKGR1bW15Mi1tb25pdG9yLWludGVydmFsLTYwcykKICIi
IikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxm
LmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICAjIHVuY2xvbmUgd2l0aCBhIGNs
b25lZCBncm91cCBzcGVjaWZpZWQKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVt
cF9jaWIsICJyZXNvdXJjZSBjbG9uZSBnciIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVt
cF9jaWIsICJyZXNvdXJjZSAtLWZ1bGwiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTIw
NTEsMTEgKzIyMTcsMTEgQEAgRGVsZXRpbmcgUmVzb3VyY2UgKGFuZCBncm91cCBhbmQgTS9TKSAt
IGR1bW15bGFyZ2UKICAgIFJlc291cmNlOiBkdW1teTIgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFy
dGJlYXQgdHlwZT1EdW1teSkKICAgICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAo
ZHVtbXkyLW1vbml0b3ItaW50ZXJ2YWwtNjBzKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVx
dWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFs
KQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2Ug
dW5jbG9uZSBnciIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5W
YWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJj
ZSAtLWZ1bGwiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTIwNjUsMTIgKzIyMzEsMTIg
QEAgRGVsZXRpbmcgUmVzb3VyY2UgKGFuZCBncm91cCBhbmQgTS9TKSAtIGR1bW15bGFyZ2UKICAg
UmVzb3VyY2U6IGR1bW15MiAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUR1bW15
KQogICAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD02MHMgKGR1bW15Mi1tb25pdG9yLWlu
dGVydmFsLTYwcykKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFs
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICAjIHVu
Y2xvbmUgd2l0aCBhIGNsb25lZCBncm91cGVkIHJlc291cmNlIHNwZWNpZmllZAogICAgICAgICBv
dXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGNsb25lIGdyIikKICAg
ICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJu
VmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBv
dXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIC0tZnVsbCIpCiAgICAg
ICAgIGFjKG91dHB1dCwgIiIiXApAQCAtMjA4MSwxMSArMjI0NywxMSBAQCBEZWxldGluZyBSZXNv
dXJjZSAoYW5kIGdyb3VwIGFuZCBNL1MpIC0gZHVtbXlsYXJnZQogICAgUmVzb3VyY2U6IGR1bW15
MiAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUR1bW15KQogICAgIE9wZXJhdGlv
bnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChkdW1teTItbW9uaXRvci1pbnRlcnZhbC02MHMpCiAi
IiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwg
PSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSB1bmNsb25lIGR1bW15MSIpCiAgICAgICAgIGFjKG91
dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1
cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSAtLWZ1bGwiKQogICAgICAgICBhYyhvdXRw
dXQsICIiIlwKQEAgLTIwOTYsMTEgKzIyNjIsMTEgQEAgRGVsZXRpbmcgUmVzb3VyY2UgKGFuZCBn
cm91cCBhbmQgTS9TKSAtIGR1bW15bGFyZ2UKICBSZXNvdXJjZTogZHVtbXkxIChjbGFzcz1vY2Yg
cHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9RHVtbXkpCiAgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50
ZXJ2YWw9NjBzIChkdW1teTEtbW9uaXRvci1pbnRlcnZhbC02MHMpCiAiIiIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgw
LCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIs
ICJyZXNvdXJjZSB1bmNsb25lIGR1bW15MiIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVt
cF9jaWIsICJyZXNvdXJjZSAtLWZ1bGwiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTIx
MDksNyArMjI3NSw3IEBAIERlbGV0aW5nIFJlc291cmNlIChhbmQgZ3JvdXAgYW5kIE0vUykgLSBk
dW1teWxhcmdlCiAgUmVzb3VyY2U6IGR1bW15MiAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVh
dCB0eXBlPUR1bW15KQogICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAoZHVtbXky
LW1vbml0b3ItaW50ZXJ2YWwtNjBzKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygw
LCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAg
ICAgZGVmIHRlc3RVbmNsb25lTWFzdGVyKHNlbGYpOgogICAgICAgICBvdXRwdXQsIHJldHVyblZh
bCA9IHBjcygKQEAgLTIxMTcsMzIgKzIyODMsMzIgQEAgRGVsZXRpbmcgUmVzb3VyY2UgKGFuZCBn
cm91cCBhbmQgTS9TKSAtIGR1bW15bGFyZ2UKICAgICAgICAgICAgICJyZXNvdXJjZSBjcmVhdGUg
LS1uby1kZWZhdWx0LW9wcyBkdW1teTEgb2NmOnBhY2VtYWtlcjpTdGF0ZWZ1bCIKICAgICAgICAg
KQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCBy
ZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAg
ICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAg
ICAgICAgICAicmVzb3VyY2UgY3JlYXRlIC0tbm8tZGVmYXVsdC1vcHMgZHVtbXkyIG9jZjpwYWNl
bWFrZXI6U3RhdGVmdWwiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVx
dWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICAjIHRyeSB0byB1bmNsb25lIGEgbm9uLWNsb25l
ZCByZXNvdXJjZQogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJl
c291cmNlIHVuY2xvbmUgZHVtbXkxIikKICAgICAgICAgYWMob3V0cHV0LCAiRXJyb3I6ICdkdW1t
eTEnIGlzIG5vdCBhIGNsb25lIHJlc291cmNlXG4iKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQog
CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZ3Jv
dXAgYWRkIGdyIGR1bW15MSIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCBy
ZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJy
ZXNvdXJjZSB1bmNsb25lIGdyIikKICAgICAgICAgYWMob3V0cHV0LCAiRXJyb3I6ICdncicgaXMg
bm90IGEgY2xvbmUgcmVzb3VyY2VcbiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJl
dHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXR1cm5WYWwpCiAKICAgICAg
ICAgIyB1bmNsb25lIHdpdGggYSBjbG9uZWQgcHJpbWl0aXZlIHNwZWNpZmllZAogICAgICAgICBv
dXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIG1hc3RlciBkdW1teTIi
KQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCBy
ZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAg
ICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgLS1mdWxsIikK
ICAgICAgICAgYWMob3V0cHV0LCAiIiJcCkBAIC0yMTUzLDExICsyMzE5LDExIEBAIERlbGV0aW5n
IFJlc291cmNlIChhbmQgZ3JvdXAgYW5kIE0vUykgLSBkdW1teWxhcmdlCiAgIFJlc291cmNlOiBk
dW1teTIgKGNsYXNzPW9jZiBwcm92aWRlcj1wYWNlbWFrZXIgdHlwZT1TdGF0ZWZ1bCkKICAgIE9w
ZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChkdW1teTItbW9uaXRvci1pbnRlcnZhbC02
MHMpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1
cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSB1bmNsb25lIGR1bW15MiIpCiAgICAgICAg
IGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkK
KyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0
LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSAtLWZ1bGwiKQogICAgICAgICBh
YyhvdXRwdXQsICIiIlwKQEAgLTIxNjcsMTYgKzIzMzMsMTYgQEAgRGVsZXRpbmcgUmVzb3VyY2Ug
KGFuZCBncm91cCBhbmQgTS9TKSAtIGR1bW15bGFyZ2UKICBSZXNvdXJjZTogZHVtbXkyIChjbGFz
cz1vY2YgcHJvdmlkZXI9cGFjZW1ha2VyIHR5cGU9U3RhdGVmdWwpCiAgIE9wZXJhdGlvbnM6IG1v
bml0b3IgaW50ZXJ2YWw9NjBzIChkdW1teTItbW9uaXRvci1pbnRlcnZhbC02MHMpCiAiIiIpCi0g
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgIyB1bmNsb25lIHdpdGggYSBjbG9uZSBp
dHNlbGYgc3BlY2lmaWVkCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2li
LCAicmVzb3VyY2UgZ3JvdXAgYWRkIGdyIGR1bW15MiIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIp
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBw
Y3ModGVtcF9jaWIsICJyZXNvdXJjZSBtYXN0ZXIgZ3IiKQogICAgICAgICBhYyhvdXRwdXQsICIi
KQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0g
cGNzKHRlbXBfY2liLCAicmVzb3VyY2UgLS1mdWxsIikKICAgICAgICAgYWMob3V0cHV0LCAiIiJc
CkBAIC0yMTg3LDExICsyMzUzLDExIEBAIERlbGV0aW5nIFJlc291cmNlIChhbmQgZ3JvdXAgYW5k
IE0vUykgLSBkdW1teWxhcmdlCiAgICBSZXNvdXJjZTogZHVtbXkyIChjbGFzcz1vY2YgcHJvdmlk
ZXI9cGFjZW1ha2VyIHR5cGU9U3RhdGVmdWwpCiAgICAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRl
cnZhbD02MHMgKGR1bW15Mi1tb25pdG9yLWludGVydmFsLTYwcykKICIiIikKLSAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAs
IHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwg
InJlc291cmNlIHVuY2xvbmUgZ3ItbWFzdGVyIikKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0
ZW1wX2NpYiwgInJlc291cmNlIC0tZnVsbCIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAt
MjIwMSwxMiArMjM2NywxMiBAQCBEZWxldGluZyBSZXNvdXJjZSAoYW5kIGdyb3VwIGFuZCBNL1Mp
IC0gZHVtbXlsYXJnZQogICBSZXNvdXJjZTogZHVtbXkyIChjbGFzcz1vY2YgcHJvdmlkZXI9cGFj
ZW1ha2VyIHR5cGU9U3RhdGVmdWwpCiAgICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYw
cyAoZHVtbXkyLW1vbml0b3ItaW50ZXJ2YWwtNjBzKQogIiIiKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJu
VmFsKQogCiAgICAgICAgICMgdW5jbG9uZSB3aXRoIGEgY2xvbmVkIGdyb3VwIHNwZWNpZmllZAog
ICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIG1hc3Rl
ciBnciIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAK
ICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSAtLWZ1
bGwiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTIyMTcsMTEgKzIzODMsMTEgQEAgRGVs
ZXRpbmcgUmVzb3VyY2UgKGFuZCBncm91cCBhbmQgTS9TKSAtIGR1bW15bGFyZ2UKICAgIFJlc291
cmNlOiBkdW1teTIgKGNsYXNzPW9jZiBwcm92aWRlcj1wYWNlbWFrZXIgdHlwZT1TdGF0ZWZ1bCkK
ICAgICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAoZHVtbXkyLW1vbml0b3ItaW50
ZXJ2YWwtNjBzKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwp
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1
dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgdW5jbG9uZSBnciIpCiAgICAg
ICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZh
bCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0
cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSAtLWZ1bGwiKQogICAgICAg
ICBhYyhvdXRwdXQsICIiIlwKQEAgLTIyMzEsMTYgKzIzOTcsMTYgQEAgRGVsZXRpbmcgUmVzb3Vy
Y2UgKGFuZCBncm91cCBhbmQgTS9TKSAtIGR1bW15bGFyZ2UKICAgUmVzb3VyY2U6IGR1bW15MiAo
Y2xhc3M9b2NmIHByb3ZpZGVyPXBhY2VtYWtlciB0eXBlPVN0YXRlZnVsKQogICAgT3BlcmF0aW9u
czogbW9uaXRvciBpbnRlcnZhbD02MHMgKGR1bW15Mi1tb25pdG9yLWludGVydmFsLTYwcykKICIi
IikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxm
LmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICAjIHVuY2xvbmUgd2l0aCBhIGNs
b25lZCBncm91cGVkIHJlc291cmNlIHNwZWNpZmllZAogICAgICAgICBvdXRwdXQsIHJldHVyblZh
bCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHVuZ3JvdXAgZ3IgZHVtbXkyIikKICAgICAgICAg
YWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQs
IHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIG1hc3RlciBnciIpCiAgICAgICAg
IGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkK
KyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0
LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSAtLWZ1bGwiKQogICAgICAgICBh
YyhvdXRwdXQsICIiIlwKQEAgLTIyNTEsMTEgKzI0MTcsMTEgQEAgRGVsZXRpbmcgUmVzb3VyY2Ug
KGFuZCBncm91cCBhbmQgTS9TKSAtIGR1bW15bGFyZ2UKICAgIFJlc291cmNlOiBkdW1teTEgKGNs
YXNzPW9jZiBwcm92aWRlcj1wYWNlbWFrZXIgdHlwZT1TdGF0ZWZ1bCkKICAgICBPcGVyYXRpb25z
OiBtb25pdG9yIGludGVydmFsPTYwcyAoZHVtbXkxLW1vbml0b3ItaW50ZXJ2YWwtNjBzKQogIiIi
KQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0g
cGNzKHRlbXBfY2liLCAicmVzb3VyY2UgdW5jbG9uZSBkdW1teTEiKQogICAgICAgICBhYyhvdXRw
dXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJu
VmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgLS1mdWxsIikKICAgICAgICAgYWMob3V0cHV0
LCAiIiJcCkBAIC0yMjY0LDE1ICsyNDMwLDE1IEBAIERlbGV0aW5nIFJlc291cmNlIChhbmQgZ3Jv
dXAgYW5kIE0vUykgLSBkdW1teWxhcmdlCiAgUmVzb3VyY2U6IGR1bW15MSAoY2xhc3M9b2NmIHBy
b3ZpZGVyPXBhY2VtYWtlciB0eXBlPVN0YXRlZnVsKQogICBPcGVyYXRpb25zOiBtb25pdG9yIGlu
dGVydmFsPTYwcyAoZHVtbXkxLW1vbml0b3ItaW50ZXJ2YWwtNjBzKQogIiIiKQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
MCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2li
LCAicmVzb3VyY2UgZ3JvdXAgYWRkIGdyIGR1bW15MSBkdW1teTIiKQogICAgICAgICBhYyhvdXRw
dXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJu
VmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgbWFzdGVyIGdyIikKICAgICAgICAgYWMob3V0
cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVy
blZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIC0tZnVsbCIpCiAgICAgICAgIGFjKG91dHB1
dCwgIiIiXApAQCAtMjI4MywxMSArMjQ0OSwxMSBAQCBEZWxldGluZyBSZXNvdXJjZSAoYW5kIGdy
b3VwIGFuZCBNL1MpIC0gZHVtbXlsYXJnZQogICAgUmVzb3VyY2U6IGR1bW15MiAoY2xhc3M9b2Nm
IHByb3ZpZGVyPXBhY2VtYWtlciB0eXBlPVN0YXRlZnVsKQogICAgIE9wZXJhdGlvbnM6IG1vbml0
b3IgaW50ZXJ2YWw9NjBzIChkdW1teTItbW9uaXRvci1pbnRlcnZhbC02MHMpCiAiIiIpCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVt
cF9jaWIsICJyZXNvdXJjZSB1bmNsb25lIGR1bW15MiIpCiAgICAgICAgIGFjKG91dHB1dCwgIkVy
cm9yOiBHcm91cHMgdGhhdCBoYXZlIG1vcmUgdGhhbiBvbmUgcmVzb3VyY2UgYW5kIGFyZSBtYXN0
ZXIvc2xhdmUgcmVzb3VyY2VzIGNhbm5vdCBiZSByZW1vdmVkLiAgVGhlIGdyb3VwIG1heSBiZSBk
ZWxldGVkIHdpdGggJ3BjcyByZXNvdXJjZSBkZWxldGUgZ3InLlxuIikKLSAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJl
dHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJl
c291cmNlIC0tZnVsbCIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtMjI5OCw3ICsyNDY0
LDcgQEAgRGVsZXRpbmcgUmVzb3VyY2UgKGFuZCBncm91cCBhbmQgTS9TKSAtIGR1bW15bGFyZ2UK
ICAgIFJlc291cmNlOiBkdW1teTIgKGNsYXNzPW9jZiBwcm92aWRlcj1wYWNlbWFrZXIgdHlwZT1T
dGF0ZWZ1bCkKICAgICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAoZHVtbXkyLW1v
bml0b3ItaW50ZXJ2YWwtNjBzKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCBy
ZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAg
ZGVmIHRlc3RDbG9uZUdyb3VwTWVtYmVyKHNlbGYpOgogICAgICAgICBvLHIgPSBwY3ModGVtcF9j
aWIsICJyZXNvdXJjZSBjcmVhdGUgLS1uby1kZWZhdWx0LW9wcyBEMCBEdW1teSAtLWdyb3VwIEFH
IikKQEAgLTI0NDYsMjMgKzI2MTIsMjMgQEAgRGVsZXRpbmcgUmVzb3VyY2UgKGFuZCBncm91cCBh
bmQgTS9TKSAtIGR1bW15bGFyZ2UKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHV0aWxz
LnJ1bihbImNpYmFkbWluIiwgIi1NIiwgJy0teG1sLXRleHQnLCAnPG5vZGVzPjxub2RlIGlkPSIx
IiB1bmFtZT0icmg3LTEiPjxpbnN0YW5jZV9hdHRyaWJ1dGVzIGlkPSJub2Rlcy0xIi8+PC9ub2Rl
Pjxub2RlIGlkPSIyIiB1bmFtZT0icmg3LTIiPjxpbnN0YW5jZV9hdHRyaWJ1dGVzIGlkPSJub2Rl
cy0yIi8+PC9ub2RlPjwvbm9kZXM+J10pCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAg
ICAgICAgICB0ZW1wX2NpYiwgInJlc291cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIGR1bW15
IER1bW15IgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCBy
ZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJy
ZXNvdXJjZSBtb3ZlIGR1bW15IikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCiBFcnJvcjogWW91
IG11c3Qgc3BlY2lmeSBhIG5vZGUgd2hlbiBtb3ZpbmcvYmFubmluZyBhIHN0b3BwZWQgcmVzb3Vy
Y2UKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVy
blZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIG1vdmUgZHVtbXkgcmg3LTEiKQogICAgICAg
ICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwp
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1
dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAiY29uc3RyYWludCAtLWZ1bGwiKQogICAgICAg
ICBhYyhvdXRwdXQsICIiIlwKQEAgLTI0NzIsMTEgKzI2MzgsMTEgQEAgTG9jYXRpb24gQ29uc3Ry
YWludHM6CiBPcmRlcmluZyBDb25zdHJhaW50czoKIENvbG9jYXRpb24gQ29uc3RyYWludHM6CiAi
IiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwg
PSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBjbGVhciBkdW1teSIpCiAgICAgICAgIGFjKG91dHB1
dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5W
YWwgPSBwY3ModGVtcF9jaWIsICJjb25zdHJhaW50IC0tZnVsbCIpCiAgICAgICAgIGFjKG91dHB1
dCwgIiIiXApAQCAtMjQ5MCw3ICsyNjU2LDcgQEAgQ29sb2NhdGlvbiBDb25zdHJhaW50czoKIFdh
cm5pbmc6IENyZWF0aW5nIGxvY2F0aW9uIGNvbnN0cmFpbnQgY2xpLWJhbi1kdW1teS1vbi1yaDct
MSB3aXRoIGEgc2NvcmUgb2YgLUlORklOSVRZIGZvciByZXNvdXJjZSBkdW1teSBvbiBub2RlIHJo
Ny0xLgogVGhpcyB3aWxsIHByZXZlbnQgZHVtbXkgZnJvbSBydW5uaW5nIG9uIHJoNy0xIHVudGls
IHRoZSBjb25zdHJhaW50IGlzIHJlbW92ZWQuIFRoaXMgd2lsbCBiZSB0aGUgY2FzZSBldmVuIGlm
IHJoNy0xIGlzIHRoZSBsYXN0IG5vZGUgaW4gdGhlIGNsdXN0ZXIuCiAiIiIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgw
LCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIs
ICJjb25zdHJhaW50IC0tZnVsbCIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtMjUwMCwx
MSArMjY2NiwxMSBAQCBMb2NhdGlvbiBDb25zdHJhaW50czoKIE9yZGVyaW5nIENvbnN0cmFpbnRz
OgogQ29sb2NhdGlvbiBDb25zdHJhaW50czoKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkK
IAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGNs
ZWFyIGR1bW15IikKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZh
bCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgImNvbnN0cmFp
bnQgLS1mdWxsIikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCkBAIC0yNTE3LDcgKzI2ODMsNyBA
QCBDb2xvY2F0aW9uIENvbnN0cmFpbnRzOgogICAgICAgICAgICAgdGVtcF9jaWIsICJyZXNvdXJj
ZSBtb3ZlIGR1bW15IHJoNy0xIGxpZmV0aW1lPTFIIgogICAgICAgICApCiAgICAgICAgIGFjKG91
dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1
cm5WYWwgPSBwY3ModGVtcF9jaWIsICJjb25zdHJhaW50IC0tZnVsbCIpCiAgICAgICAgIG91dHB1
dCA9IHJlLnN1YigiXGR7NH0tXGRcZC1cZFxkIFxkXGQ6XGRcZDpcZFxkWiIsICJ7ZGF0ZXRpbWV9
Iiwgb3V0cHV0KQpAQCAtMjUzMSwxMSArMjY5NywxMSBAQCBMb2NhdGlvbiBDb25zdHJhaW50czoK
IE9yZGVyaW5nIENvbnN0cmFpbnRzOgogQ29sb2NhdGlvbiBDb25zdHJhaW50czoKICIiIikKLSAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0
ZW1wX2NpYiwgInJlc291cmNlIGNsZWFyIGR1bW15IikKICAgICAgICAgYWMob3V0cHV0LCAiIikK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBj
cyh0ZW1wX2NpYiwgImNvbnN0cmFpbnQgLS1mdWxsIikKICAgICAgICAgYWMob3V0cHV0LCAiIiJc
CkBAIC0yNTUxLDcgKzI3MTcsNyBAQCBDb2xvY2F0aW9uIENvbnN0cmFpbnRzOgogV2FybmluZzog
Q3JlYXRpbmcgbG9jYXRpb24gY29uc3RyYWludCBjbGktYmFuLWR1bW15LW9uLXJoNy0xIHdpdGgg
YSBzY29yZSBvZiAtSU5GSU5JVFkgZm9yIHJlc291cmNlIGR1bW15IG9uIG5vZGUgcmg3LTEuCiBU
aGlzIHdpbGwgcHJldmVudCBkdW1teSBmcm9tIHJ1bm5pbmcgb24gcmg3LTEgdW50aWwgdGhlIGNv
bnN0cmFpbnQgaXMgcmVtb3ZlZC4gVGhpcyB3aWxsIGJlIHRoZSBjYXNlIGV2ZW4gaWYgcmg3LTEg
aXMgdGhlIGxhc3Qgbm9kZSBpbiB0aGUgY2x1c3Rlci4KICIiIikKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVy
blZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgImNvbnN0
cmFpbnQgLS1mdWxsIikKICAgICAgICAgb3V0cHV0ID0gcmUuc3ViKCJcZHs0fS1cZFxkLVxkXGQg
XGRcZDpcZFxkOlxkXGRaIiwgIntkYXRldGltZX0iLCBvdXRwdXQpCkBAIC0yNTY1LDIyICsyNzMx
LDIyIEBAIExvY2F0aW9uIENvbnN0cmFpbnRzOgogT3JkZXJpbmcgQ29uc3RyYWludHM6CiBDb2xv
Y2F0aW9uIENvbnN0cmFpbnRzOgogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCBy
ZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAKICAg
ICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBiYW4gZHVt
bXkgcmg3LTEgcmg3LTEiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwp
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1
dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsICJyZXNvdXJjZSBiYW4g
ZHVtbXkgcmg3LTEgbGlmZXRpbWU9MUggbGlmZXRpbWU9MUgiCiAgICAgICAgICkKLSAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFs
KDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2Np
YiwgInJlc291cmNlIG1vdmUgZHVtbXkgcmg3LTEgLS1tYXN0ZXIiKQogICAgICAgICBhYyhvdXRw
dXQsICIiIlwKIEVycm9yOiB3aGVuIHNwZWNpZnlpbmcgLS1tYXN0ZXIgeW91IG11c3QgdXNlIHRo
ZSBtYXN0ZXIgaWQKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFs
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgIGRlZiB0ZXN0
Q2xvbmVNb3ZlQmFuQ2xlYXIoc2VsZik6CiAgICAgICAgICMgTG9hZCBub2RlcyBpbnRvIGNpYiBz
byBtb3ZlIHdpbGwgd29yawpAQCAtMjU4OCw1MCArMjc1NCw1MCBAQCBFcnJvcjogd2hlbiBzcGVj
aWZ5aW5nIC0tbWFzdGVyIHlvdSBtdXN0IHVzZSB0aGUgbWFzdGVyIGlkCiAgICAgICAgIHV0aWxz
LmZpbGVuYW1lID0gdGVtcF9jaWIKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSB1dGlscy5y
dW4oWyJjaWJhZG1pbiIsICItTSIsICctLXhtbC10ZXh0JywgJzxub2Rlcz48bm9kZSBpZD0iMSIg
dW5hbWU9InJoNy0xIj48aW5zdGFuY2VfYXR0cmlidXRlcyBpZD0ibm9kZXMtMSIvPjwvbm9kZT48
bm9kZSBpZD0iMiIgdW5hbWU9InJoNy0yIj48aW5zdGFuY2VfYXR0cmlidXRlcyBpZD0ibm9kZXMt
MiIvPjwvbm9kZT48L25vZGVzPiddKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
MCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAg
ICAgICAgdGVtcF9jaWIsICJyZXNvdXJjZSBjcmVhdGUgLS1uby1kZWZhdWx0LW9wcyBEMSBEdW1t
eSAtLWNsb25lIgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgw
LCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAg
ICAgICB0ZW1wX2NpYiwgInJlc291cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIEQyIER1bW15
IC0tZ3JvdXAgREciCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFs
KDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2Np
YiwgInJlc291cmNlIGNsb25lIERHIikKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFs
KDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2Np
YiwgInJlc291cmNlIG1vdmUgRDEiKQogICAgICAgICBhYyhvdXRwdXQsICJFcnJvcjogY2Fubm90
IG1vdmUgY2xvbmVkIHJlc291cmNlc1xuIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwg
cmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAg
ICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIG1vdmUgRDEt
Y2xvbmUiKQogICAgICAgICBhYyhvdXRwdXQsICJFcnJvcjogY2Fubm90IG1vdmUgY2xvbmVkIHJl
c291cmNlc1xuIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJl
dHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIG1vdmUgRDIiKQogICAgICAgICBhYyhv
dXRwdXQsICJFcnJvcjogY2Fubm90IG1vdmUgY2xvbmVkIHJlc291cmNlc1xuIikKLSAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFs
KDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2Np
YiwgInJlc291cmNlIG1vdmUgREciKQogICAgICAgICBhYyhvdXRwdXQsICJFcnJvcjogY2Fubm90
IG1vdmUgY2xvbmVkIHJlc291cmNlc1xuIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwg
cmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAg
ICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIG1vdmUgREct
Y2xvbmUiKQogICAgICAgICBhYyhvdXRwdXQsICJFcnJvcjogY2Fubm90IG1vdmUgY2xvbmVkIHJl
c291cmNlc1xuIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJl
dHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGJhbiBERy1jbG9uZSByaDctMSIpCiAg
ICAgICAgIGFjKG91dHB1dCwgIiIiXAogV2FybmluZzogQ3JlYXRpbmcgbG9jYXRpb24gY29uc3Ry
YWludCBjbGktYmFuLURHLWNsb25lLW9uLXJoNy0xIHdpdGggYSBzY29yZSBvZiAtSU5GSU5JVFkg
Zm9yIHJlc291cmNlIERHLWNsb25lIG9uIG5vZGUgcmg3LTEuCiBUaGlzIHdpbGwgcHJldmVudCBE
Ry1jbG9uZSBmcm9tIHJ1bm5pbmcgb24gcmg3LTEgdW50aWwgdGhlIGNvbnN0cmFpbnQgaXMgcmVt
b3ZlZC4gVGhpcyB3aWxsIGJlIHRoZSBjYXNlIGV2ZW4gaWYgcmg3LTEgaXMgdGhlIGxhc3Qgbm9k
ZSBpbiB0aGUgY2x1c3Rlci4KICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0
dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAg
ICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgImNvbnN0cmFpbnQgLS1mdWxsIikK
ICAgICAgICAgYWMob3V0cHV0LCAiIiJcCkBAIC0yNjQxLDExICsyODA3LDExIEBAIExvY2F0aW9u
IENvbnN0cmFpbnRzOgogT3JkZXJpbmcgQ29uc3RyYWludHM6CiBDb2xvY2F0aW9uIENvbnN0cmFp
bnRzOgogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0
dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgY2xlYXIgREctY2xvbmUiKQogICAgICAg
ICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwp
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1
dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAiY29uc3RyYWludCAtLWZ1bGwiKQogICAgICAg
ICBhYyhvdXRwdXQsICIiIlwKQEAgLTI2NTMsNyArMjgxOSw3IEBAIExvY2F0aW9uIENvbnN0cmFp
bnRzOgogT3JkZXJpbmcgQ29uc3RyYWludHM6CiBDb2xvY2F0aW9uIENvbnN0cmFpbnRzOgogIiIi
KQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgZGVmIHRlc3ROb01vdmVNU0Nsb25lKHNl
bGYpOgogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCAgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJj
ZSBjcmVhdGUgLS1uby1kZWZhdWx0LW9wcyBEMCBEdW1teSIpCkBAIC0yODg2LDE3ICszMDUyLDE3
IEBAIFdhcm5pbmc6IGNoYW5naW5nIGEgbW9uaXRvciBvcGVyYXRpb24gaW50ZXJ2YWwgZnJvbSAx
MCB0byAxMSB0byBtYWtlIHRoZSBvcGVyYXRpCiAgICAgICAgICAgICB0ZW1wX2NpYiwgInJlc291
cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIGR1bW15LWNsb25lIER1bW15IgogICAgICAgICAp
CiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJl
dHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAg
ICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1wX2NpYiwgInJlc291
cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIGR1bW15IER1bW15IgogICAgICAgICApCiAgICAg
ICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZh
bCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0
cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBjbG9uZSBkdW1teSIpCiAg
ICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVy
blZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAg
b3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBzaG93IC0tZnVsbCIp
CiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtMjkwNiwxNyArMzA3MiwxNyBAQCBXYXJuaW5n
OiBjaGFuZ2luZyBhIG1vbml0b3Igb3BlcmF0aW9uIGludGVydmFsIGZyb20gMTAgdG8gMTEgdG8g
bWFrZSB0aGUgb3BlcmF0aQogICBSZXNvdXJjZTogZHVtbXkgKGNsYXNzPW9jZiBwcm92aWRlcj1o
ZWFydGJlYXQgdHlwZT1EdW1teSkKICAgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBz
IChkdW1teS1tb25pdG9yLWludGVydmFsLTYwcykKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZh
bCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNl
IGRlbGV0ZSBkdW1teSIpCiAgICAgICAgIGFjKG91dHB1dCwgIkRlbGV0aW5nIFJlc291cmNlIC0g
ZHVtbXlcbiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1
cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1wX2NpYiwgInJlc291cmNlIGNyZWF0ZSAtLW5v
LWRlZmF1bHQtb3BzIGR1bW15IER1bW15IC0tY2xvbmUiCiAgICAgICAgICkKICAgICAgICAgYWMo
b3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJl
dHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHNob3cgLS1mdWxsIikKICAgICAgICAg
YWMob3V0cHV0LCAiIiJcCkBAIC0yOTI2LDI0ICszMDkyLDI0IEBAIFdhcm5pbmc6IGNoYW5naW5n
IGEgbW9uaXRvciBvcGVyYXRpb24gaW50ZXJ2YWwgZnJvbSAxMCB0byAxMSB0byBtYWtlIHRoZSBv
cGVyYXRpCiAgIFJlc291cmNlOiBkdW1teSAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0
eXBlPUR1bW15KQogICAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD02MHMgKGR1bW15LW1v
bml0b3ItaW50ZXJ2YWwtNjBzKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCBy
ZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAg
ZGVmIHRlc3RSZXNvdXJjZU1hc3RlcklkKHNlbGYpOgogICAgICAgICBvdXRwdXQsIHJldHVyblZh
bCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLCAicmVzb3VyY2UgY3JlYXRlIC0tbm8tZGVm
YXVsdC1vcHMgZHVtbXktbWFzdGVyIER1bW15IgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1
dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5W
YWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1wX2NpYiwgInJlc291cmNlIGNyZWF0ZSAtLW5vLWRl
ZmF1bHQtb3BzIGR1bW15IER1bW15IgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIp
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBw
Y3ModGVtcF9jaWIsICJyZXNvdXJjZSBtYXN0ZXIgZHVtbXkiKQogICAgICAgICBhYyhvdXRwdXQs
ICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFs
ID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2Ugc2hvdyAtLWZ1bGwiKQogICAgICAgICBhYyhvdXRw
dXQsICIiIlwKQEAgLTI5NTMsMTkgKzMxMTksMTkgQEAgV2FybmluZzogY2hhbmdpbmcgYSBtb25p
dG9yIG9wZXJhdGlvbiBpbnRlcnZhbCBmcm9tIDEwIHRvIDExIHRvIG1ha2UgdGhlIG9wZXJhdGkK
ICAgUmVzb3VyY2U6IGR1bW15IChjbGFzcz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9RHVt
bXkpCiAgICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAoZHVtbXktbW9uaXRvci1p
bnRlcnZhbC02MHMpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZh
bCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0
cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSB1bmNsb25lIGR1bW15IikK
ICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0
dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAg
ICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIG1hc3RlciBkdW1t
eS1tYXN0ZXIgZHVtbXkiKQogICAgICAgICBhYyhvdXRwdXQsICJFcnJvcjogZHVtbXktbWFzdGVy
IGFscmVhZHkgZXhpc3RzIGluIHRoZSBjaWJcbiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXR1cm5WYWwpCiAK
ICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBtYXN0
ZXIgZHVtbXktbWFzdGVyMCBkdW1teSIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9j
aWIsICJyZXNvdXJjZSBzaG93IC0tZnVsbCIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAt
Mjk3NSwxNyArMzE0MSwxNyBAQCBXYXJuaW5nOiBjaGFuZ2luZyBhIG1vbml0b3Igb3BlcmF0aW9u
IGludGVydmFsIGZyb20gMTAgdG8gMTEgdG8gbWFrZSB0aGUgb3BlcmF0aQogICBSZXNvdXJjZTog
ZHVtbXkgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1EdW1teSkKICAgIE9wZXJh
dGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChkdW1teS1tb25pdG9yLWludGVydmFsLTYwcykK
ICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZh
bCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGRlbGV0ZSBkdW1teSIpCiAgICAgICAgIGFjKG91
dHB1dCwgIkRlbGV0aW5nIFJlc291cmNlIC0gZHVtbXlcbiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5W
YWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1w
X2NpYiwgInJlc291cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIGR1bW15IER1bW15IC0tbWFz
dGVyIgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1
cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNv
dXJjZSBzaG93IC0tZnVsbCIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtMjk5NSw3ICsz
MTYxLDcgQEAgV2FybmluZzogY2hhbmdpbmcgYSBtb25pdG9yIG9wZXJhdGlvbiBpbnRlcnZhbCBm
cm9tIDEwIHRvIDExIHRvIG1ha2UgdGhlIG9wZXJhdGkKICAgUmVzb3VyY2U6IGR1bW15IChjbGFz
cz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9RHVtbXkpCiAgICBPcGVyYXRpb25zOiBtb25p
dG9yIGludGVydmFsPTYwcyAoZHVtbXktbW9uaXRvci1pbnRlcnZhbC02MHMpCiAiIiIpCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICBkZWYgdGVzdFJlc291cmNlQ2xvbmVVcGRhdGUoc2Vs
Zik6CiAgICAgICAgIG8sIHIgID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgY3JlYXRlIC0tbm8t
ZGVmYXVsdC1vcHMgRDEgRHVtbXkgLS1jbG9uZSIpCkBAIC0zMDg4LDcgKzMyNTQsNyBAQCBEZWxl
dGluZyBSZXNvdXJjZSAoYW5kIGdyb3VwIGFuZCBNL1MpIC0gQTIKICAgICAgICAgYWMob3V0cHV0
LCAiIiJcCiBFcnJvcjogdW5hYmxlIHRvIGNyZWF0ZSByZXNvdXJjZS9mZW5jZSBkZXZpY2UgJ0En
LCAnQScgYWxyZWFkeSBleGlzdHMgb24gdGhpcyBzeXN0ZW0KICIiIikKLSAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJl
dHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAg
IHRlbXBfY2liLCAicmVzb3VyY2UgY3JlYXRlIC0tbm8tZGVmYXVsdC1vcHMgQUcgRHVtbXkiCkBA
IC0zMDk2LDcgKzMyNjIsNyBAQCBFcnJvcjogdW5hYmxlIHRvIGNyZWF0ZSByZXNvdXJjZS9mZW5j
ZSBkZXZpY2UgJ0EnLCAnQScgYWxyZWFkeSBleGlzdHMgb24gdGhpcyBzeQogICAgICAgICBhYyhv
dXRwdXQsICIiIlwKIEVycm9yOiB1bmFibGUgdG8gY3JlYXRlIHJlc291cmNlL2ZlbmNlIGRldmlj
ZSAnQUcnLCAnQUcnIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgc3lzdGVtCiAiIiIpCi0gICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgxLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAg
ICAgICAgICB0ZW1wX2NpYiwgInJlc291cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIEFHTWFz
dGVyIER1bW15IgpAQCAtMzEwNCw3ICszMjcwLDcgQEAgRXJyb3I6IHVuYWJsZSB0byBjcmVhdGUg
cmVzb3VyY2UvZmVuY2UgZGV2aWNlICdBRycsICdBRycgYWxyZWFkeSBleGlzdHMgb24gdGhpcwog
ICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEVycm9yOiB1bmFibGUgdG8gY3JlYXRlIHJlc291cmNl
L2ZlbmNlIGRldmljZSAnQUdNYXN0ZXInLCAnQUdNYXN0ZXInIGFscmVhZHkgZXhpc3RzIG9uIHRo
aXMgc3lzdGVtCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkK
KyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXR1cm5WYWwpCiAKICAgICAgICAgbyxyID0g
cGNzKHRlbXBfY2liLCAicmVzb3VyY2UgdW5ncm91cCBBRyIpCiAgICAgICAgIGFjKG8sIkVycm9y
OiBHcm91cHMgdGhhdCBoYXZlIG1vcmUgdGhhbiBvbmUgcmVzb3VyY2UgYW5kIGFyZSBtYXN0ZXIv
c2xhdmUgcmVzb3VyY2VzIGNhbm5vdCBiZSByZW1vdmVkLiAgVGhlIGdyb3VwIG1heSBiZSBkZWxl
dGVkIHdpdGggJ3BjcyByZXNvdXJjZSBkZWxldGUgQUcnLlxuIikKQEAgLTMxMjgsMTcgKzMyOTQs
MTcgQEAgRXJyb3I6IHVuYWJsZSB0byBjcmVhdGUgcmVzb3VyY2UvZmVuY2UgZGV2aWNlICdBR01h
c3RlcicsICdBR01hc3RlcicgYWxyZWFkeSBleGkKICAgICAgICAgICAgIHRlbXBfY2liLCAicmVz
b3VyY2UgY3JlYXRlIC0tbm8tZGVmYXVsdC1vcHMgRDEgRHVtbXkgLS1ncm91cCBERyIKICAgICAg
ICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygw
LCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAg
ICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsICJy
ZXNvdXJjZSBjcmVhdGUgLS1uby1kZWZhdWx0LW9wcyBEMiBEdW1teSAtLWdyb3VwIERHIgogICAg
ICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAK
ICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBjbG9u
ZSBERyIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAK
ICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBzaG93
IC0tZnVsbCIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtMzE0OSw3ICszMzE1LDcgQEAg
RXJyb3I6IHVuYWJsZSB0byBjcmVhdGUgcmVzb3VyY2UvZmVuY2UgZGV2aWNlICdBR01hc3Rlcics
ICdBR01hc3RlcicgYWxyZWFkeSBleGkKICAgIFJlc291cmNlOiBEMiAoY2xhc3M9b2NmIHByb3Zp
ZGVyPWhlYXJ0YmVhdCB0eXBlPUR1bW15KQogICAgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2
YWw9NjBzIChEMi1tb25pdG9yLWludGVydmFsLTYwcykKICIiIikKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVy
blZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRl
bXBfY2liLCAicmVzb3VyY2UgY3JlYXRlIC0tbm8tZGVmYXVsdC1vcHMgRDEgRHVtbXkiCkBAIC0z
MTU3LDcgKzMzMjMsNyBAQCBFcnJvcjogdW5hYmxlIHRvIGNyZWF0ZSByZXNvdXJjZS9mZW5jZSBk
ZXZpY2UgJ0FHTWFzdGVyJywgJ0FHTWFzdGVyJyBhbHJlYWR5IGV4aQogICAgICAgICBhYyhvdXRw
dXQsICIiIlwKIEVycm9yOiB1bmFibGUgdG8gY3JlYXRlIHJlc291cmNlL2ZlbmNlIGRldmljZSAn
RDEnLCAnRDEnIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgc3lzdGVtCiAiIiIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgx
LCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAg
ICAgICB0ZW1wX2NpYiwgInJlc291cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIERHIER1bW15
IgpAQCAtMzE2NSw3ICszMzMxLDcgQEAgRXJyb3I6IHVuYWJsZSB0byBjcmVhdGUgcmVzb3VyY2Uv
ZmVuY2UgZGV2aWNlICdEMScsICdEMScgYWxyZWFkeSBleGlzdHMgb24gdGhpcwogICAgICAgICBh
YyhvdXRwdXQsICIiIlwKIEVycm9yOiB1bmFibGUgdG8gY3JlYXRlIHJlc291cmNlL2ZlbmNlIGRl
dmljZSAnREcnLCAnREcnIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgc3lzdGVtCiAiIiIpCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgxLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAg
ICAgICAgICAgICB0ZW1wX2NpYiwgInJlc291cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIERH
LWNsb25lIER1bW15IgpAQCAtMzE3MywyMyArMzMzOSwyMyBAQCBFcnJvcjogdW5hYmxlIHRvIGNy
ZWF0ZSByZXNvdXJjZS9mZW5jZSBkZXZpY2UgJ0RHJywgJ0RHJyBhbHJlYWR5IGV4aXN0cyBvbiB0
aGlzCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXAogRXJyb3I6IHVuYWJsZSB0byBjcmVhdGUgcmVz
b3VyY2UvZmVuY2UgZGV2aWNlICdERy1jbG9uZScsICdERy1jbG9uZScgYWxyZWFkeSBleGlzdHMg
b24gdGhpcyBzeXN0ZW0KICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJu
VmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgICAgICBv
dXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHVuZ3JvdXAgREciKQog
ICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEVycm9yOiBDYW5ub3QgcmVtb3ZlIG1vcmUgdGhhbiBv
bmUgcmVzb3VyY2UgZnJvbSBjbG9uZWQgZ3JvdXAKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMoMSwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZh
bCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNl
IHVuZ3JvdXAgREcgRDEgRDIiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKIEVycm9yOiBDYW5u
b3QgcmVtb3ZlIG1vcmUgdGhhbiBvbmUgcmVzb3VyY2UgZnJvbSBjbG9uZWQgZ3JvdXAKICIiIikK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBj
cyh0ZW1wX2NpYiwgInJlc291cmNlIHVuZ3JvdXAgREcgRDEiKQogICAgICAgICBhYyhvdXRwdXQs
ICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFs
ID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2Ugc2hvdyAtLWZ1bGwiKQogICAgICAgICBhYyhvdXRw
dXQsICIiIlwKQEAgLTMyMDAsMTEgKzMzNjYsMTEgQEAgRXJyb3I6IENhbm5vdCByZW1vdmUgbW9y
ZSB0aGFuIG9uZSByZXNvdXJjZSBmcm9tIGNsb25lZCBncm91cAogIFJlc291cmNlOiBEMSAoY2xh
c3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUR1bW15KQogICBPcGVyYXRpb25zOiBtb25p
dG9yIGludGVydmFsPTYwcyAoRDEtbW9uaXRvci1pbnRlcnZhbC02MHMpCiAiIiIpCi0gICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9j
aWIsICJyZXNvdXJjZSB1bmdyb3VwIERHIikKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVx
dWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1w
X2NpYiwgInJlc291cmNlIHNob3cgLS1mdWxsIikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCkBA
IC0zMjE0LDcgKzMzODAsNyBAQCBFcnJvcjogQ2Fubm90IHJlbW92ZSBtb3JlIHRoYW4gb25lIHJl
c291cmNlIGZyb20gY2xvbmVkIGdyb3VwCiAgUmVzb3VyY2U6IEQxIChjbGFzcz1vY2YgcHJvdmlk
ZXI9aGVhcnRiZWF0IHR5cGU9RHVtbXkpCiAgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9
NjBzIChEMS1tb25pdG9yLWludGVydmFsLTYwcykKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZh
bCkKIAogICAgIGRlZiB0ZXN0UmVzb3VyY2VFbmFibGUoc2VsZik6CiAgICAgICAgIG8sciA9IHBj
cyh0ZW1wX2NpYiwgInJlc291cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIEQxIER1bW15IikK
QEAgLTMzNDYsMTYgKzM1MTIsMTYgQEAgRXJyb3I6IENhbm5vdCByZW1vdmUgbW9yZSB0aGFuIG9u
ZSByZXNvdXJjZSBmcm9tIGNsb25lZCBncm91cAogICAgICAgICAgICAgdGVtcF9jaWIsICJyZXNv
dXJjZSBjcmVhdGUgLS1uby1kZWZhdWx0LW9wcyBkdW1teSBEdW1teSAtLWNsb25lIgogICAgICAg
ICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJl
dFZhbCwgMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXRWYWwsIDApCiAKICAgICAgICAg
IyBkaXNhYmxlIHByaW1pdGl2ZSwgZW5hYmxlIGNsb25lCiAgICAgICAgIG91dHB1dCwgcmV0VmFs
ID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZGlzYWJsZSBkdW1teSIpCiAgICAgICAgIGFjKG91
dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldFZhbCwgMCkKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbChyZXRWYWwsIDApCiAKICAgICAgICAgb3V0cHV0LCByZXRWYWwgPSBw
Y3ModGVtcF9jaWIsICJyZXNvdXJjZSBlbmFibGUgZHVtbXktY2xvbmUiKQogICAgICAgICBhYyhv
dXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXRWYWwsIDApCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwocmV0VmFsLCAwKQogCiAgICAgICAgIG91dHB1dCwgcmV0VmFsID0g
cGNzKHRlbXBfY2liLCAicmVzb3VyY2Ugc2hvdyBkdW1teS1jbG9uZSIpCiAgICAgICAgIGFjKG91
dHB1dCwgIiIiXApAQCAtMzM2MywxNiArMzUyOSwxNiBAQCBFcnJvcjogQ2Fubm90IHJlbW92ZSBt
b3JlIHRoYW4gb25lIHJlc291cmNlIGZyb20gY2xvbmVkIGdyb3VwCiAgIFJlc291cmNlOiBkdW1t
eSAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUR1bW15KQogICAgT3BlcmF0aW9u
czogbW9uaXRvciBpbnRlcnZhbD02MHMgKGR1bW15LW1vbml0b3ItaW50ZXJ2YWwtNjBzKQogIiIi
KQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXRWYWwsIDApCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwocmV0VmFsLCAwKQogCiAgICAgICAgICMgZGlzYWJsZSBjbG9uZSwgZW5hYmxlIHBy
aW1pdGl2ZQogICAgICAgICBvdXRwdXQsIHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNl
IGRpc2FibGUgZHVtbXktY2xvbmUiKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscyhyZXRWYWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0
VmFsLCAwKQogCiAgICAgICAgIG91dHB1dCwgcmV0VmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3Vy
Y2UgZW5hYmxlIGR1bW15IikKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbHMocmV0VmFsLCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldFZhbCwg
MCkKIAogICAgICAgICBvdXRwdXQsIHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHNo
b3cgZHVtbXktY2xvbmUiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTMzODAsMjAgKzM1
NDYsMjAgQEAgRXJyb3I6IENhbm5vdCByZW1vdmUgbW9yZSB0aGFuIG9uZSByZXNvdXJjZSBmcm9t
IGNsb25lZCBncm91cAogICBSZXNvdXJjZTogZHVtbXkgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFy
dGJlYXQgdHlwZT1EdW1teSkKICAgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChk
dW1teS1tb25pdG9yLWludGVydmFsLTYwcykKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bHMocmV0VmFsLCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldFZhbCwgMCkKIAogICAg
ICAgICAjIGRpc2FibGUgYm90aCBwcmltaXRpdmUgYW5kIGNsb25lLCBlbmFibGUgY2xvbmUKICAg
ICAgICAgb3V0cHV0LCByZXRWYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBkaXNhYmxlIGR1
bW15LWNsb25lIikKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMocmV0VmFsLCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldFZhbCwgMCkKIAog
ICAgICAgICBvdXRwdXQsIHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGRpc2FibGUg
ZHVtbXkiKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cyhyZXRWYWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0VmFsLCAwKQogCiAgICAg
ICAgIG91dHB1dCwgcmV0VmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZW5hYmxlIGR1bW15
LWNsb25lIikKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bHMocmV0VmFsLCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldFZhbCwgMCkKIAogICAg
ICAgICBvdXRwdXQsIHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHNob3cgZHVtbXkt
Y2xvbmUiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTM0MDEsMjAgKzM1NjcsMjAgQEAg
RXJyb3I6IENhbm5vdCByZW1vdmUgbW9yZSB0aGFuIG9uZSByZXNvdXJjZSBmcm9tIGNsb25lZCBn
cm91cAogICBSZXNvdXJjZTogZHVtbXkgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlw
ZT1EdW1teSkKICAgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChkdW1teS1tb25p
dG9yLWludGVydmFsLTYwcykKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0VmFs
LCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldFZhbCwgMCkKIAogICAgICAgICAjIGRp
c2FibGUgYm90aCBwcmltaXRpdmUgYW5kIGNsb25lLCBlbmFibGUgcHJpbWl0aXZlCiAgICAgICAg
IG91dHB1dCwgcmV0VmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZGlzYWJsZSBkdW1teS1j
bG9uZSIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KHJldFZhbCwgMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXRWYWwsIDApCiAKICAgICAg
ICAgb3V0cHV0LCByZXRWYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBkaXNhYmxlIGR1bW15
IikKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0
VmFsLCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldFZhbCwgMCkKIAogICAgICAgICBv
dXRwdXQsIHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGVuYWJsZSBkdW1teSIpCiAg
ICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldFZhbCwg
MCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXRWYWwsIDApCiAKICAgICAgICAgb3V0cHV0
LCByZXRWYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBzaG93IGR1bW15LWNsb25lIikKICAg
ICAgICAgYWMob3V0cHV0LCAiIiJcCkBAIC0zNDIyLDEyICszNTg4LDEyIEBAIEVycm9yOiBDYW5u
b3QgcmVtb3ZlIG1vcmUgdGhhbiBvbmUgcmVzb3VyY2UgZnJvbSBjbG9uZWQgZ3JvdXAKICAgUmVz
b3VyY2U6IGR1bW15IChjbGFzcz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9RHVtbXkpCiAg
ICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAoZHVtbXktbW9uaXRvci1pbnRlcnZh
bC02MHMpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldFZhbCwgMCkKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbChyZXRWYWwsIDApCiAKICAgICAgICAgIyBkaXNhYmxlIHZpYSAn
cmVzb3VyY2UgZGlzYWJsZScsIGVuYWJsZSB2aWEgJ3Jlc291cmNlIG1ldGEnCiAgICAgICAgIG91
dHB1dCwgcmV0VmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZGlzYWJsZSBkdW1teS1jbG9u
ZSIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJl
dFZhbCwgMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXRWYWwsIDApCiAKICAgICAgICAg
b3V0cHV0LCByZXRWYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBzaG93IGR1bW15LWNsb25l
IikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCkBAIC0zNDM5LDcgKzM2MDUsNyBAQCBFcnJvcjog
Q2Fubm90IHJlbW92ZSBtb3JlIHRoYW4gb25lIHJlc291cmNlIGZyb20gY2xvbmVkIGdyb3VwCiAK
ICAgICAgICAgb3V0cHV0LCByZXRWYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBtZXRhIGR1
bW15LWNsb25lIHRhcmdldC1yb2xlPSIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWxzKHJldFZhbCwgMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChy
ZXRWYWwsIDApCiAKICAgICAgICAgb3V0cHV0LCByZXRWYWwgPSBwY3ModGVtcF9jaWIsICJyZXNv
dXJjZSBzaG93IGR1bW15LWNsb25lIikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCkBAIC0zNDUz
LDcgKzM2MTksNyBAQCBFcnJvcjogQ2Fubm90IHJlbW92ZSBtb3JlIHRoYW4gb25lIHJlc291cmNl
IGZyb20gY2xvbmVkIGdyb3VwCiAgICAgICAgICAgICB0ZW1wX2NpYiwgInJlc291cmNlIG1ldGEg
ZHVtbXktY2xvbmUgdGFyZ2V0LXJvbGU9U3RvcHBlZCIKICAgICAgICAgKQogICAgICAgICBhYyhv
dXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXRWYWwsIDApCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwocmV0VmFsLCAwKQogCiAgICAgICAgIG91dHB1dCwgcmV0VmFsID0g
cGNzKHRlbXBfY2liLCAicmVzb3VyY2Ugc2hvdyBkdW1teS1jbG9uZSIpCiAgICAgICAgIGFjKG91
dHB1dCwgIiIiXApAQCAtMzQ2NSw3ICszNjMxLDcgQEAgRXJyb3I6IENhbm5vdCByZW1vdmUgbW9y
ZSB0aGFuIG9uZSByZXNvdXJjZSBmcm9tIGNsb25lZCBncm91cAogCiAgICAgICAgIG91dHB1dCwg
cmV0VmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZW5hYmxlIGR1bW15LWNsb25lIikKICAg
ICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0VmFsLCAw
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldFZhbCwgMCkKIAogICAgICAgICBvdXRwdXQs
IHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHNob3cgZHVtbXktY2xvbmUiKQogICAg
ICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTM0ODAsMTYgKzM2NDYsMTYgQEAgRXJyb3I6IENhbm5v
dCByZW1vdmUgbW9yZSB0aGFuIG9uZSByZXNvdXJjZSBmcm9tIGNsb25lZCBncm91cAogICAgICAg
ICAgICAgInJlc291cmNlIGNyZWF0ZSAtLW5vLWRlZmF1bHQtb3BzIGR1bW15IG9jZjpwYWNlbWFr
ZXI6U3RhdGVmdWwgLS1tYXN0ZXIiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiIikK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0VmFsLCAwKQorICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFsKHJldFZhbCwgMCkKIAogICAgICAgICAjIGRpc2FibGUgcHJpbWl0aXZlLCBlbmFibGUg
bWFzdGVyCiAgICAgICAgIG91dHB1dCwgcmV0VmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2Ug
ZGlzYWJsZSBkdW1teSIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKHJldFZhbCwgMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXRWYWwsIDAp
CiAKICAgICAgICAgb3V0cHV0LCByZXRWYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBlbmFi
bGUgZHVtbXktbWFzdGVyIikKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbHMocmV0VmFsLCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldFZhbCwg
MCkKIAogICAgICAgICBvdXRwdXQsIHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHNo
b3cgZHVtbXktbWFzdGVyIikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCkBAIC0zNDk3LDE2ICsz
NjYzLDE2IEBAIEVycm9yOiBDYW5ub3QgcmVtb3ZlIG1vcmUgdGhhbiBvbmUgcmVzb3VyY2UgZnJv
bSBjbG9uZWQgZ3JvdXAKICAgUmVzb3VyY2U6IGR1bW15IChjbGFzcz1vY2YgcHJvdmlkZXI9cGFj
ZW1ha2VyIHR5cGU9U3RhdGVmdWwpCiAgICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYw
cyAoZHVtbXktbW9uaXRvci1pbnRlcnZhbC02MHMpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKHJldFZhbCwgMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXRWYWwsIDApCiAK
ICAgICAgICAgIyBkaXNhYmxlIG1hc3RlciwgZW5hYmxlIHByaW1pdGl2ZQogICAgICAgICBvdXRw
dXQsIHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGRpc2FibGUgZHVtbXktbWFzdGVy
IikKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0
VmFsLCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldFZhbCwgMCkKIAogICAgICAgICBv
dXRwdXQsIHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGVuYWJsZSBkdW1teSIpCiAg
ICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldFZhbCwg
MCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXRWYWwsIDApCiAKICAgICAgICAgb3V0cHV0
LCByZXRWYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBzaG93IGR1bW15LW1hc3RlciIpCiAg
ICAgICAgIGFjKG91dHB1dCwgIiIiXApAQCAtMzUxNCwyMCArMzY4MCwyMCBAQCBFcnJvcjogQ2Fu
bm90IHJlbW92ZSBtb3JlIHRoYW4gb25lIHJlc291cmNlIGZyb20gY2xvbmVkIGdyb3VwCiAgIFJl
c291cmNlOiBkdW1teSAoY2xhc3M9b2NmIHByb3ZpZGVyPXBhY2VtYWtlciB0eXBlPVN0YXRlZnVs
KQogICAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD02MHMgKGR1bW15LW1vbml0b3ItaW50
ZXJ2YWwtNjBzKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXRWYWwsIDApCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0VmFsLCAwKQogCiAgICAgICAgICMgZGlzYWJsZSBi
b3RoIHByaW1pdGl2ZSBhbmQgbWFzdGVyLCBlbmFibGUgbWFzdGVyCiAgICAgICAgIG91dHB1dCwg
cmV0VmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZGlzYWJsZSBkdW1teS1tYXN0ZXIiKQog
ICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXRWYWws
IDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0VmFsLCAwKQogCiAgICAgICAgIG91dHB1
dCwgcmV0VmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZGlzYWJsZSBkdW1teSIpCiAgICAg
ICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldFZhbCwgMCkK
KyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXRWYWwsIDApCiAKICAgICAgICAgb3V0cHV0LCBy
ZXRWYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBlbmFibGUgZHVtbXktbWFzdGVyIikKICAg
ICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0VmFsLCAw
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldFZhbCwgMCkKIAogICAgICAgICBvdXRwdXQs
IHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHNob3cgZHVtbXktbWFzdGVyIikKICAg
ICAgICAgYWMob3V0cHV0LCAiIiJcCkBAIC0zNTM1LDIwICszNzAxLDIwIEBAIEVycm9yOiBDYW5u
b3QgcmVtb3ZlIG1vcmUgdGhhbiBvbmUgcmVzb3VyY2UgZnJvbSBjbG9uZWQgZ3JvdXAKICAgUmVz
b3VyY2U6IGR1bW15IChjbGFzcz1vY2YgcHJvdmlkZXI9cGFjZW1ha2VyIHR5cGU9U3RhdGVmdWwp
CiAgICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAoZHVtbXktbW9uaXRvci1pbnRl
cnZhbC02MHMpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldFZhbCwgMCkKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXRWYWwsIDApCiAKICAgICAgICAgIyBkaXNhYmxlIGJv
dGggcHJpbWl0aXZlIGFuZCBtYXN0ZXIsIGVuYWJsZSBwcmltaXRpdmUKICAgICAgICAgb3V0cHV0
LCByZXRWYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBkaXNhYmxlIGR1bW15LW1hc3RlciIp
CiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldFZh
bCwgMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXRWYWwsIDApCiAKICAgICAgICAgb3V0
cHV0LCByZXRWYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBkaXNhYmxlIGR1bW15IikKICAg
ICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0VmFsLCAw
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldFZhbCwgMCkKIAogICAgICAgICBvdXRwdXQs
IHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGVuYWJsZSBkdW1teSIpCiAgICAgICAg
IGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldFZhbCwgMCkKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXRWYWwsIDApCiAKICAgICAgICAgb3V0cHV0LCByZXRW
YWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBzaG93IGR1bW15LW1hc3RlciIpCiAgICAgICAg
IGFjKG91dHB1dCwgIiIiXApAQCAtMzU1NiwxMiArMzcyMiwxMiBAQCBFcnJvcjogQ2Fubm90IHJl
bW92ZSBtb3JlIHRoYW4gb25lIHJlc291cmNlIGZyb20gY2xvbmVkIGdyb3VwCiAgIFJlc291cmNl
OiBkdW1teSAoY2xhc3M9b2NmIHByb3ZpZGVyPXBhY2VtYWtlciB0eXBlPVN0YXRlZnVsKQogICAg
T3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD02MHMgKGR1bW15LW1vbml0b3ItaW50ZXJ2YWwt
NjBzKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXRWYWwsIDApCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwocmV0VmFsLCAwKQogCiAgICAgICAgICMgZGlzYWJsZSB2aWEgJ3Jl
c291cmNlIGRpc2FibGUnLCBlbmFibGUgdmlhICdyZXNvdXJjZSBtZXRhJwogICAgICAgICBvdXRw
dXQsIHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGRpc2FibGUgZHVtbXktbWFzdGVy
IikKICAgICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0
VmFsLCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldFZhbCwgMCkKIAogICAgICAgICBv
dXRwdXQsIHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIHNob3cgZHVtbXktbWFzdGVy
IikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCkBAIC0zNTczLDcgKzM3MzksNyBAQCBFcnJvcjog
Q2Fubm90IHJlbW92ZSBtb3JlIHRoYW4gb25lIHJlc291cmNlIGZyb20gY2xvbmVkIGdyb3VwCiAK
ICAgICAgICAgb3V0cHV0LCByZXRWYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSBtZXRhIGR1
bW15LW1hc3RlciB0YXJnZXQtcm9sZT0iKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAg
ICBzZWxmLmFzc2VydEVxdWFscyhyZXRWYWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
cmV0VmFsLCAwKQogCiAgICAgICAgIG91dHB1dCwgcmV0VmFsID0gcGNzKHRlbXBfY2liLCAicmVz
b3VyY2Ugc2hvdyBkdW1teS1tYXN0ZXIiKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTM1
ODcsNyArMzc1Myw3IEBAIEVycm9yOiBDYW5ub3QgcmVtb3ZlIG1vcmUgdGhhbiBvbmUgcmVzb3Vy
Y2UgZnJvbSBjbG9uZWQgZ3JvdXAKICAgICAgICAgICAgIHRlbXBfY2liLCAicmVzb3VyY2UgbWV0
YSBkdW1teS1tYXN0ZXIgdGFyZ2V0LXJvbGU9U3RvcHBlZCIKICAgICAgICAgKQogICAgICAgICBh
YyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXRWYWwsIDApCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0VmFsLCAwKQogCiAgICAgICAgIG91dHB1dCwgcmV0VmFs
ID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2Ugc2hvdyBkdW1teS1tYXN0ZXIiKQogICAgICAgICBh
YyhvdXRwdXQsICIiIlwKQEAgLTM1OTksNyArMzc2NSw3IEBAIEVycm9yOiBDYW5ub3QgcmVtb3Zl
IG1vcmUgdGhhbiBvbmUgcmVzb3VyY2UgZnJvbSBjbG9uZWQgZ3JvdXAKIAogICAgICAgICBvdXRw
dXQsIHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIGVuYWJsZSBkdW1teS1tYXN0ZXIi
KQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXRW
YWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0VmFsLCAwKQogCiAgICAgICAgIG91
dHB1dCwgcmV0VmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2Ugc2hvdyBkdW1teS1tYXN0ZXIi
KQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKQEAgLTM3NjEsNyArMzkyNywyMSBAQCBFcnJvcjog
cm9sZSBtdXN0IGJlOiBTdG9wcGVkLCBTdGFydGVkLCBTbGF2ZSBvciBNYXN0ZXIgKHVzZSAtLWZv
cmNlIHRvIG92ZXJyaWRlKQogICAgICAgICBhc3NlcnQgciA9PSAwCiAKICAgICAgICAgbyxyID0g
cGNzKCJyZXNvdXJjZSAtLWZ1bGwiKQotICAgICAgICBhYyhvLCIgUmVzb3VyY2U6IG15aXAgKGNs
YXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1JUGFkZHIyKVxuICBPcGVyYXRpb25zOiBt
b25pdG9yIGludGVydmFsPTYwcyAobXlpcC1tb25pdG9yLWludGVydmFsLTYwcylcbiBSZXNvdXJj
ZTogbXlpcDIgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1JUGFkZHIyKVxuICBB
dHRyaWJ1dGVzOiBpcD0zLjMuMy4zIFxuICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYw
cyAobXlpcDItbW9uaXRvci1pbnRlcnZhbC02MHMpXG4gUmVzb3VyY2U6IG15ZnMgKGNsYXNzPW9j
ZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1GaWxlc3lzdGVtKVxuICBPcGVyYXRpb25zOiBtb25p
dG9yIGludGVydmFsPTYwcyAobXlmcy1tb25pdG9yLWludGVydmFsLTYwcylcbiBSZXNvdXJjZTog
bXlmczIgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1GaWxlc3lzdGVtKVxuICBB
dHRyaWJ1dGVzOiBkZXZpY2U9eCBkaXJlY3Rvcnk9eSBcbiAgT3BlcmF0aW9uczogbW9uaXRvciBp
bnRlcnZhbD02MHMgKG15ZnMyLW1vbml0b3ItaW50ZXJ2YWwtNjBzKVxuIFJlc291cmNlOiBteWZz
MyAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUZpbGVzeXN0ZW0pXG4gIEF0dHJp
YnV0ZXM6IGRldmljZT14IGRpcmVjdG9yeT15IGZzdHlwZT16IFxuICBPcGVyYXRpb25zOiBtb25p
dG9yIGludGVydmFsPTYwcyAobXlmczMtbW9uaXRvci1pbnRlcnZhbC02MHMpXG4iKQorICAgICAg
ICBhYyhvLCAiIiJcCisgUmVzb3VyY2U6IG15aXAgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJl
YXQgdHlwZT1JUGFkZHIyKQorICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAobXlp
cC1tb25pdG9yLWludGVydmFsLTYwcykKKyBSZXNvdXJjZTogbXlpcDIgKGNsYXNzPW9jZiBwcm92
aWRlcj1oZWFydGJlYXQgdHlwZT1JUGFkZHIyKQorICBBdHRyaWJ1dGVzOiBpcD0zLjMuMy4zCisg
IE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChteWlwMi1tb25pdG9yLWludGVydmFs
LTYwcykKKyBSZXNvdXJjZTogbXlmcyAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBl
PUZpbGVzeXN0ZW0pCisgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChteWZzLW1v
bml0b3ItaW50ZXJ2YWwtNjBzKQorIFJlc291cmNlOiBteWZzMiAoY2xhc3M9b2NmIHByb3ZpZGVy
PWhlYXJ0YmVhdCB0eXBlPUZpbGVzeXN0ZW0pCisgIEF0dHJpYnV0ZXM6IGRldmljZT14IGRpcmVj
dG9yeT15CisgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChteWZzMi1tb25pdG9y
LWludGVydmFsLTYwcykKKyBSZXNvdXJjZTogbXlmczMgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFy
dGJlYXQgdHlwZT1GaWxlc3lzdGVtKQorICBBdHRyaWJ1dGVzOiBkZXZpY2U9eCBkaXJlY3Rvcnk9
eSBmc3R5cGU9egorICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAobXlmczMtbW9u
aXRvci1pbnRlcnZhbC02MHMpCisiIiIpCiAgICAgICAgIGFzc2VydCByID09IDAKIAogICAgIGRl
ZiB0ZXN0RGVmYXVsdE9wcyhzZWxmKToKQEAgLTM3ODIsNyArMzk2MiwyNiBAQCBFcnJvcjogcm9s
ZSBtdXN0IGJlOiBTdG9wcGVkLCBTdGFydGVkLCBTbGF2ZSBvciBNYXN0ZXIgKHVzZSAtLWZvcmNl
IHRvIG92ZXJyaWRlKQogICAgICAgICBhc3NlcnQgciA9PSAwCiAKICAgICAgICAgbyxyID0gcGNz
KCJyZXNvdXJjZSAtLWZ1bGwiKQotICAgICAgICBhYyhvLCIgUmVzb3VyY2U6IFgwIChjbGFzcz1v
Y2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9RHVtbXkpXG4gIE9wZXJhdGlvbnM6IHN0YXJ0IGlu
dGVydmFsPTBzIHRpbWVvdXQ9MjAgKFgwLXN0YXJ0LWludGVydmFsLTBzKVxuICAgICAgICAgICAg
ICBzdG9wIGludGVydmFsPTBzIHRpbWVvdXQ9MjAgKFgwLXN0b3AtaW50ZXJ2YWwtMHMpXG4gICAg
ICAgICAgICAgIG1vbml0b3IgaW50ZXJ2YWw9MTAgdGltZW91dD0yMCAoWDAtbW9uaXRvci1pbnRl
cnZhbC0xMClcbiBSZXNvdXJjZTogWDEgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlw
ZT1EdW1teSlcbiAgT3BlcmF0aW9uczogc3RhcnQgaW50ZXJ2YWw9MHMgdGltZW91dD0yMCAoWDEt
c3RhcnQtaW50ZXJ2YWwtMHMpXG4gICAgICAgICAgICAgIHN0b3AgaW50ZXJ2YWw9MHMgdGltZW91
dD0yMCAoWDEtc3RvcC1pbnRlcnZhbC0wcylcbiAgICAgICAgICAgICAgbW9uaXRvciBpbnRlcnZh
bD05MHMgKFgxLW1vbml0b3ItaW50ZXJ2YWwtOTBzKVxuIFJlc291cmNlOiBYMiAoY2xhc3M9b2Nm
IHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRkcjIpXG4gIEF0dHJpYnV0ZXM6IGlwPTEuMS4x
LjEgXG4gIE9wZXJhdGlvbnM6IHN0YXJ0IGludGVydmFsPTBzIHRpbWVvdXQ9MjBzIChYMi1zdGFy
dC1pbnRlcnZhbC0wcylcbiAgICAgICAgICAgICAgc3RvcCBpbnRlcnZhbD0wcyB0aW1lb3V0PTIw
cyAoWDItc3RvcC1pbnRlcnZhbC0wcylcbiAgICAgICAgICAgICAgbW9uaXRvciBpbnRlcnZhbD0x
MHMgdGltZW91dD0yMHMgKFgyLW1vbml0b3ItaW50ZXJ2YWwtMTBzKVxuIFJlc291cmNlOiBYMyAo
Y2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRkcjIpXG4gIEF0dHJpYnV0ZXM6
IGlwPTEuMS4xLjEgXG4gIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9MXMgKFgzLW1vbml0
b3ItaW50ZXJ2YWwtMXMpXG4gICAgICAgICAgICAgIHN0YXJ0IGludGVydmFsPTBzIHRpbWVvdXQ9
MXMgKFgzLXN0YXJ0LWludGVydmFsLTBzKVxuICAgICAgICAgICAgICBzdG9wIGludGVydmFsPTBz
IHRpbWVvdXQ9MXMgKFgzLXN0b3AtaW50ZXJ2YWwtMHMpXG4iKQorICAgICAgICBhYyhvLCAiIiJc
CisgUmVzb3VyY2U6IFgwIChjbGFzcz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9RHVtbXkp
CisgIE9wZXJhdGlvbnM6IHN0YXJ0IGludGVydmFsPTBzIHRpbWVvdXQ9MjAgKFgwLXN0YXJ0LWlu
dGVydmFsLTBzKQorICAgICAgICAgICAgICBzdG9wIGludGVydmFsPTBzIHRpbWVvdXQ9MjAgKFgw
LXN0b3AtaW50ZXJ2YWwtMHMpCisgICAgICAgICAgICAgIG1vbml0b3IgaW50ZXJ2YWw9MTAgdGlt
ZW91dD0yMCAoWDAtbW9uaXRvci1pbnRlcnZhbC0xMCkKKyBSZXNvdXJjZTogWDEgKGNsYXNzPW9j
ZiBwcm92aWRlcj1oZWFydGJlYXQgdHlwZT1EdW1teSkKKyAgT3BlcmF0aW9uczogc3RhcnQgaW50
ZXJ2YWw9MHMgdGltZW91dD0yMCAoWDEtc3RhcnQtaW50ZXJ2YWwtMHMpCisgICAgICAgICAgICAg
IHN0b3AgaW50ZXJ2YWw9MHMgdGltZW91dD0yMCAoWDEtc3RvcC1pbnRlcnZhbC0wcykKKyAgICAg
ICAgICAgICAgbW9uaXRvciBpbnRlcnZhbD05MHMgKFgxLW1vbml0b3ItaW50ZXJ2YWwtOTBzKQor
IFJlc291cmNlOiBYMiAoY2xhc3M9b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUlQYWRkcjIp
CisgIEF0dHJpYnV0ZXM6IGlwPTEuMS4xLjEKKyAgT3BlcmF0aW9uczogc3RhcnQgaW50ZXJ2YWw9
MHMgdGltZW91dD0yMHMgKFgyLXN0YXJ0LWludGVydmFsLTBzKQorICAgICAgICAgICAgICBzdG9w
IGludGVydmFsPTBzIHRpbWVvdXQ9MjBzIChYMi1zdG9wLWludGVydmFsLTBzKQorICAgICAgICAg
ICAgICBtb25pdG9yIGludGVydmFsPTEwcyB0aW1lb3V0PTIwcyAoWDItbW9uaXRvci1pbnRlcnZh
bC0xMHMpCisgUmVzb3VyY2U6IFgzIChjbGFzcz1vY2YgcHJvdmlkZXI9aGVhcnRiZWF0IHR5cGU9
SVBhZGRyMikKKyAgQXR0cmlidXRlczogaXA9MS4xLjEuMQorICBPcGVyYXRpb25zOiBtb25pdG9y
IGludGVydmFsPTFzIChYMy1tb25pdG9yLWludGVydmFsLTFzKQorICAgICAgICAgICAgICBzdGFy
dCBpbnRlcnZhbD0wcyB0aW1lb3V0PTFzIChYMy1zdGFydC1pbnRlcnZhbC0wcykKKyAgICAgICAg
ICAgICAgc3RvcCBpbnRlcnZhbD0wcyB0aW1lb3V0PTFzIChYMy1zdG9wLWludGVydmFsLTBzKQor
IiIiKQogICAgICAgICBhc3NlcnQgciA9PSAwCiAKICAgICBkZWYgdGVzdENsb25lZE1hc3RlcmVk
R3JvdXAoc2VsZik6CkBAIC0zODc2LDM1ICs0MDc1LDM1IEBAIEVycm9yOiByb2xlIG11c3QgYmU6
IFN0b3BwZWQsIFN0YXJ0ZWQsIFNsYXZlIG9yIE1hc3RlciAodXNlIC0tZm9yY2UgdG8gb3ZlcnJp
ZGUpCiAgICAgICAgIG91dHB1dCwgcmV0VmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIs
ICJyZXNvdXJjZSBjcmVhdGUgRDEgZHVtbXkgLS1uby1kZWZhdWx0LW9wcyIKICAgICAgICAgKQot
ICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXRWYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwoMCwgcmV0VmFsKQogICAgICAgICBhYyhvdXRwdXQsICIiKQogICAgICAgICBvdXRwdXQs
IHJldFZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLCAicmVzb3VyY2UgY3JlYXRlIERH
MSBkdW1teSAtLW5vLWRlZmF1bHQtb3BzIC0tZ3JvdXAgR1IiCiAgICAgICAgICkKLSAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0VmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAs
IHJldFZhbCkKICAgICAgICAgYWMob3V0cHV0LCAiIikKICAgICAgICAgb3V0cHV0LCByZXRWYWwg
PSBwY3MoCiAgICAgICAgICAgICB0ZW1wX2NpYiwgInJlc291cmNlIGNyZWF0ZSBERzIgZHVtbXkg
LS1uby1kZWZhdWx0LW9wcyAtLWdyb3VwIEdSIgogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKDAsIHJldFZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXRWYWwp
CiAgICAgICAgIGFjKG91dHB1dCwgIiIpCiAgICAgICAgIG91dHB1dCwgcmV0VmFsID0gcGNzKAog
ICAgICAgICAgICAgdGVtcF9jaWIsICJyZXNvdXJjZSBjcmVhdGUgREMgZHVtbXkgLS1uby1kZWZh
dWx0LW9wcyAtLWNsb25lIgogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAs
IHJldFZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXRWYWwpCiAgICAgICAgIGFj
KG91dHB1dCwgIiIpCiAgICAgICAgIG91dHB1dCwgcmV0VmFsID0gcGNzKAogICAgICAgICAgICAg
dGVtcF9jaWIsICJyZXNvdXJjZSBjcmVhdGUgREdDMSBkdW1teSAtLW5vLWRlZmF1bHQtb3BzIC0t
Z3JvdXAgR1JDIgogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldFZh
bCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXRWYWwpCiAgICAgICAgIGFjKG91dHB1
dCwgIiIpCiAgICAgICAgIG91dHB1dCwgcmV0VmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9j
aWIsICJyZXNvdXJjZSBjcmVhdGUgREdDMiBkdW1teSAtLW5vLWRlZmF1bHQtb3BzIC0tZ3JvdXAg
R1JDIgogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldFZhbCkKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXRWYWwpCiAgICAgICAgIGFjKG91dHB1dCwgIiIp
CiAgICAgICAgIG91dHB1dCwgcmV0VmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgY2xvbmUg
R1JDIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0VmFsKQorICAgICAgICBzZWxm
LmFzc2VydEVxdWFsKDAsIHJldFZhbCkKICAgICAgICAgYWMob3V0cHV0LCAiIikKIAogICAgICAg
ICBzdGF0dXMgPSAiIiJcCkBAIC0zOTI2LDcgKzQxMjUsNyBAQCBFcnJvcjogcm9sZSBtdXN0IGJl
OiBTdG9wcGVkLCBTdGFydGVkLCBTbGF2ZSBvciBNYXN0ZXIgKHVzZSAtLWZvcmNlIHRvIG92ZXJy
aWRlKQogICAgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChER0MyLW1vbml0b3It
aW50ZXJ2YWwtNjBzKQogIiIiCiAgICAgICAgIGNpYl9vcmlnaW5hbCwgcmV0VmFsID0gcGNzKHRl
bXBfY2liLCAiY2x1c3RlciBjaWIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXRW
YWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0VmFsKQogCiAgICAgICAgIHJlc291
cmNlcyA9IHNldChbCiAgICAgICAgICAgICAiRDEiLCAiREcxIiwgIkRHMiIsICJHUiIsICJEQyIs
ICJEQy1jbG9uZSIsICJER0MxIiwgIkRHQzIiLCAiR1JDIiwKQEAgLTM5MzQsMTYgKzQxMzMsMTYg
QEAgRXJyb3I6IHJvbGUgbXVzdCBiZTogU3RvcHBlZCwgU3RhcnRlZCwgU2xhdmUgb3IgTWFzdGVy
ICh1c2UgLS1mb3JjZSB0byBvdmVycmlkZSkKICAgICAgICAgXSkKICAgICAgICAgb3V0cHV0LCBy
ZXRWYWwgPSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSAtLWZ1bGwiKQogICAgICAgICBhYyhvdXRw
dXQsIHN0YXR1cykKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0VmFsKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldFZhbCkKICAgICAgICAgY2liX2luID0gdXRpbHMucGFy
c2VTdHJpbmcoY2liX29yaWdpbmFsKQogICAgICAgICBjaWJfb3V0LCB1cGRhdGVkX3Jlc291cmNl
cyA9IHJlc291cmNlLnJlc291cmNlX3JlbG9jYXRlX3NldF9zdGlja2luZXNzKAogICAgICAgICAg
ICAgY2liX2luCiAgICAgICAgICkKICAgICAgICAgc2VsZi5hc3NlcnRGYWxzZShjaWJfaW4gaXMg
Y2liX291dCkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmVzb3VyY2VzLCB1cGRhdGVkX3Jl
c291cmNlcykKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXNvdXJjZXMsIHVwZGF0ZWRfcmVz
b3VyY2VzKQogICAgICAgICBvdXRwdXQsIHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNl
IC0tZnVsbCIpCiAgICAgICAgIGFjKG91dHB1dCwgc3RhdHVzKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygwLCByZXRWYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0VmFsKQog
ICAgICAgICB3aXRoIG9wZW4odGVtcF9jaWIsICJ3IikgYXMgZjoKICAgICAgICAgICAgIGYud3Jp
dGUoY2liX291dC50b3htbCgpKQogICAgICAgICBvdXRwdXQsIHJldFZhbCA9IHBjcyh0ZW1wX2Np
YiwgInJlc291cmNlIC0tZnVsbCIpCkBAIC0zOTc1LDIzICs0MTc0LDIzIEBAIEVycm9yOiByb2xl
IG11c3QgYmU6IFN0b3BwZWQsIFN0YXJ0ZWQsIFNsYXZlIG9yIE1hc3RlciAodXNlIC0tZm9yY2Ug
dG8gb3ZlcnJpZGUpCiAgICAgTWV0YSBBdHRyczogcmVzb3VyY2Utc3RpY2tpbmVzcz0wIAogICAg
IE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChER0MyLW1vbml0b3ItaW50ZXJ2YWwt
NjBzKQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXRWYWwpCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0VmFsKQogCiAgICAgICAgIHJlc291cmNlcyA9IHNldChb
IkQxIiwgIkRHMSIsICJEQyIsICJER0MxIl0pCiAgICAgICAgIHdpdGggb3Blbih0ZW1wX2NpYiwg
InciKSBhcyBmOgogICAgICAgICAgICAgZi53cml0ZShjaWJfb3JpZ2luYWwpCiAgICAgICAgIG91
dHB1dCwgcmV0VmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgLS1mdWxsIikKICAgICAgICAg
YWMob3V0cHV0LCBzdGF0dXMpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldFZhbCkK
KyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXRWYWwpCiAgICAgICAgIGNpYl9pbiA9IHV0
aWxzLnBhcnNlU3RyaW5nKGNpYl9vcmlnaW5hbCkKICAgICAgICAgY2liX291dCwgdXBkYXRlZF9y
ZXNvdXJjZXMgPSByZXNvdXJjZS5yZXNvdXJjZV9yZWxvY2F0ZV9zZXRfc3RpY2tpbmVzcygKICAg
ICAgICAgICAgIGNpYl9pbiwgcmVzb3VyY2VzCiAgICAgICAgICkKICAgICAgICAgc2VsZi5hc3Nl
cnRGYWxzZShjaWJfaW4gaXMgY2liX291dCkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmVz
b3VyY2VzLCB1cGRhdGVkX3Jlc291cmNlcykKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXNv
dXJjZXMsIHVwZGF0ZWRfcmVzb3VyY2VzKQogICAgICAgICBvdXRwdXQsIHJldFZhbCA9IHBjcyh0
ZW1wX2NpYiwgInJlc291cmNlIC0tZnVsbCIpCiAgICAgICAgIGFjKG91dHB1dCwgc3RhdHVzKQot
ICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXRWYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwoMCwgcmV0VmFsKQogICAgICAgICB3aXRoIG9wZW4odGVtcF9jaWIsICJ3IikgYXMgZjoK
ICAgICAgICAgICAgIGYud3JpdGUoY2liX291dC50b3htbCgpKQogICAgICAgICBvdXRwdXQsIHJl
dFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIC0tZnVsbCIpCkBAIC00MDE3LDIzICs0MjE2
LDIzIEBAIEVycm9yOiByb2xlIG11c3QgYmU6IFN0b3BwZWQsIFN0YXJ0ZWQsIFNsYXZlIG9yIE1h
c3RlciAodXNlIC0tZm9yY2UgdG8gb3ZlcnJpZGUpCiAgICBSZXNvdXJjZTogREdDMiAoY2xhc3M9
b2NmIHByb3ZpZGVyPWhlYXJ0YmVhdCB0eXBlPUR1bW15KQogICAgIE9wZXJhdGlvbnM6IG1vbml0
b3IgaW50ZXJ2YWw9NjBzIChER0MyLW1vbml0b3ItaW50ZXJ2YWwtNjBzKQogIiIiKQotICAgICAg
ICBzZWxmLmFzc2VydEVxdWFscygwLCByZXRWYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
MCwgcmV0VmFsKQogCiAgICAgICAgIHJlc291cmNlcyA9IHNldChbIkdSQy1jbG9uZSIsICJHUkMi
LCAiREdDMSIsICJER0MyIl0pCiAgICAgICAgIHdpdGggb3Blbih0ZW1wX2NpYiwgInciKSBhcyBm
OgogICAgICAgICAgICAgZi53cml0ZShjaWJfb3JpZ2luYWwpCiAgICAgICAgIG91dHB1dCwgcmV0
VmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgLS1mdWxsIikKICAgICAgICAgYWMob3V0cHV0
LCBzdGF0dXMpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldFZhbCkKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbCgwLCByZXRWYWwpCiAgICAgICAgIGNpYl9pbiA9IHV0aWxzLnBhcnNl
U3RyaW5nKGNpYl9vcmlnaW5hbCkKICAgICAgICAgY2liX291dCwgdXBkYXRlZF9yZXNvdXJjZXMg
PSByZXNvdXJjZS5yZXNvdXJjZV9yZWxvY2F0ZV9zZXRfc3RpY2tpbmVzcygKICAgICAgICAgICAg
IGNpYl9pbiwgWyJHUkMtY2xvbmUiXQogICAgICAgICApCiAgICAgICAgIHNlbGYuYXNzZXJ0RmFs
c2UoY2liX2luIGlzIGNpYl9vdXQpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJlc291cmNl
cywgdXBkYXRlZF9yZXNvdXJjZXMpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmVzb3VyY2Vz
LCB1cGRhdGVkX3Jlc291cmNlcykKICAgICAgICAgb3V0cHV0LCByZXRWYWwgPSBwY3ModGVtcF9j
aWIsICJyZXNvdXJjZSAtLWZ1bGwiKQogICAgICAgICBhYyhvdXRwdXQsIHN0YXR1cykKLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0VmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFs
KDAsIHJldFZhbCkKICAgICAgICAgd2l0aCBvcGVuKHRlbXBfY2liLCAidyIpIGFzIGY6CiAgICAg
ICAgICAgICBmLndyaXRlKGNpYl9vdXQudG94bWwoKSkKICAgICAgICAgb3V0cHV0LCByZXRWYWwg
PSBwY3ModGVtcF9jaWIsICJyZXNvdXJjZSAtLWZ1bGwiKQpAQCAtNDA1OSwyMyArNDI1OCwyMyBA
QCBFcnJvcjogcm9sZSBtdXN0IGJlOiBTdG9wcGVkLCBTdGFydGVkLCBTbGF2ZSBvciBNYXN0ZXIg
KHVzZSAtLWZvcmNlIHRvIG92ZXJyaWRlKQogICAgIE1ldGEgQXR0cnM6IHJlc291cmNlLXN0aWNr
aW5lc3M9MCAKICAgICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAoREdDMi1tb25p
dG9yLWludGVydmFsLTYwcykKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0
VmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldFZhbCkKIAogICAgICAgICByZXNv
dXJjZXMgPSBzZXQoWyJHUiIsICJERzEiLCAiREcyIiwgIkRDLWNsb25lIiwgIkRDIl0pCiAgICAg
ICAgIHdpdGggb3Blbih0ZW1wX2NpYiwgInciKSBhcyBmOgogICAgICAgICAgICAgZi53cml0ZShj
aWJfb3JpZ2luYWwpCiAgICAgICAgIG91dHB1dCwgcmV0VmFsID0gcGNzKHRlbXBfY2liLCAicmVz
b3VyY2UgLS1mdWxsIikKICAgICAgICAgYWMob3V0cHV0LCBzdGF0dXMpCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKDAsIHJldFZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXRW
YWwpCiAgICAgICAgIGNpYl9pbiA9IHV0aWxzLnBhcnNlU3RyaW5nKGNpYl9vcmlnaW5hbCkKICAg
ICAgICAgY2liX291dCwgdXBkYXRlZF9yZXNvdXJjZXMgPSByZXNvdXJjZS5yZXNvdXJjZV9yZWxv
Y2F0ZV9zZXRfc3RpY2tpbmVzcygKICAgICAgICAgICAgIGNpYl9pbiwgWyJHUiIsICJEQy1jbG9u
ZSJdCiAgICAgICAgICkKICAgICAgICAgc2VsZi5hc3NlcnRGYWxzZShjaWJfaW4gaXMgY2liX291
dCkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmVzb3VyY2VzLCB1cGRhdGVkX3Jlc291cmNl
cykKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXNvdXJjZXMsIHVwZGF0ZWRfcmVzb3VyY2Vz
KQogICAgICAgICBvdXRwdXQsIHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJlc291cmNlIC0tZnVs
bCIpCiAgICAgICAgIGFjKG91dHB1dCwgc3RhdHVzKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygwLCByZXRWYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0VmFsKQogICAgICAg
ICB3aXRoIG9wZW4odGVtcF9jaWIsICJ3IikgYXMgZjoKICAgICAgICAgICAgIGYud3JpdGUoY2li
X291dC50b3htbCgpKQogICAgICAgICBvdXRwdXQsIHJldFZhbCA9IHBjcyh0ZW1wX2NpYiwgInJl
c291cmNlIC0tZnVsbCIpCkBAIC00MTAyLDcgKzQzMDEsNyBAQCBFcnJvcjogcm9sZSBtdXN0IGJl
OiBTdG9wcGVkLCBTdGFydGVkLCBTbGF2ZSBvciBNYXN0ZXIgKHVzZSAtLWZvcmNlIHRvIG92ZXJy
aWRlKQogICAgUmVzb3VyY2U6IERHQzIgKGNsYXNzPW9jZiBwcm92aWRlcj1oZWFydGJlYXQgdHlw
ZT1EdW1teSkKICAgICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAoREdDMi1tb25p
dG9yLWludGVydmFsLTYwcykKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0
VmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldFZhbCkKIAogaWYgX19uYW1lX18g
PT0gIl9fbWFpbl9fIjoKICAgICB1bml0dGVzdC5tYWluKCkKZGlmZiAtLWdpdCBhL3Bjcy90ZXN0
L3Rlc3RfcnVsZS5weSBiL3Bjcy90ZXN0L3Rlc3RfcnVsZS5weQppbmRleCBiMjM2MzJhLi4xNzQ1
MGU1IDEwMDY0NAotLS0gYS9wY3MvdGVzdC90ZXN0X3J1bGUucHkKKysrIGIvcGNzL3Rlc3QvdGVz
dF9ydWxlLnB5CkBAIC0xLDEzICsxLDIwIEBACi1pbXBvcnQgb3MKK2Zyb20gX19mdXR1cmVfXyBp
bXBvcnQgYWJzb2x1dGVfaW1wb3J0Citmcm9tIF9fZnV0dXJlX18gaW1wb3J0IGRpdmlzaW9uCitm
cm9tIF9fZnV0dXJlX18gaW1wb3J0IHByaW50X2Z1bmN0aW9uCitmcm9tIF9fZnV0dXJlX18gaW1w
b3J0IHVuaWNvZGVfbGl0ZXJhbHMKKworaW1wb3J0IG9zLnBhdGgKIGltcG9ydCBzeXMKIGltcG9y
dCBzaHV0aWwKIGltcG9ydCB1bml0dGVzdAogaW1wb3J0IHhtbC5kb20ubWluaWRvbQogcGFyZW50
ZGlyID0gb3MucGF0aC5kaXJuYW1lKG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmFic3BhdGgoX19m
aWxlX18pKSkKIHN5cy5wYXRoLmluc2VydCgwLCBwYXJlbnRkaXIpCi1mcm9tIHBjc190ZXN0X2Z1
bmN0aW9ucyBpbXBvcnQgcGNzLGFjCisKK2Zyb20gcGNzX3Rlc3RfZnVuY3Rpb25zIGltcG9ydCBw
Y3MsIGFjCiBpbXBvcnQgcnVsZQogCisKIGVtcHR5X2NpYiA9ICJlbXB0eS54bWwiCiB0ZW1wX2Np
YiA9ICJ0ZW1wLnhtbCIKIApAQCAtMTUsNyArMjIsNyBAQCBjbGFzcyBEYXRlVmFsdWVUZXN0KHVu
aXR0ZXN0LlRlc3RDYXNlKToKIAogICAgIGRlZiB0ZXN0UGFyc2Uoc2VsZik6CiAgICAgICAgIGZv
ciB2YWx1ZSwgaXRlbSBpbiBlbnVtZXJhdGUocnVsZS5EYXRlQ29tbW9uVmFsdWUuYWxsb3dlZF9p
dGVtcywgMSk6Ci0gICAgICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICAgICAgc3RyKHZhbHVlKSwKICAgICAgICAgICAg
ICAgICBydWxlLkRhdGVDb21tb25WYWx1ZSgiJXM9JXMiICUgKGl0ZW0sIHZhbHVlKSkucGFydHNb
aXRlbV0KICAgICAgICAgICAgICkKQEAgLTI0LDIzICszMSwyMyBAQCBjbGFzcyBEYXRlVmFsdWVU
ZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgICAgICJob3Vycz0xIG1vbnRoZGF5cz0y
IHdlZWtkYXlzPTMgeWVhcmRheXM9NCBtb250aHM9NSB3ZWVrcz02ICIKICAgICAgICAgICAgICJ5
ZWFycz03IHdlZWt5ZWFycz04IG1vb249OSIKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygiMSIsIHZhbHVlLnBhcnRzWyJob3VycyJdKQotICAgICAgICBzZWxmLmFzc2VydEVx
dWFscygiMiIsIHZhbHVlLnBhcnRzWyJtb250aGRheXMiXSkKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMoIjMiLCB2YWx1ZS5wYXJ0c1sid2Vla2RheXMiXSkKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMoIjQiLCB2YWx1ZS5wYXJ0c1sieWVhcmRheXMiXSkKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMoIjUiLCB2YWx1ZS5wYXJ0c1sibW9udGhzIl0pCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWxzKCI2IiwgdmFsdWUucGFydHNbIndlZWtzIl0pCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KCI3IiwgdmFsdWUucGFydHNbInllYXJzIl0pCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKCI4
IiwgdmFsdWUucGFydHNbIndlZWt5ZWFycyJdKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygi
OSIsIHZhbHVlLnBhcnRzWyJtb29uIl0pCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoIjEiLCB2
YWx1ZS5wYXJ0c1siaG91cnMiXSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgiMiIsIHZhbHVl
LnBhcnRzWyJtb250aGRheXMiXSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgiMyIsIHZhbHVl
LnBhcnRzWyJ3ZWVrZGF5cyJdKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKCI0IiwgdmFsdWUu
cGFydHNbInllYXJkYXlzIl0pCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoIjUiLCB2YWx1ZS5w
YXJ0c1sibW9udGhzIl0pCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoIjYiLCB2YWx1ZS5wYXJ0
c1sid2Vla3MiXSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgiNyIsIHZhbHVlLnBhcnRzWyJ5
ZWFycyJdKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKCI4IiwgdmFsdWUucGFydHNbIndlZWt5
ZWFycyJdKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKCI5IiwgdmFsdWUucGFydHNbIm1vb24i
XSkKIAogICAgICAgICB2YWx1ZSA9IHJ1bGUuRGF0ZUNvbW1vblZhbHVlKCJob3Vycz0xIG1vbnRo
ZGF5cz0yIGhvdXJzPTMiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygiMiIsIHZhbHVlLnBh
cnRzWyJtb250aGRheXMiXSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoIjMiLCB2YWx1ZS5w
YXJ0c1siaG91cnMiXSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgiMiIsIHZhbHVlLnBhcnRz
WyJtb250aGRheXMiXSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgiMyIsIHZhbHVlLnBhcnRz
WyJob3VycyJdKQogCiAgICAgICAgIHZhbHVlID0gcnVsZS5EYXRlQ29tbW9uVmFsdWUoIiBob3Vy
cz0xICAgbW9udGhkYXlzPTIgICBob3Vycz0zICIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KCIyIiwgdmFsdWUucGFydHNbIm1vbnRoZGF5cyJdKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygiMyIsIHZhbHVlLnBhcnRzWyJob3VycyJdKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKCIy
IiwgdmFsdWUucGFydHNbIm1vbnRoZGF5cyJdKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKCIz
IiwgdmFsdWUucGFydHNbImhvdXJzIl0pCiAKICAgICAgICAgc2VsZi5hc3NlcnRTeW50YXhFcnJv
cigKICAgICAgICAgICAgICJtaXNzaW5nIG9uZSBvZiAnaG91cnM9JywgJ21vbnRoZGF5cz0nLCAn
d2Vla2RheXM9JywgJ3llYXJkYXlzPScsICIKQEAgLTcxLDcgKzc4LDcgQEAgY2xhc3MgRGF0ZVZh
bHVlVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAKICAgICBkZWYgdGVzdER1cmF0aW9uVmFsaWRh
dGUoc2VsZik6CiAgICAgICAgIGZvciB2YWx1ZSwgaXRlbSBpbiBlbnVtZXJhdGUocnVsZS5EYXRl
Q29tbW9uVmFsdWUuYWxsb3dlZF9pdGVtcywgMSk6Ci0gICAgICAgICAgICBzZWxmLmFzc2VydEVx
dWFscygKKyAgICAgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICAgICAgc3Ry
KHZhbHVlKSwKICAgICAgICAgICAgICAgICBydWxlLkRhdGVEdXJhdGlvblZhbHVlKCIlcz0lcyIg
JSAoaXRlbSwgdmFsdWUpKS5wYXJ0c1tpdGVtXQogICAgICAgICAgICAgKQpAQCAtOTUsMTcgKzEw
MiwxNyBAQCBjbGFzcyBEYXRlVmFsdWVUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICBkZWYg
dGVzdERhdGVTcGVjVmFsaWRhdGlvbihzZWxmKToKICAgICAgICAgZm9yIGl0ZW0gaW4gcnVsZS5E
YXRlQ29tbW9uVmFsdWUuYWxsb3dlZF9pdGVtczoKICAgICAgICAgICAgIHZhbHVlID0gMQotICAg
ICAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgICAgICBzZWxmLmFzc2VydEVxdWFs
KAogICAgICAgICAgICAgICAgIHN0cih2YWx1ZSksCiAgICAgICAgICAgICAgICAgcnVsZS5EYXRl
U3BlY1ZhbHVlKCIlcz0lcyIgJSAoaXRlbSwgdmFsdWUpKS5wYXJ0c1tpdGVtXQogICAgICAgICAg
ICAgKQotICAgICAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKAogICAgICAgICAgICAgICAgICIlcy0lcyIgJSAodmFsdWUsIHZhbHVlICsgMSks
CiAgICAgICAgICAgICAgICAgcnVsZS5EYXRlU3BlY1ZhbHVlKAogICAgICAgICAgICAgICAgICAg
ICAiJXM9JXMtJXMiICUgKGl0ZW0sIHZhbHVlLCB2YWx1ZSArIDEpCiAgICAgICAgICAgICAgICAg
KS5wYXJ0c1tpdGVtXQogICAgICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygK
KyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgICJob3Vycz05LTE2IHdlZWtk
YXlzPTEtNSIsCiAgICAgICAgICAgICBzdHIocnVsZS5EYXRlU3BlY1ZhbHVlKCJob3Vycz05LTE2
IHdlZWtkYXlzPTEtNSIpKQogICAgICAgICApCkBAIC0xODcsNyArMTk0LDcgQEAgY2xhc3MgRGF0
ZVZhbHVlVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgIHRyeToKICAgICAgICAgICAg
IHZhbHVlX2NsYXNzKHBhcnRzX3N0cmluZykKICAgICAgICAgZXhjZXB0IHJ1bGUuU3ludGF4RXJy
b3IgYXMgZToKLSAgICAgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHN5bnRheF9lcnJvciwgc3Ry
KGUpKQorICAgICAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChzeW50YXhfZXJyb3IsIHN0cihlKSkK
IAogCiBjbGFzcyBQYXJzZXJUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKQEAgLTIxMSwxMiArMjE4
LDEyIEBAIGNsYXNzIFBhcnNlclRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICApCiAK
ICAgICBkZWYgdGVzdFNpbmdsZUxpdGVyYWxEYXRlc3BlYyhzZWxmKToKLSAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICAiKGRh
dGUtc3BlYyAobGl0ZXJhbCBob3Vycz0xKSkiLAogICAgICAgICAgICAgc3RyKHNlbGYucGFyc2Vy
LnBhcnNlKFsiZGF0ZS1zcGVjIiwgImhvdXJzPTEiXSkpCiAgICAgICAgICkKLSAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbHMoCi0gICAgICAgICAgICAiKGRhdGUtc3BlYyAobGl0ZXJhbCBob3Vycz0x
LTE0IG1vbnRocz0xIG1vbnRoZGF5cz0yMC0zMCkpIiwKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgKKyAgICAgICAgICAgICIoZGF0ZS1zcGVjIChsaXRlcmFsIGhvdXJzPTEtMTQgbW9udGhkYXlz
PTIwLTMwIG1vbnRocz0xKSkiLAogICAgICAgICAgICAgc3RyKHNlbGYucGFyc2VyLnBhcnNlKFsK
ICAgICAgICAgICAgICAgICAiZGF0ZS1zcGVjIiwgImhvdXJzPTEtMTQgbW9udGhzPTEgbW9udGhk
YXlzPTIwLTMwIgogICAgICAgICAgICAgXSkpCkBAIC0yMjQsMjcgKzIzMSwyNyBAQCBjbGFzcyBQ
YXJzZXJUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgc2VsZi5hc3NlcnRVbmV4cGVj
dGVkRW5kT2ZJbnB1dChbImRhdGUtc3BlYyJdKQogCiAgICAgZGVmIHRlc3RTaW1wbGVFeHByZXNz
aW9uKHNlbGYpOgotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbCgKICAgICAgICAgICAgICIoZXEgKGxpdGVyYWwgI3VuYW1lKSAobGl0ZXJhbCBub2Rl
MSkpIiwKICAgICAgICAgICAgIHN0cihzZWxmLnBhcnNlci5wYXJzZShbIiN1bmFtZSIsICJlcSIs
ICJub2RlMSJdKSkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgICIobmUgKGxpdGVyYWwgI3VuYW1lKSAo
bGl0ZXJhbCBub2RlMikpIiwKICAgICAgICAgICAgIHN0cihzZWxmLnBhcnNlci5wYXJzZShbIiN1
bmFtZSIsICJuZSIsICJub2RlMiJdKSkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVx
dWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgICIoZ3QgKGxpdGVy
YWwgaW50KSAobGl0ZXJhbCAxMjMpKSIsCiAgICAgICAgICAgICBzdHIoc2VsZi5wYXJzZXIucGFy
c2UoWyJpbnQiLCAiZ3QiLCAiMTIzIl0pKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgIihndGUgKGxp
dGVyYWwgaW50KSAobGl0ZXJhbCAxMjMpKSIsCiAgICAgICAgICAgICBzdHIoc2VsZi5wYXJzZXIu
cGFyc2UoWyJpbnQiLCAiZ3RlIiwgIjEyMyJdKSkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFz
c2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgICIobHQg
KGxpdGVyYWwgaW50KSAobGl0ZXJhbCAxMjMpKSIsCiAgICAgICAgICAgICBzdHIoc2VsZi5wYXJz
ZXIucGFyc2UoWyJpbnQiLCAibHQiLCAiMTIzIl0pKQogICAgICAgICApCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgIihs
dGUgKGxpdGVyYWwgaW50KSAobGl0ZXJhbCAxMjMpKSIsCiAgICAgICAgICAgICBzdHIoc2VsZi5w
YXJzZXIucGFyc2UoWyJpbnQiLCAibHRlIiwgIjEyMyJdKSkKICAgICAgICAgKQpAQCAtMjg5LDEx
ICsyOTYsMTEgQEAgY2xhc3MgUGFyc2VyVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAg
ICkKIAogICAgIGRlZiB0ZXN0RGVmaW5lZEV4cHJlc3Npb24oc2VsZik6Ci0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgIihk
ZWZpbmVkIChsaXRlcmFsIHBpbmdkKSkiLAogICAgICAgICAgICAgc3RyKHNlbGYucGFyc2VyLnBh
cnNlKFsiZGVmaW5lZCIsICJwaW5nZCJdKSkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgICIobm90X2Rl
ZmluZWQgKGxpdGVyYWwgcGluZ2QpKSIsCiAgICAgICAgICAgICBzdHIoc2VsZi5wYXJzZXIucGFy
c2UoWyJub3RfZGVmaW5lZCIsICJwaW5nZCJdKSkKICAgICAgICAgKQpAQCAtMzIzLDM1ICszMzAs
MzUgQEAgY2xhc3MgUGFyc2VyVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgICkKIAog
ICAgIGRlZiB0ZXN0VHlwZUV4cHJlc3Npb24oc2VsZik6Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgIihlcSAobGl0ZXJh
bCAjdW5hbWUpIChzdHJpbmcgKGxpdGVyYWwgbm9kZTEpKSkiLAogICAgICAgICAgICAgc3RyKHNl
bGYucGFyc2VyLnBhcnNlKFsiI3VuYW1lIiwgImVxIiwgInN0cmluZyIsICJub2RlMSJdKSkKICAg
ICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgKICAgICAgICAgICAgICIoZXEgKGxpdGVyYWwgI3VuYW1lKSAoaW50ZWdlciAobGl0ZXJh
bCAxMjM0NSkpKSIsCiAgICAgICAgICAgICBzdHIoc2VsZi5wYXJzZXIucGFyc2UoWyIjdW5hbWUi
LCAiZXEiLCAiaW50ZWdlciIsICIxMjM0NSJdKSkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFz
c2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgICIoZXEg
KGxpdGVyYWwgI3VuYW1lKSAoaW50ZWdlciAobGl0ZXJhbCAtMTIzNDUpKSkiLAogICAgICAgICAg
ICAgc3RyKHNlbGYucGFyc2VyLnBhcnNlKFsiI3VuYW1lIiwgImVxIiwgImludGVnZXIiLCAiLTEy
MzQ1Il0pKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgIihlcSAobGl0ZXJhbCAjdW5hbWUpICh2ZXJz
aW9uIChsaXRlcmFsIDEpKSkiLAogICAgICAgICAgICAgc3RyKHNlbGYucGFyc2VyLnBhcnNlKFsi
I3VuYW1lIiwgImVxIiwgInZlcnNpb24iLCAiMSJdKSkKICAgICAgICAgKQotICAgICAgICBzZWxm
LmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgICIo
ZXEgKGxpdGVyYWwgI3VuYW1lKSAodmVyc2lvbiAobGl0ZXJhbCAxLjIuMykpKSIsCiAgICAgICAg
ICAgICBzdHIoc2VsZi5wYXJzZXIucGFyc2UoWyIjdW5hbWUiLCAiZXEiLCAidmVyc2lvbiIsICIx
LjIuMyJdKSkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgICIoZXEgKGxpdGVyYWwgI3VuYW1lKSAoc3Ry
aW5nIChsaXRlcmFsIHN0cmluZykpKSIsCiAgICAgICAgICAgICBzdHIoc2VsZi5wYXJzZXIucGFy
c2UoWyIjdW5hbWUiLCAiZXEiLCAic3RyaW5nIiwgInN0cmluZyJdKSkKICAgICAgICAgKQotICAg
ICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAg
ICAgICAgICIoZXEgKGxpdGVyYWwgI3VuYW1lKSAoc3RyaW5nIChsaXRlcmFsIGFuZCkpKSIsCiAg
ICAgICAgICAgICBzdHIoc2VsZi5wYXJzZXIucGFyc2UoWyIjdW5hbWUiLCAiZXEiLCAic3RyaW5n
IiwgImFuZCJdKSkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgICIoYW5kICIKICAgICAgICAgICAgICAg
ICAiKG5lIChsaXRlcmFsICN1bmFtZSkgKHN0cmluZyAobGl0ZXJhbCBpbnRlZ2VyKSkpICIKICAg
ICAgICAgICAgICAgICAiKG5lIChsaXRlcmFsICN1bmFtZSkgKHN0cmluZyAobGl0ZXJhbCB2ZXJz
aW9uKSkpIgpAQCAtMzgwLDE1ICszODcsMTUgQEAgY2xhc3MgUGFyc2VyVGVzdCh1bml0dGVzdC5U
ZXN0Q2FzZSk6CiAgICAgICAgICkKIAogICAgIGRlZiB0ZXN0RGF0ZUV4cHJlc3Npb24oc2VsZik6
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAog
ICAgICAgICAgICAgIihndCAobGl0ZXJhbCBkYXRlKSAobGl0ZXJhbCAyMDE0LTA2LTI2KSkiLAog
ICAgICAgICAgICAgc3RyKHNlbGYucGFyc2VyLnBhcnNlKFsiZGF0ZSIsICJndCIsICIyMDE0LTA2
LTI2Il0pKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgIihsdCAobGl0ZXJhbCBkYXRlKSAobGl0ZXJh
bCAyMDE0LTA2LTI2KSkiLAogICAgICAgICAgICAgc3RyKHNlbGYucGFyc2VyLnBhcnNlKFsiZGF0
ZSIsICJsdCIsICIyMDE0LTA2LTI2Il0pKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgIihpbl9yYW5n
ZSAiCiAgICAgICAgICAgICAgICAgIihsaXRlcmFsIGRhdGUpIChsaXRlcmFsIDIwMTQtMDYtMjYp
IChsaXRlcmFsIDIwMTQtMDctMjYpIgogICAgICAgICAgICAgIikiLApAQCAtMzk2LDcgKzQwMyw3
IEBAIGNsYXNzIFBhcnNlclRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICAgICAgICAg
ICJkYXRlIiwgImluX3JhbmdlIiwgIjIwMTQtMDYtMjYiLCAidG8iLCAiMjAxNC0wNy0yNiIKICAg
ICAgICAgICAgIF0pKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgIihpbl9yYW5nZSAiCiAgICAgICAg
ICAgICAgICAgIihsaXRlcmFsIGRhdGUpICIKICAgICAgICAgICAgICAgICAiKGxpdGVyYWwgMjAx
NC0wNi0yNikgKGR1cmF0aW9uIChsaXRlcmFsIHllYXJzPTEpKSIKQEAgLTQ2Nyw3ICs0NzQsNyBA
QCBjbGFzcyBQYXJzZXJUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgKQogCiAgICAg
ZGVmIHRlc3RBbmRPckV4cHJlc3Npb24oc2VsZik6Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgIihhbmQgIgogICAgICAg
ICAgICAgICAgICIobmUgKGxpdGVyYWwgI3VuYW1lKSAobGl0ZXJhbCBub2RlMSkpICIKICAgICAg
ICAgICAgICAgICAiKG5lIChsaXRlcmFsICN1bmFtZSkgKGxpdGVyYWwgbm9kZTIpKSIKQEAgLTQ3
Niw3ICs0ODMsNyBAQCBjbGFzcyBQYXJzZXJUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAg
ICAgICAgICAgICAiI3VuYW1lIiwgIm5lIiwgIm5vZGUxIiwgImFuZCIsICIjdW5hbWUiLCAibmUi
LCAibm9kZTIiCiAgICAgICAgICAgICBdKSkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgICIob3IgIgog
ICAgICAgICAgICAgICAgICIoZXEgKGxpdGVyYWwgI3VuYW1lKSAobGl0ZXJhbCBub2RlMSkpICIK
ICAgICAgICAgICAgICAgICAiKGVxIChsaXRlcmFsICN1bmFtZSkgKGxpdGVyYWwgbm9kZTIpKSIK
QEAgLTQ4NSw3ICs0OTIsNyBAQCBjbGFzcyBQYXJzZXJUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToK
ICAgICAgICAgICAgICAgICAiI3VuYW1lIiwgImVxIiwgIm5vZGUxIiwgIm9yIiwgIiN1bmFtZSIs
ICJlcSIsICJub2RlMiIKICAgICAgICAgICAgIF0pKQogICAgICAgICApCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgIihh
bmQgIgogICAgICAgICAgICAgICAgICIoYW5kICIKICAgICAgICAgICAgICAgICAgICAgIihuZSAo
bGl0ZXJhbCAjdW5hbWUpIChsaXRlcmFsIG5vZGUxKSkgIgpAQCAtNDk5LDcgKzUwNiw3IEBAIGNs
YXNzIFBhcnNlclRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICAgICAgICAgICJhbmQi
LCAiI3VuYW1lIiwgIm5lIiwgIm5vZGUzIgogICAgICAgICAgICAgXSkpCiAgICAgICAgICkKLSAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAg
ICAgICAgICAiKG9yICIKICAgICAgICAgICAgICAgICAiKGFuZCAiCiAgICAgICAgICAgICAgICAg
ICAgICIobmUgKGxpdGVyYWwgI3VuYW1lKSAobGl0ZXJhbCBub2RlMSkpICIKQEAgLTUxMyw3ICs1
MjAsNyBAQCBjbGFzcyBQYXJzZXJUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgICAg
ICAgICAib3IiLCAiI3VuYW1lIiwgImVxIiwgIm5vZGUzIgogICAgICAgICAgICAgXSkpCiAgICAg
ICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoCiAgICAgICAgICAgICAiKGFuZCAiCiAgICAgICAgICAgICAgICAgIihvciAiCiAgICAgICAg
ICAgICAgICAgICAgICIoZXEgKGxpdGVyYWwgI3VuYW1lKSAobGl0ZXJhbCBub2RlMSkpICIKQEAg
LTUyNyw3ICs1MzQsNyBAQCBjbGFzcyBQYXJzZXJUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAg
ICAgICAgICAgICAgICAiYW5kIiwgIiN1bmFtZSIsICJuZSIsICJub2RlMyIKICAgICAgICAgICAg
IF0pKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxm
LmFzc2VydEVxdWFsKAogICAgICAgICAgICAgIihhbmQgIgogICAgICAgICAgICAgICAgICIoZGVm
aW5lZCAobGl0ZXJhbCBwaW5nZCkpICIKICAgICAgICAgICAgICAgICAiKGx0ZSAobGl0ZXJhbCBw
aW5nZCkgKGxpdGVyYWwgMSkpIgpAQCAtNTM2LDcgKzU0Myw3IEBAIGNsYXNzIFBhcnNlclRlc3Qo
dW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICAgICAgICAgICJkZWZpbmVkIiwgInBpbmdkIiwg
ImFuZCIsICJwaW5nZCIsICJsdGUiLCAiMSIKICAgICAgICAgICAgIF0pKQogICAgICAgICApCi0g
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAg
ICAgICAgICAgIihvciAiCiAgICAgICAgICAgICAgICAgIihndCAobGl0ZXJhbCBwaW5nZCkgKGxp
dGVyYWwgMSkpICIKICAgICAgICAgICAgICAgICAiKG5vdF9kZWZpbmVkIChsaXRlcmFsIHBpbmdk
KSkiCkBAIC01NDcsNyArNTU0LDcgQEAgY2xhc3MgUGFyc2VyVGVzdCh1bml0dGVzdC5UZXN0Q2Fz
ZSk6CiAgICAgICAgICkKIAogICAgIGRlZiB0ZXN0QW5kT3JFeHByZXNzaW9uRGF0ZVNwZWMoc2Vs
Zik6Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFs
KAogICAgICAgICAgICAgIihhbmQgIgogICAgICAgICAgICAgICAgICIobmUgKGxpdGVyYWwgI3Vu
YW1lKSAobGl0ZXJhbCBub2RlMSkpICIKICAgICAgICAgICAgICAgICAiKGRhdGUtc3BlYyAobGl0
ZXJhbCBob3Vycz0xLTEyKSkiCkBAIC01NTYsNyArNTYzLDcgQEAgY2xhc3MgUGFyc2VyVGVzdCh1
bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgICAgICAgICAgIiN1bmFtZSIsICJuZSIsICJub2Rl
MSIsICJhbmQiLCAiZGF0ZS1zcGVjIiwgImhvdXJzPTEtMTIiCiAgICAgICAgICAgICBdKSkKICAg
ICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgKICAgICAgICAgICAgICIob3IgIgogICAgICAgICAgICAgICAgICIoZGF0ZS1zcGVjIChs
aXRlcmFsIG1vbnRoZGF5cz0xLTEyKSkgIgogICAgICAgICAgICAgICAgICIobmUgKGxpdGVyYWwg
I3VuYW1lKSAobGl0ZXJhbCBub2RlMSkpIgpAQCAtNTY1LDcgKzU3Miw3IEBAIGNsYXNzIFBhcnNl
clRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICAgICAgICAgICJkYXRlLXNwZWMiLCAi
bW9udGhkYXlzPTEtMTIiLCAib3IiLCAiI3VuYW1lIiwgIm5lIiwgIm5vZGUxIgogICAgICAgICAg
ICAgXSkpCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICAiKG9yICIKICAgICAgICAgICAgICAgICAiKGRh
dGUtc3BlYyAobGl0ZXJhbCBtb250aGRheXM9MS0xMCkpICIKICAgICAgICAgICAgICAgICAiKGRh
dGUtc3BlYyAobGl0ZXJhbCBtb250aGRheXM9MTEtMjApKSIKQEAgLTU3OCw3ICs1ODUsNyBAQCBj
bGFzcyBQYXJzZXJUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgKQogCiAgICAgZGVm
IHRlc3RBbmRPckV4cHJlc3Npb25EYXRlKHNlbGYpOgotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgICIoYW5kICIKICAgICAg
ICAgICAgICAgICAiKG5lIChsaXRlcmFsICN1bmFtZSkgKGxpdGVyYWwgbm9kZTEpKSAiCiAgICAg
ICAgICAgICAgICAgIihpbl9yYW5nZSAiCkBAIC01OTEsNyArNTk4LDcgQEAgY2xhc3MgUGFyc2Vy
VGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgICAgICAgICAgImRhdGUiLCAiaW5fcmFu
Z2UiLCAiMjAxNC0wNi0yNiIsICJ0byIsICIyMDE0LTA3LTI2IgogICAgICAgICAgICAgXSkpCiAg
ICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwoCiAgICAgICAgICAgICAiKGFuZCAiCiAgICAgICAgICAgICAgICAgIihpbl9yYW5nZSAi
CiAgICAgICAgICAgICAgICAgICAgICIobGl0ZXJhbCBkYXRlKSAobGl0ZXJhbCAyMDE0LTA2LTI2
KSAobGl0ZXJhbCAyMDE0LTA3LTI2KSIKQEAgLTY1MywxOSArNjYwLDE5IEBAIGNsYXNzIFBhcnNl
clRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICAgICAgIidkZWZpbmVkJywgJ25vdF9k
ZWZpbmVkJywgJ2RhdGUtc3BlYyciLAogICAgICAgICAgICAgWyIoIiwgIiN1bmFtZSIsICIpIl0K
ICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbCgKICAgICAgICAgICAgICIoZGF0ZS1zcGVjIChsaXRlcmFsIGhvdXJzPTEpKSIsCiAg
ICAgICAgICAgICBzdHIoc2VsZi5wYXJzZXIucGFyc2UoWyIoIiwgImRhdGUtc3BlYyIsICJob3Vy
cz0xIiwgIikiXSkpCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICAiKGVxIChsaXRlcmFsICN1bmFtZSkg
KGxpdGVyYWwgbm9kZTEpKSIsCiAgICAgICAgICAgICBzdHIoc2VsZi5wYXJzZXIucGFyc2UoWyIo
IiwgIiN1bmFtZSIsICJlcSIsICJub2RlMSIsICIpIl0pKQogICAgICAgICApCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAg
IihkZWZpbmVkIChsaXRlcmFsIHBpbmdkKSkiLAogICAgICAgICAgICAgc3RyKHNlbGYucGFyc2Vy
LnBhcnNlKFsiKCIsICJkZWZpbmVkIiwgInBpbmdkIiwgIikiXSkpCiAgICAgICAgICkKLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAg
ICAgICAiKGFuZCAiCiAgICAgICAgICAgICAgICAgIihuZSAobGl0ZXJhbCAjdW5hbWUpIChsaXRl
cmFsIG5vZGUxKSkgIgogICAgICAgICAgICAgICAgICIobmUgKGxpdGVyYWwgI3VuYW1lKSAobGl0
ZXJhbCBub2RlMikpIgpAQCAtNjc2LDcgKzY4Myw3IEBAIGNsYXNzIFBhcnNlclRlc3QodW5pdHRl
c3QuVGVzdENhc2UpOgogICAgICAgICAgICAgICAgICIpIgogICAgICAgICAgICAgXSkpCiAgICAg
ICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoCiAgICAgICAgICAgICAiKGFuZCAiCiAgICAgICAgICAgICAgICAgIihuZSAobGl0ZXJhbCAj
dW5hbWUpIChsaXRlcmFsIG5vZGUxKSkgIgogICAgICAgICAgICAgICAgICIobmUgKGxpdGVyYWwg
I3VuYW1lKSAobGl0ZXJhbCBub2RlMikpIgpAQCAtNjg3LDcgKzY5NCw3IEBAIGNsYXNzIFBhcnNl
clRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICAgICAgICAgICIoIiwgIiN1bmFtZSIs
ICJuZSIsICJub2RlMiIsICIpIgogICAgICAgICAgICAgXSkpCiAgICAgICAgICkKLSAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAg
ICAiKG9yICIKICAgICAgICAgICAgICAgICAiKGFuZCAiCiAgICAgICAgICAgICAgICAgICAgICIo
bmUgKGxpdGVyYWwgI3VuYW1lKSAobGl0ZXJhbCBub2RlMSkpICIKQEAgLTcwMiw3ICs3MDksNyBA
QCBjbGFzcyBQYXJzZXJUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgICAgICAgICAi
b3IiLCAiI3VuYW1lIiwgImVxIiwgIm5vZGUzIgogICAgICAgICAgICAgXSkpCiAgICAgICAgICkK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAg
ICAgICAgICAgICAiKGFuZCAiCiAgICAgICAgICAgICAgICAgIihuZSAobGl0ZXJhbCAjdW5hbWUp
IChsaXRlcmFsIG5vZGUxKSkgIgogICAgICAgICAgICAgICAgICIob3IgIgpAQCAtNzE2LDcgKzcy
Myw3IEBAIGNsYXNzIFBhcnNlclRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICAgICAg
ICAgICIoIiwgIiN1bmFtZSIsICJuZSIsICJub2RlMiIsICJvciIsICIjdW5hbWUiLCAiZXEiLCAi
bm9kZTMiLCAiKSIKICAgICAgICAgICAgIF0pKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgIihhbmQg
IgogICAgICAgICAgICAgICAgICIobmUgKGxpdGVyYWwgI3VuYW1lKSAobGl0ZXJhbCBub2RlMSkp
ICIKICAgICAgICAgICAgICAgICAiKG9yICIKQEAgLTczNiw3ICs3NDMsNyBAQCBjbGFzcyBQYXJz
ZXJUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgICAgICAgICAiKSIsICIpIgogICAg
ICAgICAgICAgXSkpCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICAiKGluX3JhbmdlICIKICAgICAgICAg
ICAgICAgICAiKGxpdGVyYWwgZGF0ZSkgKGxpdGVyYWwgMjAxNC0wNi0yNikgKGxpdGVyYWwgMjAx
NC0wNy0yNikiCiAgICAgICAgICAgICAiKSIsCkBAIC03NzEsNyArNzc4LDcgQEAgY2xhc3MgUGFy
c2VyVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgIHRyeToKICAgICAgICAgICAgIHNl
bGYucGFyc2VyLnBhcnNlKHByb2dyYW0pCiAgICAgICAgIGV4Y2VwdCBydWxlLlN5bnRheEVycm9y
IGFzIGU6Ci0gICAgICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhzeW50YXhfZXJyb3IsIHN0cihl
KSkKKyAgICAgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoc3ludGF4X2Vycm9yLCBzdHIoZSkpCiAK
IAogY2xhc3MgQ2liQnVpbGRlclRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgpAQCAtMTI1NiwzNiAr
MTI2MywzNiBAQCBjbGFzcyBUb2tlblByZXByb2Nlc3NvclRlc3QodW5pdHRlc3QuVGVzdENhc2Up
OgogICAgICAgICBzZWxmLnByZXByb2Nlc3NvciA9IHJ1bGUuVG9rZW5QcmVwcm9jZXNzb3IoKQog
CiAgICAgZGVmIHRlc3ROb0NoYW5nZXMoc2VsZik6Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KFtdLCBzZWxmLnByZXByb2Nlc3Nvci5ydW4oW10pKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChbXSwgc2VsZi5wcmVwcm9jZXNzb3IucnVuKFtd
KSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIFsiI3VuYW1lIiwgImVx
IiwgIm5vZGUxIl0sCiAgICAgICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5ydW4oWyIjdW5hbWUi
LCAiZXEiLCAibm9kZTEiXSkKICAgICAgICAgKQogCiAgICAgZGVmIHRlc3REYXRlU3BlYyhzZWxm
KToKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
CiAgICAgICAgICAgICBbImRhdGUtc3BlYyJdLAogICAgICAgICAgICAgc2VsZi5wcmVwcm9jZXNz
b3IucnVuKFsiZGF0ZS1zcGVjIl0pCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbImRhdGUtc3BlYyIs
ICJob3Vycz0xNCJdLAogICAgICAgICAgICAgc2VsZi5wcmVwcm9jZXNzb3IucnVuKFsiZGF0ZS1z
cGVjIiwgImhvdXJzPTE0Il0pCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMo
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbImRhdGUtc3BlYyIsICJo
b3VycyB3ZWVrcz02IG1vbnRocz0gbW9vbj0xIl0sCiAgICAgICAgICAgICBzZWxmLnByZXByb2Nl
c3Nvci5ydW4oCiAgICAgICAgICAgICAgICAgWyJkYXRlLXNwZWMiLCAiaG91cnMiLCAid2Vla3M9
NiIsICJtb250aHM9IiwgIm1vb249MSJdCiAgICAgICAgICAgICApCiAgICAgICAgICkKLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAg
ICAgICBbImRhdGUtc3BlYyIsICJmb28iLCAiaG91cnM9MTQiXSwKICAgICAgICAgICAgIHNlbGYu
cHJlcHJvY2Vzc29yLnJ1bihbImRhdGUtc3BlYyIsICJmb28iLCAiaG91cnM9MTQiXSkKICAgICAg
ICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgKICAgICAgICAgICAgIFsiZGF0ZS1zcGVjIiwgImhvdXJzPTE0IiwgImZvbyIsICJob3Vycz0x
NCJdLAogICAgICAgICAgICAgc2VsZi5wcmVwcm9jZXNzb3IucnVuKFsiZGF0ZS1zcGVjIiwgImhv
dXJzPTE0IiwgImZvbyIsICJob3Vycz0xNCJdKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWwogICAg
ICAgICAgICAgICAgICJkYXRlLXNwZWMiLAogICAgICAgICAgICAgICAgICJob3Vycz0xIG1vbnRo
ZGF5cz0yIHdlZWtkYXlzPTMgeWVhcmRheXM9NCBtb250aHM9NSAiCkBAIC0xMjk3LDEzICsxMzA0
LDEzIEBAIGNsYXNzIFRva2VuUHJlcHJvY2Vzc29yVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAg
ICAgICAgICAgICAgICAgIm1vbnRocz01Iiwid2Vla3M9NiIsICJ5ZWFycz03IiwgIndlZWt5ZWFy
cz04IiwgIm1vb249OSIKICAgICAgICAgICAgIF0pCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbIiN1
bmFtZSIsICJlcSIsICJub2RlMSIsICJvciIsICJkYXRlLXNwZWMiLCAiaG91cnM9MTQiXSwKICAg
ICAgICAgICAgIHNlbGYucHJlcHJvY2Vzc29yLnJ1bihbCiAgICAgICAgICAgICAgICAgIiN1bmFt
ZSIsICJlcSIsICJub2RlMSIsICJvciIsICJkYXRlLXNwZWMiLCAiaG91cnM9MTQiCiAgICAgICAg
ICAgICBdKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWyJkYXRlLXNwZWMiLCAiaG91cnM9MTQiLCAi
b3IiLCAiI3VuYW1lIiwgImVxIiwgIm5vZGUxIl0sCiAgICAgICAgICAgICBzZWxmLnByZXByb2Nl
c3Nvci5ydW4oWwogICAgICAgICAgICAgICAgICJkYXRlLXNwZWMiLCAiaG91cnM9MTQiLCAib3Ii
LCAiI3VuYW1lIiwgImVxIiwgIm5vZGUxIiwKQEAgLTEzMTEsMjkgKzEzMTgsMjkgQEAgY2xhc3Mg
VG9rZW5QcmVwcm9jZXNzb3JUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgKQogCiAg
ICAgZGVmIHRlc3REdXJhdGlvbihzZWxmKToKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbImR1cmF0aW9uIl0sCiAgICAg
ICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5ydW4oWyJkdXJhdGlvbiJdKQogICAgICAgICApCi0g
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAg
ICAgICAgICAgWyJkdXJhdGlvbiIsICJob3Vycz0xNCJdLAogICAgICAgICAgICAgc2VsZi5wcmVw
cm9jZXNzb3IucnVuKFsiZHVyYXRpb24iLCAiaG91cnM9MTQiXSkKICAgICAgICAgKQotICAgICAg
ICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAg
ICAgIFsiZHVyYXRpb24iLCAiaG91cnMgd2Vla3M9NiBtb250aHM9IG1vb249MSJdLAogICAgICAg
ICAgICAgc2VsZi5wcmVwcm9jZXNzb3IucnVuKAogICAgICAgICAgICAgICAgIFsiZHVyYXRpb24i
LCAiaG91cnMiLCAid2Vla3M9NiIsICJtb250aHM9IiwgIm1vb249MSJdCiAgICAgICAgICAgICAp
CiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoCiAgICAgICAgICAgICBbImR1cmF0aW9uIiwgImZvbyIsICJob3Vycz0xNCJdLAog
ICAgICAgICAgICAgc2VsZi5wcmVwcm9jZXNzb3IucnVuKFsiZHVyYXRpb24iLCAiZm9vIiwgImhv
dXJzPTE0Il0pCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbImR1cmF0aW9uIiwgImhvdXJzPTE0Iiwg
ImZvbyIsICJob3Vycz0xNCJdLAogICAgICAgICAgICAgc2VsZi5wcmVwcm9jZXNzb3IucnVuKFsi
ZHVyYXRpb24iLCAiaG91cnM9MTQiLCAiZm9vIiwgImhvdXJzPTE0Il0pCiAgICAgICAgICkKLSAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAg
ICAgICAgICBbCiAgICAgICAgICAgICAgICAgImR1cmF0aW9uIiwKICAgICAgICAgICAgICAgICAi
aG91cnM9MSBtb250aGRheXM9MiB3ZWVrZGF5cz0zIHllYXJkYXlzPTQgbW9udGhzPTUgIgpAQCAt
MTM0NSwxMyArMTM1MiwxMyBAQCBjbGFzcyBUb2tlblByZXByb2Nlc3NvclRlc3QodW5pdHRlc3Qu
VGVzdENhc2UpOgogICAgICAgICAgICAgICAgICJtb250aHM9NSIsIndlZWtzPTYiLCAieWVhcnM9
NyIsICJ3ZWVreWVhcnM9OCIsICJtb29uPTkiCiAgICAgICAgICAgICBdKQogICAgICAgICApCi0g
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAg
ICAgICAgICAgWyIjdW5hbWUiLCAiZXEiLCAibm9kZTEiLCAib3IiLCAiZHVyYXRpb24iLCAiaG91
cnM9MTQiXSwKICAgICAgICAgICAgIHNlbGYucHJlcHJvY2Vzc29yLnJ1bihbCiAgICAgICAgICAg
ICAgICAgIiN1bmFtZSIsICJlcSIsICJub2RlMSIsICJvciIsICJkdXJhdGlvbiIsICJob3Vycz0x
NCIKICAgICAgICAgICAgIF0pCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMo
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbImR1cmF0aW9uIiwgImhv
dXJzPTE0IiwgIm9yIiwgIiN1bmFtZSIsICJlcSIsICJub2RlMSJdLAogICAgICAgICAgICAgc2Vs
Zi5wcmVwcm9jZXNzb3IucnVuKFsKICAgICAgICAgICAgICAgICAiZHVyYXRpb24iLCAiaG91cnM9
MTQiLCAib3IiLCAiI3VuYW1lIiwgImVxIiwgIm5vZGUxIiwKQEAgLTEzNTksNDkgKzEzNjYsNDkg
QEAgY2xhc3MgVG9rZW5QcmVwcm9jZXNzb3JUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAg
ICAgKQogCiAgICAgZGVmIHRlc3RPcGVyYXRpb25EYXRlc3BlYyhzZWxmKToKLSAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBb
ImRhdGUtc3BlYyIsICJ3ZWVrcz02IG1vb249MSJdLAogICAgICAgICAgICAgc2VsZi5wcmVwcm9j
ZXNzb3IucnVuKAogICAgICAgICAgICAgICAgIFsiZGF0ZS1zcGVjIiwgIm9wZXJhdGlvbj1kYXRl
X3NwZWMiLCAid2Vla3M9NiIsICJtb29uPTEiXQogICAgICAgICAgICAgKQogICAgICAgICApCi0g
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAg
ICAgICAgICAgWyJkYXRlLXNwZWMiLCAid2Vla3M9NiBtb29uPTEiXSwKICAgICAgICAgICAgIHNl
bGYucHJlcHJvY2Vzc29yLnJ1bigKICAgICAgICAgICAgICAgICBbImRhdGUtc3BlYyIsICJ3ZWVr
cz02IiwgIm9wZXJhdGlvbj1kYXRlX3NwZWMiLCAibW9vbj0xIl0KICAgICAgICAgICAgICkKICAg
ICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgKICAgICAgICAgICAgIFsiZGF0ZS1zcGVjIiwgIndlZWtzPTYiLCAiZm9vIiwgIm1vb249
MSJdLAogICAgICAgICAgICAgc2VsZi5wcmVwcm9jZXNzb3IucnVuKAogICAgICAgICAgICAgICAg
IFsiZGF0ZS1zcGVjIiwgIndlZWtzPTYiLCAib3BlcmF0aW9uPWRhdGVfc3BlYyIsICJmb28iLCAi
bW9vbj0xIl0KICAgICAgICAgICAgICkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVx
dWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIFsiZGF0ZS1zcGVj
IiwgIndlZWtzPTYiLCAiZm9vIiwgIm9wZXJhdGlvbj1kYXRlX3NwZWMiLCAibW9vbj0xIl0sCiAg
ICAgICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5ydW4oCiAgICAgICAgICAgICAgICAgWyJkYXRl
LXNwZWMiLCAid2Vla3M9NiIsICJmb28iLCAib3BlcmF0aW9uPWRhdGVfc3BlYyIsICJtb29uPTEi
XQogICAgICAgICAgICAgKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWyJkYXRlLXNwZWMiLCAid2Vl
a3M9NiBtb29uPTEiXSwKICAgICAgICAgICAgIHNlbGYucHJlcHJvY2Vzc29yLnJ1bigKICAgICAg
ICAgICAgICAgICBbImRhdGUtc3BlYyIsICJ3ZWVrcz02IiwgIm1vb249MSIsICJvcGVyYXRpb249
ZGF0ZV9zcGVjIl0KICAgICAgICAgICAgICkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIFsiZGF0ZS1z
cGVjIiwgIndlZWtzPTYgbW9vbj0xIiwgImZvbyJdLAogICAgICAgICAgICAgc2VsZi5wcmVwcm9j
ZXNzb3IucnVuKAogICAgICAgICAgICAgICAgIFsiZGF0ZS1zcGVjIiwgIndlZWtzPTYiLCAibW9v
bj0xIiwgIm9wZXJhdGlvbj1kYXRlX3NwZWMiLCAiZm9vIl0KICAgICAgICAgICAgICkKICAgICAg
ICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgKICAgICAgICAgICAgIFsiZGF0ZS1zcGVjIl0sCiAgICAgICAgICAgICBzZWxmLnByZXByb2Nl
c3Nvci5ydW4oCiAgICAgICAgICAgICAgICAgWyJkYXRlLXNwZWMiLCAib3BlcmF0aW9uPWRhdGVf
c3BlYyJdCiAgICAgICAgICAgICApCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbImRhdGUtc3BlYyIs
ICJ3ZWVrcz02IiwgIm9wZXJhdGlvbj1mb28iLCAibW9vbj0xIl0sCiAgICAgICAgICAgICBzZWxm
LnByZXByb2Nlc3Nvci5ydW4oCiAgICAgICAgICAgICAgICAgWyJkYXRlLXNwZWMiLCAid2Vla3M9
NiIsICJvcGVyYXRpb249Zm9vIiwgIm1vb249MSJdCkBAIC0xNDEwLDUwICsxNDE3LDUwIEBAIGNs
YXNzIFRva2VuUHJlcHJvY2Vzc29yVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAKICAgICBkZWYg
dGVzdERhdGVMZWdhY3lTeW50YXgoc2VsZik6CiAgICAgICAgICMgdmFsaWQgc3ludGF4Ci0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAg
ICAgICAgWyJkYXRlIiwgImd0IiwgIjIwMTQtMDYtMjYiXSwKICAgICAgICAgICAgIHNlbGYucHJl
cHJvY2Vzc29yLnJ1bihbCiAgICAgICAgICAgICAgICAgImRhdGUiLCAic3RhcnQ9MjAxNC0wNi0y
NiIsICJndCIKICAgICAgICAgICAgIF0pCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbImRhdGUiLCAi
bHQiLCAiMjAxNC0wNi0yNiJdLAogICAgICAgICAgICAgc2VsZi5wcmVwcm9jZXNzb3IucnVuKFsK
ICAgICAgICAgICAgICAgICAiZGF0ZSIsICJlbmQ9MjAxNC0wNi0yNiIsICJsdCIKICAgICAgICAg
ICAgIF0pCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbImRhdGUiLCAiaW5fcmFuZ2UiLCAiMjAxNC0w
Ni0yNiIsICJ0byIsICIyMDE0LTA3LTI2Il0sCiAgICAgICAgICAgICBzZWxmLnByZXByb2Nlc3Nv
ci5ydW4oWwogICAgICAgICAgICAgICAgICJkYXRlIiwgInN0YXJ0PTIwMTQtMDYtMjYiLCAiZW5k
PTIwMTQtMDctMjYiLCAiaW5fcmFuZ2UiCiAgICAgICAgICAgICBdKQogICAgICAgICApCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAg
ICAgICAgWyJkYXRlIiwgImluX3JhbmdlIiwgIjIwMTQtMDYtMjYiLCAidG8iLCAiMjAxNC0wNy0y
NiJdLAogICAgICAgICAgICAgc2VsZi5wcmVwcm9jZXNzb3IucnVuKFsKICAgICAgICAgICAgICAg
ICAiZGF0ZSIsICJlbmQ9MjAxNC0wNy0yNiIsICJzdGFydD0yMDE0LTA2LTI2IiwgImluX3Jhbmdl
IgogICAgICAgICAgICAgXSkKICAgICAgICAgKQogCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWyJkYXRlIiwgImd0Iiwg
IjIwMTQtMDYtMjYiLCAiZm9vIl0sCiAgICAgICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5ydW4o
WwogICAgICAgICAgICAgICAgICJkYXRlIiwgInN0YXJ0PTIwMTQtMDYtMjYiLCAiZ3QiLCAiZm9v
IgogICAgICAgICAgICAgXSkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygK
KyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIFsiZGF0ZSIsICJsdCIsICIy
MDE0LTA2LTI2IiwgImZvbyJdLAogICAgICAgICAgICAgc2VsZi5wcmVwcm9jZXNzb3IucnVuKFsK
ICAgICAgICAgICAgICAgICAiZGF0ZSIsICJlbmQ9MjAxNC0wNi0yNiIsICJsdCIsICJmb28iCiAg
ICAgICAgICAgICBdKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWyJkYXRlIiwgImluX3JhbmdlIiwg
IjIwMTQtMDYtMjYiLCAidG8iLCAiMjAxNC0wNy0yNiIsICJmb28iXSwKICAgICAgICAgICAgIHNl
bGYucHJlcHJvY2Vzc29yLnJ1bihbCiAgICAgICAgICAgICAgICAgImRhdGUiLCAic3RhcnQ9MjAx
NC0wNi0yNiIsICJlbmQ9MjAxNC0wNy0yNiIsICJpbl9yYW5nZSIsICJmb28iCiAgICAgICAgICAg
ICBdKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxm
LmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWyJkYXRlIiwgImluX3JhbmdlIiwgIjIwMTQtMDYt
MjYiLCAidG8iLCAiMjAxNC0wNy0yNiIsICJmb28iXSwKICAgICAgICAgICAgIHNlbGYucHJlcHJv
Y2Vzc29yLnJ1bihbCiAgICAgICAgICAgICAgICAgImRhdGUiLCAiZW5kPTIwMTQtMDctMjYiLCAi
c3RhcnQ9MjAxNC0wNi0yNiIsICJpbl9yYW5nZSIsICJmb28iCkBAIC0xNDYxLDczICsxNDY4LDcz
IEBAIGNsYXNzIFRva2VuUHJlcHJvY2Vzc29yVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAg
ICAgICkKIAogICAgICAgICAjIGludmFsaWQgc3ludGF4IC0gbm8gY2hhbmdlCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAg
WyJkYXRlIl0sCiAgICAgICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5ydW4oWwogICAgICAgICAg
ICAgICAgICJkYXRlIgogICAgICAgICAgICAgXSkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFz
c2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIFsiZGF0
ZSIsICJzdGFydD0yMDE0LTA2LTI2Il0sCiAgICAgICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5y
dW4oWwogICAgICAgICAgICAgICAgICJkYXRlIiwgInN0YXJ0PTIwMTQtMDYtMjYiCiAgICAgICAg
ICAgICBdKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWyJkYXRlIiwgImVuZD0yMDE0LTA2LTI2Il0s
CiAgICAgICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5ydW4oWwogICAgICAgICAgICAgICAgICJk
YXRlIiwgImVuZD0yMDE0LTA2LTI2IgogICAgICAgICAgICAgXSkKICAgICAgICAgKQotICAgICAg
ICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAg
ICAgIFsiZGF0ZSIsICJzdGFydD0yMDE0LTA2LTI2IiwgImVuZD0yMDE0LTA3LTI2Il0sCiAgICAg
ICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5ydW4oWwogICAgICAgICAgICAgICAgICJkYXRlIiwg
InN0YXJ0PTIwMTQtMDYtMjYiLCAiZW5kPTIwMTQtMDctMjYiCiAgICAgICAgICAgICBdKQogICAg
ICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVx
dWFsKAogICAgICAgICAgICAgWyJkYXRlIiwgInN0YXJ0PTIwMTQtMDYtMjYiLCAiZW5kPTIwMTQt
MDctMjYiLCAibHQiXSwKICAgICAgICAgICAgIHNlbGYucHJlcHJvY2Vzc29yLnJ1bihbCiAgICAg
ICAgICAgICAgICAgImRhdGUiLCAic3RhcnQ9MjAxNC0wNi0yNiIsICJlbmQ9MjAxNC0wNy0yNiIs
ICJsdCIKICAgICAgICAgICAgIF0pCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbImRhdGUiLCAic3Rh
cnQ9MjAxNC0wNi0yNiIsICJsdCIsICJmb28iXSwKICAgICAgICAgICAgIHNlbGYucHJlcHJvY2Vz
c29yLnJ1bihbCiAgICAgICAgICAgICAgICAgImRhdGUiLCAic3RhcnQ9MjAxNC0wNi0yNiIsICJs
dCIsICJmb28iCiAgICAgICAgICAgICBdKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWyJkYXRlIiwg
InN0YXJ0PTIwMTQtMDYtMjYiLCAiZW5kPTIwMTQtMDctMjYiLCAiZ3QiLCAiZm9vIl0sCiAgICAg
ICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5ydW4oWwogICAgICAgICAgICAgICAgICJkYXRlIiwg
InN0YXJ0PTIwMTQtMDYtMjYiLCAiZW5kPTIwMTQtMDctMjYiLCAiZ3QiLCAiZm9vIgogICAgICAg
ICAgICAgXSkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIFsiZGF0ZSIsICJlbmQ9MjAxNC0wNi0yNiIs
ICJndCJdLAogICAgICAgICAgICAgc2VsZi5wcmVwcm9jZXNzb3IucnVuKFsKICAgICAgICAgICAg
ICAgICAiZGF0ZSIsICJlbmQ9MjAxNC0wNi0yNiIsICJndCIKICAgICAgICAgICAgIF0pCiAgICAg
ICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoCiAgICAgICAgICAgICBbImRhdGUiLCAic3RhcnQ9MjAxNC0wNi0yNiIsICJpbl9yYW5nZSIs
ICJmb28iXSwKICAgICAgICAgICAgIHNlbGYucHJlcHJvY2Vzc29yLnJ1bihbCiAgICAgICAgICAg
ICAgICAgImRhdGUiLCAic3RhcnQ9MjAxNC0wNi0yNiIsICJpbl9yYW5nZSIsICJmb28iCiAgICAg
ICAgICAgICBdKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWyJkYXRlIiwgImVuZD0yMDE0LTA3LTI2
IiwgImluX3JhbmdlIl0sCiAgICAgICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5ydW4oWwogICAg
ICAgICAgICAgICAgICJkYXRlIiwgImVuZD0yMDE0LTA3LTI2IiwgImluX3JhbmdlIgogICAgICAg
ICAgICAgXSkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIFsiZm9vIiwgInN0YXJ0PTIwMTQtMDYtMjYi
LCAiZ3QiXSwKICAgICAgICAgICAgIHNlbGYucHJlcHJvY2Vzc29yLnJ1bihbCiAgICAgICAgICAg
ICAgICAgImZvbyIsICJzdGFydD0yMDE0LTA2LTI2IiwgImd0IgogICAgICAgICAgICAgXSkKICAg
ICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgKICAgICAgICAgICAgIFsiZm9vIiwgImVuZD0yMDE0LTA2LTI2IiwgImx0Il0sCiAgICAg
ICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5ydW4oWwogICAgICAgICAgICAgICAgICJmb28iLCAi
ZW5kPTIwMTQtMDYtMjYiLCAibHQiCkBAIC0xNTM1LDU5ICsxNTQyLDU5IEBAIGNsYXNzIFRva2Vu
UHJlcHJvY2Vzc29yVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgICkKIAogICAgIGRl
ZiB0ZXN0UGFyZW50aGVzaXMoc2VsZik6Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWyIoIl0sCiAgICAgICAgICAgICBz
ZWxmLnByZXByb2Nlc3Nvci5ydW4oWyIoIl0pCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbIikiXSwK
ICAgICAgICAgICAgIHNlbGYucHJlcHJvY2Vzc29yLnJ1bihbIikiXSkKICAgICAgICAgKQotICAg
ICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAg
ICAgICAgIFsiKCIsICIoIiwgIikiLCAiKSJdLAogICAgICAgICAgICAgc2VsZi5wcmVwcm9jZXNz
b3IucnVuKFsiKCIsICIoIiwgIikiLCAiKSJdKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWyIoIiwg
IigiLCAiKSIsICIpIl0sCiAgICAgICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5ydW4oWyIoKCkp
Il0pCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbImEiLCAiKCIsICJiIiwgIikiLCAiYyJdLAogICAg
ICAgICAgICAgc2VsZi5wcmVwcm9jZXNzb3IucnVuKFsiYSIsICIoIiwgImIiLCAiKSIsICJjIl0p
CiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoCiAgICAgICAgICAgICBbImEiLCAiKCIsICJiIiwgImMiLCAiKSIsICJkIl0sCiAg
ICAgICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5ydW4oWyJhIiwgIigiLCAiYiIsICJjIiwgIiki
LCAiZCJdKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWyJhIiwgIikiLCAiYiIsICIoIiwgImMiXSwK
ICAgICAgICAgICAgIHNlbGYucHJlcHJvY2Vzc29yLnJ1bihbImEiLCAiKSIsICJiIiwgIigiLCAi
YyJdKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxm
LmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWyJhIiwgIigiLCAiYiIsICIpIiwgImMiXSwKICAg
ICAgICAgICAgIHNlbGYucHJlcHJvY2Vzc29yLnJ1bihbImEiLCAiKGIpIiwgImMiXSkKICAgICAg
ICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgKICAgICAgICAgICAgIFsiYSIsICIoIiwgImIiLCAiKSIsICJjIl0sCiAgICAgICAgICAgICBz
ZWxmLnByZXByb2Nlc3Nvci5ydW4oWyJhKCIsICJiIiwgIiljIl0pCiAgICAgICAgICkKLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAg
ICAgICBbImEiLCAiKCIsICJiIiwgIikiLCAiYyJdLAogICAgICAgICAgICAgc2VsZi5wcmVwcm9j
ZXNzb3IucnVuKFsiYShiKWMiXSkKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIFsiYUEiLCAiKCIsICJi
QiIsICIpIiwgImNDIl0sCiAgICAgICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5ydW4oWyJhQShi
QiljQyJdKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWyIoIiwgImFBIiwgIigiLCAiYkIiLCAiKSIs
ICJjQyIsICIpIl0sCiAgICAgICAgICAgICBzZWxmLnByZXByb2Nlc3Nvci5ydW4oWyIoYUEoYkIp
Y0MpIl0pCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbIigiLCAiYUEiLCAiKCIsICIoIiwgImJCIiwg
IikiLCAiY0MiLCAiKSJdLAogICAgICAgICAgICAgc2VsZi5wcmVwcm9jZXNzb3IucnVuKFsiKGFB
KCIsICIoYkIpY0MpIl0pCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbIigiLCAiYUEiLCAiKCIsICIo
IiwgIigiLCAiYkIiLCAiKSIsICJjQyIsICIpIl0sCiAgICAgICAgICAgICBzZWxmLnByZXByb2Nl
c3Nvci5ydW4oWyIoYUEoIiwgIigiLCAiKGJCKWNDKSJdKQogICAgICAgICApCkBAIC0xNzQ4LDIx
ICsxNzU1LDIxIEBAIGNsYXNzIERvbVJ1bGVBZGRUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAg
ICAgICAgICAgICJjb25zdHJhaW50IGxvY2F0aW9uIGR1bW15MSBydWxlICN1bmFtZSBlcSBub2Rl
MSIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJu
VmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVt
cF9jaWIsCiAgICAgICAgICAgICAiY29uc3RyYWludCBsb2NhdGlvbiBkdW1teTEgcnVsZSBpZD1N
eVJ1bGUgc2NvcmU9MTAwIHJvbGU9bWFzdGVyICN1bmFtZSBlcSBub2RlMiIKICAgICAgICAgKQog
ICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1
cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAg
IG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAg
ICAgICAiY29uc3RyYWludCBsb2NhdGlvbiBkdW1teTEgcnVsZSBpZD1jb21wbGV4UnVsZSAoI3Vu
YW1lIGVxIG5vZGUzIGFuZCBmb28gZ3QgdmVyc2lvbiAxLjIpIG9yIChkYXRlLXNwZWMgaG91cnM9
MTItMjMgd2Vla2RheXM9MS01IGFuZCBkYXRlIGluX3JhbmdlIDIwMTQtMDctMjYgdG8gZHVyYXRp
b24gbW9udGhzPTEpIgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9j
aWIsICJjb25zdHJhaW50IGxvY2F0aW9uIHNob3cgLS1mdWxsIikKICAgICAgICAgYWMob3V0cHV0
LCAiIiJcCkBAIC0xNzg1LDcgKzE3OTIsNyBAQCBMb2NhdGlvbiBDb25zdHJhaW50czoKICAgICAg
ICAgICBFeHByZXNzaW9uOiBkYXRlIGluX3JhbmdlIDIwMTQtMDctMjYgdG8gZHVyYXRpb24gIChp
ZDpjb21wbGV4UnVsZS1ydWxlLTEtZXhwci0xKQogICAgICAgICAgICAgRHVyYXRpb246IG1vbnRo
cz0xICAoaWQ6Y29tcGxleFJ1bGUtcnVsZS0xLWV4cHItMS1kdXJhdGlvbikKICIiIikKLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVx
dWFsKDAsIHJldHVyblZhbCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1w
X2NpYiwgImNvbnN0cmFpbnQgbG9jYXRpb24gc2hvdyIpCiAgICAgICAgIGFjKG91dHB1dCwgIiIi
XApAQCAtMTgwOCw3ICsxODE1LDcgQEAgTG9jYXRpb24gQ29uc3RyYWludHM6CiAgICAgICAgICAg
RXhwcmVzc2lvbjogZGF0ZSBpbl9yYW5nZSAyMDE0LTA3LTI2IHRvIGR1cmF0aW9uCiAgICAgICAg
ICAgICBEdXJhdGlvbjogbW9udGhzPTEKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMo
MCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAog
ICAgIGRlZiB0ZXN0X2ludmFsaWRfc2NvcmUoc2VsZik6CiAgICAgICAgIG91dHB1dCwgcmV0dXJu
VmFsID0gcGNzKApAQCAtMTgyMCw3ICsxODI3LDcgQEAgTG9jYXRpb24gQ29uc3RyYWludHM6CiAg
ICAgICAgICAgICAiV2FybmluZzogaW52YWxpZCBzY29yZSAncGluZ2QnLCBzZXR0aW5nIHNjb3Jl
LWF0dHJpYnV0ZT1waW5nZCAiCiAgICAgICAgICAgICAgICAgImluc3RlYWRcbiIKICAgICAgICAg
KQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0g
cGNzKHRlbXBfY2liLCAiY29uc3RyYWludCBsb2NhdGlvbiBzaG93IC0tZnVsbCIpCiAgICAgICAg
IGFjKG91dHB1dCwgIiIiXApAQCAtMTgzMCw3ICsxODM3LDcgQEAgTG9jYXRpb24gQ29uc3RyYWlu
dHM6CiAgICAgICBSdWxlOiBzY29yZS1hdHRyaWJ1dGU9cGluZ2QgIChpZDpsb2NhdGlvbi1kdW1t
eTEtcnVsZSkKICAgICAgICAgRXhwcmVzc2lvbjogZGVmaW5lZCBwaW5nZCAgKGlkOmxvY2F0aW9u
LWR1bW15MS1ydWxlLWV4cHIpCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJl
dHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICBk
ZWYgdGVzdF9pbnZhbGlkX3J1bGUoc2VsZik6CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0g
cGNzKApAQCAtMTgzOCw3ICsxODQ1LDcgQEAgTG9jYXRpb24gQ29uc3RyYWludHM6CiAgICAgICAg
ICAgICAiY29uc3RyYWludCBsb2NhdGlvbiBkdW1teTEgcnVsZSBzY29yZT0xMDAiCiAgICAgICAg
ICkKICAgICAgICAgYWMob3V0cHV0LCAiRXJyb3I6IG5vIHJ1bGUgZXhwcmVzc2lvbiB3YXMgc3Bl
Y2lmaWVkXG4iKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwpCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0
dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCkBAIC0xODQ5LDcgKzE4NTYsNyBA
QCBMb2NhdGlvbiBDb25zdHJhaW50czoKICAgICAgICAgICAgICJFcnJvcjogJyN1bmFtZSBlcScg
aXMgbm90IGEgdmFsaWQgcnVsZSBleHByZXNzaW9uOiB1bmV4cGVjdGVkIGVuZCAiCiAgICAgICAg
ICAgICAgICAgIm9mIHJ1bGVcbiIKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygxLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQog
CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIs
CkBAIC0xODYwLDcgKzE4NjcsNyBAQCBMb2NhdGlvbiBDb25zdHJhaW50czoKICAgICAgICAgICAg
ICJFcnJvcjogJ3N0cmluZyAjdW5hbWUgZXEgbm9kZTEnIGlzIG5vdCBhIHZhbGlkIHJ1bGUgZXhw
cmVzc2lvbjogIgogICAgICAgICAgICAgICAgICJ1bmV4cGVjdGVkICdzdHJpbmcnIGJlZm9yZSAn
ZXEnXG4iCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMSwgcmV0dXJuVmFs
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDEsIHJldHVyblZhbCkKIAogICAgIGRlZiB0ZXN0
X2l2YWxpZF9vcHRpb25zKHNlbGYpOgogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygK
QEAgLTE4NjgsMTQgKzE4NzUsMTQgQEAgTG9jYXRpb24gQ29uc3RyYWludHM6CiAgICAgICAgICAg
ICAiY29uc3RyYWludCBsb2NhdGlvbiBkdW1teTEgcnVsZSByb2xlPWZvbyAjdW5hbWUgZXEgbm9k
ZTEiCiAgICAgICAgICkKICAgICAgICAgYWMob3V0cHV0LCAiRXJyb3I6IGludmFsaWQgcm9sZSAn
Zm9vJywgdXNlICdtYXN0ZXInIG9yICdzbGF2ZSdcbiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWxzKDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgxLCByZXR1cm5WYWwp
CiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1wX2Np
YiwKICAgICAgICAgICAgICJjb25zdHJhaW50IGxvY2F0aW9uIGR1bW15MSBydWxlIHNjb3JlPTEw
MCBzY29yZS1hdHRyaWJ1dGU9cGluZ2QgI3VuYW1lIGVxIG5vZGUxIgogICAgICAgICApCiAgICAg
ICAgIGFjKG91dHB1dCwgIkVycm9yOiBjYW4gbm90IHNwZWNpZnkgYm90aCBzY29yZSBhbmQgc2Nv
cmUtYXR0cmlidXRlXG4iKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygxLCByZXR1cm5WYWwp
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMSwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1
dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCkBAIC0xODg2LDE4ICsx
ODkzLDE4IEBAIExvY2F0aW9uIENvbnN0cmFpbnRzOgogICAgICAgICAgICAgIkVycm9yOiBpbnZh
bGlkIHJ1bGUgaWQgJzFmb28nLCAnMScgaXMgbm90IGEgdmFsaWQgZmlyc3QgY2hhcmFjdGVyICIK
ICAgICAgICAgICAgICAgICAiZm9yIGEgcnVsZSBpZFxuIgogICAgICAgICApCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgx
LCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIs
ICJjb25zdHJhaW50IGxvY2F0aW9uIHNob3cgLS1mdWxsIikKICAgICAgICAgYWMob3V0cHV0LCAi
TG9jYXRpb24gQ29uc3RyYWludHM6XG4iKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCBy
ZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAg
ICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAg
ICAgICAgICAiY29uc3RyYWludCBsb2NhdGlvbiBkdW1teTEgcnVsZSBpZD1NeVJ1bGUgI3VuYW1l
IGVxIG5vZGUxIgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgw
LCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIs
ICJjb25zdHJhaW50IGxvY2F0aW9uIHNob3cgLS1mdWxsIikKICAgICAgICAgYWMob3V0cHV0LCAi
IiJcCkBAIC0xOTA3LDcgKzE5MTQsNyBAQCBMb2NhdGlvbiBDb25zdHJhaW50czoKICAgICAgIFJ1
bGU6IHNjb3JlPUlORklOSVRZICAoaWQ6TXlSdWxlKQogICAgICAgICBFeHByZXNzaW9uOiAjdW5h
bWUgZXEgbm9kZTEgIChpZDpNeVJ1bGUtZXhwcikKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZh
bCkKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBf
Y2liLApAQCAtMTkxNyw3ICsxOTI0LDcgQEAgTG9jYXRpb24gQ29uc3RyYWludHM6CiAgICAgICAg
ICAgICBvdXRwdXQsCiAgICAgICAgICAgICAiRXJyb3I6IGlkICdNeVJ1bGUnIGlzIGFscmVhZHkg
aW4gdXNlLCBwbGVhc2Ugc3BlY2lmeSBhbm90aGVyIG9uZVxuIgogICAgICAgICApCi0gICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWxzKDEsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgxLCByZXR1cm5WYWwpCiAKICAgICBkZWYgYXNzZXJ0RXhwcmVzc2lvblhtbChzZWxmLCBydWxl
X2V4cHJlc3Npb24sIHJ1bGVfeG1sKToKICAgICAgICAgY2liX2RvbSA9IHhtbC5kb20ubWluaWRv
bS5wYXJzZSgiZW1wdHkueG1sIikKZGlmZiAtLWdpdCBhL3Bjcy90ZXN0L3Rlc3Rfc3Rvbml0aC5w
eSBiL3Bjcy90ZXN0L3Rlc3Rfc3Rvbml0aC5weQppbmRleCA0NTQ5OTNjLi42NjMxMGZmIDEwMDY0
NAotLS0gYS9wY3MvdGVzdC90ZXN0X3N0b25pdGgucHkKKysrIGIvcGNzL3Rlc3QvdGVzdF9zdG9u
aXRoLnB5CkBAIC0xLDEwICsxLDE4IEBACi1pbXBvcnQgb3Msc3lzCitmcm9tIF9fZnV0dXJlX18g
aW1wb3J0IGFic29sdXRlX2ltcG9ydAorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBkaXZpc2lvbgor
ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBwcmludF9mdW5jdGlvbgorZnJvbSBfX2Z1dHVyZV9fIGlt
cG9ydCB1bmljb2RlX2xpdGVyYWxzCisKK2ltcG9ydCBvcworaW1wb3J0IHN5cwogaW1wb3J0IHNo
dXRpbAogaW1wb3J0IHVuaXR0ZXN0CiBwYXJlbnRkaXIgPSBvcy5wYXRoLmRpcm5hbWUob3MucGF0
aC5kaXJuYW1lKG9zLnBhdGguYWJzcGF0aChfX2ZpbGVfXykpKQotc3lzLnBhdGguaW5zZXJ0KDAs
cGFyZW50ZGlyKSAKK3N5cy5wYXRoLmluc2VydCgwLCBwYXJlbnRkaXIpCisKIGltcG9ydCB1dGls
cwotZnJvbSBwY3NfdGVzdF9mdW5jdGlvbnMgaW1wb3J0IHBjcyxhYworZnJvbSBwY3NfdGVzdF9m
dW5jdGlvbnMgaW1wb3J0IHBjcywgYWMKKwogCiBlbXB0eV9jaWIgPSAiZW1wdHkueG1sIgogdGVt
cF9jaWIgPSAidGVtcC54bWwiCkBAIC00Myw4ICs1MSwxMiBAQCBjbGFzcyBTdG9uaXRoVGVzdCh1
bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgIGFjKG91dHB1dCwiIikKIAogICAgICAgICBvdXRw
dXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInN0b25pdGggc2hvdyB0ZXN0OSIpCisgICAg
ICAgIGFjKG91dHB1dCwgIiIiXAorIFJlc291cmNlOiB0ZXN0OSAoY2xhc3M9c3Rvbml0aCB0eXBl
PWZlbmNlX2lsbykKKyAgQXR0cmlidXRlczogcGNta19zdGF0dXNfYWN0aW9uPXh4eAorICBPcGVy
YXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAodGVzdDktbW9uaXRvci1pbnRlcnZhbC02MHMp
CisiIiIpCiAgICAgICAgIGFzc2VydCByZXR1cm5WYWwgPT0gMAotICAgICAgICBhYyhvdXRwdXQs
ICcgUmVzb3VyY2U6IHRlc3Q5IChjbGFzcz1zdG9uaXRoIHR5cGU9ZmVuY2VfaWxvKVxuICBBdHRy
aWJ1dGVzOiBwY21rX3N0YXR1c19hY3Rpb249eHh4IFxuICBPcGVyYXRpb25zOiBtb25pdG9yIGlu
dGVydmFsPTYwcyAodGVzdDktbW9uaXRvci1pbnRlcnZhbC02MHMpXG4nKQogCiAgICAgICAgIG91
dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAic3Rvbml0aCBkZWxldGUgdGVzdDkiKQog
ICAgICAgICBhc3NlcnQgcmV0dXJuVmFsID09IDAKQEAgLTY5LDggKzgxLDEyIEBAIGNsYXNzIFN0
b25pdGhUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgYXNzZXJ0IG91dHB1dCA9PSAn
RXJyb3I6IHVuYWJsZSB0byBmaW5kIHJlc291cmNlIFwnYXBjLWZlbmNpbmdcJ1xuJyxbb3V0cHV0
XQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAnc3Rvbml0aCBz
aG93IGFwYy1mZW5jaW5nJykKKyAgICAgICAgYWMob3V0cHV0LCAiIiJcCisgUmVzb3VyY2U6IGFw
Yy1mZW5jaW5nIChjbGFzcz1zdG9uaXRoIHR5cGU9ZmVuY2VfYXBjKQorICBBdHRyaWJ1dGVzOiBp
cGFkZHI9Im1vcnBoLWFwYyIgbG9naW49ImFwYyIgcGFzc3dkPSJhcGMiIHN3aXRjaD0iMSIgcGNt
a19ob3N0X21hcD0iYnV6ei0wMToxO2J1enotMDI6MjtidXp6LTAzOjM7YnV6ei0wNDo0O2J1enot
MDU6NSIgYWN0aW9uPSJyZWJvb3QiIGRlYnVnPSIxIiBwY21rX2hvc3RfY2hlY2s9InN0YXRpYy1s
aXN0IiBwY21rX2hvc3RfbGlzdD0iYnV6ei0wMSxidXp6LTAyLGJ1enotMDMsYnV6ei0wNCxidXp6
LTA1IgorICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAoYXBjLWZlbmNpbmctbW9u
aXRvci1pbnRlcnZhbC02MHMpCisiIiIpCiAgICAgICAgIGFzc2VydCByZXR1cm5WYWwgPT0gMAot
ICAgICAgICBhc3NlcnQgb3V0cHV0ID09ICcgUmVzb3VyY2U6IGFwYy1mZW5jaW5nIChjbGFzcz1z
dG9uaXRoIHR5cGU9ZmVuY2VfYXBjKVxuICBBdHRyaWJ1dGVzOiBpcGFkZHI9Im1vcnBoLWFwYyIg
bG9naW49ImFwYyIgcGFzc3dkPSJhcGMiIHN3aXRjaD0iMSIgcGNta19ob3N0X21hcD0iYnV6ei0w
MToxO2J1enotMDI6MjtidXp6LTAzOjM7YnV6ei0wNDo0O2J1enotMDU6NSIgYWN0aW9uPSJyZWJv
b3QiIGRlYnVnPSIxIiBwY21rX2hvc3RfY2hlY2s9InN0YXRpYy1saXN0IiBwY21rX2hvc3RfbGlz
dD0iYnV6ei0wMSxidXp6LTAyLGJ1enotMDMsYnV6ei0wNCxidXp6LTA1IiBcbiAgT3BlcmF0aW9u
czogbW9uaXRvciBpbnRlcnZhbD02MHMgKGFwYy1mZW5jaW5nLW1vbml0b3ItaW50ZXJ2YWwtNjBz
KVxuJyxbb3V0cHV0XQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2li
LCAnc3Rvbml0aCBkZWxldGUgYXBjLWZlbmNpbmcnKQogICAgICAgICBhc3NlcnQgcmV0dXJuVmFs
ID09IDAKQEAgLTg5LDE2ICsxMDUsNTUgQEAgY2xhc3MgU3Rvbml0aFRlc3QodW5pdHRlc3QuVGVz
dENhc2UpOgogICAgICAgICBhc3NlcnQgb3V0cHV0ID09ICIgUmVzb3VyY2U6IHRlc3QyIChjbGFz
cz1zdG9uaXRoIHR5cGU9ZmVuY2VfaWxvKVxuICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFs
PTYwcyAodGVzdDItbW9uaXRvci1pbnRlcnZhbC02MHMpXG4iLFtvdXRwdXRdCiAKICAgICAgICAg
b3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJzdG9uaXRoIHNob3cgLS1mdWxsIikK
KyAgICAgICAgYWMob3V0cHV0LCAiIiJcCisgUmVzb3VyY2U6IHRlc3QxIChjbGFzcz1zdG9uaXRo
IHR5cGU9ZmVuY2Vfbm94aXN0KQorICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAo
dGVzdDEtbW9uaXRvci1pbnRlcnZhbC02MHMpCisgUmVzb3VyY2U6IHRlc3QyIChjbGFzcz1zdG9u
aXRoIHR5cGU9ZmVuY2VfaWxvKQorICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAo
dGVzdDItbW9uaXRvci1pbnRlcnZhbC02MHMpCisgUmVzb3VyY2U6IHRlc3QzIChjbGFzcz1zdG9u
aXRoIHR5cGU9ZmVuY2VfaWxvKQorICBBdHRyaWJ1dGVzOiBpcGFkZHI9dGVzdCBsb2dpbj10ZXN0
QQorICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAodGVzdDMtbW9uaXRvci1pbnRl
cnZhbC02MHMpCisiIiIpCiAgICAgICAgIGFzc2VydCByZXR1cm5WYWwgPT0gMAotICAgICAgICBh
c3NlcnQgb3V0cHV0ID09ICIgUmVzb3VyY2U6IHRlc3QxIChjbGFzcz1zdG9uaXRoIHR5cGU9ZmVu
Y2Vfbm94aXN0KVxuICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAodGVzdDEtbW9u
aXRvci1pbnRlcnZhbC02MHMpXG4gUmVzb3VyY2U6IHRlc3QyIChjbGFzcz1zdG9uaXRoIHR5cGU9
ZmVuY2VfaWxvKVxuICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAodGVzdDItbW9u
aXRvci1pbnRlcnZhbC02MHMpXG4gUmVzb3VyY2U6IHRlc3QzIChjbGFzcz1zdG9uaXRoIHR5cGU9
ZmVuY2VfaWxvKVxuICBBdHRyaWJ1dGVzOiBpcGFkZHI9dGVzdCBsb2dpbj10ZXN0QSBcbiAgT3Bl
cmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD02MHMgKHRlc3QzLW1vbml0b3ItaW50ZXJ2YWwtNjBz
KVxuIixbb3V0cHV0XQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2li
LCAnc3Rvbml0aCBjcmVhdGUgdGVzdC1mZW5jaW5nIGZlbmNlX2FwYyBwY21rX2hvc3RfbGlzdD0i
cmhlbDctbm9kZTEgcmhlbDctbm9kZTIiIG9wIG1vbml0b3IgaW50ZXJ2YWw9NjFzIC0tZm9yY2Un
KQogICAgICAgICBhc3NlcnQgcmV0dXJuVmFsID09IDAKICAgICAgICAgYWMob3V0cHV0LCIiKQog
CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAnY29uZmlnIHNob3cn
KQorICAgICAgICBhYyhvdXRwdXQsICIiIlwKK0NsdXN0ZXIgTmFtZTogdGVzdDk5CitDb3Jvc3lu
YyBOb2RlczoKKyByaDctMSByaDctMgorUGFjZW1ha2VyIE5vZGVzOgorCitSZXNvdXJjZXM6CisK
K1N0b25pdGggRGV2aWNlczoKKyBSZXNvdXJjZTogdGVzdDEgKGNsYXNzPXN0b25pdGggdHlwZT1m
ZW5jZV9ub3hpc3QpCisgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzICh0ZXN0MS1t
b25pdG9yLWludGVydmFsLTYwcykKKyBSZXNvdXJjZTogdGVzdDIgKGNsYXNzPXN0b25pdGggdHlw
ZT1mZW5jZV9pbG8pCisgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzICh0ZXN0Mi1t
b25pdG9yLWludGVydmFsLTYwcykKKyBSZXNvdXJjZTogdGVzdDMgKGNsYXNzPXN0b25pdGggdHlw
ZT1mZW5jZV9pbG8pCisgIEF0dHJpYnV0ZXM6IGlwYWRkcj10ZXN0IGxvZ2luPXRlc3RBCisgIE9w
ZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzICh0ZXN0My1tb25pdG9yLWludGVydmFsLTYw
cykKKyBSZXNvdXJjZTogdGVzdC1mZW5jaW5nIChjbGFzcz1zdG9uaXRoIHR5cGU9ZmVuY2VfYXBj
KQorICBBdHRyaWJ1dGVzOiBwY21rX2hvc3RfbGlzdD0icmhlbDctbm9kZTEKKyAgT3BlcmF0aW9u
czogbW9uaXRvciBpbnRlcnZhbD02MXMgKHRlc3QtZmVuY2luZy1tb25pdG9yLWludGVydmFsLTYx
cykKK0ZlbmNpbmcgTGV2ZWxzOgorCitMb2NhdGlvbiBDb25zdHJhaW50czoKK09yZGVyaW5nIENv
bnN0cmFpbnRzOgorQ29sb2NhdGlvbiBDb25zdHJhaW50czoKKworUmVzb3VyY2VzIERlZmF1bHRz
OgorIE5vIGRlZmF1bHRzIHNldAorT3BlcmF0aW9ucyBEZWZhdWx0czoKKyBObyBkZWZhdWx0cyBz
ZXQKKworQ2x1c3RlciBQcm9wZXJ0aWVzOgorIiIiKQogICAgICAgICBhc3NlcnQgcmV0dXJuVmFs
ID09IDAKLSAgICAgICAgYXNzZXJ0IG91dHB1dCA9PSAnQ2x1c3RlciBOYW1lOiB0ZXN0OTlcbkNv
cm9zeW5jIE5vZGVzOlxuIHJoNy0xIHJoNy0yIFxuUGFjZW1ha2VyIE5vZGVzOlxuIFxuXG5SZXNv
dXJjZXM6IFxuXG5TdG9uaXRoIERldmljZXM6IFxuIFJlc291cmNlOiB0ZXN0MSAoY2xhc3M9c3Rv
bml0aCB0eXBlPWZlbmNlX25veGlzdClcbiAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD02
MHMgKHRlc3QxLW1vbml0b3ItaW50ZXJ2YWwtNjBzKVxuIFJlc291cmNlOiB0ZXN0MiAoY2xhc3M9
c3Rvbml0aCB0eXBlPWZlbmNlX2lsbylcbiAgT3BlcmF0aW9uczogbW9uaXRvciBpbnRlcnZhbD02
MHMgKHRlc3QyLW1vbml0b3ItaW50ZXJ2YWwtNjBzKVxuIFJlc291cmNlOiB0ZXN0MyAoY2xhc3M9
c3Rvbml0aCB0eXBlPWZlbmNlX2lsbylcbiAgQXR0cmlidXRlczogaXBhZGRyPXRlc3QgbG9naW49
dGVzdEEgXG4gIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzICh0ZXN0My1tb25pdG9y
LWludGVydmFsLTYwcylcbiBSZXNvdXJjZTogdGVzdC1mZW5jaW5nIChjbGFzcz1zdG9uaXRoIHR5
cGU9ZmVuY2VfYXBjKVxuICBBdHRyaWJ1dGVzOiBwY21rX2hvc3RfbGlzdD0icmhlbDctbm9kZTEg
XG4gIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjFzICh0ZXN0LWZlbmNpbmctbW9uaXRv
ci1pbnRlcnZhbC02MXMpXG5GZW5jaW5nIExldmVsczogXG5cbkxvY2F0aW9uIENvbnN0cmFpbnRz
OlxuT3JkZXJpbmcgQ29uc3RyYWludHM6XG5Db2xvY2F0aW9uIENvbnN0cmFpbnRzOlxuXG5SZXNv
dXJjZXMgRGVmYXVsdHM6XG4gTm8gZGVmYXVsdHMgc2V0XG5PcGVyYXRpb25zIERlZmF1bHRzOlxu
IE5vIGRlZmF1bHRzIHNldFxuXG5DbHVzdGVyIFByb3BlcnRpZXM6XG4nLFtvdXRwdXRdCiAKICAg
ICBkZWYgdGVzdF9zdG9uaXRoX2NyZWF0ZV9wcm92aWRlc191bmZlbmNpbmcoc2VsZik6CiAgICAg
ICAgIGlmIHV0aWxzLmlzX3JoZWw2KCk6CkBAIC0xMDksMjggKzE2NCwyOCBAQCBjbGFzcyBTdG9u
aXRoVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgICAgICAic3Rvbml0aCBjcmVhdGUg
ZjEgZmVuY2Vfc2NzaSIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAg
ICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAg
ICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAic3Rvbml0aCBjcmVhdGUgZjIgZmVuY2Vf
c2NzaSBtZXRhIHByb3ZpZGVzPXVuZmVuY2luZyIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRw
dXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJu
VmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAic3Rvbml0aCBj
cmVhdGUgZjMgZmVuY2Vfc2NzaSBtZXRhIHByb3ZpZGVzPXNvbWV0aGluZyIKICAgICAgICAgKQog
ICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1
cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAg
IG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAg
ICAgICAic3Rvbml0aCBjcmVhdGUgZjQgZmVuY2VfeHZtIG1ldGEgcHJvdmlkZXM9c29tZXRoaW5n
IgogICAgICAgICApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKDAsIHJldHVyblZhbCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5W
YWwpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJzdG9uaXRo
IHNob3cgLS1mdWxsIikKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCkBAIC0xNDcsNyArMjAyLDcg
QEAgY2xhc3MgU3Rvbml0aFRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICBNZXRhIEF0dHJzOiBw
cm92aWRlcz1zb21ldGhpbmcgCiAgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChm
NC1tb25pdG9yLWludGVydmFsLTYwcykKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMo
MCwgcmV0dXJuVmFsKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAog
ICAgIGRlZiB0ZXN0X3N0b25pdGhfY3JlYXRlX3Byb3ZpZGVzX3VuZmVuY2luZ19yaGVsNihzZWxm
KToKICAgICAgICAgaWYgbm90IHV0aWxzLmlzX3JoZWw2KCk6CkBAIC0xNTgsNDggKzIxMyw0OCBA
QCBjbGFzcyBTdG9uaXRoVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgICAgICAic3Rv
bml0aCBjcmVhdGUgZjEgZmVuY2VfbXBhdGgga2V5PWFiYyIKICAgICAgICAgKQogICAgICAgICBh
YyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwg
cmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAic3Rv
bml0aCBjcmVhdGUgZjIgZmVuY2VfbXBhdGgga2V5PWFiYyBtZXRhIHByb3ZpZGVzPXVuZmVuY2lu
ZyIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJu
VmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVt
cF9jaWIsCiAgICAgICAgICAgICAic3Rvbml0aCBjcmVhdGUgZjMgZmVuY2VfbXBhdGgga2V5PWFi
YyBtZXRhIHByb3ZpZGVzPXNvbWV0aGluZyIKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQs
ICIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygwLCByZXR1cm5WYWwpCisgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwoMCwgcmV0dXJuVmFsKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFs
ID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAic3Rvbml0aCBjcmVh
dGUgZjQgZmVuY2VfeHZtIG1ldGEgcHJvdmlkZXM9c29tZXRoaW5nIgogICAgICAgICApCiAgICAg
ICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDAsIHJldHVyblZh
bCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgwLCByZXR1cm5WYWwpCiAKICAgICAgICAgb3V0
cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJzdG9uaXRoIHNob3cgLS1mdWxsIikKICAg
ICAgICAgYWMob3V0cHV0LCAiIiJcCiAgUmVzb3VyY2U6IGYxIChjbGFzcz1zdG9uaXRoIHR5cGU9
ZmVuY2VfbXBhdGgpCi0gIEF0dHJpYnV0ZXM6IGtleT1hYmMgCisgIEF0dHJpYnV0ZXM6IGtleT1h
YmMKICAgTWV0YSBBdHRyczogcHJvdmlkZXM9dW5mZW5jaW5nIAogICBPcGVyYXRpb25zOiBtb25p
dG9yIGludGVydmFsPTYwcyAoZjEtbW9uaXRvci1pbnRlcnZhbC02MHMpCiAgUmVzb3VyY2U6IGYy
IChjbGFzcz1zdG9uaXRoIHR5cGU9ZmVuY2VfbXBhdGgpCi0gIEF0dHJpYnV0ZXM6IGtleT1hYmMg
CisgIEF0dHJpYnV0ZXM6IGtleT1hYmMKICAgTWV0YSBBdHRyczogcHJvdmlkZXM9dW5mZW5jaW5n
IAogICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYwcyAoZjItbW9uaXRvci1pbnRlcnZh
bC02MHMpCiAgUmVzb3VyY2U6IGYzIChjbGFzcz1zdG9uaXRoIHR5cGU9ZmVuY2VfbXBhdGgpCi0g
IEF0dHJpYnV0ZXM6IGtleT1hYmMgCisgIEF0dHJpYnV0ZXM6IGtleT1hYmMKICAgTWV0YSBBdHRy
czogcHJvdmlkZXM9dW5mZW5jaW5nIAogICBPcGVyYXRpb25zOiBtb25pdG9yIGludGVydmFsPTYw
cyAoZjMtbW9uaXRvci1pbnRlcnZhbC02MHMpCiAgUmVzb3VyY2U6IGY0IChjbGFzcz1zdG9uaXRo
IHR5cGU9ZmVuY2VfeHZtKQogICBNZXRhIEF0dHJzOiBwcm92aWRlcz1zb21ldGhpbmcgCiAgIE9w
ZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChmNC1tb25pdG9yLWludGVydmFsLTYwcykK
ICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMCwgcmV0dXJuVmFsKQorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKDAsIHJldHVyblZhbCkKIAogICAgIGRlZiB0ZXN0U3Rvbml0aEZlbmNl
Q29uZmlybShzZWxmKToKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIs
ICJzdG9uaXRoIGZlbmNlIGJsYWggYmxhaCIpCkBAIC0yMTYsOCArMjcxLDEyIEBAIGNsYXNzIFN0
b25pdGhUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgYWMob3V0cHV0LCIiKQogCiAg
ICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAic3Rvbml0aCBzaG93IEYx
IikKKyAgICAgICAgYWMob3V0cHV0LCAiIiJcCisgUmVzb3VyY2U6IEYxIChjbGFzcz1zdG9uaXRo
IHR5cGU9ZmVuY2VfYXBjKQorICBBdHRyaWJ1dGVzOiBwY21rX2hvc3RfbGlzdD0ibm9kZWEgbm9k
ZWIiCisgIE9wZXJhdGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChGMS1tb25pdG9yLWludGVy
dmFsLTYwcykKKyIiIikKICAgICAgICAgYXNzZXJ0IHJldHVyblZhbCA9PSAwCi0gICAgICAgIGFz
c2VydCBvdXRwdXQgPT0gJyBSZXNvdXJjZTogRjEgKGNsYXNzPXN0b25pdGggdHlwZT1mZW5jZV9h
cGMpXG4gIEF0dHJpYnV0ZXM6IHBjbWtfaG9zdF9saXN0PSJub2RlYSBub2RlYiIgXG4gIE9wZXJh
dGlvbnM6IG1vbml0b3IgaW50ZXJ2YWw9NjBzIChGMS1tb25pdG9yLWludGVydmFsLTYwcylcbics
W291dHB1dF0KIAogICAgIGRlZiB0ZXN0UGNta0hvc3RBbGxvd3NNaXNzaW5nUG9ydChzZWxmKToK
ICAgICAgICAgIyBUZXN0IHRoYXQgcG9ydCBpcyBub3QgcmVxdWlyZWQgd2hlbiBwY21rX2hvc3Rf
YXJndW1lbnQgb3IKQEAgLTIzMywyOCArMjkyLDI4IEBAIGNsYXNzIFN0b25pdGhUZXN0KHVuaXR0
ZXN0LlRlc3RDYXNlKToKICMiIiIpCiAjICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5W
YWwsIDEpCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KHJldHVyblZhbCwgMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXR1cm5WYWwsIDApCiAK
ICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1wX2NpYiwK
ICAgICAgICAgICAgICdzdG9uaXRoIGNyZWF0ZSBhcGMtMiBmZW5jZV9hcGMgcGFyYW1zIGlwYWRk
cj0iaXAiIGxvZ2luPSJhcGMiIGFjdGlvbj0icmVib290IiBwY21rX2hvc3RfbWFwPSJidXp6LTAx
OjE7YnV6ei0wMjoyIicKICAgICAgICAgKQogICAgICAgICBhYyhvdXRwdXQsICIiKQotICAgICAg
ICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5WYWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwocmV0dXJuVmFsLCAwKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAg
ICAgICAgICAgdGVtcF9jaWIsCiAgICAgICAgICAgICAnc3Rvbml0aCBjcmVhdGUgYXBjLTMgZmVu
Y2VfYXBjIHBhcmFtcyBpcGFkZHI9ImlwIiBsb2dpbj0iYXBjIiBhY3Rpb249InJlYm9vdCIgcGNt
a19ob3N0X2xpc3Q9ImJ1enotMDEsYnV6ei0wMiInCiAgICAgICAgICkKICAgICAgICAgYWMob3V0
cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0dXJuVmFsLCAwKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKHJldHVyblZhbCwgMCkKIAogICAgICAgICBvdXRwdXQsIHJldHVy
blZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLAogICAgICAgICAgICAgJ3N0b25pdGgg
Y3JlYXRlIGFwYy00IGZlbmNlX2FwYyBwYXJhbXMgaXBhZGRyPSJpcCIgbG9naW49ImFwYyIgYWN0
aW9uPSJyZWJvb3QiIHBjbWtfaG9zdF9hcmd1bWVudD0iYnV6ei0wMSInCiAgICAgICAgICkKICAg
ICAgICAgYWMob3V0cHV0LCAiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0dXJuVmFs
LCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldHVyblZhbCwgMCkKIAogICAgIGRlZiB0
ZXN0RmVuY2VMZXZlbHMoc2VsZik6CiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRl
bXBfY2liLCAic3Rvbml0aCBsZXZlbCByZW1vdmUgMSByaDctMiBGMSIpCkBAIC01NTcsNjcgKzYx
Niw2NyBAQCBjbGFzcyBTdG9uaXRoVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgIG91
dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsICJzdG9uaXRoIGNy
ZWF0ZSBuMS1pcG1pIGZlbmNlX2lsbyAtLWZvcmNlIgogICAgICAgICApCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKHJldHVyblZhbCwgMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXR1
cm5WYWwsIDApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCiAKICAgICAgICAgb3V0cHV0LCByZXR1
cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1wX2NpYiwgInN0b25pdGggY3JlYXRlIG4yLWlw
bWkgZmVuY2VfaWxvIC0tZm9yY2UiCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bHMocmV0dXJuVmFsLCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldHVyblZhbCwgMCkK
ICAgICAgICAgYWMob3V0cHV0LCAiIikKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBj
cygKICAgICAgICAgICAgIHRlbXBfY2liLCAic3Rvbml0aCBjcmVhdGUgbjEtYXBjMSBmZW5jZV9h
cGMgLS1mb3JjZSIKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5W
YWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0dXJuVmFsLCAwKQogICAgICAgICBh
YyhvdXRwdXQsICIiKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAg
ICAgICAgdGVtcF9jaWIsICJzdG9uaXRoIGNyZWF0ZSBuMS1hcGMyIGZlbmNlX2FwYyAtLWZvcmNl
IgogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldHVyblZhbCwgMCkKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXR1cm5WYWwsIDApCiAgICAgICAgIGFjKG91dHB1dCwg
IiIpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3MoCiAgICAgICAgICAgICB0ZW1w
X2NpYiwgInN0b25pdGggY3JlYXRlIG4yLWFwYzEgZmVuY2VfYXBjIC0tZm9yY2UiCiAgICAgICAg
ICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0dXJuVmFsLCAwKQorICAgICAgICBzZWxm
LmFzc2VydEVxdWFsKHJldHVyblZhbCwgMCkKICAgICAgICAgYWMob3V0cHV0LCAiIikKIAogICAg
ICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcygKICAgICAgICAgICAgIHRlbXBfY2liLCAic3Rv
bml0aCBjcmVhdGUgbjItYXBjMiBmZW5jZV9hcGMgLS1mb3JjZSIKICAgICAgICAgKQotICAgICAg
ICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5WYWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwocmV0dXJuVmFsLCAwKQogICAgICAgICBhYyhvdXRwdXQsICIiKQogCiAgICAgICAgIG91dHB1
dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsICJzdG9uaXRoIGNyZWF0
ZSBuMi1hcGMzIGZlbmNlX2FwYyAtLWZvcmNlIgogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKHJldHVyblZhbCwgMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXR1cm5W
YWwsIDApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5W
YWwgPSBwY3ModGVtcF9jaWIsICJzdG9uaXRoIGxldmVsIGFkZCAxIHJoNy0xIG4xLWlwbWkiKQot
ICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5WYWwsIDApCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwocmV0dXJuVmFsLCAwKQogICAgICAgICBhYyhvdXRwdXQsICIiKQogCiAgICAgICAg
IG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVtcF9jaWIsICJzdG9uaXRo
IGxldmVsIGFkZCAyIHJoNy0xIG4xLWFwYzEsbjEtYXBjMixuMi1hcGMyIgogICAgICAgICApCi0g
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldHVyblZhbCwgMCkKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbChyZXR1cm5WYWwsIDApCiAgICAgICAgIGFjKG91dHB1dCwgIiIpCiAKICAgICAgICAg
b3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJzdG9uaXRoIGxldmVsIGFkZCAxIHJo
Ny0yIG4yLWlwbWkiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5WYWwsIDApCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmV0dXJuVmFsLCAwKQogICAgICAgICBhYyhvdXRwdXQs
ICIiKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKAogICAgICAgICAgICAgdGVt
cF9jaWIsICJzdG9uaXRoIGxldmVsIGFkZCAyIHJoNy0yIG4yLWFwYzEsbjItYXBjMixuMi1hcGMz
IgogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldHVyblZhbCwgMCkKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXR1cm5WYWwsIDApCiAgICAgICAgIGFjKG91dHB1dCwg
IiIpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJzdG9uaXRo
IikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0dXJuVmFsLCAwKQorICAgICAgICBzZWxm
LmFzc2VydEVxdWFsKHJldHVyblZhbCwgMCkKICAgICAgICAgYWMob3V0cHV0LCAiIiJcCiAgbjEt
aXBtaVx0KHN0b25pdGg6ZmVuY2VfaWxvKTpcdFN0b3BwZWQKICBuMi1pcG1pXHQoc3Rvbml0aDpm
ZW5jZV9pbG8pOlx0U3RvcHBlZApAQCAtNjM1LDExICs2OTQsMTEgQEAgY2xhc3MgU3Rvbml0aFRl
c3QodW5pdHRlc3QuVGVzdENhc2UpOgogIiIiKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFs
ID0gcGNzKHRlbXBfY2liLCAic3Rvbml0aCBkZWxldGUgbjItYXBjMiIpCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKHJldHVyblZhbCwgMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXR1
cm5WYWwsIDApCiAgICAgICAgIGFjKG91dHB1dCwgIkRlbGV0aW5nIFJlc291cmNlIC0gbjItYXBj
MlxuIikKIAogICAgICAgICBvdXRwdXQsIHJldHVyblZhbCA9IHBjcyh0ZW1wX2NpYiwgInN0b25p
dGgiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5WYWwsIDApCisgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwocmV0dXJuVmFsLCAwKQogICAgICAgICBhYyhvdXRwdXQsICIiIlwKICBu
MS1pcG1pXHQoc3Rvbml0aDpmZW5jZV9pbG8pOlx0U3RvcHBlZAogIG4yLWlwbWlcdChzdG9uaXRo
OmZlbmNlX2lsbyk6XHRTdG9wcGVkCkBAIC02NTYsMTEgKzcxNSwxMSBAQCBjbGFzcyBTdG9uaXRo
VGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAiIiIpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5W
YWwgPSBwY3ModGVtcF9jaWIsICJzdG9uaXRoIGRlbGV0ZSBuMi1hcGMxIikKLSAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbHMocmV0dXJuVmFsLCAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJl
dHVyblZhbCwgMCkKICAgICAgICAgYWMob3V0cHV0LCAiRGVsZXRpbmcgUmVzb3VyY2UgLSBuMi1h
cGMxXG4iKQogCiAgICAgICAgIG91dHB1dCwgcmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAic3Rv
bml0aCIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHJldHVyblZhbCwgMCkKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbChyZXR1cm5WYWwsIDApCiAgICAgICAgIGFjKG91dHB1dCwgIiIiXAog
IG4xLWlwbWlcdChzdG9uaXRoOmZlbmNlX2lsbyk6XHRTdG9wcGVkCiAgbjItaXBtaVx0KHN0b25p
dGg6ZmVuY2VfaWxvKTpcdFN0b3BwZWQKQEAgLTY3NiwxMSArNzM1LDExIEBAIGNsYXNzIFN0b25p
dGhUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICIiIikKIAogICAgICAgICBvdXRwdXQsIHJldHVy
blZhbCA9IHBjcyh0ZW1wX2NpYiwgInN0b25pdGggZGVsZXRlIG4yLWFwYzMiKQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscyhyZXR1cm5WYWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
cmV0dXJuVmFsLCAwKQogICAgICAgICBhYyhvdXRwdXQsICJEZWxldGluZyBSZXNvdXJjZSAtIG4y
LWFwYzNcbiIpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIsICJz
dG9uaXRoIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0dXJuVmFsLCAwKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKHJldHVyblZhbCwgMCkKICAgICAgICAgYWMob3V0cHV0LCAiIiJc
CiAgbjEtaXBtaVx0KHN0b25pdGg6ZmVuY2VfaWxvKTpcdFN0b3BwZWQKICBuMi1pcG1pXHQoc3Rv
bml0aDpmZW5jZV9pbG8pOlx0U3RvcHBlZApAQCAtNjk0LDExICs3NTMsMTEgQEAgY2xhc3MgU3Rv
bml0aFRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogIiIiKQogCiAgICAgICAgIG91dHB1dCwgcmV0
dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZGVsZXRlIG4xLWFwYzEiKQotICAgICAg
ICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5WYWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwocmV0dXJuVmFsLCAwKQogICAgICAgICBhYyhvdXRwdXQsICJEZWxldGluZyBSZXNvdXJjZSAt
IG4xLWFwYzFcbiIpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9jaWIs
ICJzdG9uaXRoIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0dXJuVmFsLCAwKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKHJldHVyblZhbCwgMCkKICAgICAgICAgYWMob3V0cHV0LCAi
IiJcCiAgbjEtaXBtaVx0KHN0b25pdGg6ZmVuY2VfaWxvKTpcdFN0b3BwZWQKICBuMi1pcG1pXHQo
c3Rvbml0aDpmZW5jZV9pbG8pOlx0U3RvcHBlZApAQCAtNzExLDExICs3NzAsMTEgQEAgY2xhc3Mg
U3Rvbml0aFRlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogIiIiKQogCiAgICAgICAgIG91dHB1dCwg
cmV0dXJuVmFsID0gcGNzKHRlbXBfY2liLCAicmVzb3VyY2UgZGVsZXRlIG4xLWFwYzIiKQotICAg
ICAgICBzZWxmLmFzc2VydEVxdWFscyhyZXR1cm5WYWwsIDApCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwocmV0dXJuVmFsLCAwKQogICAgICAgICBhYyhvdXRwdXQsICJEZWxldGluZyBSZXNvdXJj
ZSAtIG4xLWFwYzJcbiIpCiAKICAgICAgICAgb3V0cHV0LCByZXR1cm5WYWwgPSBwY3ModGVtcF9j
aWIsICJzdG9uaXRoIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMocmV0dXJuVmFsLCAwKQor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJldHVyblZhbCwgMCkKICAgICAgICAgYWMob3V0cHV0
LCAiIiJcCiAgbjEtaXBtaVx0KHN0b25pdGg6ZmVuY2VfaWxvKTpcdFN0b3BwZWQKICBuMi1pcG1p
XHQoc3Rvbml0aDpmZW5jZV9pbG8pOlx0U3RvcHBlZApkaWZmIC0tZ2l0IGEvcGNzL3Rlc3QvdGVz
dF91dGlscy5weSBiL3Bjcy90ZXN0L3Rlc3RfdXRpbHMucHkKaW5kZXggOWQzNWU4Ni4uYmQ1M2E3
ZiAxMDA2NDQKLS0tIGEvcGNzL3Rlc3QvdGVzdF91dGlscy5weQorKysgYi9wY3MvdGVzdC90ZXN0
X3V0aWxzLnB5CkBAIC0xLDQgKzEsOSBAQAotaW1wb3J0IG9zCitmcm9tIF9fZnV0dXJlX18gaW1w
b3J0IGFic29sdXRlX2ltcG9ydAorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBkaXZpc2lvbgorZnJv
bSBfX2Z1dHVyZV9fIGltcG9ydCBwcmludF9mdW5jdGlvbgorZnJvbSBfX2Z1dHVyZV9fIGltcG9y
dCB1bmljb2RlX2xpdGVyYWxzCisKK2ltcG9ydCBvcy5wYXRoCiBpbXBvcnQgc3lzCiBpbXBvcnQg
c2h1dGlsCiBpbXBvcnQgdW5pdHRlc3QKQEAgLTYsOCArMTEsMTAgQEAgaW1wb3J0IHhtbC5kb20u
bWluaWRvbQogY3VycmVudGRpciA9IG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmFic3BhdGgoX19m
aWxlX18pKQogcGFyZW50ZGlyID0gb3MucGF0aC5kaXJuYW1lKGN1cnJlbnRkaXIpCiBzeXMucGF0
aC5pbnNlcnQoMCwgcGFyZW50ZGlyKQotZnJvbSBwY3NfdGVzdF9mdW5jdGlvbnMgaW1wb3J0IHBj
cywgYWMKKwogaW1wb3J0IHV0aWxzCitmcm9tIHBjc190ZXN0X2Z1bmN0aW9ucyBpbXBvcnQgcGNz
LCBhYworCiAKIGVtcHR5X2NpYiA9IG9zLnBhdGguam9pbihjdXJyZW50ZGlyLCAiZW1wdHkueG1s
IikKIHRlbXBfY2liID0gb3MucGF0aC5qb2luKGN1cnJlbnRkaXIsICJ0ZW1wLnhtbCIpCkBAIC0y
MTQsMTUgKzIyMSwxNSBAQCBjbGFzcyBVdGlsc1Rlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAg
ICAgICAgICAgKSwKICAgICAgICAgICAgICJteUdyb3VwTWFzdGVyIgogICAgICAgICApCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAg
ICAgICAgTm9uZSwKICAgICAgICAgICAgIHV0aWxzLmRvbV9nZXRfcmVzb3VyY2VfY2xvbmVfbXNf
cGFyZW50KGNpYl9kb20sICJteVJlc291cmNlIikKICAgICAgICAgKQotICAgICAgICBzZWxmLmFz
c2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIE5vbmUs
CiAgICAgICAgICAgICB1dGlscy5kb21fZ2V0X3Jlc291cmNlX2Nsb25lX21zX3BhcmVudChjaWJf
ZG9tLCAibXlHcm91cCIpCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBOb25lLAogICAgICAgICAgICAg
dXRpbHMuZG9tX2dldF9yZXNvdXJjZV9jbG9uZV9tc19wYXJlbnQoY2liX2RvbSwgIm15R3JvdXBl
ZFJlc291cmNlIikKICAgICAgICAgKQpAQCAtMjU5LDE5ICsyNjYsMTkgQEAgY2xhc3MgVXRpbHNU
ZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgcmVzb3VyY2VzID0gZG9tLmdldEVsZW1l
bnRzQnlUYWdOYW1lKCJyZXNvdXJjZXMiKVswXQogICAgICAgICByZXNvdXJjZXMucGFyZW50Tm9k
ZS5yZXBsYWNlQ2hpbGQobmV3X3Jlc291cmNlcywgcmVzb3VyY2VzKQogCi0gICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgTm9u
ZSwKICAgICAgICAgICAgIHV0aWxzLmRvbV9nZXRfcmVzb3VyY2VfcmVtb3RlX25vZGVfbmFtZSgK
ICAgICAgICAgICAgICAgICB1dGlscy5kb21fZ2V0X3Jlc291cmNlKGRvbSwgImR1bW15MSIpCiAg
ICAgICAgICAgICApCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBOb25lLAogICAgICAgICAgICAgdXRp
bHMuZG9tX2dldF9yZXNvdXJjZV9yZW1vdGVfbm9kZV9uYW1lKAogICAgICAgICAgICAgICAgIHV0
aWxzLmRvbV9nZXRfcmVzb3VyY2UoZG9tLCAiZHVtbXkyIikKICAgICAgICAgICAgICkKICAgICAg
ICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCgKICAgICAgICAgICAgICJndWVzdDEiLAogICAgICAgICAgICAgdXRpbHMuZG9tX2dldF9yZXNv
dXJjZV9yZW1vdGVfbm9kZV9uYW1lKAogICAgICAgICAgICAgICAgIHV0aWxzLmRvbV9nZXRfcmVz
b3VyY2UoZG9tLCAidm0tZ3Vlc3QxIikKQEAgLTMxMCwyNSArMzE3LDI1IEBAIGNsYXNzIFV0aWxz
VGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgIHJlc291cmNlcyA9IGRvbS5nZXRFbGVt
ZW50c0J5VGFnTmFtZSgicmVzb3VyY2VzIilbMF0KICAgICAgICAgcmVzb3VyY2VzLnBhcmVudE5v
ZGUucmVwbGFjZUNoaWxkKG5ld19yZXNvdXJjZXMsIHJlc291cmNlcykKIAotICAgICAgICBzZWxm
LmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIE5v
bmUsCiAgICAgICAgICAgICB1dGlscy5kb21fZ2V0X21ldGFfYXR0cl92YWx1ZSgKICAgICAgICAg
ICAgICAgICB1dGlscy5kb21fZ2V0X3Jlc291cmNlKGRvbSwgImR1bW15MSIpLCAiZm9vIgogICAg
ICAgICAgICAgKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgTm9uZSwKICAgICAgICAgICAgIHV0aWxz
LmRvbV9nZXRfbWV0YV9hdHRyX3ZhbHVlKAogICAgICAgICAgICAgICAgIHV0aWxzLmRvbV9nZXRf
cmVzb3VyY2UoZG9tLCAiZHVtbXkyIiksICJyZW1vdGUtbm9kZSIKICAgICAgICAgICAgICkKICAg
ICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgKICAgICAgICAgICAgICJndWVzdDEiLAogICAgICAgICAgICAgdXRpbHMuZG9tX2dldF9t
ZXRhX2F0dHJfdmFsdWUoCiAgICAgICAgICAgICAgICAgdXRpbHMuZG9tX2dldF9yZXNvdXJjZShk
b20sICJ2bS1ndWVzdDEiKSwgInJlbW90ZS1ub2RlIgogICAgICAgICAgICAgKQogICAgICAgICAp
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAog
ICAgICAgICAgICAgTm9uZSwKICAgICAgICAgICAgIHV0aWxzLmRvbV9nZXRfbWV0YV9hdHRyX3Zh
bHVlKAogICAgICAgICAgICAgICAgIHV0aWxzLmRvbV9nZXRfcmVzb3VyY2UoZG9tLCAidm0tZ3Vl
c3QxIiksICJmb28iCkBAIC0zNjYsMTAgKzM3MywxMCBAQCBjbGFzcyBVdGlsc1Rlc3QodW5pdHRl
c3QuVGVzdENhc2UpOgogICAgICAgICAgICAgKSwKICAgICAgICAgICAgICJjYzEiCiAgICAgICAg
ICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoTm9uZSwgdXRpbHMuZG9tX2dldF9lbGVtZW50
X3dpdGhfaWQoZG9tLCAiZGQiLCAiYmIxIikpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKE5v
bmUsIHV0aWxzLmRvbV9nZXRfZWxlbWVudF93aXRoX2lkKGRvbSwgImJiIiwgImJiNCIpKQotICAg
ICAgICBzZWxmLmFzc2VydEVxdWFscyhOb25lLCB1dGlscy5kb21fZ2V0X2VsZW1lbnRfd2l0aF9p
ZChkb20sICJiYiIsICJjYzEiKSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwoTm9uZSwgdXRpbHMuZG9tX2dldF9lbGVtZW50X3dpdGhfaWQoZG9t
LCAiZGQiLCAiYmIxIikpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoTm9uZSwgdXRpbHMuZG9t
X2dldF9lbGVtZW50X3dpdGhfaWQoZG9tLCAiYmIiLCAiYmI0IikpCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoTm9uZSwgdXRpbHMuZG9tX2dldF9lbGVtZW50X3dpdGhfaWQoZG9tLCAiYmIiLCAi
Y2MxIikpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBOb25lLAogICAg
ICAgICAgICAgdXRpbHMuZG9tX2dldF9lbGVtZW50X3dpdGhfaWQoCiAgICAgICAgICAgICAgICAg
dXRpbHMuZG9tX2dldF9lbGVtZW50X3dpdGhfaWQoZG9tLCAiYmIiLCAiYmIyIiksCkBAIC00MDcs
NDIgKzQxNCw0MiBAQCBjbGFzcyBVdGlsc1Rlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAg
ICAgICAgImJiMiIKICAgICAgICAgKQogCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKE5vbmUs
IHV0aWxzLmRvbV9nZXRfcGFyZW50X2J5X3RhZ19uYW1lKGJiMSwgImNjIikpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKE5vbmUsIHV0aWxzLmRvbV9nZXRfcGFyZW50X2J5X3RhZ19uYW1lKGNj
MSwgImRkIikpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKE5vbmUsIHV0aWxzLmRvbV9nZXRf
cGFyZW50X2J5X3RhZ19uYW1lKGNjMSwgImVlIikpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
Tm9uZSwgdXRpbHMuZG9tX2dldF9wYXJlbnRfYnlfdGFnX25hbWUoYmIxLCAiY2MiKSkKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbChOb25lLCB1dGlscy5kb21fZ2V0X3BhcmVudF9ieV90YWdfbmFt
ZShjYzEsICJkZCIpKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKE5vbmUsIHV0aWxzLmRvbV9n
ZXRfcGFyZW50X2J5X3RhZ19uYW1lKGNjMSwgImVlIikpCiAKICAgICBkZWYgdGVzdFZhbGlkYXRl
Q29uc3RyYWludFJlc291cmNlKHNlbGYpOgogICAgICAgICBkb20gPSBzZWxmLmdldF9jaWJfcmVz
b3VyY2VzKCkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwoCiAgICAgICAgICAgICAoVHJ1ZSwgIiIsICJteUNsb25lIiksCiAgICAgICAgICAgICB1
dGlscy52YWxpZGF0ZV9jb25zdHJhaW50X3Jlc291cmNlKGRvbSwgIm15Q2xvbmUiKQogICAgICAg
ICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFs
KAogICAgICAgICAgICAgKFRydWUsICIiLCAibXlHcm91cENsb25lIiksCiAgICAgICAgICAgICB1
dGlscy52YWxpZGF0ZV9jb25zdHJhaW50X3Jlc291cmNlKGRvbSwgIm15R3JvdXBDbG9uZSIpCiAg
ICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwoCiAgICAgICAgICAgICAoVHJ1ZSwgIiIsICJteU1hc3RlciIpLAogICAgICAgICAgICAg
dXRpbHMudmFsaWRhdGVfY29uc3RyYWludF9yZXNvdXJjZShkb20sICJteU1hc3RlciIpCiAgICAg
ICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoCiAgICAgICAgICAgICAoVHJ1ZSwgIiIsICJteUdyb3VwTWFzdGVyIiksCiAgICAgICAgICAg
ICB1dGlscy52YWxpZGF0ZV9jb25zdHJhaW50X3Jlc291cmNlKGRvbSwgIm15R3JvdXBNYXN0ZXIi
KQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKAogICAgICAgICAgICAgKFRydWUsICIiLCAibXlSZXNvdXJjZSIpLAogICAgICAg
ICAgICAgdXRpbHMudmFsaWRhdGVfY29uc3RyYWludF9yZXNvdXJjZShkb20sICJteVJlc291cmNl
IikKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbCgKICAgICAgICAgICAgIChUcnVlLCAiIiwgIm15R3JvdXAiKSwKICAgICAgICAg
ICAgIHV0aWxzLnZhbGlkYXRlX2NvbnN0cmFpbnRfcmVzb3VyY2UoZG9tLCAibXlHcm91cCIpCiAg
ICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwoCiAgICAgICAgICAgICAoVHJ1ZSwgIiIsICJteUdyb3VwZWRSZXNvdXJjZSIpLAogICAg
ICAgICAgICAgdXRpbHMudmFsaWRhdGVfY29uc3RyYWludF9yZXNvdXJjZShkb20sICJteUdyb3Vw
ZWRSZXNvdXJjZSIpCiAgICAgICAgICkKIAotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIChGYWxzZSwgIlJlc291cmNlICdt
eU5vbmV4aXN0ZW50JyBkb2VzIG5vdCBleGlzdCIsIE5vbmUpLAogICAgICAgICAgICAgdXRpbHMu
dmFsaWRhdGVfY29uc3RyYWludF9yZXNvdXJjZShkb20sICJteU5vbmV4aXN0ZW50IikKICAgICAg
ICAgKQpAQCAtNDUxLDcgKzQ1OCw3IEBAIGNsYXNzIFV0aWxzVGVzdCh1bml0dGVzdC5UZXN0Q2Fz
ZSk6CiAgICAgICAgICAgICAiJXMgaXMgYSBjbG9uZSByZXNvdXJjZSwgeW91IHNob3VsZCB1c2Ug
dGhlIGNsb25lIGlkOiAiCiAgICAgICAgICAgICAiJXMgd2hlbiBhZGRpbmcgY29uc3RyYWludHMu
IFVzZSAtLWZvcmNlIHRvIG92ZXJyaWRlLiIKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgICgKICAgICAg
ICAgICAgICAgICBGYWxzZSwKICAgICAgICAgICAgICAgICBtZXNzYWdlICUgKCJteUNsb25lZFJl
c291cmNlIiwgIm15Q2xvbmUiKSwKQEAgLTQ1OSw3ICs0NjYsNyBAQCBjbGFzcyBVdGlsc1Rlc3Qo
dW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICAgICAgKSwKICAgICAgICAgICAgIHV0aWxzLnZh
bGlkYXRlX2NvbnN0cmFpbnRfcmVzb3VyY2UoZG9tLCAibXlDbG9uZWRSZXNvdXJjZSIpCiAgICAg
ICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoCiAgICAgICAgICAgICAoCiAgICAgICAgICAgICAgICAgRmFsc2UsCiAgICAgICAgICAgICAg
ICAgbWVzc2FnZSAlICgibXlDbG9uZWRHcm91cCIsICJteUdyb3VwQ2xvbmUiKSwKQEAgLTQ2Nyw3
ICs0NzQsNyBAQCBjbGFzcyBVdGlsc1Rlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICAg
ICAgKSwKICAgICAgICAgICAgIHV0aWxzLnZhbGlkYXRlX2NvbnN0cmFpbnRfcmVzb3VyY2UoZG9t
LCAibXlDbG9uZWRHcm91cCIpCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMo
CisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICAoCiAgICAgICAgICAgICAg
ICAgRmFsc2UsCiAgICAgICAgICAgICAgICAgbWVzc2FnZSAlICgibXlDbG9uZWRHcm91cGVkUmVz
b3VyY2UiLCAibXlHcm91cENsb25lIiksCkBAIC00ODAsNyArNDg3LDcgQEAgY2xhc3MgVXRpbHNU
ZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgICAgICIlcyBpcyBhIG1hc3Rlci9zbGF2
ZSByZXNvdXJjZSwgeW91IHNob3VsZCB1c2UgdGhlIG1hc3RlciBpZDogIgogICAgICAgICAgICAg
IiVzIHdoZW4gYWRkaW5nIGNvbnN0cmFpbnRzLiBVc2UgLS1mb3JjZSB0byBvdmVycmlkZS4iCiAg
ICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWwoCiAgICAgICAgICAgICAoCiAgICAgICAgICAgICAgICAgRmFsc2UsCiAgICAgICAgICAg
ICAgICAgbWVzc2FnZSAlICgibXlNYXN0ZXJlZFJlc291cmNlIiwgIm15TWFzdGVyIiksCkBAIC00
ODgsNyArNDk1LDcgQEAgY2xhc3MgVXRpbHNUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAg
ICAgICAgICksCiAgICAgICAgICAgICB1dGlscy52YWxpZGF0ZV9jb25zdHJhaW50X3Jlc291cmNl
KGRvbSwgIm15TWFzdGVyZWRSZXNvdXJjZSIpCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICAoCiAgICAg
ICAgICAgICAgICAgRmFsc2UsCiAgICAgICAgICAgICAgICAgbWVzc2FnZSAlICgibXlNYXN0ZXJl
ZEdyb3VwIiwgIm15R3JvdXBNYXN0ZXIiKSwKQEAgLTQ5Niw3ICs1MDMsNyBAQCBjbGFzcyBVdGls
c1Rlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICAgICAgKSwKICAgICAgICAgICAgIHV0
aWxzLnZhbGlkYXRlX2NvbnN0cmFpbnRfcmVzb3VyY2UoZG9tLCAibXlNYXN0ZXJlZEdyb3VwIikK
ICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbCgKICAgICAgICAgICAgICgKICAgICAgICAgICAgICAgICBGYWxzZSwKICAgICAgICAg
ICAgICAgICBtZXNzYWdlICUgKCJteU1hc3RlcmVkR3JvdXBlZFJlc291cmNlIiwgIm15R3JvdXBN
YXN0ZXIiKSwKQEAgLTUwNiw5OCArNTEzLDk4IEBAIGNsYXNzIFV0aWxzVGVzdCh1bml0dGVzdC5U
ZXN0Q2FzZSk6CiAgICAgICAgICkKIAogICAgICAgICB1dGlscy5wY3Nfb3B0aW9uc1siLS1mb3Jj
ZSJdID0gVHJ1ZQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbCgKICAgICAgICAgICAgIChUcnVlLCAiIiwgIm15Q2xvbmUiKSwKICAgICAgICAgICAg
IHV0aWxzLnZhbGlkYXRlX2NvbnN0cmFpbnRfcmVzb3VyY2UoZG9tLCAibXlDbG9uZWRSZXNvdXJj
ZSIpCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICAoVHJ1ZSwgIiIsICJteUdyb3VwQ2xvbmUiKSwKICAg
ICAgICAgICAgIHV0aWxzLnZhbGlkYXRlX2NvbnN0cmFpbnRfcmVzb3VyY2UoZG9tLCAibXlDbG9u
ZWRHcm91cCIpCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICAoVHJ1ZSwgIiIsICJteUdyb3VwQ2xvbmUi
KSwKICAgICAgICAgICAgIHV0aWxzLnZhbGlkYXRlX2NvbnN0cmFpbnRfcmVzb3VyY2UoZG9tLCAi
bXlDbG9uZWRHcm91cGVkUmVzb3VyY2UiKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgKFRydWUsICIi
LCAibXlNYXN0ZXIiKSwKICAgICAgICAgICAgIHV0aWxzLnZhbGlkYXRlX2NvbnN0cmFpbnRfcmVz
b3VyY2UoZG9tLCAibXlNYXN0ZXJlZFJlc291cmNlIikKICAgICAgICAgKQotICAgICAgICBzZWxm
LmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIChU
cnVlLCAiIiwgIm15R3JvdXBNYXN0ZXIiKSwKICAgICAgICAgICAgIHV0aWxzLnZhbGlkYXRlX2Nv
bnN0cmFpbnRfcmVzb3VyY2UoZG9tLCAibXlNYXN0ZXJlZEdyb3VwIikKICAgICAgICAgKQotICAg
ICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAg
ICAgICAgIChUcnVlLCAiIiwgIm15R3JvdXBNYXN0ZXIiKSwKICAgICAgICAgICAgIHV0aWxzLnZh
bGlkYXRlX2NvbnN0cmFpbnRfcmVzb3VyY2UoZG9tLCAibXlNYXN0ZXJlZEdyb3VwZWRSZXNvdXJj
ZSIpCiAgICAgICAgICkKIAogICAgIGRlZiB0ZXN0VmFsaWRhdGVYbWxJZChzZWxmKToKLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoKFRydWUsICIiKSwgdXRpbHMudmFsaWRhdGVfeG1sX2lkKCJk
dW1teSIpKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygoVHJ1ZSwgIiIpLCB1dGlscy52YWxp
ZGF0ZV94bWxfaWQoIkRVTU1ZIikpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKChUcnVlLCAi
IiksIHV0aWxzLnZhbGlkYXRlX3htbF9pZCgiZFVtTXkiKSkKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHMoKFRydWUsICIiKSwgdXRpbHMudmFsaWRhdGVfeG1sX2lkKCJkdW1teTAiKSkKLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoKFRydWUsICIiKSwgdXRpbHMudmFsaWRhdGVfeG1sX2lkKCJk
dW0wbXkiKSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoKFRydWUsICIiKSwgdXRpbHMudmFs
aWRhdGVfeG1sX2lkKCJkdW1teS0iKSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoKFRydWUs
ICIiKSwgdXRpbHMudmFsaWRhdGVfeG1sX2lkKCJkdW0tbXkiKSkKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHMoKFRydWUsICIiKSwgdXRpbHMudmFsaWRhdGVfeG1sX2lkKCJkdW1teS4iKSkKLSAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoKFRydWUsICIiKSwgdXRpbHMudmFsaWRhdGVfeG1sX2lk
KCJkdW0ubXkiKSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoKFRydWUsICIiKSwgdXRpbHMu
dmFsaWRhdGVfeG1sX2lkKCJfZHVtbXkiKSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoKFRy
dWUsICIiKSwgdXRpbHMudmFsaWRhdGVfeG1sX2lkKCJkdW1teV8iKSkKLSAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbHMoKFRydWUsICIiKSwgdXRpbHMudmFsaWRhdGVfeG1sX2lkKCJkdW1fbXkiKSkK
LQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgo
VHJ1ZSwgIiIpLCB1dGlscy52YWxpZGF0ZV94bWxfaWQoImR1bW15IikpCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoKFRydWUsICIiKSwgdXRpbHMudmFsaWRhdGVfeG1sX2lkKCJEVU1NWSIpKQor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKChUcnVlLCAiIiksIHV0aWxzLnZhbGlkYXRlX3htbF9p
ZCgiZFVtTXkiKSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgoVHJ1ZSwgIiIpLCB1dGlscy52
YWxpZGF0ZV94bWxfaWQoImR1bW15MCIpKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKChUcnVl
LCAiIiksIHV0aWxzLnZhbGlkYXRlX3htbF9pZCgiZHVtMG15IikpCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoKFRydWUsICIiKSwgdXRpbHMudmFsaWRhdGVfeG1sX2lkKCJkdW1teS0iKSkKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbCgoVHJ1ZSwgIiIpLCB1dGlscy52YWxpZGF0ZV94bWxfaWQo
ImR1bS1teSIpKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKChUcnVlLCAiIiksIHV0aWxzLnZh
bGlkYXRlX3htbF9pZCgiZHVtbXkuIikpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoKFRydWUs
ICIiKSwgdXRpbHMudmFsaWRhdGVfeG1sX2lkKCJkdW0ubXkiKSkKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbCgoVHJ1ZSwgIiIpLCB1dGlscy52YWxpZGF0ZV94bWxfaWQoIl9kdW1teSIpKQorICAg
ICAgICBzZWxmLmFzc2VydEVxdWFsKChUcnVlLCAiIiksIHV0aWxzLnZhbGlkYXRlX3htbF9pZCgi
ZHVtbXlfIikpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoKFRydWUsICIiKSwgdXRpbHMudmFs
aWRhdGVfeG1sX2lkKCJkdW1fbXkiKSkKKworICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAg
ICAgICAgICAgKEZhbHNlLCAidGVzdCBpZCBjYW5ub3QgYmUgZW1wdHkiKSwKICAgICAgICAgICAg
IHV0aWxzLnZhbGlkYXRlX3htbF9pZCgiIiwgInRlc3QgaWQiKQogICAgICAgICApCiAKICAgICAg
ICAgbXNnID0gImludmFsaWQgdGVzdCBpZCAnJXMnLCAnJXMnIGlzIG5vdCBhIHZhbGlkIGZpcnN0
IGNoYXJhY3RlciBmb3IgYSB0ZXN0IGlkIgotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIChGYWxzZSwgbXNnICUgKCIwIiwg
IjAiKSksCiAgICAgICAgICAgICB1dGlscy52YWxpZGF0ZV94bWxfaWQoIjAiLCAidGVzdCBpZCIp
CiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoCiAgICAgICAgICAgICAoRmFsc2UsIG1zZyAlICgiLSIsICItIikpLAogICAgICAg
ICAgICAgdXRpbHMudmFsaWRhdGVfeG1sX2lkKCItIiwgInRlc3QgaWQiKQogICAgICAgICApCi0g
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAg
ICAgICAgICAgKEZhbHNlLCBtc2cgJSAoIi4iLCAiLiIpKSwKICAgICAgICAgICAgIHV0aWxzLnZh
bGlkYXRlX3htbF9pZCgiLiIsICJ0ZXN0IGlkIikKICAgICAgICAgKQotICAgICAgICBzZWxmLmFz
c2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIChGYWxz
ZSwgbXNnICUgKCI6IiwgIjoiKSksCiAgICAgICAgICAgICB1dGlscy52YWxpZGF0ZV94bWxfaWQo
IjoiLCAidGVzdCBpZCIpCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICAoRmFsc2UsIG1zZyAlICgiMGR1
bW15IiwgIjAiKSksCiAgICAgICAgICAgICB1dGlscy52YWxpZGF0ZV94bWxfaWQoIjBkdW1teSIs
ICJ0ZXN0IGlkIikKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIChGYWxzZSwgbXNnICUgKCItZHVtbXki
LCAiLSIpKSwKICAgICAgICAgICAgIHV0aWxzLnZhbGlkYXRlX3htbF9pZCgiLWR1bW15IiwgInRl
c3QgaWQiKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgKEZhbHNlLCBtc2cgJSAoIi5kdW1teSIsICIu
IikpLAogICAgICAgICAgICAgdXRpbHMudmFsaWRhdGVfeG1sX2lkKCIuZHVtbXkiLCAidGVzdCBp
ZCIpCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICAoRmFsc2UsIG1zZyAlICgiOmR1bW15IiwgIjoiKSks
CiAgICAgICAgICAgICB1dGlscy52YWxpZGF0ZV94bWxfaWQoIjpkdW1teSIsICJ0ZXN0IGlkIikK
ICAgICAgICAgKQogCiAgICAgICAgIG1zZyA9ICJpbnZhbGlkIHRlc3QgaWQgJyVzJywgJyVzJyBp
cyBub3QgYSB2YWxpZCBjaGFyYWN0ZXIgZm9yIGEgdGVzdCBpZCIKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICAoRmFsc2Us
IG1zZyAlICgiZHVtOm15IiwgIjoiKSksCiAgICAgICAgICAgICB1dGlscy52YWxpZGF0ZV94bWxf
aWQoImR1bTpteSIsICJ0ZXN0IGlkIikKICAgICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVx
dWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIChGYWxzZSwgbXNn
ICUgKCJkdW1teToiLCAiOiIpKSwKICAgICAgICAgICAgIHV0aWxzLnZhbGlkYXRlX3htbF9pZCgi
ZHVtbXk6IiwgInRlc3QgaWQiKQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxz
KAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgKEZhbHNlLCBtc2cgJSAo
ImR1bT9teSIsICI/IikpLAogICAgICAgICAgICAgdXRpbHMudmFsaWRhdGVfeG1sX2lkKCJkdW0/
bXkiLCAidGVzdCBpZCIpCiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisg
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICAoRmFsc2UsIG1zZyAlICgiZHVt
bXk/IiwgIj8iKSksCiAgICAgICAgICAgICB1dGlscy52YWxpZGF0ZV94bWxfaWQoImR1bW15PyIs
ICJ0ZXN0IGlkIikKICAgICAgICAgKQpAQCAtNjQ5LDI1ICs2NTYsMjUgQEAgY2xhc3MgVXRpbHNU
ZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgc2VsZi5hc3NlcnRGYWxzZSh1dGlscy5p
c19zY29yZSgiKzEwK0lORklOSVRZIikpCiAKICAgICBkZWYgdGVzdF9nZXRfdGltZW91dF9zZWNv
bmRzKHNlbGYpOgotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyh1dGlscy5nZXRfdGltZW91dF9z
ZWNvbmRzKCIxMCIpLCAxMCkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHModXRpbHMuZ2V0X3Rp
bWVvdXRfc2Vjb25kcygiMTBzIiksIDEwKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyh1dGls
cy5nZXRfdGltZW91dF9zZWNvbmRzKCIxMHNlYyIpLCAxMCkKLSAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbHModXRpbHMuZ2V0X3RpbWVvdXRfc2Vjb25kcygiMTBtIiksIDYwMCkKLSAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbHModXRpbHMuZ2V0X3RpbWVvdXRfc2Vjb25kcygiMTBtaW4iKSwgNjAwKQot
ICAgICAgICBzZWxmLmFzc2VydEVxdWFscyh1dGlscy5nZXRfdGltZW91dF9zZWNvbmRzKCIxMGgi
KSwgMzYwMDApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHV0aWxzLmdldF90aW1lb3V0X3Nl
Y29uZHMoIjEwaHIiKSwgMzYwMDApCi0KLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHModXRpbHMu
Z2V0X3RpbWVvdXRfc2Vjb25kcygiMWExcyIpLCBOb25lKQotICAgICAgICBzZWxmLmFzc2VydEVx
dWFscyh1dGlscy5nZXRfdGltZW91dF9zZWNvbmRzKCIxMG1tIiksIE5vbmUpCi0gICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWxzKHV0aWxzLmdldF90aW1lb3V0X3NlY29uZHMoIjEwbWltIiksIE5vbmUp
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHV0aWxzLmdldF90aW1lb3V0X3NlY29uZHMoImFh
YSIpLCBOb25lKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyh1dGlscy5nZXRfdGltZW91dF9z
ZWNvbmRzKCIiKSwgTm9uZSkKLQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyh1dGlscy5nZXRf
dGltZW91dF9zZWNvbmRzKCIxYTFzIiwgVHJ1ZSksICIxYTFzIikKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHModXRpbHMuZ2V0X3RpbWVvdXRfc2Vjb25kcygiMTBtbSIsIFRydWUpLCAiMTBtbSIp
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHV0aWxzLmdldF90aW1lb3V0X3NlY29uZHMoIjEw
bWltIiwgVHJ1ZSksICIxMG1pbSIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKHV0aWxzLmdl
dF90aW1lb3V0X3NlY29uZHMoImFhYSIsIFRydWUpLCAiYWFhIikKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHModXRpbHMuZ2V0X3RpbWVvdXRfc2Vjb25kcygiIiwgVHJ1ZSksICIiKQorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKHV0aWxzLmdldF90aW1lb3V0X3NlY29uZHMoIjEwIiksIDEwKQor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHV0aWxzLmdldF90aW1lb3V0X3NlY29uZHMoIjEwcyIp
LCAxMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCh1dGlscy5nZXRfdGltZW91dF9zZWNvbmRz
KCIxMHNlYyIpLCAxMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCh1dGlscy5nZXRfdGltZW91
dF9zZWNvbmRzKCIxMG0iKSwgNjAwKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHV0aWxzLmdl
dF90aW1lb3V0X3NlY29uZHMoIjEwbWluIiksIDYwMCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bCh1dGlscy5nZXRfdGltZW91dF9zZWNvbmRzKCIxMGgiKSwgMzYwMDApCisgICAgICAgIHNlbGYu
YXNzZXJ0RXF1YWwodXRpbHMuZ2V0X3RpbWVvdXRfc2Vjb25kcygiMTBociIpLCAzNjAwMCkKKwor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHV0aWxzLmdldF90aW1lb3V0X3NlY29uZHMoIjFhMXMi
KSwgTm9uZSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCh1dGlscy5nZXRfdGltZW91dF9zZWNv
bmRzKCIxMG1tIiksIE5vbmUpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwodXRpbHMuZ2V0X3Rp
bWVvdXRfc2Vjb25kcygiMTBtaW0iKSwgTm9uZSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCh1
dGlscy5nZXRfdGltZW91dF9zZWNvbmRzKCJhYWEiKSwgTm9uZSkKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbCh1dGlscy5nZXRfdGltZW91dF9zZWNvbmRzKCIiKSwgTm9uZSkKKworICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKHV0aWxzLmdldF90aW1lb3V0X3NlY29uZHMoIjFhMXMiLCBUcnVlKSwg
IjFhMXMiKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHV0aWxzLmdldF90aW1lb3V0X3NlY29u
ZHMoIjEwbW0iLCBUcnVlKSwgIjEwbW0iKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHV0aWxz
LmdldF90aW1lb3V0X3NlY29uZHMoIjEwbWltIiwgVHJ1ZSksICIxMG1pbSIpCisgICAgICAgIHNl
bGYuYXNzZXJ0RXF1YWwodXRpbHMuZ2V0X3RpbWVvdXRfc2Vjb25kcygiYWFhIiwgVHJ1ZSksICJh
YWEiKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHV0aWxzLmdldF90aW1lb3V0X3NlY29uZHMo
IiIsIFRydWUpLCAiIikKIAogICAgIGRlZiBnZXRfY2liX3N0YXR1c19scm0oc2VsZik6CiAgICAg
ICAgIGNpYl9kb20gPSBzZWxmLmdldF9jaWJfZW1wdHkoKQpAQCAtNzg4LDcgKzc5NSw3IEBAIGNs
YXNzIFV0aWxzVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiA8L2NybV9tb24+CiAgICAgICAgICIi
IikuZG9jdW1lbnRFbGVtZW50CiAKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICB1dGlscy5yZXNvdXJjZV9ydW5uaW5nX29u
KCJteVJlc291cmNlIiwgc3RhdHVzKSwKICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAn
bWVzc2FnZSc6CkBAIC03OTksNyArODA2LDcgQEAgY2xhc3MgVXRpbHNUZXN0KHVuaXR0ZXN0LlRl
c3RDYXNlKToKICAgICAgICAgICAgICAgICAnbm9kZXNfc3RhcnRlZCc6IFsicmg3MC1ub2RlMSJd
LAogICAgICAgICAgICAgfQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgdXRpbHMucmVzb3VyY2VfcnVu
bmluZ19vbigibXlDbG9uZWRSZXNvdXJjZSIsIHN0YXR1cyksCiAgICAgICAgICAgICB7CiAgICAg
ICAgICAgICAgICAgJ21lc3NhZ2UnOgpAQCAtODExLDcgKzgxOCw3IEBAIGNsYXNzIFV0aWxzVGVz
dCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgICAgICAgICAgJ25vZGVzX3N0YXJ0ZWQnOiBb
InJoNzAtbm9kZTEiLCAicmg3MC1ub2RlMiIsICJyaDcwLW5vZGUzIl0sCiAgICAgICAgICAgICB9
CiAgICAgICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoCiAgICAgICAgICAgICB1dGlscy5yZXNvdXJjZV9ydW5uaW5nX29uKCJteUNsb25l
Iiwgc3RhdHVzKSwKICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAnbWVzc2FnZSc6CkBA
IC04MjMsNyArODMwLDcgQEAgY2xhc3MgVXRpbHNUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAg
ICAgICAgICAgICAgICAnbm9kZXNfc3RhcnRlZCc6IFsicmg3MC1ub2RlMSIsICJyaDcwLW5vZGUy
IiwgInJoNzAtbm9kZTMiXSwKICAgICAgICAgICAgIH0KICAgICAgICAgKQotICAgICAgICBzZWxm
LmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIHV0
aWxzLnJlc291cmNlX3J1bm5pbmdfb24oIm15TWFzdGVyZWRSZXNvdXJjZSIsIHN0YXR1cyksCiAg
ICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgJ21lc3NhZ2UnOgpAQCAtODM1LDcgKzg0Miw3
IEBAIGNsYXNzIFV0aWxzVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAgICAgICAgICAgICAgICAg
J25vZGVzX3N0YXJ0ZWQnOiBbXSwKICAgICAgICAgICAgIH0KICAgICAgICAgKQotICAgICAgICBz
ZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAg
IHV0aWxzLnJlc291cmNlX3J1bm5pbmdfb24oIm15TWFzdGVyIiwgc3RhdHVzKSwKICAgICAgICAg
ICAgIHsKICAgICAgICAgICAgICAgICAnbWVzc2FnZSc6CkBAIC04NDcsNyArODU0LDcgQEAgY2xh
c3MgVXRpbHNUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgICAgICAgICAnbm9kZXNf
c3RhcnRlZCc6IFtdLAogICAgICAgICAgICAgfQogICAgICAgICApCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgdXRpbHMu
cmVzb3VyY2VfcnVubmluZ19vbigibXlHcm91cGVkUmVzb3VyY2UiLCBzdGF0dXMpLAogICAgICAg
ICAgICAgewogICAgICAgICAgICAgICAgICdtZXNzYWdlJzoKQEAgLTg1OSw3ICs4NjYsNyBAQCBj
bGFzcyBVdGlsc1Rlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgICAgICAgICAgICdub2Rl
c19zdGFydGVkJzogWyJyaDcwLW5vZGUyIl0sCiAgICAgICAgICAgICB9CiAgICAgICAgICkKLSAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAg
ICAgICAgICB1dGlscy5yZXNvdXJjZV9ydW5uaW5nX29uKCJteUdyb3VwIiwgc3RhdHVzKSwKICAg
ICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAnbWVzc2FnZSc6CkBAIC04NzEsNyArODc4LDcg
QEAgY2xhc3MgVXRpbHNUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgICAgICAgICAgICAgICAn
bm9kZXNfc3RhcnRlZCc6IFsicmg3MC1ub2RlMiJdLAogICAgICAgICAgICAgfQogICAgICAgICAp
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAog
ICAgICAgICAgICAgdXRpbHMucmVzb3VyY2VfcnVubmluZ19vbigibXlDbG9uZWRHcm91cGVkUmVz
b3VyY2UiLCBzdGF0dXMpLAogICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICdtZXNzYWdl
JzoKQEAgLTg4NCw3ICs4OTEsNyBAQCBjbGFzcyBVdGlsc1Rlc3QodW5pdHRlc3QuVGVzdENhc2Up
OgogICAgICAgICAgICAgICAgICAgICAicmg3MC1ub2RlMyJdLAogICAgICAgICAgICAgfQogICAg
ICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVx
dWFsKAogICAgICAgICAgICAgdXRpbHMucmVzb3VyY2VfcnVubmluZ19vbigibXlDbG9uZWRHcm91
cCIsIHN0YXR1cyksCiAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgJ21lc3NhZ2UnOgpA
QCAtODk3LDcgKzkwNCw3IEBAIGNsYXNzIFV0aWxzVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6CiAg
ICAgICAgICAgICAgICAgICAgICJyaDcwLW5vZGUzIl0sCiAgICAgICAgICAgICB9CiAgICAgICAg
ICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwo
CiAgICAgICAgICAgICB1dGlscy5yZXNvdXJjZV9ydW5uaW5nX29uKCJteUdyb3VwQ2xvbmUiLCBz
dGF0dXMpLAogICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICdtZXNzYWdlJzoKQEAgLTkx
MCw3ICs5MTcsNyBAQCBjbGFzcyBVdGlsc1Rlc3QodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAg
ICAgICAgICAgICAgICAicmg3MC1ub2RlMyJdLAogICAgICAgICAgICAgfQogICAgICAgICApCi0g
ICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAg
ICAgICAgICAgdXRpbHMucmVzb3VyY2VfcnVubmluZ19vbigibXlNYXN0ZXJlZEdyb3VwZWRSZXNv
dXJjZSIsIHN0YXR1cyksCiAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgJ21lc3NhZ2Un
OgpAQCAtOTIyLDcgKzkyOSw3IEBAIGNsYXNzIFV0aWxzVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6
CiAgICAgICAgICAgICAgICAgJ25vZGVzX3N0YXJ0ZWQnOiBbXSwKICAgICAgICAgICAgIH0KICAg
ICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgKICAgICAgICAgICAgIHV0aWxzLnJlc291cmNlX3J1bm5pbmdfb24oIm15TWFzdGVyZWRH
cm91cCIsIHN0YXR1cyksCiAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgJ21lc3NhZ2Un
OgpAQCAtOTM0LDcgKzk0MSw3IEBAIGNsYXNzIFV0aWxzVGVzdCh1bml0dGVzdC5UZXN0Q2FzZSk6
CiAgICAgICAgICAgICAgICAgJ25vZGVzX3N0YXJ0ZWQnOiBbXSwKICAgICAgICAgICAgIH0KICAg
ICAgICAgKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRF
cXVhbCgKICAgICAgICAgICAgIHV0aWxzLnJlc291cmNlX3J1bm5pbmdfb24oIm15R3JvdXBNYXN0
ZXIiLCBzdGF0dXMpLAogICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICdtZXNzYWdlJzoK
QEAgLTk0Niw3ICs5NTMsNyBAQCBjbGFzcyBVdGlsc1Rlc3QodW5pdHRlc3QuVGVzdENhc2UpOgog
ICAgICAgICAgICAgICAgICdub2Rlc19zdGFydGVkJzogW10sCiAgICAgICAgICAgICB9CiAgICAg
ICAgICkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoCiAgICAgICAgICAgICB1dGlscy5yZXNvdXJjZV9ydW5uaW5nX29uKCJub3RNeVJlc291cmNl
Iiwgc3RhdHVzKSwKICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAnbWVzc2FnZSc6CkBA
IC05NTcsNyArOTY0LDcgQEAgY2xhc3MgVXRpbHNUZXN0KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAg
ICAgICAgICAgICAgICAnbm9kZXNfc3RhcnRlZCc6IFtdLAogICAgICAgICAgICAgfQogICAgICAg
ICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFs
KAogICAgICAgICAgICAgdXRpbHMucmVzb3VyY2VfcnVubmluZ19vbigibXlTdG9wcGVkUmVzb3Vy
Y2UiLCBzdGF0dXMpLAogICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICdtZXNzYWdlJzoK
QEAgLTk5NSw5ICsxMDAyLDkgQEAgTm9kZSBhZGRyZXNzZXM6IDE5Mi4xNjguMTIyLjYxCiAyIE0g
MiByaDY2LW5vZGUyCiAzIE0gMSByaDY2LW5vZGUzCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0
RXF1YWxzKFRydWUsIHBhcnNlZFsicXVvcmF0ZSJdKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFs
cygyLCBwYXJzZWRbInF1b3J1bSJdKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbChUcnVlLCBwYXJzZWRbInF1b3JhdGUiXSkKKyAgICAgICAgc2Vs
Zi5hc3NlcnRFcXVhbCgyLCBwYXJzZWRbInF1b3J1bSJdKQorICAgICAgICBzZWxmLmFzc2VydEVx
dWFsKAogICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgIHsibmFtZSI6ICJyaDY2LW5vZGUx
IiwgInZvdGVzIjogMywgImxvY2FsIjogRmFsc2V9LAogICAgICAgICAgICAgICAgIHsibmFtZSI6
ICJyaDY2LW5vZGUyIiwgInZvdGVzIjogMiwgImxvY2FsIjogVHJ1ZX0sCkBAIC0xMDMxLDkgKzEw
MzgsOSBAQCBOb2RlIGFkZHJlc3NlczogMTkyLjE2OC4xMjIuNjEKIDIgWCAyIHJoNjYtbm9kZTIK
IDMgWCAxIHJoNjYtbm9kZTMKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoRmFsc2Us
IHBhcnNlZFsicXVvcmF0ZSJdKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygyLCBwYXJzZWRb
InF1b3J1bSJdKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbChGYWxzZSwgcGFyc2VkWyJxdW9yYXRlIl0pCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoMiwgcGFyc2VkWyJxdW9ydW0iXSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAg
ICAgICAgIFsKICAgICAgICAgICAgICAgICB7Im5hbWUiOiAicmg2Ni1ub2RlMSIsICJ2b3RlcyI6
IDMsICJsb2NhbCI6IFRydWV9LAogICAgICAgICAgICAgXSwKQEAgLTEwNDEsNyArMTA0OCw3IEBA
IE5vZGUgYWRkcmVzc2VzOiAxOTIuMTY4LjEyMi42MQogICAgICAgICApCiAKICAgICAgICAgcGFy
c2VkID0gdXRpbHMucGFyc2VfY21hbl9xdW9ydW1faW5mbygiIikKLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHMoTm9uZSwgcGFyc2VkKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKE5vbmUsIHBh
cnNlZCkKIAogICAgICAgICBwYXJzZWQgPSB1dGlscy5wYXJzZV9jbWFuX3F1b3J1bV9pbmZvKCIi
IlwKIFZlcnNpb246IDYuMi4wCkBAIC0xMDY4LDcgKzEwNzUsNyBAQCBOb2RlIGFkZHJlc3Nlczog
MTkyLjE2OC4xMjIuNjEKIDIgTSAyIHJoNjYtbm9kZTIKIDMgTSAxIHJoNjYtbm9kZTMKICIiIikK
LSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoTm9uZSwgcGFyc2VkKQorICAgICAgICBzZWxmLmFz
c2VydEVxdWFsKE5vbmUsIHBhcnNlZCkKIAogICAgICAgICBwYXJzZWQgPSB1dGlscy5wYXJzZV9j
bWFuX3F1b3J1bV9pbmZvKCIiIlwKIFZlcnNpb246IDYuMi4wCkBAIC0xMDk1LDcgKzExMDIsNyBA
QCBOb2RlIGFkZHJlc3NlczogMTkyLjE2OC4xMjIuNjEKIDIgTSAyIHJoNjYtbm9kZTIKIDMgTSAx
IHJoNjYtbm9kZTMKICIiIikKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoTm9uZSwgcGFyc2Vk
KQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKE5vbmUsIHBhcnNlZCkKIAogICAgICAgICBwYXJz
ZWQgPSB1dGlscy5wYXJzZV9jbWFuX3F1b3J1bV9pbmZvKCIiIlwKIFZlcnNpb246IDYuMi4wCkBA
IC0xMTIyLDcgKzExMjksNyBAQCBOb2RlIGFkZHJlc3NlczogMTkyLjE2OC4xMjIuNjEKIDIgTSBG
b28gcmg2Ni1ub2RlMgogMyBNIDEgcmg2Ni1ub2RlMwogIiIiKQotICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFscyhOb25lLCBwYXJzZWQpCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoTm9uZSwgcGFy
c2VkKQogCiAgICAgZGVmIHRlc3RfcGFyc2VfcXVvcnVtdG9vbF9vdXRwdXQoc2VsZik6CiAgICAg
ICAgIHBhcnNlZCA9IHV0aWxzLnBhcnNlX3F1b3J1bXRvb2xfb3V0cHV0KCIiIlwKQEAgLTExNTAs
OSArMTE1Nyw5IEBAIE1lbWJlcnNoaXAgaW5mb3JtYXRpb24KICAgICAgICAgIDIgICAgICAgICAg
MiAgICAgICAgIE5SIHJoNzAtbm9kZTIgKGxvY2FsKQogICAgICAgICAgMyAgICAgICAgICAxICAg
ICAgICAgTlIgcmg3MC1ub2RlMwogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhUcnVl
LCBwYXJzZWRbInF1b3JhdGUiXSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoMiwgcGFyc2Vk
WyJxdW9ydW0iXSkKLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoVHJ1ZSwgcGFyc2VkWyJxdW9yYXRlIl0pCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1
YWwoMiwgcGFyc2VkWyJxdW9ydW0iXSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAg
ICAgICAgIFsKICAgICAgICAgICAgICAgICB7Im5hbWUiOiAicmg3MC1ub2RlMSIsICJ2b3RlcyI6
IDMsICJsb2NhbCI6IEZhbHNlfSwKICAgICAgICAgICAgICAgICB7Im5hbWUiOiAicmg3MC1ub2Rl
MiIsICJ2b3RlcyI6IDIsICJsb2NhbCI6IFRydWV9LApAQCAtMTE4NCw5ICsxMTkxLDkgQEAgTWVt
YmVyc2hpcCBpbmZvcm1hdGlvbgogICAgIE5vZGVpZCAgICAgIFZvdGVzICAgIFFkZXZpY2UgTmFt
ZQogICAgICAgICAgICAgIDEgICAgICAgICAgMSAgICAgICAgIE5SIHJoNzAtbm9kZTEgKGxvY2Fs
KQogIiIiKQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscyhGYWxzZSwgcGFyc2VkWyJxdW9yYXRl
Il0pCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKDIsIHBhcnNlZFsicXVvcnVtIl0pCi0gICAg
ICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKEZhbHNlLCBw
YXJzZWRbInF1b3JhdGUiXSkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgyLCBwYXJzZWRbInF1
b3J1bSJdKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWwogICAgICAg
ICAgICAgICAgIHsibmFtZSI6ICJyaDcwLW5vZGUxIiwgInZvdGVzIjogMSwgImxvY2FsIjogVHJ1
ZX0sCiAgICAgICAgICAgICBdLApAQCAtMTE5NCw3ICsxMjAxLDcgQEAgTWVtYmVyc2hpcCBpbmZv
cm1hdGlvbgogICAgICAgICApCiAKICAgICAgICAgcGFyc2VkID0gdXRpbHMucGFyc2VfcXVvcnVt
dG9vbF9vdXRwdXQoIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKE5vbmUsIHBhcnNlZCkK
KyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChOb25lLCBwYXJzZWQpCiAKICAgICAgICAgcGFyc2Vk
ID0gdXRpbHMucGFyc2VfcXVvcnVtdG9vbF9vdXRwdXQoIiIiXAogUXVvcnVtIGluZm9ybWF0aW9u
CkBAIC0xMjIxLDcgKzEyMjgsNyBAQCBNZW1iZXJzaGlwIGluZm9ybWF0aW9uCiAgICAgICAgICAy
ICAgICAgICAgIDEgICAgICAgICBOUiByaDcwLW5vZGUyCiAgICAgICAgICAzICAgICAgICAgIDEg
ICAgICAgICBOUiByaDcwLW5vZGUzCiAiIiIpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKE5v
bmUsIHBhcnNlZCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChOb25lLCBwYXJzZWQpCiAKICAg
ICAgICAgcGFyc2VkID0gdXRpbHMucGFyc2VfcXVvcnVtdG9vbF9vdXRwdXQoIiIiXAogUXVvcnVt
IGluZm9ybWF0aW9uCkBAIC0xMjQ4LDcgKzEyNTUsNyBAQCBNZW1iZXJzaGlwIGluZm9ybWF0aW9u
CiAgICAgICAgICAyICAgICAgICAgIDEgICAgICAgICBOUiByaDcwLW5vZGUyCiAgICAgICAgICAz
ICAgICAgICAgIDEgICAgICAgICBOUiByaDcwLW5vZGUzCiAiIiIpCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKE5vbmUsIHBhcnNlZCkKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChOb25lLCBw
YXJzZWQpCiAKICAgICAgICAgcGFyc2VkID0gdXRpbHMucGFyc2VfcXVvcnVtdG9vbF9vdXRwdXQo
IiIiXAogUXVvcnVtIGluZm9ybWF0aW9uCkBAIC0xMjc1LDEzICsxMjgyLDEzIEBAIE1lbWJlcnNo
aXAgaW5mb3JtYXRpb24KICAgICAgICAgIDIgICAgICAgIGZvbyAgICAgICAgIE5SIHJoNzAtbm9k
ZTIKICAgICAgICAgIDMgICAgICAgICAgMSAgICAgICAgIE5SIHJoNzAtbm9kZTMKICIiIikKLSAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoTm9uZSwgcGFyc2VkKQorICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFsKE5vbmUsIHBhcnNlZCkKIAogICAgIGRlZiB0ZXN0X2lzX25vZGVfc3RvcF9jYXVzZV9x
dW9ydW1fbG9zcyhzZWxmKToKICAgICAgICAgcXVvcnVtX2luZm8gPSB7CiAgICAgICAgICAgICAi
cXVvcmF0ZSI6IEZhbHNlLAogICAgICAgICB9Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAor
ICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgRmFsc2UsCiAgICAgICAgICAg
ICB1dGlscy5pc19ub2RlX3N0b3BfY2F1c2VfcXVvcnVtX2xvc3MocXVvcnVtX2luZm8sIFRydWUp
CiAgICAgICAgICkKQEAgLTEyOTMsNyArMTMwMCw3IEBAIE1lbWJlcnNoaXAgaW5mb3JtYXRpb24K
ICAgICAgICAgICAgICAgICB7Im5hbWUiOiAicmg3MC1ub2RlMyIsICJ2b3RlcyI6IDEsICJsb2Nh
bCI6IEZhbHNlfSwKICAgICAgICAgICAgIF0sCiAgICAgICAgIH0KLSAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBGYWxzZSwK
ICAgICAgICAgICAgIHV0aWxzLmlzX25vZGVfc3RvcF9jYXVzZV9xdW9ydW1fbG9zcyhxdW9ydW1f
aW5mbywgVHJ1ZSkKICAgICAgICAgKQpAQCAtMTMwNSw3ICsxMzEyLDcgQEAgTWVtYmVyc2hpcCBp
bmZvcm1hdGlvbgogICAgICAgICAgICAgICAgIHsibmFtZSI6ICJyaDcwLW5vZGUzIiwgInZvdGVz
IjogMSwgImxvY2FsIjogVHJ1ZX0sCiAgICAgICAgICAgICBdLAogICAgICAgICB9Ci0gICAgICAg
IHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAg
ICAgVHJ1ZSwKICAgICAgICAgICAgIHV0aWxzLmlzX25vZGVfc3RvcF9jYXVzZV9xdW9ydW1fbG9z
cyhxdW9ydW1faW5mbywgVHJ1ZSkKICAgICAgICAgKQpAQCAtMTMxOSw3ICsxMzI2LDcgQEAgTWVt
YmVyc2hpcCBpbmZvcm1hdGlvbgogICAgICAgICAgICAgICAgIHsibmFtZSI6ICJyaDcwLW5vZGUz
IiwgInZvdGVzIjogMSwgImxvY2FsIjogVHJ1ZX0sCiAgICAgICAgICAgICBdLAogICAgICAgICB9
Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAog
ICAgICAgICAgICAgRmFsc2UsCiAgICAgICAgICAgICB1dGlscy5pc19ub2RlX3N0b3BfY2F1c2Vf
cXVvcnVtX2xvc3MocXVvcnVtX2luZm8sIFRydWUpCiAgICAgICAgICkKQEAgLTEzMzMsNyArMTM0
MCw3IEBAIE1lbWJlcnNoaXAgaW5mb3JtYXRpb24KICAgICAgICAgICAgICAgICB7Im5hbWUiOiAi
cmg3MC1ub2RlMyIsICJ2b3RlcyI6IDEsICJsb2NhbCI6IEZhbHNlfSwKICAgICAgICAgICAgIF0s
CiAgICAgICAgIH0KLSAgICAgICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWwoCiAgICAgICAgICAgICBGYWxzZSwKICAgICAgICAgICAgIHV0aWxzLmlzX25vZGVf
c3RvcF9jYXVzZV9xdW9ydW1fbG9zcyhxdW9ydW1faW5mbywgVHJ1ZSkKICAgICAgICAgKQpAQCAt
MTM0Nyw3ICsxMzU0LDcgQEAgTWVtYmVyc2hpcCBpbmZvcm1hdGlvbgogICAgICAgICAgICAgICAg
IHsibmFtZSI6ICJyaDcwLW5vZGUzIiwgInZvdGVzIjogMSwgImxvY2FsIjogRmFsc2V9LAogICAg
ICAgICAgICAgXSwKICAgICAgICAgfQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIFRydWUsCiAgICAgICAgICAgICB1dGls
cy5pc19ub2RlX3N0b3BfY2F1c2VfcXVvcnVtX2xvc3MocXVvcnVtX2luZm8sIFRydWUpCiAgICAg
ICAgICkKQEAgLTEzNjIsNyArMTM2OSw3IEBAIE1lbWJlcnNoaXAgaW5mb3JtYXRpb24KICAgICAg
ICAgICAgICAgICB7Im5hbWUiOiAicmg3MC1ub2RlMyIsICJ2b3RlcyI6IDEsICJsb2NhbCI6IEZh
bHNlfSwKICAgICAgICAgICAgIF0sCiAgICAgICAgIH0KLSAgICAgICAgc2VsZi5hc3NlcnRFcXVh
bHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBGYWxzZSwKICAgICAg
ICAgICAgIHV0aWxzLmlzX25vZGVfc3RvcF9jYXVzZV9xdW9ydW1fbG9zcygKICAgICAgICAgICAg
ICAgICBxdW9ydW1faW5mbywgRmFsc2UsIFsicmg3MC1ub2RlMyJdCkBAIC0xMzc4LDcgKzEzODUs
NyBAQCBNZW1iZXJzaGlwIGluZm9ybWF0aW9uCiAgICAgICAgICAgICAgICAgeyJuYW1lIjogInJo
NzAtbm9kZTMiLCAidm90ZXMiOiAxLCAibG9jYWwiOiBGYWxzZX0sCiAgICAgICAgICAgICBdLAog
ICAgICAgICB9Ci0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2Vy
dEVxdWFsKAogICAgICAgICAgICAgRmFsc2UsCiAgICAgICAgICAgICB1dGlscy5pc19ub2RlX3N0
b3BfY2F1c2VfcXVvcnVtX2xvc3MoCiAgICAgICAgICAgICAgICAgcXVvcnVtX2luZm8sIEZhbHNl
LCBbInJoNzAtbm9kZTIiXQpAQCAtMTM5NCw3ICsxNDAxLDcgQEAgTWVtYmVyc2hpcCBpbmZvcm1h
dGlvbgogICAgICAgICAgICAgICAgIHsibmFtZSI6ICJyaDcwLW5vZGUzIiwgInZvdGVzIjogMSwg
ImxvY2FsIjogRmFsc2V9LAogICAgICAgICAgICAgXSwKICAgICAgICAgfQotICAgICAgICBzZWxm
LmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIFRy
dWUsCiAgICAgICAgICAgICB1dGlscy5pc19ub2RlX3N0b3BfY2F1c2VfcXVvcnVtX2xvc3MoCiAg
ICAgICAgICAgICAgICAgcXVvcnVtX2luZm8sIEZhbHNlLCBbInJoNzAtbm9kZTEiXQpAQCAtMTQx
MCw3ICsxNDE3LDcgQEAgTWVtYmVyc2hpcCBpbmZvcm1hdGlvbgogICAgICAgICAgICAgICAgIHsi
bmFtZSI6ICJyaDcwLW5vZGUzIiwgInZvdGVzIjogMSwgImxvY2FsIjogRmFsc2V9LAogICAgICAg
ICAgICAgXSwKICAgICAgICAgfQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAg
c2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIEZhbHNlLAogICAgICAgICAgICAgdXRpbHMu
aXNfbm9kZV9zdG9wX2NhdXNlX3F1b3J1bV9sb3NzKAogICAgICAgICAgICAgICAgIHF1b3J1bV9p
bmZvLCBGYWxzZSwgWyJyaDcwLW5vZGUyIiwgInJoNzAtbm9kZTMiXQpAQCAtMTQyNiw3ICsxNDMz
LDcgQEAgTWVtYmVyc2hpcCBpbmZvcm1hdGlvbgogICAgICAgICAgICAgICAgIHsibmFtZSI6ICJy
aDcwLW5vZGUzIiwgInZvdGVzIjogMSwgImxvY2FsIjogRmFsc2V9LAogICAgICAgICAgICAgXSwK
ICAgICAgICAgfQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3Nl
cnRFcXVhbCgKICAgICAgICAgICAgIFRydWUsCiAgICAgICAgICAgICB1dGlscy5pc19ub2RlX3N0
b3BfY2F1c2VfcXVvcnVtX2xvc3MoCiAgICAgICAgICAgICAgICAgcXVvcnVtX2luZm8sIEZhbHNl
LCBbInJoNzAtbm9kZTIiLCAicmg3MC1ub2RlMyJdCkBAIC0xNDM1LDcgKzE0NDIsNyBAQCBNZW1i
ZXJzaGlwIGluZm9ybWF0aW9uCiAKICAgICBkZWYgdGVzdF9nZXRfb3BlcmF0aW9uc19mcm9tX3Ry
YW5zaXRpb25zKHNlbGYpOgogICAgICAgICB0cmFuc2l0aW9ucyA9IHV0aWxzLnBhcnNlKG9zLnBh
dGguam9pbihjdXJyZW50ZGlyLCAidHJhbnNpdGlvbnMwMS54bWwiKSkKLSAgICAgICAgc2VsZi5h
c3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAgICAgICBbCiAg
ICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAnaWQnOiAnZHVtbXknLApAQCAt
MTQ3OCw3ICsxNDg1LDcgQEAgTWVtYmVyc2hpcCBpbmZvcm1hdGlvbgogICAgICAgICApCiAKICAg
ICAgICAgdHJhbnNpdGlvbnMgPSB1dGlscy5wYXJzZShvcy5wYXRoLmpvaW4oY3VycmVudGRpciwg
InRyYW5zaXRpb25zMDIueG1sIikpCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAg
ICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgIHsKICAg
ICAgICAgICAgICAgICAgICAgImlkIjogIlJlbW90ZU5vZGUiLApAQCAtMTUxOCw3ICsxNTI1LDcg
QEAgTWVtYmVyc2hpcCBpbmZvcm1hdGlvbgogICAgICAgICBjaWJfZG9tID0gc2VsZi5nZXRfY2li
X3Jlc291cmNlcygpCiAKICAgICAgICAgb3BlcmF0aW9ucyA9IFtdCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAge30sCiAg
ICAgICAgICAgICB1dGlscy5nZXRfcmVzb3VyY2VzX2xvY2F0aW9uX2Zyb21fb3BlcmF0aW9ucyhj
aWJfZG9tLCBvcGVyYXRpb25zKQogICAgICAgICApCkBAIC0xNTMxLDcgKzE1MzgsNyBAQCBNZW1i
ZXJzaGlwIGluZm9ybWF0aW9uCiAgICAgICAgICAgICAgICAgIm9uX25vZGUiOiAicmg3LTEiLAog
ICAgICAgICAgICAgfSwKICAgICAgICAgXQotICAgICAgICBzZWxmLmFzc2VydEVxdWFscygKKyAg
ICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAn
bXlSZXNvdXJjZSc6IHsKICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJ215UmVzb3VyY2UnLApA
QCAtMTU2OSw3ICsxNTc2LDcgQEAgTWVtYmVyc2hpcCBpbmZvcm1hdGlvbgogICAgICAgICAgICAg
ICAgICJvbl9ub2RlIjogInJoNy0zIiwKICAgICAgICAgICAgIH0sCiAgICAgICAgIF0KLSAgICAg
ICAgc2VsZi5hc3NlcnRFcXVhbHMoCisgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoCiAgICAgICAg
ICAgICB7CiAgICAgICAgICAgICAgICAgJ215UmVzb3VyY2UnOiB7CiAgICAgICAgICAgICAgICAg
ICAgICdpZCc6ICdteVJlc291cmNlJywKQEAgLTE2MDcsNyArMTYxNCw3IEBAIE1lbWJlcnNoaXAg
aW5mb3JtYXRpb24KICAgICAgICAgICAgICAgICAib25fbm9kZSI6ICJyaDctMyIsCiAgICAgICAg
ICAgICB9LAogICAgICAgICBdCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKAorICAgICAgICBz
ZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICdteVJlc291
cmNlJzogewogICAgICAgICAgICAgICAgICAgICAnaWQnOiAnbXlSZXNvdXJjZScsCkBAIC0xNjUx
LDcgKzE2NTgsNyBAQCBNZW1iZXJzaGlwIGluZm9ybWF0aW9uCiAgICAgICAgICAgICAgICAgIm9u
X25vZGUiOiAicmg3LTMiLAogICAgICAgICAgICAgfSwKICAgICAgICAgXQotICAgICAgICBzZWxm
LmFzc2VydEVxdWFscygKKyAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgKICAgICAgICAgICAgIHsK
ICAgICAgICAgICAgICAgICAnbXlVbmlxdWVDbG9uZWRSZXNvdXJjZTowJzogewogICAgICAgICAg
ICAgICAgICAgICAnaWQnOiAnbXlVbmlxdWVDbG9uZWRSZXNvdXJjZTowJywKQEAgLTE2ODksNyAr
MTY5Niw3IEBAIE1lbWJlcnNoaXAgaW5mb3JtYXRpb24KICAgICAgICAgICAgICAgICAib25fbm9k
ZSI6ICJyaDctMyIsCiAgICAgICAgICAgICB9LAogICAgICAgICBdCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgewogICAg
ICAgICAgICAgICAgICdteU1hc3RlcmVkR3JvdXBlZFJlc291cmNlOjAnOiB7CiAgICAgICAgICAg
ICAgICAgICAgICdpZCc6ICdteU1hc3RlcmVkR3JvdXBlZFJlc291cmNlJywKQEAgLTE3MjcsNyAr
MTczNCw3IEBAIE1lbWJlcnNoaXAgaW5mb3JtYXRpb24KICAgICAgICAgICAgICAgICAib25fbm9k
ZSI6ICJyaDctMiIsCiAgICAgICAgICAgICB9LAogICAgICAgICBdCi0gICAgICAgIHNlbGYuYXNz
ZXJ0RXF1YWxzKAorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKAogICAgICAgICAgICAgewogICAg
ICAgICAgICAgICAgICJteVJlc291cmNlIjogewogICAgICAgICAgICAgICAgICAgICAiaWQiOiAi
bXlSZXNvdXJjZSIsCkBAIC0xNzQ0LDcgKzE3NTEsNyBAQCBNZW1iZXJzaGlwIGluZm9ybWF0aW9u
CiAgICAgICAgICAgICBpc2luc3RhbmNlKG5vZGUsIHhtbC5kb20ubWluaWRvbS5FbGVtZW50KSwK
ICAgICAgICAgICAgICJlbGVtZW50IHdpdGggaWQgJyVzJyBub3QgZm91bmQiICUgbm9kZV9pZAog
ICAgICAgICApCi0gICAgICAgIHNlbGYuYXNzZXJ0RXF1YWxzKG5vZGUuZ2V0QXR0cmlidXRlKCJp
ZCIpLCBub2RlX2lkKQorICAgICAgICBzZWxmLmFzc2VydEVxdWFsKG5vZGUuZ2V0QXR0cmlidXRl
KCJpZCIpLCBub2RlX2lkKQogCiAKIGlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CmRpZmYgLS1n
aXQgYS9wY3MvdXNhZ2UucHkgYi9wY3MvdXNhZ2UucHkKaW5kZXggYTFhODU0YS4uYzBkYzI0NCAx
MDA2NDQKLS0tIGEvcGNzL3VzYWdlLnB5CisrKyBiL3Bjcy91c2FnZS5weQpAQCAtMSw1ICsxLDEx
IEBACitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IGFic29sdXRlX2ltcG9ydAorZnJvbSBfX2Z1dHVy
ZV9fIGltcG9ydCBkaXZpc2lvbgorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBwcmludF9mdW5jdGlv
bgorZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCB1bmljb2RlX2xpdGVyYWxzCisKIGltcG9ydCByZQog
CisKIGV4YW1wbGVzID0gIiIKIGRlZiBmdWxsX3VzYWdlKCk6CiAgICAgZ2xvYmFsIGV4YW1wbGVz
CkBAIC0xNCw4ICsyMCw4IEBAIGRlZiBmdWxsX3VzYWdlKCk6CiAgICAgb3V0ICs9IHN0cmlwX2V4
dHJhcyhzdGF0dXMoW10sRmFsc2UpKQogICAgIG91dCArPSBzdHJpcF9leHRyYXMoY29uZmlnKFtd
LEZhbHNlKSkKICAgICBvdXQgKz0gc3RyaXBfZXh0cmFzKHBjc2QoW10sRmFsc2UpKQotICAgIHBy
aW50IG91dC5zdHJpcCgpCi0gICAgcHJpbnQgIkV4YW1wbGVzOlxuIiArIGV4YW1wbGVzLnJlcGxh
Y2UoIiBcICIsIiIpCisgICAgcHJpbnQob3V0LnN0cmlwKCkpCisgICAgcHJpbnQoIkV4YW1wbGVz
OlxuIiArIGV4YW1wbGVzLnJlcGxhY2UoIiBcICIsIiIpKQogCiBkZWYgc3RyaXBfZXh0cmFzKHRl
eHQpOgogICAgIGdsb2JhbCBleGFtcGxlcwpAQCAtODksNyArOTUsNyBAQCBkZWYgc3ViX3VzYWdl
KGFyZ3MsIG91dHB1dCk6CiBkZWYgZGljdF9kZXB0aChkLCBkZXB0aD0wKToKICAgICBpZiBub3Qg
aXNpbnN0YW5jZShkLCBkaWN0KSBvciBub3QgZDoKICAgICAgICAgcmV0dXJuIGRlcHRoCi0gICAg
cmV0dXJuIG1heChkaWN0X2RlcHRoKHYsIGRlcHRoKzEpIGZvciBrLCB2IGluIGQuaXRlcml0ZW1z
KCkpCisgICAgcmV0dXJuIG1heChkaWN0X2RlcHRoKHYsIGRlcHRoKzEpIGZvciBrLCB2IGluIGQu
aXRlbXMoKSkKIAogZGVmIHN1Yl9nZW5fY29kZShsZXZlbCxpdGVtLHByZXZfbGV2ZWw9W10sc3Bh
Y2VzPSIiKToKICAgICBvdXQgPSAiIgpAQCAtMTMzLDcgKzEzOSw3IEBAIGRlZiBzdWJfZ2VuZXJh
dGVfYmFzaF9jb21wbGV0aW9uKCk6CiAgICAgdHJlZVsiY29uZmlnIl0gPSBnZW5lcmF0ZV90cmVl
KGNvbmZpZyhbXSxGYWxzZSkpCiAgICAgdHJlZVsicGNzZCJdID0gZ2VuZXJhdGVfdHJlZShwY3Nk
KFtdLEZhbHNlKSkKICAgICB0cmVlWyJub2RlIl0gPSBnZW5lcmF0ZV90cmVlKG5vZGUoW10sIEZh
bHNlKSkKLSAgICBwcmludCAiIiIKKyAgICBwcmludCgiIiIKICAgICBfcGNzKCkKICAgICB7CiAg
ICAgbG9jYWwgY3VyIGN1cjEgY3VyMiBjdXIzCkBAIC0xNDMsMTEgKzE0OSwxMSBAQCBkZWYgc3Vi
X2dlbmVyYXRlX2Jhc2hfY29tcGxldGlvbigpOgogICAgIGlmIFsgIiRDT01QX0NXT1JEIiAtZ3Qg
IjEiIF07IHRoZW4gY3VyMj0iJHtDT01QX1dPUkRTW0NPTVBfQ1dPUkQtMl19IjtmaQogICAgIGlm
IFsgIiRDT01QX0NXT1JEIiAtZ3QgIjIiIF07IHRoZW4gY3VyMz0iJHtDT01QX1dPUkRTW0NPTVBf
Q1dPUkQtM119IjtmaQogCi0gICAgIiIiCi0gICAgcHJpbnQgc3ViX2dlbl9jb2RlKDMsdHJlZSxb
XSkKLSAgICBwcmludCBzdWJfZ2VuX2NvZGUoMix0cmVlLFtdKQotICAgIHByaW50IHN1Yl9nZW5f
Y29kZSgxLHRyZWUsW10pCi0gICAgcHJpbnQgIiIiCisgICAgIiIiKQorICAgIHByaW50KHN1Yl9n
ZW5fY29kZSgzLHRyZWUsW10pKQorICAgIHByaW50KHN1Yl9nZW5fY29kZSgyLHRyZWUsW10pKQor
ICAgIHByaW50KHN1Yl9nZW5fY29kZSgxLHRyZWUsW10pKQorICAgIHByaW50KCIiIgogICAgIGlm
IFsgJENPTVBfQ1dPUkQgLWVxIDEgXTsgdGhlbgogICAgICAgICBDT01QUkVQTFk9KCAkKGNvbXBn
ZW4gLVcgInJlc291cmNlIGNsdXN0ZXIgc3Rvbml0aCBwcm9wZXJ0eSBhY2wgY29uc3RyYWludCBz
dGF0dXMgY29uZmlnIHBjc2Qgbm9kZSIgLS0gJGN1cikgKQogICAgIGZpCkBAIC0xNTUsNyArMTYx
LDcgQEAgZGVmIHN1Yl9nZW5lcmF0ZV9iYXNoX2NvbXBsZXRpb24oKToKIAogICAgIH0KICAgICBj
b21wbGV0ZSAtRiBfcGNzIHBjcwotICAgICIiIgorICAgICIiIikKIAogCiBkZWYgZ2VuZXJhdGVf
dHJlZSh1c2FnZV90eHQpOgpAQCAtMjEzLDcgKzIxOSw3IEBAIENvbW1hbmRzOgogIyBBZHZhbmNl
ZCB1c2FnZSB0byBwb3NzaWJseSBhZGQgbGF0ZXIKICMgIC0tY29yb3N5bmNfY29uZj08Y29yb3N5
bmMgZmlsZT4gU3BlY2lmeSBhbHRlcm5hdGl2ZSBjb3Jvc3luYy5jb25mIGZpbGUKICAgICBpZiBw
b3V0OgotICAgICAgICBwcmludCBvdXRwdXQKKyAgICAgICAgcHJpbnQob3V0cHV0KQogICAgIGVs
c2U6CiAgICAgICAgIHJldHVybiBvdXRwdXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAKQEAgLTU0Miw3ICs1NDgsNyBAQCBOb3RlczoKIAogIiIi
CiAgICAgaWYgcG91dDoKLSAgICAgICAgcHJpbnQgc3ViX3VzYWdlKGFyZ3MsIG91dHB1dCkKKyAg
ICAgICAgcHJpbnQoc3ViX3VzYWdlKGFyZ3MsIG91dHB1dCkpCiAgICAgZWxzZToKICAgICAgICAg
cmV0dXJuIG91dHB1dAogCkBAIC03NzIsNyArNzc4LDcgQEAgQ29tbWFuZHM6CiAgICAgICAgIHRo
ZSBwYXN0IDI0IGhvdXJzLgogIiIiCiAgICAgaWYgcG91dDoKLSAgICAgICAgcHJpbnQgc3ViX3Vz
YWdlKGFyZ3MsIG91dHB1dCkKKyAgICAgICAgcHJpbnQoc3ViX3VzYWdlKGFyZ3MsIG91dHB1dCkp
CiAgICAgZWxzZToKICAgICAgICAgcmV0dXJuIG91dHB1dAogCkBAIC04NTQsNyArODYwLDcgQEAg
RXhhbXBsZXM6CiAgICAgcGNzIHN0b25pdGggY3JlYXRlIE15U3Rvbml0aCBmZW5jZV92aXJ0IHBj
bWtfaG9zdF9saXN0PWYxCiAiIiIKICAgICBpZiBwb3V0OgotICAgICAgICBwcmludCBzdWJfdXNh
Z2UoYXJncywgb3V0cHV0KQorICAgICAgICBwcmludChzdWJfdXNhZ2UoYXJncywgb3V0cHV0KSkK
ICAgICBlbHNlOgogICAgICAgICByZXR1cm4gb3V0cHV0CiAKQEAgLTg4OCw3ICs4OTQsNyBAQCBF
eGFtcGxlczoKICAgICBwY3MgcHJvcGVydHkgc2V0IHN0b25pdGgtZW5hYmxlZD1mYWxzZQogIiIi
CiAgICAgaWYgcG91dDoKLSAgICAgICAgcHJpbnQgc3ViX3VzYWdlKGFyZ3MsIG91dHB1dCkKKyAg
ICAgICAgcHJpbnQoc3ViX3VzYWdlKGFyZ3MsIG91dHB1dCkpCiAgICAgZWxzZToKICAgICAgICAg
cmV0dXJuIG91dHB1dAogCkBAIC0xMDIyLDcgKzEwMjgsNyBAQCBDb21tYW5kczoKICAgICAgICAg
Y29uc3RyYWludCwgdGhlIGNvbnN0cmFpbnQgd2lsbCBiZSByZW1vdmVkCiAiIiIKICAgICBpZiBw
b3V0OgotICAgICAgICBwcmludCBzdWJfdXNhZ2UoYXJncywgb3V0cHV0KQorICAgICAgICBwcmlu
dChzdWJfdXNhZ2UoYXJncywgb3V0cHV0KSkKICAgICBlbHNlOgogICAgICAgICByZXR1cm4gb3V0
cHV0CiAKQEAgLTEwODIsNyArMTA4OCw3IEBAIENvbW1hbmRzOgogICAgICAgICBwYXJlbnRoZXNp
cyBhZnRlciBwZXJtaXNzaW9ucyBpbiAncGNzIGFjbCcgb3V0cHV0KQogIiIiCiAgICAgaWYgcG91
dDoKLSAgICAgICAgcHJpbnQgc3ViX3VzYWdlKGFyZ3MsIG91dHB1dCkKKyAgICAgICAgcHJpbnQo
c3ViX3VzYWdlKGFyZ3MsIG91dHB1dCkpCiAgICAgZWxzZToKICAgICAgICAgcmV0dXJuIG91dHB1
dAogCkBAIC0xMTIwLDcgKzExMjYsNyBAQCBDb21tYW5kczoKICAgICAgICAgVmlldyB4bWwgdmVy
c2lvbiBvZiBzdGF0dXMgKG91dHB1dCBmcm9tIGNybV9tb24gLXIgLTEgLVgpCiAiIiIKICAgICBp
ZiBwb3V0OgotICAgICAgICBwcmludCBzdWJfdXNhZ2UoYXJncywgb3V0cHV0KQorICAgICAgICBw
cmludChzdWJfdXNhZ2UoYXJncywgb3V0cHV0KSkKICAgICBlbHNlOgogICAgICAgICByZXR1cm4g
b3V0cHV0CiAKQEAgLTExNzcsNyArMTE4Myw3IEBAIENvbW1hbmRzOgogICAgICAgICBtZXNzYWdl
cy4KICIiIgogICAgIGlmIHBvdXQ6Ci0gICAgICAgIHByaW50IHN1Yl91c2FnZShhcmdzLCBvdXRw
dXQpCisgICAgICAgIHByaW50KHN1Yl91c2FnZShhcmdzLCBvdXRwdXQpKQogICAgIGVsc2U6CiAg
ICAgICAgIHJldHVybiBvdXRwdXQKIApAQCAtMTIwNSw3ICsxMjExLDcgQEAgQ29tbWFuZHM6CiAg
ICAgICAgY29ubmVjdCB0byB0aGUgbG9jYWwgcGNzZCBpbnN0YW5jZS4KICIiIgogICAgIGlmIHBv
dXQ6Ci0gICAgICAgIHByaW50IHN1Yl91c2FnZShhcmdzLCBvdXRwdXQpCisgICAgICAgIHByaW50
KHN1Yl91c2FnZShhcmdzLCBvdXRwdXQpKQogICAgIGVsc2U6CiAgICAgICAgIHJldHVybiBvdXRw
dXQKIApAQCAtMTIyNiw2ICsxMjMyLDYgQEAgQ29tbWFuZHM6CiAgICAgICAgIGlmIC0tYWxsIGlz
IHNwZWNpZmllZCBhbGwgbm9kZXMgd2lsbCBiZSByZW1vdmVkIGZyb20gbWFpbnRlbmFuY2UgbW9k
ZS4KICIiIgogICAgIGlmIHBvdXQ6Ci0gICAgICAgIHByaW50IHN1Yl91c2FnZShhcmdzLCBvdXRw
dXQpCisgICAgICAgIHByaW50KHN1Yl91c2FnZShhcmdzLCBvdXRwdXQpKQogICAgIGVsc2U6CiAg
ICAgICAgIHJldHVybiBvdXRwdXQKZGlmZiAtLWdpdCBhL3Bjcy91dGlscy5weSBiL3Bjcy91dGls
cy5weQppbmRleCBmMjYxMDI1Li4zNzQ4NjlmIDEwMDY0NAotLS0gYS9wY3MvdXRpbHMucHkKKysr
IGIvcGNzL3V0aWxzLnB5CkBAIC0xLDI5ICsxLDYzIEBACi1pbXBvcnQgb3MsIHN1YnByb2Nlc3MK
K2Zyb20gX19mdXR1cmVfXyBpbXBvcnQgYWJzb2x1dGVfaW1wb3J0Citmcm9tIF9fZnV0dXJlX18g
aW1wb3J0IGRpdmlzaW9uCitmcm9tIF9fZnV0dXJlX18gaW1wb3J0IHByaW50X2Z1bmN0aW9uCitm
cm9tIF9fZnV0dXJlX18gaW1wb3J0IHVuaWNvZGVfbGl0ZXJhbHMKKworaW1wb3J0IG9zCiBpbXBv
cnQgc3lzCi1pbXBvcnQgeG1sLmRvbS5taW5pZG9tCitpbXBvcnQgc3VicHJvY2VzcwogaW1wb3J0
IHNzbAogaW1wb3J0IGluc3BlY3QKLWltcG9ydCB1cmxsaWIsdXJsbGliMgotZnJvbSB4bWwuZG9t
Lm1pbmlkb20gaW1wb3J0IHBhcnNlU3RyaW5nLHBhcnNlCitpbXBvcnQgeG1sLmRvbS5taW5pZG9t
Citmcm9tIHhtbC5kb20ubWluaWRvbSBpbXBvcnQgcGFyc2VTdHJpbmcsIHBhcnNlCiBpbXBvcnQg
eG1sLmV0cmVlLkVsZW1lbnRUcmVlIGFzIEVUCiBpbXBvcnQgcmUKIGltcG9ydCBqc29uCiBpbXBv
cnQgdGVtcGZpbGUKIGltcG9ydCBzaWduYWwKIGltcG9ydCB0aW1lCi1pbXBvcnQgY1N0cmluZ0lP
Citmcm9tIGlvIGltcG9ydCBCeXRlc0lPCiBpbXBvcnQgdGFyZmlsZQogaW1wb3J0IGZjbnRsCiBp
bXBvcnQgZ2V0cGFzcwogaW1wb3J0IGJhc2U2NAordHJ5OgorICAgICMgcHl0aG9uMgorICAgIGZy
b20gdXJsbGliIGltcG9ydCB1cmxlbmNvZGUgYXMgdXJsbGliX3VybGVuY29kZQorZXhjZXB0IElt
cG9ydEVycm9yOgorICAgICMgcHl0aG9uMworICAgIGZyb20gdXJsbGliLnBhcnNlIGltcG9ydCB1
cmxlbmNvZGUgYXMgdXJsbGliX3VybGVuY29kZQordHJ5OgorICAgICMgcHl0aG9uMgorICAgIGZy
b20gdXJsbGliMiBpbXBvcnQgKAorICAgICAgICBidWlsZF9vcGVuZXIgYXMgdXJsbGliX2J1aWxk
X29wZW5lciwKKyAgICAgICAgaW5zdGFsbF9vcGVuZXIgYXMgdXJsbGliX2luc3RhbGxfb3BlbmVy
LAorICAgICAgICBIVFRQQ29va2llUHJvY2Vzc29yIGFzIHVybGxpYl9IVFRQQ29va2llUHJvY2Vz
c29yLAorICAgICAgICBIVFRQU0hhbmRsZXIgYXMgdXJsbGliX0hUVFBTSGFuZGxlciwKKyAgICAg
ICAgSFRUUEVycm9yIGFzIHVybGxpYl9IVFRQRXJyb3IsCisgICAgICAgIFVSTEVycm9yIGFzIHVy
bGxpYl9VUkxFcnJvcgorICAgICkKK2V4Y2VwdCBJbXBvcnRFcnJvcjoKKyAgICAjIHB5dGhvbjMK
KyAgICBmcm9tIHVybGxpYi5yZXF1ZXN0IGltcG9ydCAoCisgICAgICAgIGJ1aWxkX29wZW5lciBh
cyB1cmxsaWJfYnVpbGRfb3BlbmVyLAorICAgICAgICBpbnN0YWxsX29wZW5lciBhcyB1cmxsaWJf
aW5zdGFsbF9vcGVuZXIsCisgICAgICAgIEhUVFBDb29raWVQcm9jZXNzb3IgYXMgdXJsbGliX0hU
VFBDb29raWVQcm9jZXNzb3IsCisgICAgICAgIEhUVFBTSGFuZGxlciBhcyB1cmxsaWJfSFRUUFNI
YW5kbGVyCisgICAgKQorICAgIGZyb20gdXJsbGliLmVycm9yIGltcG9ydCAoCisgICAgICAgIEhU
VFBFcnJvciBhcyB1cmxsaWJfSFRUUEVycm9yLAorICAgICAgICBVUkxFcnJvciBhcyB1cmxsaWJf
VVJMRXJyb3IKKyAgICApCiAKIGltcG9ydCBzZXR0aW5ncwotaW1wb3J0IHBjcwogaW1wb3J0IHJl
c291cmNlCiBpbXBvcnQgY2x1c3RlcgogaW1wb3J0IGNvcm9zeW5jX2NvbmYgYXMgY29yb3N5bmNf
Y29uZl91dGlscwogCiAKK1BZVEhPTjIgPSBzeXMudmVyc2lvblswXSA9PSAiMiIKKwogIyB1c2Vm
aWxlICYgZmlsZW5hbWUgdmFyaWFibGVzIGFyZSBzZXQgaW4gcGNzIG1vZHVsZQogdXNlZmlsZSA9
IEZhbHNlCiBmaWxlbmFtZSA9ICIiCkBAIC0xNjAsMTIgKzE5NCwxMiBAQCBkZWYgZ2V0Q29yb3N5
bmNDb25maWcobm9kZSk6CiAKIGRlZiBzZXRDb3Jvc3luY0NvbmZpZyhub2RlLGNvbmZpZyk6CiAg
ICAgaWYgaXNfcmhlbDYoKToKLSAgICAgICAgZGF0YSA9IHVybGxpYi51cmxlbmNvZGUoeydjbHVz
dGVyX2NvbmYnOmNvbmZpZ30pCisgICAgICAgIGRhdGEgPSB1cmxsaWJfdXJsZW5jb2RlKHsnY2x1
c3Rlcl9jb25mJzpjb25maWd9KQogICAgICAgICAoc3RhdHVzLCBkYXRhKSA9IHNlbmRIVFRQUmVx
dWVzdChub2RlLCAncmVtb3RlL3NldF9jbHVzdGVyX2NvbmYnLCBkYXRhKQogICAgICAgICBpZiBz
dGF0dXMgIT0gMDoKICAgICAgICAgICAgIGVycigiVW5hYmxlIHRvIHNldCBjbHVzdGVyLmNvbmY6
IHswfSIuZm9ybWF0KGRhdGEpKQogICAgIGVsc2U6Ci0gICAgICAgIGRhdGEgPSB1cmxsaWIudXJs
ZW5jb2RlKHsnY29yb3N5bmNfY29uZic6Y29uZmlnfSkKKyAgICAgICAgZGF0YSA9IHVybGxpYl91
cmxlbmNvZGUoeydjb3Jvc3luY19jb25mJzpjb25maWd9KQogICAgICAgICAoc3RhdHVzLCBkYXRh
KSA9IHNlbmRIVFRQUmVxdWVzdChub2RlLCAncmVtb3RlL3NldF9jb3Jvc3luY19jb25mJywgZGF0
YSkKICAgICAgICAgaWYgc3RhdHVzICE9IDA6CiAgICAgICAgICAgICBlcnIoIlVuYWJsZSB0byBz
ZXQgY29yb3N5bmMgY29uZmlnOiB7MH0iLmZvcm1hdChkYXRhKSkKQEAgLTE4MSw3ICsyMTUsNyBA
QCBkZWYgc3RvcENsdXN0ZXIobm9kZSwgcXVpZXQ9RmFsc2UsIHBhY2VtYWtlcj1UcnVlLCBjb3Jv
c3luYz1UcnVlLCBmb3JjZT1UcnVlKToKICAgICAgICAgZGF0YVsiY29tcG9uZW50Il0gPSAiY29y
b3N5bmMiCiAgICAgaWYgZm9yY2U6CiAgICAgICAgIGRhdGFbImZvcmNlIl0gPSAxCi0gICAgZGF0
YSA9IHVybGxpYi51cmxlbmNvZGUoZGF0YSkKKyAgICBkYXRhID0gdXJsbGliX3VybGVuY29kZShk
YXRhKQogICAgIHJldHVybiBzZW5kSFRUUFJlcXVlc3Qobm9kZSwgJ3JlbW90ZS9jbHVzdGVyX3N0
b3AnLCBkYXRhLCBGYWxzZSwgbm90IHF1aWV0KQogCiBkZWYgZW5hYmxlQ2x1c3Rlcihub2RlKToK
QEAgLTE5NCwxOSArMjI4LDIxIEBAIGRlZiBkZXN0cm95Q2x1c3Rlcihub2RlLCBxdWlldD1GYWxz
ZSk6CiAgICAgcmV0dXJuIHNlbmRIVFRQUmVxdWVzdChub2RlLCAncmVtb3RlL2NsdXN0ZXJfZGVz
dHJveScsIE5vbmUsIG5vdCBxdWlldCwgbm90IHF1aWV0KQogCiBkZWYgcmVzdG9yZUNvbmZpZyhu
b2RlLCB0YXJiYWxsX2RhdGEpOgotICAgIGRhdGEgPSB1cmxsaWIudXJsZW5jb2RlKHsidGFyYmFs
bCI6IHRhcmJhbGxfZGF0YX0pCisgICAgZGF0YSA9IHVybGxpYl91cmxlbmNvZGUoeyJ0YXJiYWxs
IjogdGFyYmFsbF9kYXRhfSkKICAgICByZXR1cm4gc2VuZEhUVFBSZXF1ZXN0KG5vZGUsICJyZW1v
dGUvY29uZmlnX3Jlc3RvcmUiLCBkYXRhLCBGYWxzZSwgVHJ1ZSkKIAogZGVmIHBhdXNlQ29uZmln
U3luY2luZyhub2RlLCBkZWxheV9zZWNvbmRzPTMwMCk6Ci0gIGRhdGEgPSB1cmxsaWIudXJsZW5j
b2RlKHsic3luY190aHJlYWRfcGF1c2UiOiBkZWxheV9zZWNvbmRzfSkKKyAgZGF0YSA9IHVybGxp
Yl91cmxlbmNvZGUoeyJzeW5jX3RocmVhZF9wYXVzZSI6IGRlbGF5X3NlY29uZHN9KQogICByZXR1
cm4gc2VuZEhUVFBSZXF1ZXN0KG5vZGUsICJyZW1vdGUvc2V0X3N5bmNfb3B0aW9ucyIsIGRhdGEs
IEZhbHNlLCBGYWxzZSkKIAogZGVmIHJlc3VtZUNvbmZpZ1N5bmNpbmcobm9kZSk6Ci0gIGRhdGEg
PSB1cmxsaWIudXJsZW5jb2RlKHsic3luY190aHJlYWRfcmVzdW1lIjogMX0pCisgIGRhdGEgPSB1
cmxsaWJfdXJsZW5jb2RlKHsic3luY190aHJlYWRfcmVzdW1lIjogMX0pCiAgIHJldHVybiBzZW5k
SFRUUFJlcXVlc3Qobm9kZSwgInJlbW90ZS9zZXRfc3luY19vcHRpb25zIiwgZGF0YSwgRmFsc2Us
IEZhbHNlKQogCiBkZWYgY2FuQWRkTm9kZVRvQ2x1c3Rlcihub2RlKToKLSAgICByZXR2YWwsIG91
dHB1dCA9IHNlbmRIVFRQUmVxdWVzdChub2RlLCAncmVtb3RlL25vZGVfYXZhaWxhYmxlJywgW10s
IEZhbHNlLCBGYWxzZSkKKyAgICByZXR2YWwsIG91dHB1dCA9IHNlbmRIVFRQUmVxdWVzdCgKKyAg
ICAgICAgbm9kZSwgJ3JlbW90ZS9ub2RlX2F2YWlsYWJsZScsIE5vbmUsIEZhbHNlLCBGYWxzZQor
ICAgICkKICAgICBpZiByZXR2YWwgPT0gMDoKICAgICAgICAgdHJ5OgogICAgICAgICAgICAgbXlv
dXQgPSBqc29uLmxvYWRzKG91dHB1dCkKQEAgLTIyNCw3ICsyNjAsNyBAQCBkZWYgYWRkTG9jYWxO
b2RlKG5vZGUsIG5vZGVfdG9fYWRkLCByaW5nMV9hZGRyPU5vbmUpOgogICAgIG9wdGlvbnMgPSB7
J25ld19ub2RlbmFtZSc6IG5vZGVfdG9fYWRkfQogICAgIGlmIHJpbmcxX2FkZHI6CiAgICAgICAg
IG9wdGlvbnNbJ25ld19yaW5nMWFkZHInXSA9IHJpbmcxX2FkZHIKLSAgICBkYXRhID0gdXJsbGli
LnVybGVuY29kZShvcHRpb25zKQorICAgIGRhdGEgPSB1cmxsaWJfdXJsZW5jb2RlKG9wdGlvbnMp
CiAgICAgcmV0dmFsLCBvdXRwdXQgPSBzZW5kSFRUUFJlcXVlc3Qobm9kZSwgJ3JlbW90ZS9hZGRf
bm9kZScsIGRhdGEsIEZhbHNlLCBGYWxzZSkKICAgICBpZiByZXR2YWwgPT0gMDoKICAgICAgICAg
dHJ5OgpAQCAtMjM4LDcgKzI3NCw3IEBAIGRlZiBhZGRMb2NhbE5vZGUobm9kZSwgbm9kZV90b19h
ZGQsIHJpbmcxX2FkZHI9Tm9uZSk6CiAgICAgICAgIHJldHVybiAxLCBvdXRwdXQKIAogZGVmIHJl
bW92ZUxvY2FsTm9kZShub2RlLCBub2RlX3RvX3JlbW92ZSwgcGFjZW1ha2VyX3JlbW92ZT1GYWxz
ZSk6Ci0gICAgZGF0YSA9IHVybGxpYi51cmxlbmNvZGUoeydyZW1vdmVfbm9kZW5hbWUnOm5vZGVf
dG9fcmVtb3ZlLCAncGFjZW1ha2VyX3JlbW92ZSc6cGFjZW1ha2VyX3JlbW92ZX0pCisgICAgZGF0
YSA9IHVybGxpYl91cmxlbmNvZGUoeydyZW1vdmVfbm9kZW5hbWUnOm5vZGVfdG9fcmVtb3ZlLCAn
cGFjZW1ha2VyX3JlbW92ZSc6cGFjZW1ha2VyX3JlbW92ZX0pCiAgICAgcmV0dmFsLCBvdXRwdXQg
PSBzZW5kSFRUUFJlcXVlc3Qobm9kZSwgJ3JlbW90ZS9yZW1vdmVfbm9kZScsIGRhdGEsIEZhbHNl
LCBGYWxzZSkKICAgICBpZiByZXR2YWwgPT0gMDoKICAgICAgICAgdHJ5OgpAQCAtMjY2LDE4ICsz
MDIsMjQgQEAgZGVmIHNlbmRIVFRQUmVxdWVzdChob3N0LCByZXF1ZXN0LCBkYXRhID0gTm9uZSwg
cHJpbnRSZXN1bHQgPSBUcnVlLCBwcmludFN1Y2Nlc3MKICAgICBpZiAoCiAgICAgICAgIGhhc2F0
dHIoc3NsLCAiX2NyZWF0ZV91bnZlcmlmaWVkX2NvbnRleHQiKQogICAgICAgICBhbmQKLSAgICAg
ICAgImNvbnRleHQiIGluIGluc3BlY3QuZ2V0YXJnc3BlYyh1cmxsaWIyLkhUVFBTSGFuZGxlci5f
X2luaXRfXykuYXJncworICAgICAgICAiY29udGV4dCIgaW4gaW5zcGVjdC5nZXRhcmdzcGVjKHVy
bGxpYl9IVFRQU0hhbmRsZXIuX19pbml0X18pLmFyZ3MKICAgICApOgotICAgICAgICBvcGVuZXIg
PSB1cmxsaWIyLmJ1aWxkX29wZW5lcigKLSAgICAgICAgICAgIHVybGxpYjIuSFRUUFNIYW5kbGVy
KGNvbnRleHQ9c3NsLl9jcmVhdGVfdW52ZXJpZmllZF9jb250ZXh0KCkpLAotICAgICAgICAgICAg
dXJsbGliMi5IVFRQQ29va2llUHJvY2Vzc29yKCkKKyAgICAgICAgb3BlbmVyID0gdXJsbGliX2J1
aWxkX29wZW5lcigKKyAgICAgICAgICAgIHVybGxpYl9IVFRQU0hhbmRsZXIoY29udGV4dD1zc2wu
X2NyZWF0ZV91bnZlcmlmaWVkX2NvbnRleHQoKSksCisgICAgICAgICAgICB1cmxsaWJfSFRUUENv
b2tpZVByb2Nlc3NvcigpCiAgICAgICAgICkKICAgICBlbHNlOgotICAgICAgICBvcGVuZXIgPSB1
cmxsaWIyLmJ1aWxkX29wZW5lcih1cmxsaWIyLkhUVFBDb29raWVQcm9jZXNzb3IoKSkKKyAgICAg
ICAgb3BlbmVyID0gdXJsbGliX2J1aWxkX29wZW5lcih1cmxsaWJfSFRUUENvb2tpZVByb2Nlc3Nv
cigpKQorCiAgICAgdG9rZW5zID0gcmVhZFRva2VucygpCiAgICAgaWYgIi0tZGVidWciIGluIHBj
c19vcHRpb25zOgotICAgICAgICBwcmludCAiU2VuZGluZyBIVFRQIFJlcXVlc3QgdG86ICIgKyB1
cmwKLSAgICAgICAgcHJpbnQgIkRhdGE6ICIgKyBzdHIoZGF0YSkKKyAgICAgICAgcHJpbnQoIlNl
bmRpbmcgSFRUUCBSZXF1ZXN0IHRvOiAiICsgdXJsKQorICAgICAgICBwcmludCgiRGF0YTogezB9
Ii5mb3JtYXQoZGF0YSkpCisgICAgIyBweXRob24zIHJlcXVpcmVzIGRhdGEgdG8gYnkgYnl0ZXMg
bm90IHN0cgorICAgIGlmIGRhdGE6CisgICAgICAgIGRhdGEgPSBkYXRhLmVuY29kZSgidXRmLTgi
KQorCisgICAgIyBjb29raWVzCiAgICAgY29va2llcyA9IFtdCiAgICAgaWYgaG9zdCBpbiB0b2tl
bnM6CiAgICAgICAgIGNvb2tpZXMuYXBwZW5kKCJ0b2tlbj0iICsgdG9rZW5zW2hvc3RdKQpAQCAt
Mjk1LDIwICszMzcsMjQgQEAgZGVmIHNlbmRIVFRQUmVxdWVzdChob3N0LCByZXF1ZXN0LCBkYXRh
ID0gTm9uZSwgcHJpbnRSZXN1bHQgPSBUcnVlLCBwcmludFN1Y2Nlc3MKICAgICAgICAgICAgICAg
ICBjb29raWVzLmFwcGVuZCgiezB9PXsxfSIuZm9ybWF0KG5hbWUsIHZhbHVlKSkKICAgICBpZiBj
b29raWVzOgogICAgICAgICBvcGVuZXIuYWRkaGVhZGVycy5hcHBlbmQoKCdDb29raWUnLCAiOyIu
am9pbihjb29raWVzKSkpCi0gICAgdXJsbGliMi5pbnN0YWxsX29wZW5lcihvcGVuZXIpCisKKyAg
ICAjIHNlbmQgdGhlIHJlcXVlc3QKKyAgICB1cmxsaWJfaW5zdGFsbF9vcGVuZXIob3BlbmVyKQog
ICAgIHRyeToKICAgICAgICAgcmVzdWx0ID0gb3BlbmVyLm9wZW4odXJsLGRhdGEpCi0gICAgICAg
IGh0bWwgPSByZXN1bHQucmVhZCgpCisgICAgICAgICMgcHl0aG9uMyByZXR1cm5zIGJ5dGVzIG5v
dCBzdHIKKyAgICAgICAgaHRtbCA9IHJlc3VsdC5yZWFkKCkuZGVjb2RlKCJ1dGYtOCIpCiAgICAg
ICAgIGlmIHByaW50UmVzdWx0IG9yIHByaW50U3VjY2VzczoKLSAgICAgICAgICAgIHByaW50IGhv
c3QgKyAiOiAiICsgaHRtbC5zdHJpcCgpCisgICAgICAgICAgICBwcmludChob3N0ICsgIjogIiAr
IGh0bWwuc3RyaXAoKSkKICAgICAgICAgaWYgIi0tZGVidWciIGluIHBjc19vcHRpb25zOgotICAg
ICAgICAgICAgcHJpbnQgIlJlc3BvbnNlIENvZGU6IDAiCi0gICAgICAgICAgICBwcmludCAiLS1E
ZWJ1ZyBSZXNwb25zZSBTdGFydC0tXG4iICsgaHRtbCwKLSAgICAgICAgICAgIHByaW50ICItLURl
YnVnIFJlc3BvbnNlIEVuZC0tIgorICAgICAgICAgICAgcHJpbnQoIlJlc3BvbnNlIENvZGU6IDAi
KQorICAgICAgICAgICAgcHJpbnQoIi0tRGVidWcgUmVzcG9uc2UgU3RhcnQtLVxuezB9Ii5mb3Jt
YXQoaHRtbCksIGVuZD0iIikKKyAgICAgICAgICAgIHByaW50KCItLURlYnVnIFJlc3BvbnNlIEVu
ZC0tIikKKyAgICAgICAgICAgIHByaW50KCkKICAgICAgICAgcmV0dXJuICgwLGh0bWwpCi0gICAg
ZXhjZXB0IHVybGxpYjIuSFRUUEVycm9yLCBlOgorICAgIGV4Y2VwdCB1cmxsaWJfSFRUUEVycm9y
IGFzIGU6CiAgICAgICAgIGlmICItLWRlYnVnIiBpbiBwY3Nfb3B0aW9uczoKLSAgICAgICAgICAg
IHByaW50ICJSZXNwb25zZSBDb2RlOiAiICsgc3RyKGUuY29kZSkKKyAgICAgICAgICAgIHByaW50
KCJSZXNwb25zZSBDb2RlOiAiICsgc3RyKGUuY29kZSkpCiAgICAgICAgIGlmIGUuY29kZSA9PSA0
MDE6CiAgICAgICAgICAgICBvdXRwdXQgPSAoCiAgICAgICAgICAgICAgICAgMywKQEAgLTMzMSwx
MyArMzc3LDEzIEBAIGRlZiBzZW5kSFRUUFJlcXVlc3QoaG9zdCwgcmVxdWVzdCwgZGF0YSA9IE5v
bmUsIHByaW50UmVzdWx0ID0gVHJ1ZSwgcHJpbnRTdWNjZXNzCiAgICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICAgKQogICAgICAgICBpZiBwcmludFJlc3VsdDoKLSAgICAgICAgICAgIHByaW50
IG91dHB1dFsxXQorICAgICAgICAgICAgcHJpbnQob3V0cHV0WzFdKQogICAgICAgICByZXR1cm4g
b3V0cHV0Ci0gICAgZXhjZXB0IHVybGxpYjIuVVJMRXJyb3IsIGU6CisgICAgZXhjZXB0IHVybGxp
Yl9VUkxFcnJvciBhcyBlOgogICAgICAgICBpZiAiLS1kZWJ1ZyIgaW4gcGNzX29wdGlvbnM6Ci0g
ICAgICAgICAgICBwcmludCAiUmVzcG9uc2UgUmVhc29uOiAiICsgc3RyKGUucmVhc29uKQorICAg
ICAgICAgICAgcHJpbnQoIlJlc3BvbnNlIFJlYXNvbjogIiArIHN0cihlLnJlYXNvbikpCiAgICAg
ICAgIGlmIHByaW50UmVzdWx0OgotICAgICAgICAgICAgcHJpbnQgIlVuYWJsZSB0byBjb25uZWN0
IHRvICVzICglcykiICUgKGhvc3QsIGUucmVhc29uKQorICAgICAgICAgICAgcHJpbnQoIlVuYWJs
ZSB0byBjb25uZWN0IHRvICVzICglcykiICUgKGhvc3QsIGUucmVhc29uKSkKICAgICAgICAgcmV0
dXJuICgyLCJVbmFibGUgdG8gY29ubmVjdCB0byAlcyAoJXMpIiAlIChob3N0LCBlLnJlYXNvbikp
CiAKIGRlZiBnZXROb2Rlc0Zyb21Db3Jvc3luY0NvbmYoY29uZl90ZXh0PU5vbmUpOgpAQCAtMzU5
LDcgKzQwNSw3IEBAIGRlZiBnZXROb2Rlc0Zyb21Db3Jvc3luY0NvbmYoY29uZl90ZXh0PU5vbmUp
OgogZGVmIGdldE5vZGVzRnJvbVBhY2VtYWtlcigpOgogICAgIHJldF9ub2RlcyA9IFtdCiAgICAg
cm9vdCA9IGdldF9jaWJfZXRyZWUoKQotICAgIG5vZGVzID0gcm9vdC5maW5kYWxsKCIuLy9ub2Rl
IikKKyAgICBub2RlcyA9IHJvb3QuZmluZGFsbChzdHIoIi4vL25vZGUiKSkKICAgICBmb3Igbm9k
ZSBpbiBub2RlczoKICAgICAgICAgcmV0X25vZGVzLmFwcGVuZChub2RlLmF0dHJpYlsidW5hbWUi
XSkKICAgICByZXRfbm9kZXMuc29ydCgpCkBAIC00NDUsNyArNDkxLDcgQEAgZGVmIGdldENvcm9z
eW5jQWN0aXZlTm9kZXMoKToKICAgICAgICAgICAgICAgICBtYXBwZWRfaWQgPSBuZXdfaWQKICAg
ICAgICAgICAgICAgICBicmVhawogICAgICAgICBpZiBtYXBwZWRfaWQgPT0gTm9uZToKLSAgICAg
ICAgICAgIHByaW50ICJFcnJvciBtYXBwaW5nICVzIiAlIG5vZGUKKyAgICAgICAgICAgIHByaW50
KCJFcnJvciBtYXBwaW5nICVzIiAlIG5vZGUpCiAgICAgICAgICAgICBjb250aW51ZQogICAgICAg
ICBmb3IgbmV3X2lkLCBzdGF0dXMgaW4gbm9kZXNfc3RhdHVzOgogICAgICAgICAgICAgaWYgbmV3
X2lkID09IG1hcHBlZF9pZDoKQEAgLTUwMSw3ICs1NDcsNyBAQCBkZWYgYWRkTm9kZVRvQ2x1c3Rl
ckNvbmYobm9kZSk6CiAKICAgICBvdXRwdXQsIHJldHZhbCA9IHJ1bihbImNjcyIsICItZiIsIHNl
dHRpbmdzLmNsdXN0ZXJfY29uZl9maWxlLCAiLS1hZGRub2RlIiwgbm9kZTBdKQogICAgIGlmIHJl
dHZhbCAhPSAwOgotICAgICAgICBwcmludCBvdXRwdXQKKyAgICAgICAgcHJpbnQob3V0cHV0KQog
ICAgICAgICBlcnIoImVycm9yIGFkZGluZyBub2RlOiAlcyIgJSBub2RlMCkKIAogICAgIGlmIG5v
ZGUxOgpAQCAtNTEwLDE5ICs1NTYsMTkgQEAgZGVmIGFkZE5vZGVUb0NsdXN0ZXJDb25mKG5vZGUp
OgogICAgICAgICAgICAgIi0tYWRkYWx0Iiwgbm9kZTAsIG5vZGUxCiAgICAgICAgIF0pCiAgICAg
ICAgIGlmIHJldHZhbCAhPSAwOgotICAgICAgICAgICAgcHJpbnQgb3V0cHV0CisgICAgICAgICAg
ICBwcmludChvdXRwdXQpCiAgICAgICAgICAgICBlcnIoCiAgICAgICAgICAgICAgICAgImVycm9y
IGFkZGluZyBhbHRlcm5hdGl2ZSBhZGRyZXNzIGZvciBub2RlOiAlcyIgJSBub2RlMAogICAgICAg
ICAgICAgKQogCiAgICAgb3V0cHV0LCByZXR2YWwgPSBydW4oWyJjY3MiLCAiLWkiLCAiLWYiLCBz
ZXR0aW5ncy5jbHVzdGVyX2NvbmZfZmlsZSwgIi0tYWRkbWV0aG9kIiwgInBjbWstbWV0aG9kIiwg
bm9kZTBdKQogICAgIGlmIHJldHZhbCAhPSAwOgotICAgICAgICBwcmludCBvdXRwdXQKKyAgICAg
ICAgcHJpbnQob3V0cHV0KQogICAgICAgICBlcnIoImVycm9yIGFkZGluZyBmZW5jZSBtZXRob2Q6
ICVzIiAlIG5vZGUpCiAKICAgICBvdXRwdXQsIHJldHZhbCA9IHJ1bihbImNjcyIsICItaSIsICIt
ZiIsIHNldHRpbmdzLmNsdXN0ZXJfY29uZl9maWxlLCAiLS1hZGRmZW5jZWluc3QiLCAicGNtay1y
ZWRpcmVjdCIsIG5vZGUwLCAicGNtay1tZXRob2QiLCAicG9ydD0iK25vZGUwXSkKICAgICBpZiBy
ZXR2YWwgIT0gMDoKLSAgICAgICAgcHJpbnQgb3V0cHV0CisgICAgICAgIHByaW50KG91dHB1dCkK
ICAgICAgICAgZXJyKCJlcnJvciBhZGRpbmcgZmVuY2UgaW5zdGFuY2U6ICVzIiAlIG5vZGUpCiAK
ICAgICBpZiBsZW4obm9kZXMpID09IDI6CkBAIC01MzUsNyArNTgxLDcgQEAgZGVmIGFkZE5vZGVU
b0NsdXN0ZXJDb25mKG5vZGUpOgogICAgICAgICAgICAgKyBjbWFuX29wdGlvbnMKICAgICAgICAg
KQogICAgICAgICBpZiByZXR2YWwgIT0gMDoKLSAgICAgICAgICAgIHByaW50IG91dHB1dAorICAg
ICAgICAgICAgcHJpbnQob3V0cHV0KQogICAgICAgICAgICAgZXJyKCJ1bmFibGUgdG8gc2V0IGNt
YW4gb3B0aW9ucyIpCiAKICAgICByZXR1cm4gVHJ1ZQpAQCAtNTcwLDcgKzYxNiw3IEBAIGRlZiBy
ZW1vdmVOb2RlRnJvbUNsdXN0ZXJDb25mKG5vZGUpOgogCiAgICAgb3V0cHV0LCByZXR2YWwgPSBy
dW4oWyJjY3MiLCAiLWYiLCBzZXR0aW5ncy5jbHVzdGVyX2NvbmZfZmlsZSwgIi0tcm1ub2RlIiwg
bm9kZTBdKQogICAgIGlmIHJldHZhbCAhPSAwOgotICAgICAgICBwcmludCBvdXRwdXQKKyAgICAg
ICAgcHJpbnQob3V0cHV0KQogICAgICAgICBlcnIoImVycm9yIHJlbW92aW5nIG5vZGU6ICVzIiAl
IG5vZGUpCiAKICAgICBpZiBsZW4obm9kZXMpID09IDM6CkBAIC01ODQsNyArNjMwLDcgQEAgZGVm
IHJlbW92ZU5vZGVGcm9tQ2x1c3RlckNvbmYobm9kZSk6CiAgICAgICAgICAgICArIGNtYW5fb3B0
aW9ucwogICAgICAgICApCiAgICAgICAgIGlmIHJldHZhbCAhPSAwOgotICAgICAgICAgICAgcHJp
bnQgb3V0cHV0CisgICAgICAgICAgICBwcmludChvdXRwdXQpCiAgICAgICAgICAgICBlcnIoInVu
YWJsZSB0byBzZXQgY21hbiBvcHRpb25zOiBleHBlY3RlZF92b3RlcyBhbmQgdHdvX25vZGUiKQog
ICAgIHJldHVybiBUcnVlCiAKQEAgLTY5Myw3ICs3MzksMTAgQEAgZGVmIHN1YnByb2Nlc3Nfc2V0
dXAoKToKICAgICBzaWduYWwuc2lnbmFsKHNpZ25hbC5TSUdQSVBFLCBzaWduYWwuU0lHX0RGTCkK
IAogIyBSdW4gY29tbWFuZCwgd2l0aCBlbnZpcm9ubWVudCBhbmQgcmV0dXJuIChvdXRwdXQsIHJl
dHZhbCkKLWRlZiBydW4oYXJncywgaWdub3JlX3N0ZGVycj1GYWxzZSwgc3RyaW5nX2Zvcl9zdGRp
bj1Ob25lLCBlbnZfZXh0ZW5kPU5vbmUpOgorZGVmIHJ1bigKKyAgICBhcmdzLCBpZ25vcmVfc3Rk
ZXJyPUZhbHNlLCBzdHJpbmdfZm9yX3N0ZGluPU5vbmUsIGVudl9leHRlbmQ9Tm9uZSwKKyAgICBi
aW5hcnlfb3V0cHV0PUZhbHNlCispOgogICAgIGlmIG5vdCBlbnZfZXh0ZW5kOgogICAgICAgICBl
bnZfZXh0ZW5kID0gZGljdCgpCiAgICAgZW52X3ZhciA9IGVudl9leHRlbmQKQEAgLTcxNywxMCAr
NzY2LDEwIEBAIGRlZiBydW4oYXJncywgaWdub3JlX3N0ZGVycj1GYWxzZSwgc3RyaW5nX2Zvcl9z
dGRpbj1Ob25lLCBlbnZfZXh0ZW5kPU5vbmUpOgogCiAgICAgdHJ5OgogICAgICAgICBpZiAiLS1k
ZWJ1ZyIgaW4gcGNzX29wdGlvbnM6Ci0gICAgICAgICAgICBwcmludCAiUnVubmluZzogIiArICIg
Ii5qb2luKGFyZ3MpCisgICAgICAgICAgICBwcmludCgiUnVubmluZzogIiArICIgIi5qb2luKGFy
Z3MpKQogICAgICAgICAgICAgaWYgc3RyaW5nX2Zvcl9zdGRpbjoKLSAgICAgICAgICAgICAgICBw
cmludCAiLS1EZWJ1ZyBJbnB1dCBTdGFydC0tXG4iICsgc3RyaW5nX2Zvcl9zdGRpbgotICAgICAg
ICAgICAgICAgIHByaW50ICItLURlYnVnIElucHV0IEVuZC0tXG4iCisgICAgICAgICAgICAgICAg
cHJpbnQoIi0tRGVidWcgSW5wdXQgU3RhcnQtLVxuIiArIHN0cmluZ19mb3Jfc3RkaW4pCisgICAg
ICAgICAgICAgICAgcHJpbnQoIi0tRGVidWcgSW5wdXQgRW5kLS0iKQogCiAgICAgICAgICMgU29t
ZSBjb21tYW5kcyByZWFjdCBkaWZmZXJlbnRseSBpZiB5b3UgZ2l2ZSB0aGVtIGFueXRoaW5nIHZp
YSBzdGRpbgogICAgICAgICBpZiBzdHJpbmdfZm9yX3N0ZGluICE9IE5vbmU6CkBAIC03MjgsMTgg
Kzc3NywyNSBAQCBkZWYgcnVuKGFyZ3MsIGlnbm9yZV9zdGRlcnI9RmFsc2UsIHN0cmluZ19mb3Jf
c3RkaW49Tm9uZSwgZW52X2V4dGVuZD1Ob25lKToKICAgICAgICAgZWxzZToKICAgICAgICAgICAg
IHN0ZGluX3BpcGUgPSBOb25lCiAKLSAgICAgICAgaWYgaWdub3JlX3N0ZGVycjoKLSAgICAgICAg
ICAgIHAgPSBzdWJwcm9jZXNzLlBvcGVuKGFyZ3MsIHN0ZGluPXN0ZGluX3BpcGUsIHN0ZG91dD1z
dWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNzLlBJUEUsIGVudiA9IGVudl92YXIsIHBy
ZWV4ZWNfZm49c3VicHJvY2Vzc19zZXR1cCkKLSAgICAgICAgZWxzZToKLSAgICAgICAgICAgIHAg
PSBzdWJwcm9jZXNzLlBvcGVuKGFyZ3MsIHN0ZGluPXN0ZGluX3BpcGUsIHN0ZG91dD1zdWJwcm9j
ZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNzLlNURE9VVCwgZW52ID0gZW52X3ZhciwgcHJlZXhl
Y19mbj1zdWJwcm9jZXNzX3NldHVwKQorICAgICAgICBwID0gc3VicHJvY2Vzcy5Qb3BlbigKKyAg
ICAgICAgICAgIGFyZ3MsCisgICAgICAgICAgICBzdGRpbj1zdGRpbl9waXBlLAorICAgICAgICAg
ICAgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwKKyAgICAgICAgICAgIHN0ZGVycj0oc3VicHJvY2Vz
cy5QSVBFIGlmIGlnbm9yZV9zdGRlcnIgZWxzZSBzdWJwcm9jZXNzLlNURE9VVCksCisgICAgICAg
ICAgICBwcmVleGVjX2ZuPXN1YnByb2Nlc3Nfc2V0dXAsCisgICAgICAgICAgICBlbnY9ZW52X3Zh
ciwKKyAgICAgICAgICAgICMgZGVjb2RlcyBuZXdsaW5lcyBhbmQgaW4gcHl0aG9uMyBhbHNvIGNv
bnZlcnRzIGJ5dGVzIHRvIHN0cgorICAgICAgICAgICAgdW5pdmVyc2FsX25ld2xpbmVzPShub3Qg
UFlUSE9OMiBhbmQgbm90IGJpbmFyeV9vdXRwdXQpCisgICAgICAgICkKICAgICAgICAgb3V0cHV0
LHN0ZGVycm9yID0gcC5jb21tdW5pY2F0ZShzdHJpbmdfZm9yX3N0ZGluKQogICAgICAgICByZXR1
cm5WYWwgPSBwLnJldHVybmNvZGUKICAgICAgICAgaWYgIi0tZGVidWciIGluIHBjc19vcHRpb25z
OgotICAgICAgICAgICAgcHJpbnQgIlJldHVybiBWYWx1ZTogIiArIHN0cihyZXR1cm5WYWwpCi0g
ICAgICAgICAgICBwcmludCAiLS1EZWJ1ZyBPdXRwdXQgU3RhcnQtLVxuIiArIG91dHB1dAotICAg
ICAgICAgICAgcHJpbnQgIi0tRGVidWcgT3V0cHV0IEVuZC0tXG4iCisgICAgICAgICAgICBwcmlu
dCgiUmV0dXJuIFZhbHVlOiB7MH0iLmZvcm1hdChyZXR1cm5WYWwpKQorICAgICAgICAgICAgcHJp
bnQoIi0tRGVidWcgT3V0cHV0IFN0YXJ0LS1cbnswfSIuZm9ybWF0KG91dHB1dCksIGVuZD0iIikK
KyAgICAgICAgICAgIHByaW50KCItLURlYnVnIE91dHB1dCBFbmQtLSIpCisgICAgICAgICAgICBw
cmludCgpCiAgICAgZXhjZXB0IE9TRXJyb3IgYXMgZToKLSAgICAgICAgcHJpbnQgZS5zdHJlcnJv
cgorICAgICAgICBwcmludChlLnN0cmVycm9yKQogICAgICAgICBlcnIoInVuYWJsZSB0byBsb2Nh
dGUgY29tbWFuZDogIiArIGFyZ3NbMF0pCiAKICAgICByZXR1cm4gb3V0cHV0LCByZXR1cm5WYWwK
QEAgLTc4NSwxOCArODQxLDE4IEBAIGRlZiBjYWxsX2xvY2FsX3Bjc2QoYXJndiwgaW50ZXJhY3Rp
dmVfYXV0aD1GYWxzZSwgc3RkX2luPU5vbmUpOgogICAgIH0KICAgICBpZiBzdGRfaW46CiAgICAg
ICAgIGRhdGFbJ3N0ZGluJ10gPSBzdGRfaW4KLSAgICBkYXRhX3NlbmQgPSB1cmxsaWIudXJsZW5j
b2RlKGRhdGEpCisgICAgZGF0YV9zZW5kID0gdXJsbGliX3VybGVuY29kZShkYXRhKQogICAgIGNv
ZGUsIG91dHB1dCA9IHNlbmRIVFRQUmVxdWVzdCgKICAgICAgICAgImxvY2FsaG9zdCIsICJydW5f
cGNzIiwgZGF0YV9zZW5kLCBGYWxzZSwgRmFsc2UKICAgICApCiAKICAgICAjIGF1dGhlbnRpY2F0
ZSBhZ2FpbnN0IGxvY2FsIHBjc2QgYW5kIHJ1biBhZ2FpbgogICAgIGlmIGludGVyYWN0aXZlX2F1
dGggYW5kIDMgPT0gY29kZTogIyBub3QgYXV0aGVudGljYXRlZAotICAgICAgICBwcmludCAnUGxl
YXNlIGF1dGhlbnRpY2F0ZSB5b3Vyc2VsZiB0byB0aGUgbG9jYWwgcGNzZCcKKyAgICAgICAgcHJp
bnQoJ1BsZWFzZSBhdXRoZW50aWNhdGUgeW91cnNlbGYgdG8gdGhlIGxvY2FsIHBjc2QnKQogICAg
ICAgICB1c2VybmFtZSA9IGdldF90ZXJtaW5hbF9pbnB1dCgnVXNlcm5hbWU6ICcpCiAgICAgICAg
IHBhc3N3b3JkID0gZ2V0X3Rlcm1pbmFsX3Bhc3N3b3JkKCkKICAgICAgICAgY2x1c3Rlci5hdXRo
X25vZGVzX2RvKFsibG9jYWxob3N0Il0sIHVzZXJuYW1lLCBwYXNzd29yZCwgVHJ1ZSwgVHJ1ZSkK
LSAgICAgICAgcHJpbnQKKyAgICAgICAgcHJpbnQoKQogICAgICAgICBjb2RlLCBvdXRwdXQgPSBz
ZW5kSFRUUFJlcXVlc3QoCiAgICAgICAgICAgICAibG9jYWxob3N0IiwgInJ1bl9wY3MiLCBkYXRh
X3NlbmQsIEZhbHNlLCBGYWxzZQogICAgICAgICApCkBAIC04NDMsMTMgKzg5OSwxMyBAQCBkZWYg
cnVuX25vZGVfdGhyZWFkcyhub2RlX3RocmVhZHMpOgogICAgICAgICB0aHJlYWQuZGFlbW9uID0g
VHJ1ZQogICAgICAgICB0aHJlYWQuc3RhcnQoKQogICAgIHdoaWxlIG5vZGVfdGhyZWFkczoKLSAg
ICAgICAgZm9yIG5vZGUgaW4gbm9kZV90aHJlYWRzLmtleXMoKToKKyAgICAgICAgZm9yIG5vZGUg
aW4gbGlzdChub2RlX3RocmVhZHMua2V5cygpKToKICAgICAgICAgICAgIHRocmVhZCA9IG5vZGVf
dGhyZWFkc1tub2RlXQogICAgICAgICAgICAgdGhyZWFkLmpvaW4oMSkKICAgICAgICAgICAgIGlm
IHRocmVhZC5pc19hbGl2ZSgpOgogICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAg
ICBvdXRwdXQgPSBub2RlICsgIjogIiArIHRocmVhZC5vdXRwdXQuc3RyaXAoKQotICAgICAgICAg
ICAgcHJpbnQgb3V0cHV0CisgICAgICAgICAgICBwcmludChvdXRwdXQpCiAgICAgICAgICAgICBp
ZiB0aHJlYWQucmV0dmFsICE9IDA6CiAgICAgICAgICAgICAgICAgZXJyb3JfbGlzdC5hcHBlbmQo
b3V0cHV0KQogICAgICAgICAgICAgZGVsIG5vZGVfdGhyZWFkc1tub2RlXQpAQCAtMTIwMiw3ICsx
MjU4LDcgQEAgZGVmIGdldF9kZWZhdWx0X29wX3ZhbHVlcyhyYV90eXBlKToKICAgICByZXR1cm5f
bGlzdCA9IFtdCiAgICAgdHJ5OgogICAgICAgICByb290ID0gRVQuZnJvbXN0cmluZyhtZXRhZGF0
YSkKLSAgICAgICAgYWN0aW9ucyA9IHJvb3QuZmluZGFsbCgiLi8vYWN0aW9ucy9hY3Rpb24iKQor
ICAgICAgICBhY3Rpb25zID0gcm9vdC5maW5kYWxsKHN0cigiLi8vYWN0aW9ucy9hY3Rpb24iKSkK
ICAgICAgICAgZm9yIGFjdGlvbiBpbiBhY3Rpb25zOgogICAgICAgICAgICAgaWYgYWN0aW9uLmF0
dHJpYlsibmFtZSJdIGluIGFsbG93YWJsZV9vcGVyYXRpb25zOgogICAgICAgICAgICAgICAgIG5l
d19vcGVyYXRpb24gPSBbXQpAQCAtMTM0MiwxMSArMTM5OCwxMSBAQCBkZWYgZ2V0X2RlZmF1bHRf
c3Rvbml0aF9vcHRpb25zKCk6CiAgICAgKG1ldGFkYXRhLCByZXR2YWwpID0gcnVuKFtzZXR0aW5n
cy5zdG9uaXRoZF9iaW5hcnksICJtZXRhZGF0YSJdLFRydWUpCiAgICAgaWYgcmV0dmFsID09IDA6
CiAgICAgICAgIHJvb3QgPSBFVC5mcm9tc3RyaW5nKG1ldGFkYXRhKQotICAgICAgICBwYXJhbXMg
PSByb290LmZpbmRhbGwoIi4vL3BhcmFtZXRlciIpCisgICAgICAgIHBhcmFtcyA9IHJvb3QuZmlu
ZGFsbChzdHIoIi4vL3BhcmFtZXRlciIpKQogICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdCiAg
ICAgICAgIGZvciBwYXJhbSBpbiBwYXJhbXM6CiAgICAgICAgICAgICBhZHZfcGFyYW0gPSBGYWxz
ZQotICAgICAgICAgICAgZm9yIHNob3J0X2Rlc2MgaW4gcGFyYW0uZmluZGFsbCgiLi8vc2hvcnRk
ZXNjIik6CisgICAgICAgICAgICBmb3Igc2hvcnRfZGVzYyBpbiBwYXJhbS5maW5kYWxsKHN0cigi
Li8vc2hvcnRkZXNjIikpOgogICAgICAgICAgICAgICAgIGlmIHNob3J0X2Rlc2MudGV4dC5zdGFy
dHN3aXRoKCJBZHZhbmNlZCB1c2Ugb25seSIpOgogICAgICAgICAgICAgICAgICAgICBhZHZfcGFy
YW0gPSBUcnVlCiAgICAgICAgICAgICBpZiBhZHZfcGFyYW0gPT0gRmFsc2U6CkBAIC0xMzg5LDkg
KzE0NDUsMjEgQEAgZGVmIGdldF9jaWJfZXRyZWUoKToKICAgICBleGNlcHQ6CiAgICAgICAgIGVy
cigidW5hYmxlIHRvIGdldCBjaWIiKQogCitkZWYgaXNfZXRyZWUodmFyKToKKyAgICByZXR1cm4g
KAorICAgICAgICB2YXIuX19jbGFzc19fID09IHhtbC5ldHJlZS5FbGVtZW50VHJlZS5FbGVtZW50
CisgICAgICAgIG9yCisgICAgICAgICgKKyAgICAgICAgICAgICMgaW4gcHl0aG9uMyBfRWxlbWVu
dEludGVyZmFjZSBkb2VzIG5vdCBleGlzdAorICAgICAgICAgICAgaGFzYXR0cih4bWwuZXRyZWUu
RWxlbWVudFRyZWUsICJfRWxlbWVudEludGVyZmFjZSIpCisgICAgICAgICAgICBhbmQKKyAgICAg
ICAgICAgIHZhci5fX2NsYXNzX18gPT0geG1sLmV0cmVlLkVsZW1lbnRUcmVlLl9FbGVtZW50SW50
ZXJmYWNlCisgICAgICAgICkKKyAgICApCisKICMgUmVwbGFjZSBvbmx5IGNvbmZpZ3VyYXRpb24g
c2VjdGlvbiBvZiBjaWIgd2l0aCBkb20gcGFzc2VkCiBkZWYgcmVwbGFjZV9jaWJfY29uZmlndXJh
dGlvbihkb20pOgotICAgIGlmIGRvbS5fX2NsYXNzX18gPT0geG1sLmV0cmVlLkVsZW1lbnRUcmVl
LkVsZW1lbnQgb3IgZG9tLl9fY2xhc3NfXyA9PSB4bWwuZXRyZWUuRWxlbWVudFRyZWUuX0VsZW1l
bnRJbnRlcmZhY2U6CisgICAgaWYgaXNfZXRyZWUoZG9tKToKICAgICAgICAgbmV3X2RvbSA9IEVU
LnRvc3RyaW5nKGRvbSkKICAgICBlbHNlOgogICAgICAgICBuZXdfZG9tID0gZG9tLnRveG1sKCkK
QEAgLTE0MDcsOCArMTQ3NSw4IEBAIGRlZiBpc192YWxpZF9jaWJfc2NvcGUoc2NvcGUpOgogCiAj
IENoZWNrcyB0byBzZWUgaWYgaWQgZXhpc3RzIGluIHRoZSB4bWwgZG9tIHBhc3NlZAogZGVmIGRv
ZXNfaWRfZXhpc3QoZG9tLCBjaGVja19pZCk6Ci0gICAgaWYgZG9tLl9fY2xhc3NfXyA9PSB4bWwu
ZXRyZWUuRWxlbWVudFRyZWUuRWxlbWVudCBvciBkb20uX19jbGFzc19fID09IHhtbC5ldHJlZS5F
bGVtZW50VHJlZS5fRWxlbWVudEludGVyZmFjZToKLSAgICAgICAgZm9yIGVsZW0gaW4gZG9tLmZp
bmRhbGwoIi4vLyoiKToKKyAgICBpZiBpc19ldHJlZShkb20pOgorICAgICAgICBmb3IgZWxlbSBp
biBkb20uZmluZGFsbChzdHIoIi4vLyoiKSk6CiAgICAgICAgICAgICBpZiBlbGVtLmdldCgiaWQi
KSA9PSBjaGVja19pZDoKICAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgIGVsc2U6CkBA
IC0xNTg5LDMyICsxNjU3LDM3IEBAIGRlZiBzZXRBdHRyaWJ1dGUoYV90eXBlLCBhX25hbWUsIGFf
dmFsdWUpOgogCiAgICAgb3V0cHV0LCByZXR2YWwgPSBydW4oYXJncykKICAgICBpZiByZXR2YWwg
IT0gMDoKLSAgICAgICAgcHJpbnQgb3V0cHV0CisgICAgICAgIHByaW50KG91dHB1dCkKIAogZGVm
IGdldFRlcm1pbmFsU2l6ZShmZD0xKToKICAgICAiIiIKICAgICBSZXR1cm5zIGhlaWdodCBhbmQg
d2lkdGggb2YgY3VycmVudCB0ZXJtaW5hbC4gRmlyc3QgdHJpZXMgdG8gZ2V0CiAgICAgc2l6ZSB2
aWEgdGVybWlvcy5USU9DR1dJTlNaLCB0aGVuIGZyb20gZW52aXJvbm1lbnQuIERlZmF1bHRzIHRv
IDI1CiAgICAgbGluZXMgeCA4MCBjb2x1bW5zIGlmIGJvdGggbWV0aG9kcyBmYWlsLgotIAorCiAg
ICAgOnBhcmFtIGZkOiBmaWxlIGRlc2NyaXB0b3IgKGRlZmF1bHQ6IDE9c3Rkb3V0KQogICAgICIi
IgogICAgIHRyeToKICAgICAgICAgaW1wb3J0IGZjbnRsLCB0ZXJtaW9zLCBzdHJ1Y3QKLSAgICAg
ICAgaHcgPSBzdHJ1Y3QudW5wYWNrKCdoaCcsIGZjbnRsLmlvY3RsKGZkLCB0ZXJtaW9zLlRJT0NH
V0lOU1osICcxMjM0JykpCisgICAgICAgIGh3ID0gc3RydWN0LnVucGFjaygKKyAgICAgICAgICAg
IHN0cignaGgnKSwKKyAgICAgICAgICAgIGZjbnRsLmlvY3RsKGZkLCB0ZXJtaW9zLlRJT0NHV0lO
U1osICcxMjM0JykKKyAgICAgICAgKQogICAgIGV4Y2VwdDoKICAgICAgICAgdHJ5OgogICAgICAg
ICAgICAgaHcgPSAob3MuZW52aXJvblsnTElORVMnXSwgb3MuZW52aXJvblsnQ09MVU1OUyddKQot
ICAgICAgICBleGNlcHQ6ICAKKyAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgaHcgPSAoMjUs
IDgwKQotIAogICAgIHJldHVybiBodwogCiBkZWYgZ2V0X3Rlcm1pbmFsX2lucHV0KG1lc3NhZ2U9
Tm9uZSk6CiAgICAgaWYgbWVzc2FnZToKICAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgnVXNlcm5h
bWU6ICcpCiAgICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQotICAgIHJldHVybiByYXdfaW5wdXQo
IiIpCisgICAgaWYgUFlUSE9OMjoKKyAgICAgICAgcmV0dXJuIHJhd19pbnB1dCgiIikKKyAgICBl
bHNlOgorICAgICAgICByZXR1cm4gaW5wdXQoIiIpCiAKIGRlZiBnZXRfdGVybWluYWxfcGFzc3dv
cmQobWVzc2FnZT0iUGFzc3dvcmQ6ICIpOgogICAgIGlmIHN5cy5zdGRvdXQuaXNhdHR5KCk6CkBA
IC0xNjQxLDE4ICsxNzE0LDE4IEBAIGRlZiBzdG9uaXRoQ2hlY2soKToKICAgICBldCA9IGdldF9j
aWJfZXRyZWUoKQogICAgIGNwcyA9IGV0LmZpbmQoImNvbmZpZ3VyYXRpb24vY3JtX2NvbmZpZy9j
bHVzdGVyX3Byb3BlcnR5X3NldCIpCiAgICAgaWYgY3BzICE9IE5vbmU6Ci0gICAgICAgIGZvciBw
cm9wIGluIGNwcy5maW5kYWxsKCJudnBhaXIiKToKKyAgICAgICAgZm9yIHByb3AgaW4gY3BzLmZp
bmRhbGwoc3RyKCJudnBhaXIiKSk6CiAgICAgICAgICAgICBpZiAnbmFtZScgaW4gcHJvcC5hdHRy
aWIgYW5kIHByb3AuYXR0cmliWyJuYW1lIl0gPT0gInN0b25pdGgtZW5hYmxlZCI6CiAgICAgICAg
ICAgICAgICAgaWYgcHJvcC5hdHRyaWJbInZhbHVlIl0gPT0gIm9mZiIgb3IgXAogICAgICAgICAg
ICAgICAgICAgICAgICAgcHJvcC5hdHRyaWJbInZhbHVlIl0gPT0gImZhbHNlIjoKICAgICAgICAg
ICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgIAotICAgIHByaW1pdGl2ZXMgPSBldC5m
aW5kYWxsKCJjb25maWd1cmF0aW9uL3Jlc291cmNlcy9wcmltaXRpdmUiKQorICAgIHByaW1pdGl2
ZXMgPSBldC5maW5kYWxsKHN0cigiY29uZmlndXJhdGlvbi9yZXNvdXJjZXMvcHJpbWl0aXZlIikp
CiAgICAgZm9yIHAgaW4gcHJpbWl0aXZlczoKICAgICAgICAgaWYgcC5hdHRyaWJbImNsYXNzIl0g
PT0gInN0b25pdGgiOgogICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAKLSAgICBwcmltaXRpdmVz
ID0gZXQuZmluZGFsbCgiY29uZmlndXJhdGlvbi9yZXNvdXJjZXMvY2xvbmUvcHJpbWl0aXZlIikK
KyAgICBwcmltaXRpdmVzID0gZXQuZmluZGFsbChzdHIoImNvbmZpZ3VyYXRpb24vcmVzb3VyY2Vz
L2Nsb25lL3ByaW1pdGl2ZSIpKQogICAgIGZvciBwIGluIHByaW1pdGl2ZXM6CiAgICAgICAgIGlm
IHAuYXR0cmliWyJjbGFzcyJdID09ICJzdG9uaXRoIjoKICAgICAgICAgICAgIHJldHVybiBGYWxz
ZQpAQCAtMTc4NSw3ICsxODU4LDcgQEAgZGVmIHZhbGlkSW5zdGFuY2VBdHRyaWJ1dGVzKHJlc19p
ZCwgcmFfdmFsdWVzLCByZXNvdXJjZV90eXBlKToKICAgICBiYWRfcGFyYW1ldGVycyA9IFtdCiAg
ICAgdHJ5OgogICAgICAgICBhY3Rpb25zID0gRVQuZnJvbXN0cmluZyhtZXRhZGF0YSkuZmluZCgi
cGFyYW1ldGVycyIpCi0gICAgICAgIGZvciBhY3Rpb24gaW4gYWN0aW9ucy5maW5kYWxsKCJwYXJh
bWV0ZXIiKToKKyAgICAgICAgZm9yIGFjdGlvbiBpbiBhY3Rpb25zLmZpbmRhbGwoc3RyKCJwYXJh
bWV0ZXIiKSk6CiAgICAgICAgICAgICB2YWxpZF9wYXJhbWV0ZXJzLmFwcGVuZChhY3Rpb24uYXR0
cmliWyJuYW1lIl0pCiAgICAgICAgICAgICBpZiAicmVxdWlyZWQiIGluIGFjdGlvbi5hdHRyaWIg
YW5kIGFjdGlvbi5hdHRyaWJbInJlcXVpcmVkIl0gPT0gIjEiOgogIyBJZiBhIGRlZmF1bHQgdmFs
dWUgaXMgc2V0LCB0aGVuIHRoZSBhdHRyaWJ1dGUgaXNuJ3QgcmVhbGx5IHJlcXVpcmVkIChmb3Ig
J2FjdGlvbicgb24gc3Rvbml0aCBkZXZpY2VzIG9ubHkpCkBAIC0xOTY5LDE0ICsyMDQyLDE0IEBA
IGRlZiBlcnIoZXJyb3JUZXh0LCBleGl0X2FmdGVyX2Vycm9yPVRydWUpOgogCiBkZWYgc2Vydmlj
ZVN0YXR1cyhwcmVmaXgpOgogICAgIGlmIGlzX3N5c3RlbWN0bCgpOgotICAgICAgICBwcmludCAi
RGFlbW9uIFN0YXR1czoiCisgICAgICAgIHByaW50KCJEYWVtb24gU3RhdHVzOiIpCiAgICAgICAg
IGRhZW1vbnMgPSBbImNvcm9zeW5jIiwgInBhY2VtYWtlciIsICJwY3NkIl0KICAgICAgICAgb3V0
LCByZXQgPSBydW4oWyJzeXN0ZW1jdGwiLCAiaXMtYWN0aXZlIl0gKyBkYWVtb25zKQogICAgICAg
ICBzdGF0dXMgPSBvdXQuc3BsaXQoIlxuIikKICAgICAgICAgb3V0LCByZXQgPSBydW4oWyJzeXN0
ZW1jdGwiLCAiaXMtZW5hYmxlZCJdKyBkYWVtb25zKQogICAgICAgICBlbmFibGVkID0gb3V0LnNw
bGl0KCJcbiIpCiAgICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihkYWVtb25zKSk6Ci0gICAgICAg
ICAgICBwcmludCBwcmVmaXggKyBkYWVtb25zW2ldICsgIjogIiArIHN0YXR1c1tpXSArICIvIiAr
IGVuYWJsZWRbaV0KKyAgICAgICAgICAgIHByaW50KHByZWZpeCArIGRhZW1vbnNbaV0gKyAiOiAi
ICsgc3RhdHVzW2ldICsgIi8iICsgZW5hYmxlZFtpXSkKIAogZGVmIGVuYWJsZVNlcnZpY2VzKCk6
CiAgICAgaWYgaXNfcmhlbDYoKToKQEAgLTIwMDIsNyArMjA3NSw3IEBAIGRlZiBkaXNhYmxlU2Vy
dmljZXMoKToKICAgICAgICAgICAgIHJ1bihbImNoa2NvbmZpZyIsICJjb3Jvc3luYyIsICJvZmYi
XSkKICAgICAgICAgICAgIHJ1bihbImNoa2NvbmZpZyIsICJwYWNlbWFrZXIiLCAib2ZmIl0pCiAK
LWRlZiB3cml0ZV9maWxlKHBhdGgsIGRhdGEsIHBlcm1pc3Npb25zPTA2NDQpOgorZGVmIHdyaXRl
X2ZpbGUocGF0aCwgZGF0YSwgcGVybWlzc2lvbnM9MG82NDQsIGJpbmFyeT1GYWxzZSk6CiAgICAg
aWYgb3MucGF0aC5leGlzdHMocGF0aCk6CiAgICAgICAgIGlmIG5vdCAiLS1mb3JjZSIgaW4gcGNz
X29wdGlvbnM6CiAgICAgICAgICAgICByZXR1cm4gRmFsc2UsICInJXMnIGFscmVhZHkgZXhpc3Rz
LCB1c2UgLS1mb3JjZSB0byBvdmVyd3JpdGUiICUgcGF0aApAQCAtMjAxMSw4ICsyMDg0LDkgQEAg
ZGVmIHdyaXRlX2ZpbGUocGF0aCwgZGF0YSwgcGVybWlzc2lvbnM9MDY0NCk6CiAgICAgICAgICAg
ICAgICAgb3MucmVtb3ZlKHBhdGgpCiAgICAgICAgICAgICBleGNlcHQgRW52aXJvbm1lbnRFcnJv
ciBhcyBlOgogICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZSwgInVuYWJsZSB0byByZW1vdmUg
JyVzJzogJXMiICUgKHBhdGgsIGUpCisgICAgbW9kZSA9ICJ3YiIgaWYgYmluYXJ5IGVsc2UgInci
CiAgICAgdHJ5OgotICAgICAgICB3aXRoIG9zLmZkb3Blbihvcy5vcGVuKHBhdGgsIG9zLk9fV1JP
TkxZIHwgb3MuT19DUkVBVCwgcGVybWlzc2lvbnMpLCAidyIpIGFzIG91dGZpbGU6CisgICAgICAg
IHdpdGggb3MuZmRvcGVuKG9zLm9wZW4ocGF0aCwgb3MuT19XUk9OTFkgfCBvcy5PX0NSRUFULCBw
ZXJtaXNzaW9ucyksIG1vZGUpIGFzIG91dGZpbGU6CiAgICAgICAgICAgICBvdXRmaWxlLndyaXRl
KGRhdGEpCiAgICAgZXhjZXB0IEVudmlyb25tZW50RXJyb3IgYXMgZToKICAgICAgICAgcmV0dXJu
IEZhbHNlLCAidW5hYmxlIHRvIHdyaXRlIHRvICclcyc6ICVzIiAlIChwYXRoLCBlKQpAQCAtMjAz
NiwxMyArMjExMCwxMyBAQCBkZWYgdGFyX2FkZF9maWxlX2RhdGEoCiAgICAgICAgIGluZm8udW5h
bWUgPSB1bmFtZQogICAgIGlmIGduYW1lIGlzIG5vdCBOb25lOgogICAgICAgICBpbmZvLmduYW1l
ID0gZ25hbWUKLSAgICBkYXRhX2lvID0gY1N0cmluZ0lPLlN0cmluZ0lPKGRhdGEpCisgICAgZGF0
YV9pbyA9IEJ5dGVzSU8oZGF0YSkKICAgICB0YXJiYWxsLmFkZGZpbGUoaW5mbywgZGF0YV9pbykK
ICAgICBkYXRhX2lvLmNsb3NlKCkKIAogZGVmIHNpbXVsYXRlX2NpYihjaWJfZG9tKToKLSAgICBu
ZXdfY2liX2ZpbGUgPSB0ZW1wZmlsZS5OYW1lZFRlbXBvcmFyeUZpbGUoIncrYiIsIC0xLCAiLnBj
cyIpCi0gICAgdHJhbnNpdGlvbnNfZmlsZSA9IHRlbXBmaWxlLk5hbWVkVGVtcG9yYXJ5RmlsZSgi
dytiIiwgLTEsICIucGNzIikKKyAgICBuZXdfY2liX2ZpbGUgPSB0ZW1wZmlsZS5OYW1lZFRlbXBv
cmFyeUZpbGUobW9kZT0idysiLCBzdWZmaXg9Ii5wY3MiKQorICAgIHRyYW5zaXRpb25zX2ZpbGUg
PSB0ZW1wZmlsZS5OYW1lZFRlbXBvcmFyeUZpbGUobW9kZT0idysiLCBzdWZmaXg9Ii5wY3MiKQog
ICAgIG91dHB1dCwgcmV0dmFsID0gcnVuKAogICAgICAgICBbImNybV9zaW11bGF0ZSIsICItLXNp
bXVsYXRlIiwgIi0tc2F2ZS1vdXRwdXQiLCBuZXdfY2liX2ZpbGUubmFtZSwKICAgICAgICAgICAg
ICItLXNhdmUtZ3JhcGgiLCB0cmFuc2l0aW9uc19maWxlLm5hbWUsICItLXhtbC1waXBlIl0sCkBA
IC0yMTc3LDcgKzIyNTEsNyBAQCBkZWYgcGFyc2VfY21hbl9xdW9ydW1faW5mbyhjbWFuX2luZm8p
OgogICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgIGlmIG5vdCAi
OiIgaW4gbGluZToKICAgICAgICAgICAgICAgICAgICAgY29udGludWUKLSAgICAgICAgICAgICAg
ICBwYXJ0cyA9IG1hcChsYW1iZGEgeDogeC5zdHJpcCgpLCBsaW5lLnNwbGl0KCI6IiwgMSkpCisg
ICAgICAgICAgICAgICAgcGFydHMgPSBbeC5zdHJpcCgpIGZvciB4IGluIGxpbmUuc3BsaXQoIjoi
LCAxKV0KICAgICAgICAgICAgICAgICBpZiBwYXJ0c1swXSA9PSAiUXVvcnVtIjoKICAgICAgICAg
ICAgICAgICAgICAgcGFyc2VkWyJxdW9yYXRlIl0gPSAiQWN0aXZpdHkgYmxvY2tlZCIgbm90IGlu
IHBhcnRzWzFdCiAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gcmUubWF0Y2goIihcZCspLioi
LCBwYXJ0c1sxXSkKQEAgLTIyMTksNyArMjI5Myw3IEBAIGRlZiBwYXJzZV9xdW9ydW10b29sX291
dHB1dChxdW9ydW10b29sX291dHB1dCk6CiAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAg
ICAgICAgICAgICAgICAgaWYgbm90ICI6IiBpbiBsaW5lOgogICAgICAgICAgICAgICAgICAgICBj
b250aW51ZQotICAgICAgICAgICAgICAgIHBhcnRzID0gbWFwKGxhbWJkYSB4OiB4LnN0cmlwKCks
IGxpbmUuc3BsaXQoIjoiLCAxKSkKKyAgICAgICAgICAgICAgICBwYXJ0cyA9IFt4LnN0cmlwKCkg
Zm9yIHggaW4gbGluZS5zcGxpdCgiOiIsIDEpXQogICAgICAgICAgICAgICAgIGlmIHBhcnRzWzBd
ID09ICJRdW9yYXRlIjoKICAgICAgICAgICAgICAgICAgICAgcGFyc2VkWyJxdW9yYXRlIl0gPSBw
YXJ0c1sxXS5sb3dlcigpID09ICJ5ZXMiCiAgICAgICAgICAgICAgICAgZWxpZiBwYXJ0c1swXSA9
PSAiUXVvcnVtIjoKZGlmZiAtLWdpdCBhL3NldHVwLnB5IGIvc2V0dXAucHkKaW5kZXggNmY0NWZl
ZS4uYTE0OWU0YiAxMDA2NDQKLS0tIGEvc2V0dXAucHkKKysrIGIvc2V0dXAucHkKQEAgLTEsNCAr
MSw0IEBACi0jIS91c3IvYmluL2VudiBweXRob24yCisjIS91c3IvYmluL2VudiBweXRob24KIAog
ZnJvbSBkaXN0dXRpbHMuY29yZSBpbXBvcnQgc2V0dXAKIAotLSAKMS45LjEKCg==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1145999</attachid>
            <date>2016-04-11 09:34:00 -0400</date>
            <delta_ts>2016-04-11 09:34:14 -0400</delta_ts>
            <desc>more fixes</desc>
            <filename>0001-correct-python2-python3-differences.patch</filename>
            <type>text/plain</type>
            <size>3798</size>
            <attacher name="Tomas Jelinek">tojeline</attacher>
            
              <data encoding="base64">RnJvbSA2OTNlYzk4NDlkMzkzNzUyOGE5YTQ5NGQ2OTlkMGQ0NjY5ODVjNzQyIE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBJdmFuIERldmF0IDxpZGV2YXRAcmVkaGF0LmNvbT4KRGF0ZTog
U2F0LCAyNyBGZWIgMjAxNiAxMDoxMjowOCArMDEwMApTdWJqZWN0OiBbUEFUQ0hdIGNvcnJlY3Qg
cHl0aG9uMi9weXRob24zIGRpZmZlcmVuY2VzCgotLS0KIHBjcy9hY2wucHkgICAgICAgICAgICAg
ICAgICAgICAgICAgICB8IDcgKysrKystLQogcGNzL2xpYnJhcnlfc3RhdHVzX2luZm8ucHkgICAg
ICAgICAgIHwgNiArKystLS0KIHBjcy90ZXN0L2xpYnJhcnlfdGVzdF90b29scy5weSAgICAgICB8
IDIgKy0KIHBjcy90ZXN0L3Rlc3RfbGlicmFyeV9zdGF0dXNfaW5mby5weSB8IDIgKy0KIHBjcy91
dGlscy5weSAgICAgICAgICAgICAgICAgICAgICAgICB8IDYgKysrKystCiA1IGZpbGVzIGNoYW5n
ZWQsIDE1IGluc2VydGlvbnMoKyksIDggZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvcGNzL2Fj
bC5weSBiL3Bjcy9hY2wucHkKaW5kZXggMGM2OGM2Zi4uNGQzNjE2NyAxMDA2NDQKLS0tIGEvcGNz
L2FjbC5weQorKysgYi9wY3MvYWNsLnB5CkBAIC0yMTMsMTEgKzIxMywxNCBAQCBkZWYgYXJndl90
b19wZXJtaXNzaW9uX2luZm9fbGlzdChhcmd2KToKICAgICBpZiBsZW4oYXJndikgJSAzICE9IDA6
CiAgICAgICAgIHJhaXNlIENtZExpbmVJbnB1dEVycm9yKCkKIAotICAgIHBlcm1pc3Npb25faW5m
b19saXN0ID0gemlwKAorICAgICN3cmFwcGluZyBieSBsaXN0LAorICAgICNiZWNhdXNlIGluIHB5
dGhvbjMgemlwKCkgcmV0dXJucyBhbiBpdGVyYXRvciBpbnN0ZWFkIG9mIGEgbGlzdAorICAgICNh
bmQgdGhlIGxvb3AgYmVsb3cgbWFrZXMgaXRlcmF0aW9uIG92ZXIgaXQKKyAgICBwZXJtaXNzaW9u
X2luZm9fbGlzdCA9IGxpc3QoemlwKAogICAgICAgICBbcGVybWlzc2lvbi5sb3dlcigpIGZvciBw
ZXJtaXNzaW9uIGluIGFyZ3ZbOjozXV0sCiAgICAgICAgIFtzY29wZV90eXBlLmxvd2VyKCkgZm9y
IHNjb3BlX3R5cGUgaW4gYXJndlsxOjozXV0sCiAgICAgICAgIGFyZ3ZbMjo6M10KLSAgICApCisg
ICAgKSkKIAogICAgIGZvciBwZXJtaXNzaW9uLCBzY29wZV90eXBlLCBkdW1teV9zY29wZSBpbiBw
ZXJtaXNzaW9uX2luZm9fbGlzdDoKICAgICAgICAgaWYoCmRpZmYgLS1naXQgYS9wY3MvbGlicmFy
eV9zdGF0dXNfaW5mby5weSBiL3Bjcy9saWJyYXJ5X3N0YXR1c19pbmZvLnB5CmluZGV4IGMxNzJm
YjMuLjUxNTZlOGQgMTAwNjQ0Ci0tLSBhL3Bjcy9saWJyYXJ5X3N0YXR1c19pbmZvLnB5CisrKyBi
L3Bjcy9saWJyYXJ5X3N0YXR1c19pbmZvLnB5CkBAIC0yOSwxMSArMjksMTEgQEAgY2xhc3MgX0F0
dHJzKG9iamVjdCk6CiAgICAgICAgIGlmIG5hbWUgaW4gc2VsZi5yZXF1aXJlZF9hdHRycy5rZXlz
KCk6CiAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgYXR0cl9zcGVjaWZpY2F0aW9u
ID0gc2VsZi5yZXF1aXJlZF9hdHRyc1tuYW1lXQotICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFu
Y2UoYXR0cl9zcGVjaWZpY2F0aW9uLCBiYXNlc3RyaW5nKToKLSAgICAgICAgICAgICAgICAgICAg
cmV0dXJuIHNlbGYuYXR0cmliW2F0dHJfc3BlY2lmaWNhdGlvbl0KLSAgICAgICAgICAgICAgICBl
bHNlOgorICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoYXR0cl9zcGVjaWZpY2F0aW9uLCB0
dXBsZSk6CiAgICAgICAgICAgICAgICAgICAgIGF0dHJfbmFtZSwgYXR0cl90cmFuc2Zvcm0gPSBh
dHRyX3NwZWNpZmljYXRpb24KICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJfdHJhbnNm
b3JtKHNlbGYuYXR0cmliW2F0dHJfbmFtZV0pCisgICAgICAgICAgICAgICAgZWxzZToKKyAgICAg
ICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuYXR0cmliW2F0dHJfc3BlY2lmaWNhdGlvbl0KICAg
ICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgICAgICByYWlzZSBBdHRyaWJ1
dGVFcnJvcigKICAgICAgICAgICAgICAgICAgICAgIk1pc3NpbmcgYXR0cmlidXRlICd7MH0nICgn
ezF9JyBpbiBzb3VyY2UpIGluICd7Mn0nIgpkaWZmIC0tZ2l0IGEvcGNzL3Rlc3QvbGlicmFyeV90
ZXN0X3Rvb2xzLnB5IGIvcGNzL3Rlc3QvbGlicmFyeV90ZXN0X3Rvb2xzLnB5CmluZGV4IDczNGJj
MTUuLjhjZTViM2QgMTAwNjQ0Ci0tLSBhL3Bjcy90ZXN0L2xpYnJhcnlfdGVzdF90b29scy5weQor
KysgYi9wY3MvdGVzdC9saWJyYXJ5X3Rlc3RfdG9vbHMucHkKQEAgLTIxLDcgKzIxLDcgQEAgY2xh
c3MgTGlicmFyeUFzc2VydGlvbk1peGluKG9iamVjdCk6CiAgICAgICAgICAgICAgICAgI2V4dHJh
IGluZm8gaXMgaWdub3JlZAogICAgICAgICAgICAgICAgIGFsbCgKICAgICAgICAgICAgICAgICAg
ICAgKGsgaW4gcmVwb3J0X2l0ZW0uaW5mbyBhbmQgcmVwb3J0X2l0ZW0uaW5mb1trXT09dikKLSAg
ICAgICAgICAgICAgICAgICAgZm9yIGssdiBpbiByZXBvcnRfaW5mb1syXS5pdGVyaXRlbXMoKQor
ICAgICAgICAgICAgICAgICAgICBmb3Igayx2IGluIHJlcG9ydF9pbmZvWzJdLml0ZW1zKCkKICAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICApOgogICAgICAgICAgICAgICAgIHJldHVybiBy
ZXBvcnRfaW5mbwpkaWZmIC0tZ2l0IGEvcGNzL3Rlc3QvdGVzdF9saWJyYXJ5X3N0YXR1c19pbmZv
LnB5IGIvcGNzL3Rlc3QvdGVzdF9saWJyYXJ5X3N0YXR1c19pbmZvLnB5CmluZGV4IDJhZjJjOGEu
LmIzYmE3OTUgMTAwNjQ0Ci0tLSBhL3Bjcy90ZXN0L3Rlc3RfbGlicmFyeV9zdGF0dXNfaW5mby5w
eQorKysgYi9wY3MvdGVzdC90ZXN0X2xpYnJhcnlfc3RhdHVzX2luZm8ucHkKQEAgLTQsNyArNCw3
IEBAIGZyb20gX19mdXR1cmVfXyBpbXBvcnQgcHJpbnRfZnVuY3Rpb24KIGZyb20gX19mdXR1cmVf
XyBpbXBvcnQgdW5pY29kZV9saXRlcmFscwogCiBmcm9tIHVuaXR0ZXN0IGltcG9ydCBUZXN0Q2Fz
ZQotaW1wb3J0IHVuaXR0ZXN0Lm1haW4KK2ltcG9ydCB1bml0dGVzdAogaW1wb3J0IG9zLnBhdGgK
IGltcG9ydCBzeXMKIGZyb20gbHhtbCBpbXBvcnQgZXRyZWUKZGlmZiAtLWdpdCBhL3Bjcy91dGls
cy5weSBiL3Bjcy91dGlscy5weQppbmRleCBkZTI4YzgyLi5lZmYxMWFiIDEwMDY0NAotLS0gYS9w
Y3MvdXRpbHMucHkKKysrIGIvcGNzL3V0aWxzLnB5CkBAIC0xNDc4LDcgKzE0NzgsMTEgQEAgZGVm
IGlzX2V0cmVlKHZhcik6CiAjIFJlcGxhY2Ugb25seSBjb25maWd1cmF0aW9uIHNlY3Rpb24gb2Yg
Y2liIHdpdGggZG9tIHBhc3NlZAogZGVmIHJlcGxhY2VfY2liX2NvbmZpZ3VyYXRpb24oZG9tKToK
ICAgICBpZiBpc19ldHJlZShkb20pOgotICAgICAgICBuZXdfZG9tID0gRVQudG9zdHJpbmcoZG9t
KQorICAgICAgICAjZXRyZWUgcmV0dXJucyBzdHJpbmcgaW4gYnl0ZXM6IGIneG1sJworICAgICAg
ICAjcHl0aG9uIDMgcmVtb3ZlZCAuZW5jb2RlKCkgZnJvbSBieXRlIHN0cmluZ3MKKyAgICAgICAg
I3J1biguLi4pIGNhbGxzIHN1YnByb2Nlc3MuUG9wZW4uY29tbXVuaWNhdGUgd2hpY2ggY2FsbHMg
ZW5jb2RlLi4uCisgICAgICAgICNzbyB0aGVyZSBpcyBieXRlcyB0byBzdHIgY29udmVyc2lvbgor
ICAgICAgICBuZXdfZG9tID0gRVQudG9zdHJpbmcoZG9tKS5kZWNvZGUoKQogICAgIGVsc2U6CiAg
ICAgICAgIG5ld19kb20gPSBkb20udG94bWwoKQogICAgIG91dHB1dCwgcmV0dmFsID0gcnVuKFsi
Y2liYWRtaW4iLCAiLS1yZXBsYWNlIiwgIi1vIiwgImNvbmZpZ3VyYXRpb24iLCAiLVYiLCAiLS14
bWwtcGlwZSJdLEZhbHNlLG5ld19kb20pCi0tIAoxLjkuMQoK
</data>

          </attachment>
      

    </bug>

</bugzilla>
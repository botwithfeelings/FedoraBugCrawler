<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1366832</bug_id>
          
          <creation_ts>2016-08-13 05:08:00 -0400</creation_ts>
          <short_desc>we require IKEv1 peer to have ID &apos;@ip.addr&apos; , but peer declares &apos;ip.addr&apos;</short_desc>
          <delta_ts>2016-11-28 02:25:10 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>NetworkManager-l2tp</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="dearfriend">appraprv</reporter>
          <assigned_to name="Douglas Kosovic">doug</assigned_to>
          <cc>doug</cc>
    
    
    <cc>drizt</cc>
    
    
    <cc>martin.pivarnik</cc>
    
    
    <cc>psimerda</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>NetworkManager-l2tp-1.2.4-1.fc24</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-11-28 02:25:10</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9612763</commentid>
    <comment_count>0</comment_count>
    <who name="dearfriend">appraprv</who>
    <bug_when>2016-08-13 05:08:27 -0400</bug_when>
    <thetext>Description of problem:

When vpn server reports ipsec-gateway-id different from &apos;vpn address&apos;, I set it manually in &quot;ipsec settings&quot; -&gt; &quot;gateway id&quot;
But connection still failed.

Journalctl -xe reports, that NetworkManage-l2tp insert &quot;@&quot; before &apos;ipaddr&apos;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9612830</commentid>
    <comment_count>1</comment_count>
    <who name="Douglas Kosovic">doug</who>
    <bug_when>2016-08-13 08:25:11 -0400</bug_when>
    <thetext>The &quot;@&quot; before &apos;ipaddr&apos; issue is fixed upstream in this commit :

https://github.com/nm-l2tp/network-manager-l2tp/commit/ed15e04278c2053abef0041e9947a0dcf7424209

and will be made available with NetworkManager-l2tp 1.2.4

Does is not work if you leave the Gateway ID field blank in the IPsec configuration dialog box? Most people are able to getaway with not filling in that field.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9612883</commentid>
    <comment_count>2</comment_count>
    <who name="dearfriend">appraprv</who>
    <bug_when>2016-08-13 09:48:23 -0400</bug_when>
    <thetext>When Gateway ID field blank connection failed with 
&quot;we require IKEv1 peer to have ID &apos;ip.addr1&apos; , but peer declares &apos;ip.addr2&apos;&quot;
where ip.addr1 is vpn server address (from dns), ip.addr2 - reported gw id

Now I am using ip.addr2 as a vpn address, so I can wait 1.2.4 in testing repo.
thx</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9716139</commentid>
    <comment_count>3</comment_count>
    <who name="Douglas Kosovic">doug</who>
    <bug_when>2016-09-17 07:31:51 -0400</bug_when>
    <thetext>There are ongoing issues with the newer version and then I went on long service leave which prevent me working on the code.

I&apos;ll try and do an interim RPM with a back ported patch which I&apos;ll work on in the next couple of days.

The new version of NetworkManager-l2tp is still some way away as I keep discovering issues and bugs.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9726337</commentid>
    <comment_count>4</comment_count>
    <who name="Douglas Kosovic">doug</who>
    <bug_when>2016-09-20 10:04:11 -0400</bug_when>
    <thetext>I&apos;ve created a git snapshot RPMs of the upcoming NetworkManager-l2tp 1.2.4 :

https://copr.fedorainfracloud.org/coprs/dkosovic/nm-l2tp/

alternatively if want to manually install the two RPMs (i.e. NM-l2tp and NM-l2tp-gnome), find them here:
https://copr-be.cloud.fedoraproject.org/results/dkosovic/nm-l2tp/fedora-24-x86_64/00455380-NetworkManager-l2tp/

The git snapshot version is usable and fixes many issues compared to version 1.2.2.

I still have a few bug fixes that exist in all current versions related to when some wrong IPsec arguments are supplied in the GUI resulting in the ipsec start command not finishing. Once I&apos;ve updated the code, I&apos;ll release 1.2.4 proper.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9906232</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-20 06:08:18 -0500</bug_when>
    <thetext>NetworkManager-l2tp-1.2.4-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-863a28c489</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9906593</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-20 14:53:17 -0500</bug_when>
    <thetext>NetworkManager-l2tp-1.2.4-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-863a28c489</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9933317</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-28 02:25:10 -0500</bug_when>
    <thetext>NetworkManager-l2tp-1.2.4-1.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
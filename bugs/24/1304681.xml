<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1304681</bug_id>
          
          <creation_ts>2016-02-04 05:49:00 -0500</creation_ts>
          <short_desc>Journal spam: Gdk-WARNING **: gdk-frame-clock: layout continuously requested, giving up after 4 tries</short_desc>
          <delta_ts>2017-04-06 13:40:10 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>gnome-shell</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>AcceptedBlocker</status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1230435</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Vít Ondruch">vondruch</reporter>
          <assigned_to name="Owen Taylor">otaylor</assigned_to>
          <cc>ariscop</cc>
    
    
    <cc>bugzilla</cc>
    
    
    <cc>colin</cc>
    
    
    <cc>drepper</cc>
    
    
    <cc>emilbarton</cc>
    
    
    <cc>fmuellner</cc>
    
    
    <cc>heldwin_</cc>
    
    
    <cc>jfilak</cc>
    
    
    <cc>jsynacek</cc>
    
    
    <cc>kparal</cc>
    
    
    <cc>mclasen</cc>
    
    
    <cc>otaylor</cc>
    
    
    <cc>pschindl</cc>
    
    
    <cc>robatino</cc>
    
    
    <cc>sgallagh</cc>
    
    
    <cc>vondruch</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-04-04 11:36:54</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          <external_bugs name="GNOME Desktop">758893</external_bugs>
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9035545</commentid>
    <comment_count>0</comment_count>
    <who name="Vít Ondruch">vondruch</who>
    <bug_when>2016-02-04 05:49:08 -0500</bug_when>
    <thetext>Description of problem:
My journal is continuously spammed with messages such as:

$ journalctl -f
-- Logs begin at Sun 2014-06-01 03:10:01 CEST. --
Dec 01 11:53:29 localhost org.gnome.Shell.desktop[2211]: (gnome-shell:2211): Gdk-WARNING **: gdk-frame-clock: layout continuously requested, giving up after 4 tries
Dec 01 11:53:29 localhost org.gnome.Shell.desktop[2211]: (gnome-shell:2211): Gdk-WARNING **: gdk-frame-clock: layout continuously requested, giving up after 4 tries
Dec 01 11:53:29 localhost org.gnome.Shell.desktop[2211]: (gnome-shell:2211): Gdk-WARNING **: gdk-frame-clock: layout continuously requested, giving up after 4 tries
Dec 01 11:53:29 localhost org.gnome.Shell.desktop[2211]: (gnome-shell:2211): Gdk-WARNING **: gdk-frame-clock: layout continuously requested, giving up after 4 tries
Dec 01 11:53:29 localhost org.gnome.Shell.desktop[2211]: (gnome-shell:2211): Gdk-WARNING **: gdk-frame-clock: layout continuously requested, giving up after 4 tries
^C

Would be nice to fix this.



Version-Release number of selected component (if applicable):
$ rpm -q gnome-shell
gnome-shell-3.19.2-1.fc24.x86_64

$ rpm -q gtk3
gtk3-3.19.3-2.fc24.x86_64



How reproducible:


Steps to Reproduce:
1.
2.
3.

Actual results:


Expected results:


Additional info:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9035563</commentid>
    <comment_count>1</comment_count>
    <who name="Fedora Blocker Bugs Application">blockerbugs</who>
    <bug_when>2016-02-04 05:55:39 -0500</bug_when>
    <thetext>Proposed as a Blocker for 24-final by Fedora user vondruch using the blocker tracking app because:

 Although gnome-shell is not exactly application, it is constantly spamming journal and hence increases disk and cpu load. 

&quot;All applications that can be launched using the standard graphical mechanism of a release-blocking desktop after a default installation of that desktop must start successfully and withstand a basic functionality test.&quot;

Link:
https://fedoraproject.org/wiki/Fedora_24_Final_Release_Criteria#Default_application_functionality</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9043896</commentid>
    <comment_count>2</comment_count>
    <who name="Stephen Gallagher">sgallagh</who>
    <bug_when>2016-02-08 11:45:38 -0500</bug_when>
    <thetext>This does not meet that criterion even slightly. Log spew does not mean it fails basic functionality.

-1 Blocker</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9045076</commentid>
    <comment_count>3</comment_count>
    <who name="Andrew Cook">ariscop</who>
    <bug_when>2016-02-09 00:37:26 -0500</bug_when>
    <thetext>&quot;A bug in a Critical Path package that:
  * Cannot be fixed with a future stable update
  * Has a severity rating of high or greater and no reasonable workaround (see definition of severity and priority)&quot;

gnome-shell is a critical-path package, and while this could be fixed in the future, it not only makes the user journal large and useless, it consumes substantial cpu power doing so with no reasonable workaround</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9045851</commentid>
    <comment_count>4</comment_count>
    <who name="Stephen Gallagher">sgallagh</who>
    <bug_when>2016-02-09 06:58:39 -0500</bug_when>
    <thetext>(In reply to Andrew Cook from comment #3)
&gt; &quot;A bug in a Critical Path package that:
&gt;   * Cannot be fixed with a future stable update

This is the part that would qualify it as a blocker. Also, I don&apos;t know anyone who would consider log noise as having a severity rating of &quot;high or greater&quot;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9051249</commentid>
    <comment_count>5</comment_count>
    <who name="Andrew Cook">ariscop</who>
    <bug_when>2016-02-10 18:06:25 -0500</bug_when>
    <thetext>It&apos;s the cpu usage more than journal spam, it&apos;s more than halved my battery life</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9055084</commentid>
    <comment_count>6</comment_count>
    <who name="Colin Guthrie">colin</who>
    <bug_when>2016-02-12 04:11:40 -0500</bug_when>
    <thetext>This seems related to multi-monitor on my system (Dell XPS13 Intel Ivybridge Mobile). When the 2nd monitor is unplugged, gnome-shell is fine, but plug it in and I get this problem.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9063499</commentid>
    <comment_count>7</comment_count>
    <who name="Chris Murphy">bugzilla</who>
    <bug_when>2016-02-15 02:03:13 -0500</bug_when>
    <thetext>Any regressive behavior that cuts battery life in half is unsuitable for final release. If it&apos;s reproducible, widespread, with no work around, I&apos;d say it violates &quot;Bug hinders execution of required Alpha test plans or dramatically reduces test coverage&quot; and make it alpha or beta blocking; I&apos;d certainly curtail my testing given such behavior. It&apos;s just not worth dealing with.

If it&apos;s happening only with 2+ displays attached, that sounds like a conditional blocker and perhaps comes down to a judgement call or votes at a later time. But I think it&apos;d be unwise to ship a final release with 15% less battery life, let alone 50%. That&apos;s not a feature.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9063749</commentid>
    <comment_count>8</comment_count>
    <who name="Colin Guthrie">colin</who>
    <bug_when>2016-02-15 04:04:35 -0500</bug_when>
    <thetext>I retract my 2+ displays statement. Like the other testers on the upstream bug, it happens under other conditions also. Sorry for the noise and false debug path.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9065516</commentid>
    <comment_count>9</comment_count>
    <who name="Petr Schindler">pschindl</who>
    <bug_when>2016-02-15 12:55:38 -0500</bug_when>
    <thetext>Discussed at 2016-02-15 blocker review meeting: [1]. 

We decided to punt the decision - this is a difficult judgement call and it&apos;s hard to make it with only a few (mostly QA) folks in attendance

[1] http://meetbot.fedoraproject.org/fedora-blocker-review/2016-02-15/f24-blocker-review.2016-02-15-17.00.html</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9085605</commentid>
    <comment_count>10</comment_count>
    <who name="Petr Schindler">pschindl</who>
    <bug_when>2016-02-22 14:23:51 -0500</bug_when>
    <thetext>Discussed at 2016-02-22 blocker review meeting: [1]. 

This bug was accepted as Final blocker: this is considered a violation of &quot;All elements of the default panel (or equivalent) configuration in all release-blocking desktops must function correctly in typical use&quot;, in that the Shell is the core of the &quot;default panel&quot; for Workstation and constantly spamming the system logs and consuming significant resources constitutes failing to &quot;function correctly&quot;

[1] http://meetbot.fedoraproject.org/fedora-blocker-review/2016-02-22/f24-blocker-review.2016-02-22-17.00.html</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9087016</commentid>
    <comment_count>11</comment_count>
    <who name="Kamil Páral">kparal</who>
    <bug_when>2016-02-23 03:03:43 -0500</bug_when>
    <thetext>The upstream bug got closed, hopefully fixed. Now we need an update for Fedora.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9093013</commentid>
    <comment_count>12</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2016-02-24 09:24:18 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 24 development cycle.
Changing version to &apos;24&apos;.

More information and reason for this action is here:
https://fedoraproject.org/wiki/Fedora_Program_Management/HouseKeeping/Fedora24#Rawhide_Rebase</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9118918</commentid>
    <comment_count>13</comment_count>
    <who name="Matthias Clasen">mclasen</who>
    <bug_when>2016-03-03 12:56:08 -0500</bug_when>
    <thetext>still happening</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9121112</commentid>
    <comment_count>14</comment_count>
    <who name="Florian Müllner">fmuellner</who>
    <bug_when>2016-03-04 07:34:37 -0500</bug_when>
    <thetext>*** Bug 1314386 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9121114</commentid>
    <comment_count>15</comment_count>
    <who name="Florian Müllner">fmuellner</who>
    <bug_when>2016-03-04 07:35:03 -0500</bug_when>
    <thetext>*** Bug 1309752 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9146152</commentid>
    <comment_count>16</comment_count>
    <who name="Matthias Clasen">mclasen</who>
    <bug_when>2016-03-14 08:52:04 -0400</bug_when>
    <thetext>I&apos;ve put workarounds for this in the gtk packages (gtk2 and gtk3)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9146214</commentid>
    <comment_count>17</comment_count>
    <who name="Vít Ondruch">vondruch</who>
    <bug_when>2016-03-14 09:07:28 -0400</bug_when>
    <thetext>(In reply to Matthias Clasen from comment #16)
&gt; I&apos;ve put workarounds for this in the gtk packages (gtk2 and gtk3)

Can I test them? What are the versions? Or are they in Fedora already, since the situation looks to be much better now:

$ rpm -q gtk3
gtk3-3.19.11-1.fc25.x86_64

$ uptime
 14:05:57 up  4:42,  1 user,  load average: 0,68, 0,40, 0,34

$ journalctl -b | grep frame-clock | wc -l
18</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9146442</commentid>
    <comment_count>18</comment_count>
    <who name="Matthias Clasen">mclasen</who>
    <bug_when>2016-03-14 10:09:08 -0400</bug_when>
    <thetext>the workaround is in 2.24.30 and will be in 3.19.12</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9205075</commentid>
    <comment_count>19</comment_count>
    <who name="Matthias Clasen">mclasen</who>
    <bug_when>2016-04-04 11:36:54 -0400</bug_when>
    <thetext>should be fixed now. Please reopen if you still see it with post-alpha f24</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10063528</commentid>
    <comment_count>20</comment_count>
    <who name="emilbarton">emilbarton</who>
    <bug_when>2017-01-14 10:19:11 -0500</bug_when>
    <thetext>Hi, I&apos;d be happy to learn how I could avoid being affected by the same problem in my program (https://github.com/emilbarton/Unidatab). I&apos;ve been looking for a solution on wxWidgets Discussion Forum (https://forums.wxwidgets.org/viewtopic.php?f=23&amp;t=43009).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10311841</commentid>
    <comment_count>21</comment_count>
    <who name="Heldwin">heldwin_</who>
    <bug_when>2017-04-06 13:40:10 -0400</bug_when>
    <thetext>It happens on one of my system, when using filezilla.

f25, mate, x86_64. Only 1 screen</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
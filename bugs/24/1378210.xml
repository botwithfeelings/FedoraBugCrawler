<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1378210</bug_id>
          
          <creation_ts>2016-09-21 16:23:00 -0400</creation_ts>
          <short_desc>Intel I210 NIC fails to initialise after upgrade</short_desc>
          <delta_ts>2016-10-24 07:11:22 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>kernel</component>
          <version>24</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter>2owen.thomas</reporter>
          <assigned_to name="Kernel Maintainer List">kernel-maint</assigned_to>
          <cc>2owen.thomas</cc>
    
    
    <cc>gansalmon</cc>
    
    
    <cc>ichavero</cc>
    
    
    <cc>itamar</cc>
    
    
    <cc>jonathan</cc>
    
    
    <cc>kernel-maint</cc>
    
    
    <cc>madhu.chinakonda</cc>
    
    
    <cc>mchehab</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-10-24 07:11:22</cf_last_closed>
          <cf_type>---</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9731586</commentid>
    <comment_count>0</comment_count>
    <who name="">2owen.thomas</who>
    <bug_when>2016-09-21 16:23:04 -0400</bug_when>
    <thetext>User-Agent:       Mozilla/5.0 (X11; Fedora; Linux x86_64; rv:48.0) Gecko/20100101 Firefox/48.0
Build Identifier: 

I was previously running Fedora 23 and after upgrading to kernel 4.6 (previously working on 4.5.4 if I remember correctly) the Intel NICs fail to initialise their drivers and cannot be observed in dmesg. However an lspci shows they are visible to the OS. I have since upgraded to Fedora 24 (with the use of the 4.5 kernel) in the hopes that this bug had been fixed but to no avail. I have searched for similar bugs and couldn&apos;t find anything. lsmod shows the igb module has been loaded however nothing is using it. I am currently using a USB ethernet adapter as a work around in the interim.

Reproducible: Always

Steps to Reproduce:
1. Turn on computer
2. Log in
3. No network interfaces shown in Network Manager
4. No network interfaces shown in nmcli or ifconfig
Actual Results:  
No network interface card and thus no network connection

Expected Results:  
Functioning network connectivity

[owen@oz-srv ~]$ lspci | grep Network
04:00.0 Ethernet controller: Intel Corporation I210 Gigabit Network Connection (rev 03)
05:00.0 Ethernet controller: Intel Corporation I210 Gigabit Network Connection (rev 03)
06:00.0 Ethernet controller: Intel Corporation I210 Gigabit Network Connection (rev 03)
07:00.0 Ethernet controller: Intel Corporation I210 Gigabit Network Connection (rev 03)
[owen@oz-srv ~]$ lsmod | grep igb
igb                   196608  0
ptp                    20480  1 igb
dca                    16384  1 igb
i2c_algo_bit           16384  1 igb

[owen@oz-srv ~]$ dmesg | grep thernet
[    1.819864] igb: Intel(R) Gigabit Ethernet Network Driver - version 5.3.0-k
[    1.846028] usb 5-2: Product: Apple USB Ethernet Adapter
[    5.780734] asix 5-2:1.0 eth0: register &apos;asix&apos; at usb-0000:08:00.0-2, ASIX AX88772 USB 2.0 Ethernet, f4:f9:51:f1:36:83

[owen@oz-srv ~]$ nmcli dev status
DEVICE    TYPE      STATE      CONNECTION 
enp8s0u2  ethernet  connected  enp6s0     
lo        loopback  unmanaged  --  

[owen@oz-srv ~]$ systemctl status network
● network.service - LSB: Bring up/down networking
   Loaded: loaded (/etc/rc.d/init.d/network; bad; vendor preset: disabled)
   Active: inactive (dead)
     Docs: man:systemd-sysv-generator(8)

[owen@oz-srv ~]$ systemctl status NetworkManager
● NetworkManager.service - Network Manager
   Loaded: loaded (/usr/lib/systemd/system/NetworkManager.service; enabled; vendor preset: enabled)
   Active: active (running) since Wed 2016-09-21 20:52:06 BST; 12min ago
     Docs: man:NetworkManager(8)
 Main PID: 1019 (NetworkManager)
    Tasks: 4 (limit: 512)
   CGroup: /system.slice/NetworkManager.service
           ├─1019 /usr/sbin/NetworkManager --no-daemon
           └─1172 /sbin/dhclient -d -q -sf /usr/libexec/nm-dhcp-helper -pf /var/run/dhclient-enp8s0u2.pid -lf /var/lib/NetworkManager/dhclient-8f9baa70-1a1f-4311-818b-ec0c73846d8d-enp8s0u2.lea

Sep 21 20:52:13 oz-srv.julien NetworkManager[1019]: &lt;info&gt;  [1474487533.0208] dhcp4 (enp8s0u2): state changed unknown -&gt; bound
Sep 21 20:52:13 oz-srv.julien NetworkManager[1019]: &lt;info&gt;  [1474487533.0226] device (enp8s0u2): state change: ip-config -&gt; ip-check (reason &apos;none&apos;) [70 80 0]
Sep 21 20:52:13 oz-srv.julien NetworkManager[1019]: &lt;info&gt;  [1474487533.0349] device (enp8s0u2): state change: ip-check -&gt; secondaries (reason &apos;none&apos;) [80 90 0]
Sep 21 20:52:13 oz-srv.julien NetworkManager[1019]: &lt;info&gt;  [1474487533.0353] device (enp8s0u2): state change: secondaries -&gt; activated (reason &apos;none&apos;) [90 100 0]
Sep 21 20:52:13 oz-srv.julien NetworkManager[1019]: &lt;info&gt;  [1474487533.0354] manager: NetworkManager state is now CONNECTED_LOCAL
Sep 21 20:52:13 oz-srv.julien NetworkManager[1019]: &lt;info&gt;  [1474487533.0372] manager: NetworkManager state is now CONNECTED_SITE
Sep 21 20:52:13 oz-srv.julien NetworkManager[1019]: &lt;info&gt;  [1474487533.0373] policy: set &apos;enp6s0&apos; (enp8s0u2) as default for IPv4 routing and DNS
Sep 21 20:52:13 oz-srv.julien NetworkManager[1019]: &lt;info&gt;  [1474487533.0386] device (enp8s0u2): Activation: successful, device activated.
Sep 21 20:52:13 oz-srv.julien NetworkManager[1019]: &lt;info&gt;  [1474487533.0389] manager: startup complete
Sep 21 20:52:13 oz-srv.julien NetworkManager[1019]: &lt;info&gt;  [1474487533.2606] manager: NetworkManager state is now CONNECTED_GLOBAL

[owen@oz-srv network-scripts]$ sudo ifup enp4s0
Error: Connection activation failed: No suitable device found for this connection.
[owen@oz-srv network-scripts]$ sudo ifup enp5s0
Error: Connection activation failed: No suitable device found for this connection.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9738839</commentid>
    <comment_count>1</comment_count>
    <who name="Laura Abbott">labbott</who>
    <bug_when>2016-09-23 15:16:48 -0400</bug_when>
    <thetext>*********** MASS BUG UPDATE **************
 
We apologize for the inconvenience.  There is a large number of bugs to go through and several of them have gone stale.  Due to this, we are doing a mass bug update across all of the Fedora 24 kernel bugs.
 
Fedora 24 has now been rebased to 4.7.4-200.fc24.  Please test this kernel update (or newer) and let us know if you issue has been resolved or if it is still present with the newer kernel.
 
If you have moved on to Fedora 25, and are still experiencing this issue, please change the version to Fedora 25.
 
If you experience different issues, please open a new bug report for those.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9813505</commentid>
    <comment_count>2</comment_count>
    <who name="">2owen.thomas</who>
    <bug_when>2016-10-23 07:23:03 -0400</bug_when>
    <thetext>Hi Laura,

I have finally gotten around to updating my system and the 4.7.4-200.fc24 kernel update has now fixed this issue for me.

Owen T</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
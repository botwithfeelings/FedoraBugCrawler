<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1329368</bug_id>
          
          <creation_ts>2016-04-21 14:35:00 -0400</creation_ts>
          <short_desc>libsoup is built without GSSAPI support</short_desc>
          <delta_ts>2016-04-23 19:43:03 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>libsoup</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>AcceptedFreezeException</status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1230434</blocked>
    
    
    <blocked>1329371</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Alexander Bokovoy">abokovoy</reporter>
          <assigned_to name="Matthew Barnes">mbarnes</assigned_to>
          <cc>abokovoy</cc>
    
    
    <cc>awilliam</cc>
    
    
    <cc>danw</cc>
    
    
    <cc>mbarnes</cc>
    
    
    <cc>mcatanzaro</cc>
    
    
    <cc>mcrha</cc>
    
    
    <cc>npmccallum</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>libsoup-2.54.0.1-3.fc24</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-04-23 19:43:03</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9258726</commentid>
    <comment_count>0</comment_count>
    <who name="Alexander Bokovoy">abokovoy</who>
    <bug_when>2016-04-21 14:35:31 -0400</bug_when>
    <thetext>libsoup 2.53.92+ supports GSSAPI authentication. However, libsoup spec in Fedora 24 and rawhide does not include BuildRequires: krb5-devel and GSSAPI support is not enabled.

This prevents building webkitgtk with GSSAPI support enabled and Epiphany.

Finally, this makes impossible to showcase GNOME 3.20 single sign-on support.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9258818</commentid>
    <comment_count>1</comment_count>
    <who name="Fedora Blocker Bugs Application">blockerbugs</who>
    <bug_when>2016-04-21 15:13:11 -0400</bug_when>
    <thetext>Proposed as a Freeze Exception for 24-beta by Fedora user abbra using the blocker tracking app because:

 libsoup was built in Fedora 24 without GSSAPI authentication support. This prevents us to showcase GNOME 3.20 single sign-on effort.

The risk of updating libsoup is confined to libsoup and webkitgtk4 which needs to be rebuilt as well (bug  1329371) to allow Epiphany and GNOME Online Accounts to use single sign-on features.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9258845</commentid>
    <comment_count>2</comment_count>
    <who name="Michael Catanzaro">mcatanzaro</who>
    <bug_when>2016-04-21 15:23:06 -0400</bug_when>
    <thetext>(In reply to Alexander Bokovoy from comment #0)
&gt; libsoup 2.53.92+ supports GSSAPI authentication. However, libsoup spec in
&gt; Fedora 24 and rawhide does not include BuildRequires: krb5-devel and GSSAPI
&gt; support is not enabled.

libsoup&apos;s upstream configure script should be modified to produce an error if this dependency is missing but --disable-gssapi or something along those lines is not passed. This automagic dependency crap just results in features going missing from distros. Otherwise this is gonna be a Fedora-only thing, because only Fedora knows to add the magic BuildRequires.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9258873</commentid>
    <comment_count>3</comment_count>
    <who name="Alexander Bokovoy">abokovoy</who>
    <bug_when>2016-04-21 15:36:02 -0400</bug_when>
    <thetext>Upstream configure.ac has this:

dnl **********************
dnl *** GSSAPI support ***
dnl **********************
AC_ARG_WITH(gssapi,
	    AS_HELP_STRING([--with-gssapi],
	    [Build with GSSAPI support [default=auto]]))

and it also has error checking for --with-gssapi=yes:
        if test &quot;$with_gssapi&quot; == &quot;yes&quot;; then
	    AC_MSG_ERROR([GSSAPI support requested but failed to found krb5-config. Try to set KRB5_CONFIG.])
	fi

I&apos;m not sure if changing from auto to yes would make sense as a default upstream.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9259003</commentid>
    <comment_count>4</comment_count>
    <who name="Nathaniel McCallum">npmccallum</who>
    <bug_when>2016-04-21 16:36:56 -0400</bug_when>
    <thetext>I can confirm that rebuilding libsoup with krb5-devel installed makes GSSAPI work for epiphany.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9259238</commentid>
    <comment_count>5</comment_count>
    <who name="Michael Catanzaro">mcatanzaro</who>
    <bug_when>2016-04-21 18:50:57 -0400</bug_when>
    <thetext>(In reply to Alexander Bokovoy from comment #3)
&gt; I&apos;m not sure if changing from auto to yes would make sense as a default
&gt; upstream.

I think it would; distros would all prefer one failed build than to accidentally miss this feature. Plus it seems to be the only automagic dependency currently in the configure script. Anyway, Dan is CCed, he can change it if he wants.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9260182</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-22 04:26:04 -0400</bug_when>
    <thetext>libsoup-2.54.0.1-3.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-cd7c1300dc</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9261804</commentid>
    <comment_count>7</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-04-22 14:01:12 -0400</bug_when>
    <thetext>If you just want to do a build against that libsoup, you can submit a buildroot override. You don&apos;t need a freeze exception. (Ideally make sure the rebuilt webkitgtk goes into the same update as libsoup, once it&apos;s built).

https://bodhi.fedoraproject.org/overrides/new

On its merits I&apos;m -1 FE on this, I don&apos;t see a reason it needs to break the freeze; it&apos;s not really something that&apos;d be useful from a live image, for e.g.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9261806</commentid>
    <comment_count>8</comment_count>
    <who name="Nathaniel McCallum">npmccallum</who>
    <bug_when>2016-04-22 14:03:28 -0400</bug_when>
    <thetext>I don&apos;t care about breaking the freeze. As long as we ship in F24, I&apos;m happy.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9261816</commentid>
    <comment_count>9</comment_count>
    <who name="Nathaniel McCallum">npmccallum</who>
    <bug_when>2016-04-22 14:04:46 -0400</bug_when>
    <thetext>Also, we don&apos;t need to rebuild webkitgtk4.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9261820</commentid>
    <comment_count>10</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-04-22 14:07:05 -0400</bug_when>
    <thetext>the Beta freeze applies only to...beta. Without an FE the libsoup in the Beta images would not have GSSAPI support, but anyone who installs Beta would get it on their first system update. If there is some reason it&apos;s important for the support to be there on first boot or in the live images, please say so.

The *Final* release would certainly include the fixed libsoup, so long as it&apos;s pushed stable in the usual way between Beta release and Final freeze.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9261929</commentid>
    <comment_count>11</comment_count>
    <who name="Alexander Bokovoy">abokovoy</who>
    <bug_when>2016-04-22 15:08:33 -0400</bug_when>
    <thetext>Adam,

we (IPA and Desktop teams) wanted to publicize in Fedora Magazine and showcase Fedora 24 beta with GNOME 3.20 single sign-on features. Not allowing to get libsoup into the Beta images makes the Fedora Magazine article effort fruitless.

If Fedora are not interested in that, fine. I have better things to spent my time on now that Badlock activity ended.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9261934</commentid>
    <comment_count>12</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-04-22 15:17:54 -0400</bug_when>
    <thetext>You don&apos;t have to be angry about it, we just can&apos;t rubber-stamp proposals with no clear justification, or else we might as well not have the FE process or freezes at all.

Does the update actually have to go into the images in order to write an article about it? Wouldn&apos;t it be fine to just have a step to update the system after doing the install? Or does the updated libsoup have to be present during install or on first boot?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9261944</commentid>
    <comment_count>13</comment_count>
    <who name="Alexander Bokovoy">abokovoy</who>
    <bug_when>2016-04-22 15:24:23 -0400</bug_when>
    <thetext>I don&apos;t see any benefit of targeting Beta if you&apos;d need to update packages. The article then can be written and published at any time when packages come to the install.

Given that you can enroll to IPA or other enterprise environment on first boot, lack of proper libsoup version prevents you from configuring automatically GNOME online accounts against your services, for example.

In other words, it is, of course, my problem that I was unable to spot this issue earlier than the Beta freeze, but I hope we can at least have the package in the Beta to unlock some marketing potential around first half of May.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9261948</commentid>
    <comment_count>14</comment_count>
    <who name="Alexander Bokovoy">abokovoy</who>
    <bug_when>2016-04-22 15:26:28 -0400</bug_when>
    <thetext>Also, see https://plus.google.com/+AlexanderBokovoy/posts/LggNiqH4AP2 for the reasons of the Beta targetting. Unfortunately, shortly after that discussion Badlock activities took over my priorities.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9261952</commentid>
    <comment_count>15</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-04-22 15:29:18 -0400</bug_when>
    <thetext>sure, that&apos;s fine. It&apos;s not about blaming anyone for anything, it&apos;s simply a case of making sure we only break the freeze when there&apos;s actually a good reason to.

with that explanation, +1 FE.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9261957</commentid>
    <comment_count>16</comment_count>
    <who name="Dennis Gilmore">dennis</who>
    <bug_when>2016-04-22 15:31:50 -0400</bug_when>
    <thetext>+1 FE</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9261959</commentid>
    <comment_count>17</comment_count>
    <who name="Kevin Fenzi">kevin</who>
    <bug_when>2016-04-22 15:32:58 -0400</bug_when>
    <thetext>+1 FE</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9261974</commentid>
    <comment_count>18</comment_count>
    <who name="Adam Williamson">awilliam</who>
    <bug_when>2016-04-22 15:40:18 -0400</bug_when>
    <thetext>ok, that&apos;s +3, setting accepted.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9262990</commentid>
    <comment_count>19</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-23 17:23:31 -0400</bug_when>
    <thetext>libsoup-2.54.0.1-3.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-cd7c1300dc</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9263027</commentid>
    <comment_count>20</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-04-23 19:43:00 -0400</bug_when>
    <thetext>libsoup-2.54.0.1-3.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1343308</bug_id>
          
          <creation_ts>2016-06-07 02:07:00 -0400</creation_ts>
          <short_desc>Left margin display errors with GTK 3.20</short_desc>
          <delta_ts>2016-06-26 16:56:06 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>bluefish</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Jim Hayward">jimhayward</reporter>
          <assigned_to name="Paul Howarth">paul</assigned_to>
          <cc>paul</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>bluefish-2.2.9-1.fc24</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-06-26 16:56:06</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          <external_bugs name="GNOME Desktop">765699</external_bugs>
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9392721</commentid>
    <comment_count>0</comment_count>
      <attachid>1165500</attachid>
    <who name="Jim Hayward">jimhayward</who>
    <bug_when>2016-06-07 02:07:20 -0400</bug_when>
    <thetext>Created attachment 1165500
patch for bluefish bug 765699

Description of problem:
Because of changes with GTK 3.20, the left margin in the textview does not display correctly. Problems include the line numbers and symbols not being displayed.

Other issues include current line and cursor position highlighting not working. 

Version-Release number of selected component (if applicable):
2.2.8-2


Additional info:
A patch is attached with upstream changes to fix these issues with GTK 3.20.
A small upstream change is also in the patch that makes the menu key act as a right click button event.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9427353</commentid>
    <comment_count>1</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-06-17 07:01:00 -0400</bug_when>
    <thetext>bluefish-2.2.9-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-9e8fd1b883</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9429957</commentid>
    <comment_count>2</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-06-18 12:25:59 -0400</bug_when>
    <thetext>bluefish-2.2.9-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-9e8fd1b883</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9453509</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-06-26 16:56:04 -0400</bug_when>
    <thetext>bluefish-2.2.9-1.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1165500</attachid>
            <date>2016-06-07 02:07:00 -0400</date>
            <delta_ts>2016-06-07 02:07:20 -0400</delta_ts>
            <desc>patch for bluefish bug 765699</desc>
            <filename>bug765699_not_showing_line_numbers.patch</filename>
            <type>text/plain</type>
            <size>6113</size>
            <attacher name="Jim Hayward">jimhayward</attacher>
            
              <data encoding="base64">SW5kZXg6IGJmdGV4dHZpZXcyLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gYmZ0ZXh0dmlldzIuYwkocmV2aXNp
b24gODU0OSkKKysrIGJmdGV4dHZpZXcyLmMJKHJldmlzaW9uIDg2NDYpCkBAIC0xLDcgKzEsNyBA
QAogLyogQmx1ZWZpc2ggSFRNTCBFZGl0b3IKICAqIGJmdGV4dHZpZXcyLmMKICAqCi0gKiBDb3B5
cmlnaHQgKEMpIDIwMDgtMjAxNSBPbGl2aWVyIFNlc3NpbmsKKyAqIENvcHlyaWdodCAoQykgMjAw
OC0yMDE2IE9saXZpZXIgU2Vzc2luawogICoKICAqIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3
YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgKiBpdCB1bmRlciB0
aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBi
eQpAQCAtMTE4NSw2ICsxMTg1LDUyIEBACiAJY2Fpcm9fc3Ryb2tlKGNyKTsKIH0KIAorI2lmIEdU
S19DSEVDS19WRVJTSU9OKDMsMjAsMCkKK3N0YXRpYyB2b2lkCitibHVlZmlzaF90ZXh0X3ZpZXdf
ZHJhd19sYXllcihHdGtUZXh0VmlldyAqIHRleHRfdmlldywgR3RrVGV4dFZpZXdMYXllciBsYXll
ciwgY2Fpcm9fdCAqIGNyKQoreworCWNhaXJvX3NhdmUoY3IpOworCisJaWYgKGxheWVyID09IEdU
S19URVhUX1ZJRVdfTEFZRVJfQkVMT1dfVEVYVCkKKwl7CisJCUJsdWVmaXNoVGV4dFZpZXcgKmJ0
diA9IEJMVUVGSVNIX1RFWFRfVklFVyh0ZXh0X3ZpZXcpOworCQlCbHVlZmlzaFRleHRWaWV3ICpt
YXN0ZXIgPSBCTFVFRklTSF9URVhUX1ZJRVcoYnR2LT5tYXN0ZXIpOworCisJCWlmIChndGtfd2lk
Z2V0X2lzX3NlbnNpdGl2ZShHVEtfV0lER0VUKGJ0dikpCisJCQkmJiAoQkZXSU4oRE9DVU1FTlQo
bWFzdGVyLT5kb2MpLT5iZndpbiktPnNlc3Npb24tPnZpZXdfY2xpbmUgfHwgbWFpbl92LT5wcm9w
cy5oaWdobGlnaHRfY3Vyc29yKSkgeworCQkJZ2ludCB5LCBoZWlnaHQ7CisJCQlHdGtUZXh0SXRl
ciBpdDsKKworCQkJREJHX1NJR05BTFMoImJsdWVmaXNoX3RleHRfdmlld19kcmF3X2xheWVyX2V2
ZW50LCBjdXJyZW50IGxpbmUgaGlnaGxpZ2h0aW5nXG4iKTsKKwkJCWd0a190ZXh0X2J1ZmZlcl9n
ZXRfaXRlcl9hdF9tYXJrKG1hc3Rlci0+YnVmZmVyLCAmaXQsIGd0a190ZXh0X2J1ZmZlcl9nZXRf
aW5zZXJ0KG1hc3Rlci0+YnVmZmVyKSk7CisJCQlndGtfdGV4dF92aWV3X2dldF9saW5lX3lyYW5n
ZSh0ZXh0X3ZpZXcsICZpdCwgJnksICZoZWlnaHQpOworCisJCQlpZiAoQkZXSU4oRE9DVU1FTlQo
bWFzdGVyLT5kb2MpLT5iZndpbiktPnNlc3Npb24tPnZpZXdfY2xpbmUgJiYgIURPQ1VNRU5UKG1h
c3Rlci0+ZG9jKS0+cmVhZG9ubHkpIHsKKwkJCQlnZG91YmxlIHgxLCB5MSwgeDIsIHkyOworCisJ
CQkJY2Fpcm9fY2xpcF9leHRlbnRzIChjciwgJngxLCAmeTEsICZ4MiwgJnkyKTsKKwkJCQlnZGtf
Y2Fpcm9fc2V0X3NvdXJjZV9yZ2JhKGNyLCAmc3RfY2xpbmVfY29sb3IpOworCQkJCWNhaXJvX3Jl
Y3RhbmdsZSAoY3IsIHgxICsgLjUsIHkgKyAuNSwgeDIgLSB4MSAtIDEsIGhlaWdodCAtIDEpOwor
CQkJCWNhaXJvX2ZpbGwgKGNyKTsKKwkJCX0KKworCQkJaWYgKG1haW5fdi0+cHJvcHMuaGlnaGxp
Z2h0X2N1cnNvcikgeworCQkJCUdka1JlY3RhbmdsZSBpdHJlY3Q7CisJCQkJZ2ludCB3aWR0aDsK
KworCQkJCWd0a190ZXh0X3ZpZXdfZ2V0X2l0ZXJfbG9jYXRpb24odGV4dF92aWV3LCAmaXQsICZp
dHJlY3QpOworCQkJCXdpZHRoID0gaXRyZWN0LndpZHRoID4gNSA/IGl0cmVjdC53aWR0aCA6IG1h
c3Rlci0+bWFyZ2luX3BpeGVsc19wZXJfY2hhcjsKKwkJCQlnZGtfY2Fpcm9fc2V0X3NvdXJjZV9y
Z2JhKGNyLCAmc3RfY3Vyc29yX2hpZ2hsaWdodF9jb2xvcik7CisJCQkJY2Fpcm9fcmVjdGFuZ2xl
KGNyLCBpdHJlY3QueCwgaXRyZWN0LnksIHdpZHRoLCBpdHJlY3QuaGVpZ2h0KTsKKwkJCQljYWly
b19maWxsKGNyKTsKKwkJCX0KKwkJfQorCX0KKworCWNhaXJvX3Jlc3RvcmUoY3IpOworfQorI2Vu
ZGlmCisKICNpZiBHVEtfQ0hFQ0tfVkVSU0lPTigzLDAsMCkKIHN0YXRpYyBnYm9vbGVhbgogYmx1
ZWZpc2hfdGV4dF92aWV3X2RyYXcoR3RrV2lkZ2V0ICogd2lkZ2V0LCBjYWlyb190ICogY3IpCkBA
IC0xMTk3LDYgKzEyNDMsMTEgQEAKIAlnaW50IHJlY3QyeSwgcmVjdDJ4OwogCUd0a1RleHRJdGVy
IHN0YXJ0dmlzaWJsZSwgZW5kdmlzaWJsZTsKIAorI2lmIEdUS19DSEVDS19WRVJTSU9OKDMsMjAs
MCkKKwlpZiAoR1RLX1dJREdFVF9DTEFTUyhibHVlZmlzaF90ZXh0X3ZpZXdfcGFyZW50X2NsYXNz
KS0+ZHJhdykKKwkJZXZlbnRfaGFuZGxlZCA9IEdUS19XSURHRVRfQ0xBU1MoYmx1ZWZpc2hfdGV4
dF92aWV3X3BhcmVudF9jbGFzcyktPmRyYXcod2lkZ2V0LCBjcik7CisjZW5kaWYKKwogCXdsZWZ0
ID0gZ3RrX3RleHRfdmlld19nZXRfd2luZG93KEdUS19URVhUX1ZJRVcod2lkZ2V0KSwgR1RLX1RF
WFRfV0lORE9XX0xFRlQpOwogCWd0a190ZXh0X3ZpZXdfZ2V0X3Zpc2libGVfcmVjdChHVEtfVEVY
VF9WSUVXKHdpZGdldCksICZyZWN0KTsKIAlndGtfdGV4dF92aWV3X2dldF9saW5lX2F0X3koR1RL
X1RFWFRfVklFVyh3aWRnZXQpLCAmc3RhcnR2aXNpYmxlLCByZWN0LnksIE5VTEwpOwpAQCAtMTIw
Niw3ICsxMjU3LDcgQEAKIAogCWlmICh3bGVmdCAmJiBndGtfY2Fpcm9fc2hvdWxkX2RyYXdfd2lu
ZG93KGNyLCB3bGVmdCkpIHsKIAkgICAvKioqKioqKiogdGhlIHBhaW50aW5nIGluIHRoZSBNQVJH
SU4gYXJlYSBvZiB0aGUgd2lkZ2V0ICoqKioqKioqKi8KLQkJREJHX1NJR05BTFMoImJsdWVmaXNo
X3RleHRfdmlld19leHBvc2VfZXZlbnQsIEdUS19URVhUX1dJTkRPV19MRUZUXG4iKTsKKwkJREJH
X1NJR05BTFMoImJsdWVmaXNoX3RleHRfdmlld19kcmF3X2V2ZW50LCBHVEtfVEVYVF9XSU5ET1df
TEVGVFxuIik7CiAJCXBhaW50X21hcmdpbihidHYsIGNyLCAmc3RhcnR2aXNpYmxlLCAmZW5kdmlz
aWJsZSk7CiAJCWV2ZW50X2hhbmRsZWQgPSBUUlVFOwogCX0KQEAgLTEyMTMsMTIgKzEyNjQsMTMg
QEAKIAl3dGV4dCA9IGd0a190ZXh0X3ZpZXdfZ2V0X3dpbmRvdyhHVEtfVEVYVF9WSUVXKHdpZGdl
dCksIEdUS19URVhUX1dJTkRPV19URVhUKTsKIAlpZiAod3RleHQgJiYgZ3RrX2NhaXJvX3Nob3Vs
ZF9kcmF3X3dpbmRvdyhjciwgd3RleHQpKSB7CiAJICAgLyoqKioqKioqIHRoZSBwYWludGluZyBp
biB0aGUgVEVYVCBhcmVhIG9mIHRoZSB3aWRnZXQgKioqKioqKiovCisjaWYgIUdUS19DSEVDS19W
RVJTSU9OKDMsMjAsMCkKIAkJaWYgKGd0a193aWRnZXRfaXNfc2Vuc2l0aXZlKEdUS19XSURHRVQo
YnR2KSkKIAkJCSYmIChCRldJTihET0NVTUVOVChtYXN0ZXItPmRvYyktPmJmd2luKS0+c2Vzc2lv
bi0+dmlld19jbGluZSB8fCBtYWluX3YtPnByb3BzLmhpZ2hsaWdodF9jdXJzb3IpKSB7CiAJCQln
aW50IHkyLCB4MjsKIAkJCUd0a1RleHRJdGVyIGl0OwogCQkJR2RrUmVjdGFuZ2xlIGl0cmVjdDsK
LQkJCURCR19TSUdOQUxTKCJibHVlZmlzaF90ZXh0X3ZpZXdfZXhwb3NlX2V2ZW50LCBjdXJyZW50
IGxpbmUgaGlnaGxpZ2h0aW5nXG4iKTsKKwkJCURCR19TSUdOQUxTKCJibHVlZmlzaF90ZXh0X3Zp
ZXdfZHJhd19ldmVudCwgY3VycmVudCBsaW5lIGhpZ2hsaWdodGluZ1xuIik7CiAJCQlndGtfdGV4
dF9idWZmZXJfZ2V0X2l0ZXJfYXRfbWFyayhtYXN0ZXItPmJ1ZmZlciwgJml0LCBndGtfdGV4dF9i
dWZmZXJfZ2V0X2luc2VydChtYXN0ZXItPmJ1ZmZlcikpOwogCQkJZ3RrX3RleHRfdmlld19nZXRf
aXRlcl9sb2NhdGlvbigoR3RrVGV4dFZpZXcgKikgd2lkZ2V0LCAmaXQsICZpdHJlY3QpOwogCQkJ
Z3RrX3RleHRfdmlld19idWZmZXJfdG9fd2luZG93X2Nvb3JkcyhHVEtfVEVYVF9WSUVXKHdpZGdl
dCksIEdUS19URVhUX1dJTkRPV19URVhULApAQCAtMTI0NSw5ICsxMjk3LDkgQEAKIAogCQlpZiAo
R1RLX1dJREdFVF9DTEFTUyhibHVlZmlzaF90ZXh0X3ZpZXdfcGFyZW50X2NsYXNzKS0+ZHJhdykK
IAkJCWV2ZW50X2hhbmRsZWQgPSBHVEtfV0lER0VUX0NMQVNTKGJsdWVmaXNoX3RleHRfdmlld19w
YXJlbnRfY2xhc3MpLT5kcmF3KHdpZGdldCwgY3IpOwotCisjZW5kaWYKIAkJaWYgKG1hc3Rlci0+
dmlzaWJsZV9zcGFjaW5nKSB7Ci0JCQlEQkdfU0lHTkFMUygiYmx1ZWZpc2hfdGV4dF92aWV3X2V4
cG9zZV9ldmVudCwgcGFpbnQgdmlzaWJsZSBzcGFjaW5nXG4iKTsKKwkJCURCR19TSUdOQUxTKCJi
bHVlZmlzaF90ZXh0X3ZpZXdfZHJhd19ldmVudCwgcGFpbnQgdmlzaWJsZSBzcGFjaW5nXG4iKTsK
IAkJCXBhaW50X3NwYWNlcyhidHYsIGNyLCAmc3RhcnR2aXNpYmxlLCAmZW5kdmlzaWJsZSk7CiAJ
CX0KIApAQCAtMTYyNiw2ICsxNjc4LDE0IEBACiAJCQlyZXR1cm4gVFJVRTsKIAkJfQogCX0KKwkv
KiBmb2xsb3dpbmcgY29kZSBtYXJrcyB0aGUgbG9jYXRpb24gaWYgdGhlICdtZW51JyBrZXkgaXMg
dXNlZCBhcyBpZiBpdCB3YXMgYSByaWdodCBjbGljayBidXR0b24gZXZlbnQgKi8KKwlpZiAoIGtl
dmVudC0+a2V5dmFsID09IEdES19LRVlfTWVudSkgeworCQlHdGtUZXh0TWFyayAqaW1hcmsgPSBn
dGtfdGV4dF9idWZmZXJfZ2V0X2luc2VydChtYXN0ZXItPmJ1ZmZlcik7CisJCUd0a1RleHRJdGVy
IHRtcGl0OworCQlndGtfdGV4dF9idWZmZXJfZ2V0X2l0ZXJfYXRfbWFyayhtYXN0ZXItPmJ1ZmZl
ciwgJnRtcGl0LCBpbWFyayk7CisJCW1haW5fdi0+YmV2ZW50X2RvYyA9IG1hc3Rlci0+ZG9jOwor
CQltYWluX3YtPmJldmVudF9jaGFyb2Zmc2V0ID0gZ3RrX3RleHRfaXRlcl9nZXRfb2Zmc2V0KCZ0
bXBpdCk7CisJfQogCiAJcmV0dmFsID0gR1RLX1dJREdFVF9DTEFTUyhibHVlZmlzaF90ZXh0X3Zp
ZXdfcGFyZW50X2NsYXNzKS0+a2V5X3ByZXNzX2V2ZW50KHdpZGdldCwga2V2ZW50KTsKIAlpZiAo
cmV0dmFsKSB7CkBAIC0yOTk3LDYgKzMwNTcsOSBAQAogewogCUdPYmplY3RDbGFzcyAqb2JqZWN0
X2NsYXNzID0gR19PQkpFQ1RfQ0xBU1Moa2xhc3MpOwogCUd0a1dpZGdldENsYXNzICp3aWRnZXRf
Y2xhc3MgPSBHVEtfV0lER0VUX0NMQVNTKGtsYXNzKTsKKyNpZiBHVEtfQ0hFQ0tfVkVSU0lPTigz
LDIwLDApCisJR3RrVGV4dFZpZXdDbGFzcyAqdGV4dHZpZXdfY2xhc3MgPSBHVEtfVEVYVF9WSUVX
X0NMQVNTKGtsYXNzKTsKKyNlbmRpZgogCiAvKglvYmplY3RfY2xhc3MtPmNvbnN0cnVjdG9yID0g
Ymx1ZWZpc2hfdGV4dF92aWV3X2NyZWF0ZTsqLwogCW9iamVjdF9jbGFzcy0+ZmluYWxpemUgPSBi
bHVlZmlzaF90ZXh0X3ZpZXdfZmluYWxpemU7CkBAIC0zMDA0LDcgKzMwNjcsNyBAQAogCXdpZGdl
dF9jbGFzcy0+YnV0dG9uX3ByZXNzX2V2ZW50ID0gYmx1ZWZpc2hfdGV4dF92aWV3X2J1dHRvbl9w
cmVzc19ldmVudDsKIAl3aWRnZXRfY2xhc3MtPm1vdGlvbl9ub3RpZnlfZXZlbnQgPSBibHVlZmlz
aF90ZXh0X3ZpZXdfbW90aW9uX25vdGlmeV9ldmVudDsKIAl3aWRnZXRfY2xhc3MtPmJ1dHRvbl9y
ZWxlYXNlX2V2ZW50ID0gYmx1ZWZpc2hfdGV4dF92aWV3X2J1dHRvbl9yZWxlYXNlX2V2ZW50Owot
I2lmIEdUS19DSEVDS19WRVJTSU9OKDMsIDAsIDApCisjaWYgR1RLX0NIRUNLX1ZFUlNJT04oMyww
LDApCiAJd2lkZ2V0X2NsYXNzLT5kcmF3ID0gYmx1ZWZpc2hfdGV4dF92aWV3X2RyYXc7CiAjZWxz
ZQogCXdpZGdldF9jbGFzcy0+ZXhwb3NlX2V2ZW50ID0gYmx1ZWZpc2hfdGV4dF92aWV3X2V4cG9z
ZV9ldmVudDsKQEAgLTMwMTMsNiArMzA3NiwxMCBAQAogCXdpZGdldF9jbGFzcy0+a2V5X3JlbGVh
c2VfZXZlbnQgPSBibHVlZmlzaF90ZXh0X3ZpZXdfa2V5X3JlbGVhc2VfZXZlbnQ7CiAJd2lkZ2V0
X2NsYXNzLT5xdWVyeV90b29sdGlwID0gYmx1ZWZpc2hfdGV4dF92aWV3X3F1ZXJ5X3Rvb2x0aXA7
CiAJd2lkZ2V0X2NsYXNzLT5mb2N1c19vdXRfZXZlbnQgPSBibHVlZmlzaF90ZXh0X3ZpZXdfZm9j
dXNfb3V0X2V2ZW50OworCisjaWYgR1RLX0NIRUNLX1ZFUlNJT04oMywyMCwwKQorCXRleHR2aWV3
X2NsYXNzLT5kcmF3X2xheWVyID0gYmx1ZWZpc2hfdGV4dF92aWV3X2RyYXdfbGF5ZXI7CisjZW5k
aWYKIH0KIAogdm9pZAo=
</data>

          </attachment>
      

    </bug>

</bugzilla>
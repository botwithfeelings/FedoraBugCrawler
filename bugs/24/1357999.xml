<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1357999</bug_id>
          
          <creation_ts>2016-07-19 15:23:00 -0400</creation_ts>
          <short_desc>[wayland-copr] firefox surface won&apos;t update until window is moved</short_desc>
          <delta_ts>2017-06-20 06:06:51 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>firefox</component>
          <version>24</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>RAWHIDE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="liam">liam</reporter>
          <assigned_to name="Martin Stransky">stransky</assigned_to>
          <cc>gecko-bugs-nobody</cc>
    
    
    <cc>jhorak</cc>
    
    
    <cc>pjasicek</cc>
    
    
    <cc>stransky</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-06-20 06:06:51</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9528354</commentid>
    <comment_count>0</comment_count>
    <who name="liam">liam</who>
    <bug_when>2016-07-19 15:23:26 -0400</bug_when>
    <thetext>Description of problem:

The firefox built with the wayland patches from the copr https://copr.fedorainfracloud.org/coprs/stransky/firefox-wayland/ exhibits...asynchronous visual response:)
When you first open it the window is blank until you force the compositor to refresh the surface via moving the window at which point the window is displayed properly. Thereafter, the window* doesn&apos;t appear to respond to input but will, upon moving the window, show that the input was received and acted upon properly.

*for some reason, the hamburger menu will respond synchronously, but this doesn&apos;t appear to generalize to the rest of the chrome

Version-Release number of selected component (if applicable):
firefox-47.0-8.wayland.fc24.x86_64

Additional info:
I wonder if this has to do with the panel self-refresh feature that was just enabled with the 4.6 kernel drm for intel haswell+.
I haven&apos;t attemped to test that idea as I&apos;ve already uninstalled the copr firefox but I will if needed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9530860</commentid>
    <comment_count>1</comment_count>
    <who name="Martin Stransky">stransky</who>
    <bug_when>2016-07-20 03:08:08 -0400</bug_when>
    <thetext>That&apos;s because OMTC (off main thread composition) is enabled on your Firefox. You probably have old profile where it&apos;s not disabled. Try to create a new fresh profile for the Wayland firefox.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10522404</commentid>
    <comment_count>2</comment_count>
    <who name="Martin Stransky">stransky</who>
    <bug_when>2017-06-20 06:06:51 -0400</bug_when>
    <thetext>Should be fixed now.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1332103</bug_id>
          
          <creation_ts>2016-05-02 04:45:00 -0400</creation_ts>
          <short_desc>Qt5 applications (quassel-client, qdbusviewer-qt5, lyx) fail to start in Gnome</short_desc>
          <delta_ts>2016-06-18 14:42:19 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>qgnomeplatform</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter>redhat</reporter>
          <assigned_to name="Ngo Than">than</assigned_to>
          <cc>admiller</cc>
    
    
    <cc>jgrulich</cc>
    
    
    <cc>jreznik</cc>
    
    
    <cc>lupinix</cc>
    
    
    <cc>rdieter</cc>
    
    
    <cc>rnovacek</cc>
    
    
    <cc>rosser.bjr</cc>
    
    
    <cc>smparrish</cc>
    
    
    <cc>s</cc>
    
    
    <cc>than</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>qgnomeplatform-0.2-2.20160531git.fc24</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-06-18 14:42:19</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9283722</commentid>
    <comment_count>0</comment_count>
      <attachid>1152883</attachid>
    <who name="">redhat</who>
    <bug_when>2016-05-02 04:45:21 -0400</bug_when>
    <thetext>Created attachment 1152883
Output of quasselclient

Description of problem:
Starting quasselclient does not work

Version-Release number of selected component (if applicable):
quassel-common-0.12.4-1.fc24.noarch
quassel-client-0.12.4-1.fc24.x86_64

How reproducible:
Always.

Steps to Reproduce:
1. Install quassel-client
2. Start it (from DE or shell)

Actual results:
Critical error log output, process does not stop but also does not show a UI

Expected results:
Quassel being started.


Additional info:
Does work on same system/environment with quassel-client-0.12.3-4.fc23.x86_64 package.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9283861</commentid>
    <comment_count>1</comment_count>
    <who name="Christian Dersch">lupinix</who>
    <bug_when>2016-05-02 05:41:35 -0400</bug_when>
    <thetext>Did you try with a clean new configuration? Works fine here (0.12.4 @both F23 and 24), so we need more information.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9283863</commentid>
    <comment_count>2</comment_count>
    <who name="Christian Dersch">lupinix</who>
    <bug_when>2016-05-02 05:43:44 -0400</bug_when>
    <thetext>FYI: @Fedora 24 we moved to Qt5 builds (23 still uses Qt 4). A Qt5 build of 0.12.3 for F24 is available here https://bodhi.fedoraproject.org/updates/FEDORA-2016-fca58b1a33

So if you still get the issue with a new configuration, please try this one. Then we can see it it is Qt5 related or a possible issue with the new version 0.12.4.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9284387</commentid>
    <comment_count>3</comment_count>
    <who name="">redhat</who>
    <bug_when>2016-05-02 07:16:09 -0400</bug_when>
    <thetext>Alright this is not related to quassel itself but qt5, as the same error messages do pop up with the qt5 build of 0.12.3 and another qt5 app I just installed for testing (qdbusviewer-qt5).

The problem occurs in GNOME on Xorg and GNOME on Wayland, but it does not occur on Weston+Xwayland. So I guess this bug should be refiled to some qt5 component?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9284832</commentid>
    <comment_count>4</comment_count>
    <who name="Christian Dersch">lupinix</who>
    <bug_when>2016-05-02 08:49:15 -0400</bug_when>
    <thetext>Changed component to qt5-qtbase as this seems to be a more general issue.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9387093</commentid>
    <comment_count>5</comment_count>
    <who name="">redhat</who>
    <bug_when>2016-06-04 09:15:01 -0400</bug_when>
    <thetext>I was able to trace this down a bit more.

The problem happens when running gnome, qgnomeplatform is installed and adwaita-qt5 is not installed. It does not occur when qgnomeplatform is not installed or both are installed. 

I guess qgnomeplatform package should have a dependency on adwaita-qt5?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9387120</commentid>
    <comment_count>6</comment_count>
    <who name="Rex Dieter">rdieter</who>
    <bug_when>2016-06-04 09:57:51 -0400</bug_when>
    <thetext>I hard dep may not be needed (maybe soft Recommends: adwaita-qt5 ?), but I&apos;m not sure, all I see in qgnoemplatform code wrt styles is:

    QStringList styleNames;
    styleNames &lt;&lt; QStringLiteral(&quot;adwaita&quot;)
               &lt;&lt; QStringLiteral(&quot;gtk+&quot;)
               &lt;&lt; QStringLiteral(&quot;fusion&quot;)
               &lt;&lt; QStringLiteral(&quot;windows&quot;);
    m_hints[QPlatformTheme::StyleNames] = styleNames;

so while it apparently prefers adwaita, I&apos;d expect those others listed could get used if it&apos;s not available.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9387128</commentid>
    <comment_count>7</comment_count>
    <who name="">redhat</who>
    <bug_when>2016-06-04 10:33:08 -0400</bug_when>
    <thetext>Is any of the other styles packaged in Fedora 24 (or planned to be)?
As far as I can tell, we currently have packages for adwaita, cleanlook, motif, plastique, breeze, oxygen and qtcurve.

At least we should somehow ensure that the user is not confronted with applications not being started</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9387134</commentid>
    <comment_count>8</comment_count>
    <who name="Rex Dieter">rdieter</who>
    <bug_when>2016-06-04 10:47:13 -0400</bug_when>
    <thetext>The other styles are built-in (to Qt5), and should always be available</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9389190</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-06-06 04:36:15 -0400</bug_when>
    <thetext>qgnomeplatform-0.2-2.20160531git.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-ba4933dd56</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9389194</commentid>
    <comment_count>10</comment_count>
    <who name="Jan Grulich">jgrulich</who>
    <bug_when>2016-06-06 04:38:12 -0400</bug_when>
    <thetext>I added dependency on adwaita-qt5, but it should still work when adwaita theme is not present, I&apos;ll need to investigate this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9391232</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-06-06 13:57:36 -0400</bug_when>
    <thetext>qgnomeplatform-0.2-2.20160531git.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-ba4933dd56</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9430142</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-06-18 14:42:15 -0400</bug_when>
    <thetext>qgnomeplatform-0.2-2.20160531git.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>1152883</attachid>
            <date>2016-05-02 04:45:00 -0400</date>
            <delta_ts>2016-05-02 04:45:21 -0400</delta_ts>
            <desc>Output of quasselclient</desc>
            <filename>quasselclient.out</filename>
            <type>text/x-emacs-lisp</type>
            <size>1216</size>
            <attacher>redhat</attacher>
            
              <data encoding="base64">CihxdWFzc2VsY2xpZW50OjE4Mjg0KTogR0xpYi1HT2JqZWN0LVdBUk5JTkcgKio6IGNhbm5vdCBy
ZWdpc3RlciBleGlzdGluZyB0eXBlICdHZGtEaXNwbGF5TWFuYWdlcicKCihxdWFzc2VsY2xpZW50
OjE4Mjg0KTogR0xpYi1DUklUSUNBTCAqKjogZ19vbmNlX2luaXRfbGVhdmU6IGFzc2VydGlvbiAn
cmVzdWx0ICE9IDAnIGZhaWxlZAoKKHF1YXNzZWxjbGllbnQ6MTgyODQpOiBHTGliLUdPYmplY3Qt
Q1JJVElDQUwgKio6IGdfb2JqZWN0X25ldzogYXNzZXJ0aW9uICdHX1RZUEVfSVNfT0JKRUNUIChv
YmplY3RfdHlwZSknIGZhaWxlZAoKKHF1YXNzZWxjbGllbnQ6MTgyODQpOiBHTGliLUdPYmplY3Qt
V0FSTklORyAqKjogaW52YWxpZCAoTlVMTCkgcG9pbnRlciBpbnN0YW5jZQoKKHF1YXNzZWxjbGll
bnQ6MTgyODQpOiBHTGliLUdPYmplY3QtQ1JJVElDQUwgKio6IGdfc2lnbmFsX2Nvbm5lY3RfZGF0
YTogYXNzZXJ0aW9uICdHX1RZUEVfQ0hFQ0tfSU5TVEFOQ0UgKGluc3RhbmNlKScgZmFpbGVkCgoo
cXVhc3NlbGNsaWVudDoxODI4NCk6IEdMaWItR09iamVjdC1XQVJOSU5HICoqOiBpbnZhbGlkIChO
VUxMKSBwb2ludGVyIGluc3RhbmNlCgoocXVhc3NlbGNsaWVudDoxODI4NCk6IEdMaWItR09iamVj
dC1DUklUSUNBTCAqKjogZ19zaWduYWxfY29ubmVjdF9kYXRhOiBhc3NlcnRpb24gJ0dfVFlQRV9D
SEVDS19JTlNUQU5DRSAoaW5zdGFuY2UpJyBmYWlsZWQKCihxdWFzc2VsY2xpZW50OjE4Mjg0KTog
R0xpYi1HT2JqZWN0LVdBUk5JTkcgKio6IGNhbm5vdCByZWdpc3RlciBleGlzdGluZyB0eXBlICdH
ZGtEaXNwbGF5JwoKKHF1YXNzZWxjbGllbnQ6MTgyODQpOiBHTGliLUNSSVRJQ0FMICoqOiBnX29u
Y2VfaW5pdF9sZWF2ZTogYXNzZXJ0aW9uICdyZXN1bHQgIT0gMCcgZmFpbGVkCgoocXVhc3NlbGNs
aWVudDoxODI4NCk6IEdMaWItR09iamVjdC1DUklUSUNBTCAqKjogZ190eXBlX3JlZ2lzdGVyX3N0
YXRpYzogYXNzZXJ0aW9uICdwYXJlbnRfdHlwZSA+IDAnIGZhaWxlZAoKKHF1YXNzZWxjbGllbnQ6
MTgyODQpOiBHTGliLUNSSVRJQ0FMICoqOiBnX29uY2VfaW5pdF9sZWF2ZTogYXNzZXJ0aW9uICdy
ZXN1bHQgIT0gMCcgZmFpbGVkCgoocXVhc3NlbGNsaWVudDoxODI4NCk6IEdMaWItR09iamVjdC1D
UklUSUNBTCAqKjogZ19vYmplY3RfbmV3OiBhc3NlcnRpb24gJ0dfVFlQRV9JU19PQkpFQ1QgKG9i
amVjdF90eXBlKScgZmFpbGVkCg==
</data>

          </attachment>
      

    </bug>

</bugzilla>
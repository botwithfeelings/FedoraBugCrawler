<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1367971</bug_id>
          
          <creation_ts>2016-08-17 22:45:00 -0400</creation_ts>
          <short_desc>Review Request:  plasma-applet-weather-widget</short_desc>
          <delta_ts>2016-09-04 13:40:04 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>Package Review</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Gerald Cox">gbcox</reporter>
          <assigned_to name="Jerry James">loganjerry</assigned_to>
          <cc>germano.massullo</cc>
    
    
    <cc>loganjerry</cc>
    
    
    <cc>package-review</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-09-02 16:53:25</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      <flag name="fedora-review"
          id="2769535"
          type_id="65"
          status="+"
          setter="loganjerry"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9624902</commentid>
    <comment_count>0</comment_count>
    <who name="Gerald Cox">gbcox</who>
    <bug_when>2016-08-17 22:45:07 -0400</bug_when>
    <thetext>Fedora Account System Username:  gbcox

Location of source files:
Spec URL: https://gbcox.fedorapeople.org/review/plasma-applet-weather-widget.spec
SRPM URL: https://gbcox.fedorapeople.org/review/plasma-applet-weather-widget-1.6.7-1.fc24.src.rpm

Description:
Plasma 5 weather applet that uses forecast information from yr.no  

GitHub repository:  https://github.com/kotelnik/plasma-applet-weather-widget</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9638597</commentid>
    <comment_count>1</comment_count>
    <who name="Jerry James">loganjerry</who>
    <bug_when>2016-08-22 23:30:35 -0400</bug_when>
    <thetext>I will take this review.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9638622</commentid>
    <comment_count>2</comment_count>
    <who name="Jerry James">loganjerry</who>
    <bug_when>2016-08-22 23:49:55 -0400</bug_when>
    <thetext>Issues
======
1. See the list of unowned directories generated by rpmlint below:
   - /usr/lib64/qt5/qml/org
   - /usr/lib64/qt5/qml/org/kde
   - /usr/lib64/qt5/qml/ord/kde/private
   - /usr/lib64/qt5/qml/org/kde/private/weatherWidget
   - /usr/share/plasma/plasmoids

2. The package contains a font file:
   /usr/share/plasma/plasmoids/org.kde.weatherWidget/contents/fonts/weathericons-regular-webfont-2.0.10.ttf

   See https://fedoraproject.org/wiki/Packaging:Guidelines#Avoid_bundling_of_fonts_in_other_packages
   for how this should be handled.

Package Review
==============

Legend:
[x] = Pass, [!] = Fail, [-] = Not applicable, [?] = Not evaluated

===== MUST items =====

C/C++:
[x]: Package does not contain kernel modules.
[x]: Package contains no static executables.
[x]: Development (unversioned) .so files in -devel subpackage, if present.
[x]: Header files in -devel subpackage, if present.
[x]: Package does not contain any libtool archives (.la)
[x]: Rpath absent or only used for internal libs.

Generic:
[x]: Package is licensed with an open-source compatible license and meets
     other legal requirements as defined in the legal section of Packaging
     Guidelines.
[x]: License field in the package spec file matches the actual license.
[x]: License file installed when any subpackage combination is installed.
[!]: Package requires other packages for directories it uses.
     Note: No known owner of
     /usr/lib64/qt5/qml/org/kde/private/weatherWidget,
     /usr/lib64/qt5/qml/org/kde, /usr/lib64/qt5/qml/org
[!]: Package must own all directories that it creates.
     Note: Directories without known owners: /usr/share/plasma/plasmoids,
     /usr/lib64/qt5/qml/org, /usr/lib64/qt5/qml/org/kde/private,
     /usr/lib64/qt5/qml/org/kde/private/weatherWidget,
     /usr/lib64/qt5/qml/org/kde
[x]: %build honors applicable compiler flags or justifies otherwise.
[x]: Package contains no bundled libraries without FPC exception.
[x]: Changelog in prescribed format.
[x]: Sources contain only permissible code or content.
[-]: Development files must be in a -devel package
[x]: Package uses nothing in %doc for runtime.
[x]: The spec file handles locales properly.
[x]: Package consistently uses macros (instead of hard-coded directory
     names).
[x]: Package is named according to the Package Naming Guidelines.
[x]: Package does not generate any conflict.
[x]: Package obeys FHS, except libexecdir and /usr/target.
[-]: If the package is a rename of another package, proper Obsoletes and
     Provides are present.
[x]: Requires correct, justified where necessary.
[x]: Spec file is legible and written in American English.
[-]: Package contains systemd file(s) if in need.
[x]: Useful -debuginfo package or justification otherwise.
[x]: Package is not known to require an ExcludeArch tag.
[x]: Large documentation must go in a -doc subpackage. Large could be size
     (~1MB) or number of files.
     Note: Documentation size is 10240 bytes in 1 files.
[x]: Package complies to the Packaging Guidelines
[x]: Package successfully compiles and builds into binary rpms on at least
     one supported primary architecture.
[x]: Package installs properly.
[x]: Rpmlint is run on all rpms the build produces.
     Note: There are rpmlint messages (see attachment).
[x]: If (and only if) the source package includes the text of the
     license(s) in its own file, then that file, containing the text of the
     license(s) for the package is included in %license.
[x]: Package does not own files or directories owned by other packages.
[x]: All build dependencies are listed in BuildRequires, except for any
     that are listed in the exceptions section of Packaging Guidelines.
[x]: Package uses either %{buildroot} or $RPM_BUILD_ROOT
[x]: Package does not run rm -rf %{buildroot} (or $RPM_BUILD_ROOT) at the
     beginning of %install.
[x]: Macros in Summary, %description expandable at SRPM build time.
[x]: Package contains desktop file if it is a GUI application.
[x]: Package installs a %{name}.desktop using desktop-file-install or
     desktop-file-validate if there is such a file.
[x]: Dist tag is present.
[x]: Package does not contain duplicates in %files.
[x]: Permissions on files are set properly.
[x]: Package use %makeinstall only when make install DESTDIR=... doesn&apos;t
     work.
[x]: Package is named using only allowed ASCII characters.
[x]: Package does not use a name that already exists.
[x]: Package is not relocatable. 
[x]: Sources used to build the package match the upstream source, as
     provided in the spec URL.
[x]: Spec file name must match the spec package %{name}, in the format
     %{name}.spec.
[x]: File names are valid UTF-8.
[x]: Packages must not store files under /srv, /opt or /usr/local

===== SHOULD items =====

Generic:
[!]: Avoid bundling fonts in non-fonts packages.
     Note: Package contains font files
[-]: If the source package does not include license text(s) as a separate
     file from upstream, the packager SHOULD query upstream to include it.
[x]: Final provides and requires are sane (see attachments).
[x]: Fully versioned dependency in subpackages if applicable.
[?]: Package functions as described. 
[x]: Latest version is packaged. 
[x]: Package does not include license text files separate from upstream.
[x]: Description and summary sections in the package spec file contains
     translations for supported Non-English languages, if available.
[x]: Package should compile and build into binary rpms on all supported
     architectures.
[!]: %check is present and all tests pass.
[x]: Packages should try to preserve timestamps of original installed
     files.
[x]: Reviewer should test that the package builds in mock. 
[x]: Buildroot is not present
[x]: Package has no %clean section with rm -rf %{buildroot} (or
     $RPM_BUILD_ROOT) 
[x]: No file requires outside of /etc, /bin, /sbin, /usr/bin, /usr/sbin.
[x]: Packager, Vendor, PreReq, Copyright tags should not be in spec file
[x]: Uses parallel make %{?_smp_mflags} macro.
[x]: Sources can be downloaded from URI in Source: tag
[x]: SourceX is a working URL.
[x]: Spec use %global instead of %define unless justified.

===== EXTRA items ===== 

Generic:
[x]: Rpmlint is run on debuginfo package(s).
     Note: There are rpmlint messages (see attachment).
[x]: Rpmlint is run on all installed packages.
     Note: There are rpmlint messages (see attachment).
[x]: Large data in /usr/share should live in a noarch subpackage if package
     is arched.
[x]: Spec file according to URL is the same as in SRPM.

     
Rpmlint
-------
Checking: plasma-applet-weather-widget-1.6.7-1.fc26.x86_64.rpm
          plasma-applet-weather-widget-debuginfo-1.6.7-1.fc26.x86_64.rpm
          plasma-applet-weather-widget-1.6.7-1.fc26.src.rpm
plasma-applet-weather-widget-debuginfo.x86_64: E: description-line-too-long C This package provides debug information for package plasma-applet-weather-widget.
3 packages and 0 specfiles checked; 1 errors, 0 warnings.



     
Rpmlint (debuginfo) 
-------------------
Checking: plasma-applet-weather-widget-debuginfo-1.6.7-1.fc26.x86_64.rpm
plasma-applet-weather-widget-debuginfo.x86_64: E: description-line-too-long C This package provides debug information for package plasma-applet-weather-widget.
1 packages and 0 specfiles checked; 1 errors, 0 warnings. 
     




Rpmlint (installed packages)
----------------------------
plasma-applet-weather-widget-debuginfo.x86_64: E: description-line-too-long C This package provides debug information for package plasma-applet-weather-widget.
2 packages and 0 specfiles checked; 1 errors, 0 warnings.



Requires
--------
plasma-applet-weather-widget-debuginfo (rpmlib, GLIBC filtered):

plasma-applet-weather-widget (rpmlib, GLIBC filtered):
    /bin/sh
    libKF5ConfigCore.so.5()(64bit)
    libKF5CoreAddons.so.5()(64bit)
    libKF5Package.so.5()(64bit)
    libKF5Plasma.so.5()(64bit)
    libKF5Service.so.5()(64bit)
    libQt5Core.so.5()(64bit)
    libQt5Core.so.5(Qt_5)(64bit)
    libQt5Core.so.5(Qt_5.7)(64bit)
    libQt5Gui.so.5()(64bit)
    libQt5Network.so.5()(64bit)
    libQt5Qml.so.5()(64bit)
    libQt5Qml.so.5(Qt_5)(64bit)
    libQt5Quick.so.5()(64bit)
    libc.so.6()(64bit)
    libgcc_s.so.1()(64bit)
    libm.so.6()(64bit)
    libstdc++.so.6()(64bit)
    libstdc++.so.6(CXXABI_1.3)(64bit)
    rtld(GNU_HASH)



Provides
--------
plasma-applet-weather-widget-debuginfo:
    plasma-applet-weather-widget-debuginfo
    plasma-applet-weather-widget-debuginfo(x86-64)

plasma-applet-weather-widget:
    appdata()
    appdata(org.kde.weatherWidget.appdata.xml)
    libplasmoidplugin.so()(64bit)
    plasma-applet-weather-widget
    plasma-applet-weather-widget(x86-64)



Unversioned so-files
--------------------
plasma-applet-weather-widget: /usr/lib64/qt5/qml/org/kde/private/weatherWidget/libplasmoidplugin.so

Source checksums
----------------
https://github.com/kotelnik/plasma-applet-weather-widget/archive/v1.6.7.tar.gz#/plasma-applet-weather-widget-1.6.7.tar.gz :
  CHECKSUM(SHA256) this package     : 2f75b96c713ab2be65af6daa860b8df6c8116a7d54055f51a29e4425171237a7
  CHECKSUM(SHA256) upstream package : 2f75b96c713ab2be65af6daa860b8df6c8116a7d54055f51a29e4425171237a7


Generated by fedora-review 0.6.1 (f03e4e7) last change: 2016-05-02
Command line :/usr/bin/fedora-review -b 1367971 -m fedora-rawhide-x86_64
Buildroot used: fedora-rawhide-x86_64
Active plugins: Generic, Shell-api, C/C++
Disabled plugins: Java, Python, fonts, SugarActivity, Ocaml, Perl, Haskell, R, PHP
Disabled flags: EXARCH, DISTTAG, EPEL5, BATCH, EPEL6</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9642074</commentid>
    <comment_count>3</comment_count>
    <who name="Gerald Cox">gbcox</who>
    <bug_when>2016-08-23 15:37:51 -0400</bug_when>
    <thetext>Wow, that was fast... Thanks Jerry!

This is just a quick note to comment on some things before I lost track.
  
1.  Since the Fonts issue is a &quot;should&quot; I&apos;ll deal with that at another time.

2.  The &quot;description too long&quot; error is a known problem reported here:
https://bugzilla.redhat.com/show_bug.cgi?id=768393
I&apos;ve re-opened, but apparently no one in the rpmlint team deems it worthy enough to even comment.
  
3.  I&apos;ve submitted a question on the kde mailing list regarding the directories that were created by other packages that are not owned.  Regarding /usr/share/plasma/plasmoids; that directory is actually owned by two packages:

rpm -qf /usr/share/plasma/plasmoids
plasma-workspace-5.7.3-2.fc24.x86_64
plasma-desktop-5.7.3-1.fc24.x86_64

and appears to be this issue:
https://fedorahosted.org/FedoraReview/ticket/269

It has been tagged as *WONTFIX* &quot;...this is not a false positive, fedora-review just cannot determine the directory owner. That is what the message says, it&apos;s not saying that there is no owner. Basically, it means that a manual check is necessary.&quot;

Regarding the other directories, I can certainly claim ownership to eliminate the error but I&apos;m unsure if that is the correct thing to do.  I&apos;ll wait to hear back from the mailing list for guidance on that.  When I receive, I&apos;ll update this ticket.

I&apos;m also going to remove the icon cache processing... that was an oversight on my part, it isn&apos;t needed.  There are no desktop icons.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9643230</commentid>
    <comment_count>4</comment_count>
    <who name="Gerald Cox">gbcox</who>
    <bug_when>2016-08-23 22:05:23 -0400</bug_when>
    <thetext>OK, I&apos;ve revised the spec and src.rpm:
Location of source files:
Spec URL: https://gbcox.fedorapeople.org/review/plasma-applet-weather-widget.spec
SRPM URL: https://gbcox.fedorapeople.org/review/plasma-applet-weather-widget-1.6.7-2.fc24.src.rpm

Didn&apos;t hear anything back yet on the directory ownership, but as mentioned in the ticket:  https://fedorahosted.org/FedoraReview/ticket/269 - it&apos;s just notifying you that it could not determine the owner - and mentioning that my package must own any files it creates... and I do.  I didn&apos;t create those directories.  I could certainly take ownership and get rid of those messages by adding:

%dir %{_kf5_qmldir}/org/
%dir %{_kf5_qmldir}/org/kde/
%dir %{_kf5_qmldir}/org/kde/private/

but I don&apos;t think that would be appropriate since I did not create those directories.  It will need to be handled by whomever created them.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9643314</commentid>
    <comment_count>5</comment_count>
    <who name="Jerry James">loganjerry</who>
    <bug_when>2016-08-23 22:48:48 -0400</bug_when>
    <thetext>(In reply to Gerald Cox from comment #4)
&gt; Didn&apos;t hear anything back yet on the directory ownership, but as mentioned
&gt; in the ticket:  https://fedorahosted.org/FedoraReview/ticket/269 - it&apos;s just
&gt; notifying you that it could not determine the owner - and mentioning that my
&gt; package must own any files it creates... and I do.  I didn&apos;t create those
&gt; directories.  I could certainly take ownership and get rid of those messages
&gt; by adding:
&gt; 
&gt; %dir %{_kf5_qmldir}/org/
&gt; %dir %{_kf5_qmldir}/org/kde/
&gt; %dir %{_kf5_qmldir}/org/kde/private/
&gt; 
&gt; but I don&apos;t think that would be appropriate since I did not create those
&gt; directories.  It will need to be handled by whomever created them.

Agreed.  I see no further blocking issues, so this package is APPROVED.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9644254</commentid>
    <comment_count>6</comment_count>
    <who name="Gerald Cox">gbcox</who>
    <bug_when>2016-08-23 23:39:57 -0400</bug_when>
    <thetext>Great... thanks much Jerry.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9645395</commentid>
    <comment_count>7</comment_count>
    <who name="Gwyn Ciesla">limburgher</who>
    <bug_when>2016-08-24 07:44:07 -0400</bug_when>
    <thetext>Package request has been approved: https://admin.fedoraproject.org/pkgdb/package/rpms/plasma-applet-weather-widget</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9646579</commentid>
    <comment_count>8</comment_count>
    <who name="Gerald Cox">gbcox</who>
    <bug_when>2016-08-24 13:06:22 -0400</bug_when>
    <thetext>Rex Dieter responded to the email on the KDE Mailing list:

Thanks, I&apos;ve added ownership of these to kf5-kdeclarative and kf5-plasma
packages (rawhide), next kf5 update for stable releases will include the
fixes

-- Rex</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9646712</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-08-24 13:50:30 -0400</bug_when>
    <thetext>plasma-applet-weather-widget-1.6.7-2.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-ca227e0f2d</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9647560</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-08-24 22:11:59 -0400</bug_when>
    <thetext>plasma-applet-weather-widget-1.6.7-4.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-e8809eec46</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9647579</commentid>
    <comment_count>11</comment_count>
    <who name="Gerald Cox">gbcox</who>
    <bug_when>2016-08-24 22:16:49 -0400</bug_when>
    <thetext>plasma-applet-weather-widget-1.6.7.3 was created to addition additional build requirements to assist in F25 build which was failing.  Discovered that F25 build was failing because of missing packages due to F25 alpha freeze.  Created ~1.6.7.4 update to backout changes introduced by ~1.6.7.3</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9648524</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-08-25 06:31:25 -0400</bug_when>
    <thetext>plasma-applet-weather-widget-1.6.7-4.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-e8809eec46</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9661636</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-08-29 22:49:52 -0400</bug_when>
    <thetext>plasma-applet-weather-widget-1.6.7-4.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2016-9adc606b69</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9665712</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-08-30 23:52:24 -0400</bug_when>
    <thetext>plasma-applet-weather-widget-1.6.7-4.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-9adc606b69</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9676220</commentid>
    <comment_count>15</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-09-02 16:53:22 -0400</bug_when>
    <thetext>plasma-applet-weather-widget-1.6.7-4.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9677824</commentid>
    <comment_count>16</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-09-04 13:40:04 -0400</bug_when>
    <thetext>plasma-applet-weather-widget-1.6.7-4.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
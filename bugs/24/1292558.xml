<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1292558</bug_id>
          
          <creation_ts>2015-12-17 14:07:00 -0500</creation_ts>
          <short_desc>gnome-settings-daemon 3.19.3-1 kills gnome-shell login</short_desc>
          <delta_ts>2016-09-22 09:36:56 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>gnome-settings-daemon</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>CURRENTRELEASE</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Valdis Kletnieks">valdis.kletnieks</reporter>
          <assigned_to name="Bastien Nocera">bnocera</assigned_to>
          <cc>bnocera</cc>
    
    
    <cc>bugzilla</cc>
    
    
    <cc>fmuellner</cc>
    
    
    <cc>juliux.pigface</cc>
    
    
    <cc>klember</cc>
    
    
    <cc>mkasik</cc>
    
    
    <cc>ofourdan</cc>
    
    
    <cc>oholy</cc>
    
    
    <cc>rstrode</cc>
    
    
    <cc>tiagomatos</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-09-22 09:36:56</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>8927501</commentid>
    <comment_count>0</comment_count>
    <who name="Valdis Kletnieks">valdis.kletnieks</who>
    <bug_when>2015-12-17 14:07:17 -0500</bug_when>
    <thetext>Description of problem:
With gnome-settings-daemon-3.19.3-1.fc24.x86_64 installed, the gdm login screen never shows up, instead gnome-shell dies with this in dmesg:

[ 2090.490726] traps: gnome-shell[6768] trap int3 ip:7f18a0986a8b sp:7ffd066f2d90 error:0
[ 2093.893838] traps: gnome-shell[6880] trap int3 ip:7fb6f31e8a8b sp:7ffdd3037970 error:0
[ 2096.864005] traps: gnome-shell[6946] trap int3 ip:7f7f5da6aa8b sp:7ffda0d28bf0 error:0
[ 2099.783053] traps: gnome-shell[7012] trap int3 ip:7f057fa69a8b sp:7fff7856e260 error:0
[ 2102.753312] traps: gnome-shell[7078] trap int3 ip:7f4684310a8b sp:7ffe4d181750 error:0
[ 2106.284095] traps: gnome-shell[7191] trap int3 ip:7f65affb6a8b sp:7ffdbc32dd30 error:0

Unfortunately, ASLR means only the &apos;a8b&apos; i the ip: has any persistent meaning.

Re-installing 3.18.2-1 made gnome-shell happy again.

Sorry, didn&apos;t get a core file of it.  Can probably do so if needed to debug this.


Version-Release number of selected component (if applicable):
gnome-settings-daemon-3.19.3-1.fc24.x86_64

How reproducible:


Steps to Reproduce:
1.
2.
3.

Actual results:


Expected results:


Additional info:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8929940</commentid>
    <comment_count>1</comment_count>
    <who name="Florian Müllner">fmuellner</who>
    <bug_when>2015-12-18 10:10:12 -0500</bug_when>
    <thetext>Probably not gnome-settings-daemon, but gsettings-desktop-schemas that changed a settings key in 3.19.3. gnome-shell 3.19.2 still uses the old settings key, which is a fatal error (unfortunately gnome-shell 3.19.3 was delayed due to an outstanding release of one of its dependencies, so it wasn&apos;t updated with gsettings-desktop-schemas/control-center).
The builds should be in the next rawhide compose</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8930152</commentid>
    <comment_count>2</comment_count>
    <who name="Valdis Kletnieks">valdis.kletnieks</who>
    <bug_when>2015-12-18 11:18:39 -0500</bug_when>
    <thetext>&quot;D&apos;Oh!&quot; -- H. Simpson :)

Yeah, I had to roll gsettings-desktop-schemas and 4 other RPMs back to go back to the previous gnome-settings-daemon, and picked the wrong 1 out of 6. :)

Will report back once all the builds are updated, hopefully with a &quot;yes it&apos;s fixed&quot;....</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8930737</commentid>
    <comment_count>3</comment_count>
    <who name="Florian Müllner">fmuellner</who>
    <bug_when>2015-12-18 14:33:02 -0500</bug_when>
    <thetext>(In reply to Valdis Kletnieks from comment #2)
&gt; Will report back once all the builds are updated

If you don&apos;t want to wait, you can grab the latest rawhide builds for clutter, mutter and gnome-shell from koji.fedoraproject.org (and re-update the downgraded packages of course)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8931346</commentid>
    <comment_count>4</comment_count>
    <who name="Florian Müllner">fmuellner</who>
    <bug_when>2015-12-18 20:51:54 -0500</bug_when>
    <thetext>*** Bug 1292014 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9092734</commentid>
    <comment_count>5</comment_count>
    <who name="Jan Kurik">jkurik</who>
    <bug_when>2016-02-24 09:09:19 -0500</bug_when>
    <thetext>This bug appears to have been reported against &apos;rawhide&apos; during the Fedora 24 development cycle.
Changing version to &apos;24&apos;.

More information and reason for this action is here:
https://fedoraproject.org/wiki/Fedora_Program_Management/HouseKeeping/Fedora24#Rawhide_Rebase</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9734247</commentid>
    <comment_count>6</comment_count>
    <who name="Bastien Nocera">bnocera</who>
    <bug_when>2016-09-22 09:36:56 -0400</bug_when>
    <thetext>This was fixed before F24 got released.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
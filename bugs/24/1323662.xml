<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1323662</bug_id>
          
          <creation_ts>2016-04-04 07:34:00 -0400</creation_ts>
          <short_desc>Authen::Krb5 uses internal and no longer existing krb5 functions</short_desc>
          <delta_ts>2016-12-06 05:26:05 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>perl-Authen-Krb5</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          <see_also>https://bugzilla.redhat.com/show_bug.cgi?id=1292177</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Petr Šabata">psabata</reporter>
          <assigned_to name="Petr Pisar">ppisar</assigned_to>
          <cc>perl-devel</cc>
    
    
    <cc>ppisar</cc>
    
    
    <cc>simon</cc>
    
    
    <cc>toby</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>perl-Authen-Krb5-1.9-18.fc26 perl-Authen-Krb5-1.9-18.fc25 perl-Authen-Krb5-1.9-16.fc23 perl-Authen-Krb5-1.9-17.fc24</cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-12-05 16:42:34</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          <external_bugs name="CPAN">116071</external_bugs>
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9204083</commentid>
    <comment_count>0</comment_count>
    <who name="Petr Šabata">psabata</who>
    <bug_when>2016-04-04 07:34:47 -0400</bug_when>
    <thetext>Reproducer:
$ PERL_DL_NONLAZY=1 perl -e &apos;use Authen::Krb5&apos;
Can&apos;t load &apos;/usr/lib64/perl5/vendor_perl/auto/Authen/Krb5/Krb5.so&apos; for module Authen::Krb5: /usr/lib64/perl5/vendor_perl/auto/Authen/Krb5/Krb5.so: undefined symbol: krb5_free_krbhst at /usr/lib64/perl5/DynaLoader.pm line 193.
 at -e line 1.
Compilation failed in require at -e line 1.
BEGIN failed--compilation aborted at -e line 1.

Package version:
perl-Authen-Krb5-1.9-15.fc23.x86_64

See bug #1292177 for more information.

According to upstream&apos;s comments in Krb5.xs, these functions were meant to be removed &quot;in the future&quot;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9204090</commentid>
    <comment_count>1</comment_count>
      <attachid>1143310</attachid>
    <who name="Petr Šabata">psabata</who>
    <bug_when>2016-04-04 07:38:25 -0400</bug_when>
    <thetext>Created attachment 1143310
A simple patch removing the private functions

Seems to resolve the issue but might break other stuff; it&apos;d be nice if someone familiar with the module could test this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9344065</commentid>
    <comment_count>2</comment_count>
    <who name="Toby Blake">toby</who>
    <bug_when>2016-05-20 06:13:10 -0400</bug_when>
    <thetext>Hi there,

Just to confirm that this hasn&apos;t broken anything for us.

It looks like these private functions were removed in krb5-1.12, from krb5&apos;s doc/CHANGES:

commit 81fde7e475b02986c1aff88766cc48882004d5dc
Author: Greg Hudson &lt;ghudson@mit.edu&gt;
Date:   Fri Mar 22 16:00:48 2013 -0400

    Get rid of krb5_{get,free}_krbhst
    
    These functions were always internal.  They haven&apos;t been used since
    v5passwdd was eliminated in krb5 1.4.

This suggests it should probably be safe.

Cheers
Toby</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9927138</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora End Of Life">jkurik</who>
    <bug_when>2016-11-25 02:14:51 -0500</bug_when>
    <thetext>This message is a reminder that Fedora 23 is nearing its end of life.
Approximately 4 (four) weeks from now Fedora will stop maintaining
and issuing updates for Fedora 23. It is Fedora&apos;s policy to close all
bug reports from releases that are no longer maintained. At that time
this bug will be closed as EOL if it remains open with a Fedora  &apos;version&apos;
of &apos;23&apos;.

Package Maintainer: If you wish for this bug to remain open because you
plan to fix it in a currently maintained version, simply change the &apos;version&apos; 
to a later Fedora version.

Thank you for reporting this issue and we are sorry that we were not 
able to fix it before Fedora 23 is end of life. If you would still like 
to see this bug fixed and are able to reproduce it against a later version 
of Fedora, you are encouraged  change the &apos;version&apos; to a later Fedora 
version prior this bug is closed as described in the policy above.

Although we aim to fix as many bugs as possible during every release&apos;s 
lifetime, sometimes those efforts are overtaken by events. Often a 
more recent Fedora release includes newer upstream software that fixes 
bugs or makes them obsolete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9929201</commentid>
    <comment_count>4</comment_count>
    <who name="Petr Pisar">ppisar</who>
    <bug_when>2016-11-25 04:45:32 -0500</bug_when>
    <thetext>I applied the patch as it does not make sense to refer non-existing symbols.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9929213</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-25 04:50:38 -0500</bug_when>
    <thetext>perl-Authen-Krb5-1.9-18.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2016-c9442c30c4</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9929216</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-25 04:52:08 -0500</bug_when>
    <thetext>perl-Authen-Krb5-1.9-17.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-5e55dd2115</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9929217</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-25 04:52:32 -0500</bug_when>
    <thetext>perl-Authen-Krb5-1.9-16.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-e06d05d776</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9932327</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-27 12:26:40 -0500</bug_when>
    <thetext>perl-Authen-Krb5-1.9-16.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-e06d05d776</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9932569</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-27 17:58:53 -0500</bug_when>
    <thetext>perl-Authen-Krb5-1.9-18.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-c9442c30c4</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9932806</commentid>
    <comment_count>10</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-11-27 20:56:01 -0500</bug_when>
    <thetext>perl-Authen-Krb5-1.9-17.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-5e55dd2115</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9957666</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-05 16:42:34 -0500</bug_when>
    <thetext>perl-Authen-Krb5-1.9-18.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9958267</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-05 21:21:36 -0500</bug_when>
    <thetext>perl-Authen-Krb5-1.9-16.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9959379</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-12-06 05:26:05 -0500</bug_when>
    <thetext>perl-Authen-Krb5-1.9-17.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1143310</attachid>
            <date>2016-04-04 07:38:00 -0400</date>
            <delta_ts>2016-04-04 07:38:25 -0400</delta_ts>
            <desc>A simple patch removing the private functions</desc>
            <filename>nopriv.patch</filename>
            <type>text/plain</type>
            <size>1656</size>
            <attacher name="Petr Šabata">psabata</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL0tyYjUueHMgYi9LcmI1LnhzCmluZGV4IDQ3ODQyMmUuLjI1OTFiODMgMTAw
NjQ0Ci0tLSBhL0tyYjUueHMKKysrIGIvS3JiNS54cwpAQCAtNSw4ICs1LDYgQEAgZXh0ZXJuICJD
IiB7CiAjaW5jbHVkZSAicGVybC5oIgogI2luY2x1ZGUgIlhTVUIuaCIKIAotLyogV2UgY3VycmVu
dGx5IHByb3ZpZGUgc29tZSBwcml2YXRlIGZ1bmN0aW9ucyBhbmQgcHJvYmFibHkgc2hvdWxkbid0
LiAqLwotI2RlZmluZSBLUkI1X1BSSVZBVEUgMQogI2luY2x1ZGUgPGtyYjUuaD4KIAogLyogUmVj
ZW50IHZlcnNpb25zIG9mIEtlcmJlcm9zIGluY2x1ZGUgY29tX2VyciBvbiB0aGVpciBvd24uICBV
bmNvbW1lbnQgaWYgeW91CkBAIC00NiwxNCArNDQsNiBAQCBzdGF0aWMga3JiNV9lcnJvcl9jb2Rl
IGVycjsKIHN0YXRpYyBrcmI1X2tleXRhYl9lbnRyeSBrZXl0YWJfZW50cnlfaW5pdDsKIAogLyoK
LSAqIFRoZXNlIGFyZSBpbnRlcm5hbCBLZXJiZXJvcyBsaWJyYXJ5IGZ1bmN0aW9ucyB0aGF0IGFy
ZW4ndCBwcm90b3R5cGVkIGFuZAotICogdGhhdCB3ZSBwcm9iYWJseSBzaG91bGRuJ3QgYmUgY2Fs
bGluZy4gIFByb3RvdHlwZSB0aGVtIHdpdGggdGhlIGFyZ3VtZW50cwotICogd2UgZXhwZWN0IGFu
ZCBsZWF2ZSB0aGVtIGZvciBub3cgcGVuZGluZyBhbiBBUEkgY2xlYW51cC4KLSAqLwota3JiNV9l
cnJvcl9jb2RlIGtyYjVfZnJlZV9rcmJoc3Qoa3JiNV9jb250ZXh0LCBjaGFyICogY29uc3QgKik7
Ci1rcmI1X2Vycm9yX2NvZGUga3JiNV9nZXRfa3JiaHN0KGtyYjVfY29udGV4dCwgY29uc3Qga3Ji
NV9kYXRhICosIGNoYXIgKioqKTsKLQotLyoKICAqIFRoZSBmb2xsb3dpbmcgdGhyZWUgcm91dGlu
ZXMgaW1wbGVtZW50IGEgInNhZmVob3VzZSIgZm9yIG5lc3RlZCBLZXJiZXJvcwogICogZGF0YSBz
dHJ1Y3R1cmVzIHdoaWNoIHNob3VsZG4ndCBiZSBmcmVlZCBiZWZvcmUgdGhlaXIgcGFyZW50IGRh
dGEKICAqIHN0cnVjdHVyZXMgYXJlIGZyZWVkLiAgV2l0aG91dCB0aGlzLCAiQmFkIGZyZWUoKSBp
Z25vcmVkIiBlcnJvcnMgYXMgd2VsbApAQCAtMTc2LDI2ICsxNjYsNiBAQCBrcmI1X2dldF9ob3N0
X3JlYWxtKGhvc3QpCiAJfQogCWtyYjVfZnJlZV9ob3N0X3JlYWxtKGNvbnRleHQscmVhbG1saXN0
KTsKIAotdm9pZAota3JiNV9nZXRfa3JiaHN0KHJlYWxtKQotCWNoYXIgKnJlYWxtCi0KLQlQUkVJ
TklUOgotCWtyYjVfZGF0YSByZWFsbV9kYXRhOwotCWNoYXIgKipob3N0bGlzdDsKLQlpbnQgaTsK
LQotCVBQQ09ERToKLQlyZWFsbV9kYXRhLmRhdGEgPSByZWFsbTsKLQlyZWFsbV9kYXRhLmxlbmd0
aCA9IHN0cmxlbihyZWFsbSk7Ci0JZXJyID0ga3JiNV9nZXRfa3JiaHN0KGNvbnRleHQsJnJlYWxt
X2RhdGEsJmhvc3RsaXN0KTsKLQlpZiAoZXJyIHx8ICFob3N0bGlzdCkgWFNSRVRVUk5fVU5ERUY7
Ci0JZm9yIChpID0gMDsgaG9zdGxpc3RbaV07IGkrKykgewotCQlYUFVTSHMoc3ZfMm1vcnRhbChu
ZXdTVnB2KGhvc3RsaXN0W2ldLAotCQkJc3RybGVuKGhvc3RsaXN0W2ldKSkpKTsKLQl9Ci0Ja3Ji
NV9mcmVlX2tyYmhzdChjb250ZXh0LGhvc3RsaXN0KTsKLQogQXV0aGVuOjpLcmI1OjpQcmluY2lw
YWwKIGtyYjVfYnVpbGRfcHJpbmNpcGFsX2V4dChwKQogCUF1dGhlbjo6S3JiNTo6UHJpbmNpcGFs
IHAK
</data>

          </attachment>
      

    </bug>

</bugzilla>
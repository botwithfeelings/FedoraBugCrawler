<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1395714</bug_id>
          
          <creation_ts>2016-11-16 08:51:00 -0500</creation_ts>
          <short_desc>perl-Net-Server should depend on perl-IO-Socket-INET6</short_desc>
          <delta_ts>2017-02-16 18:20:13 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>perl-Net-Server</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          <see_also>https://bugzilla.redhat.com/show_bug.cgi?id=1331825</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dominik &apos;Rathann&apos; Mierzejewski">dominik</reporter>
          <assigned_to name="d. johnson">drjohnson1</assigned_to>
          <cc>drjohnson1</cc>
    
    
    <cc>ingvar</cc>
    
    
    <cc>jvanek</cc>
    
    
    <cc>perl-devel</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>perl-Net-Server-2.008-6.fc24</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-02-16 18:20:13</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9896817</commentid>
    <comment_count>0</comment_count>
    <who name="Dominik &apos;Rathann&apos; Mierzejewski">dominik</who>
    <bug_when>2016-11-16 08:51:47 -0500</bug_when>
    <thetext>Description of problem:
munin-node fails to listen on IPv6 address if perl-IO-Socket-INET6 is not installed.

Version-Release number of selected component (if applicable):
munin-node-2.0.26-1.fc24.noarch

How reproducible:
Always.

Steps to Reproduce:
1. configure munin-node to listen on IPv6 (e.g. host * on a dual-stack machine)
2. dnf remove perl-IO-Socket-INET6
3. systemctl start

Actual results:
# netstat -tlnp |grep :4949
tcp      0      0 0.0.0.0:4949      0.0.0.0:*         LISTEN    5146/perl

Expected results:
# netstat -tlnp |grep :4949
tcp6     0      0 :::4949           :::*              LISTEN    3946/perl

Additional info:
Looks like this has been a known issue for at least 4 years:
https://www.jethrocarr.com/2012/11/11/munin-2-0-x-on-el-56-with-ipv6/

I&apos;m not sure if the dependency should be added to munin(-node) or somewhere further in the dependency tree (perl-Net-Server perhaps?), but this is where I encountered the issue, so this is where I&apos;m reporting it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9896820</commentid>
    <comment_count>1</comment_count>
    <who name="Dominik &apos;Rathann&apos; Mierzejewski">dominik</who>
    <bug_when>2016-11-16 08:52:29 -0500</bug_when>
    <thetext>Correction:

Steps to Reproduce:
[...]
3. systemctl start munin-node.service</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9896836</commentid>
    <comment_count>2</comment_count>
    <who name="Dominik &apos;Rathann&apos; Mierzejewski">dominik</who>
    <bug_when>2016-11-16 08:58:35 -0500</bug_when>
    <thetext>Same thing was filed against perl-Net-Server in EPEL already, so reassigning to perl-Net-Server. Sorry for the noise.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9896864</commentid>
    <comment_count>3</comment_count>
    <who name="Dominik &apos;Rathann&apos; Mierzejewski">dominik</who>
    <bug_when>2016-11-16 09:07:32 -0500</bug_when>
    <thetext>Please add Requires: perl-IO-Socket-INET6 . IPv6 support by default is required by the packaging guidelines:

https://fedoraproject.org/wiki/Packaging:Guidelines#Networking_Support

If an application contains native and stable support for both IPv4 and IPv6, and support for IPv6 does not negatively affect IPv4 then both MUST be enabled in the Fedora package.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10108095</commentid>
    <comment_count>4</comment_count>
    <who name="Dominik &apos;Rathann&apos; Mierzejewski">dominik</who>
    <bug_when>2017-01-31 04:07:19 -0500</bug_when>
    <thetext>If there&apos;s no reply within a week, I will fix this myself (as provenpackager) and initiate https://fedoraproject.org/wiki/Policy_for_nonresponsive_package_maintainers . This is the first contact attempt.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10118048</commentid>
    <comment_count>5</comment_count>
    <who name="d. johnson">drjohnson1</who>
    <bug_when>2017-02-03 00:36:16 -0500</bug_when>
    <thetext>It is already there?

commit db820ebff9915413600e60278115c7868fecde97
Date:   Thu Nov 17 22:50:01 2016 -0600

    Bug 1395714 - perl-Net-Server should depend on perl-IO-Socket-INET6


What version of the package do you have?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10121707</commentid>
    <comment_count>6</comment_count>
    <who name="Dominik &apos;Rathann&apos; Mierzejewski">dominik</who>
    <bug_when>2017-02-05 06:31:43 -0500</bug_when>
    <thetext>Thanks for the reply.

I have
# rpm -q perl-Net-Server
perl-Net-Server-2.008-4.fc24.noarch

According to koji, there have been no builds of perl-Net-Server for F24 for a year. I can see it&apos;s fixed in rawhide, but this bug is open against F24.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10122480</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-05 23:50:43 -0500</bug_when>
    <thetext>perl-Net-Server-2.008-6.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-be111c323f</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10126919</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-07 05:50:07 -0500</bug_when>
    <thetext>perl-Net-Server-2.008-6.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-be111c323f</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10155091</commentid>
    <comment_count>9</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-16 18:20:13 -0500</bug_when>
    <thetext>perl-Net-Server-2.008-6.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
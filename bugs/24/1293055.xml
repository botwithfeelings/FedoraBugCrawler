<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1293055</bug_id>
          
          <creation_ts>2015-12-19 12:55:00 -0500</creation_ts>
          <short_desc>Black screen after logout from LXQt</short_desc>
          <delta_ts>2016-03-18 11:19:24 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>sddm</component>
          <version>24</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          <see_also>https://bugzilla.redhat.com/show_bug.cgi?id=1317618</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>high</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1202425</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Raphael Groner">projects.rg</reporter>
          <assigned_to name="Martin Bříza">mbriza</assigned_to>
          <cc>helio</cc>
    
    
    <cc>jgrulich</cc>
    
    
    <cc>kparal</cc>
    
    
    <cc>ltinkl</cc>
    
    
    <cc>mbriza</cc>
    
    
    <cc>me</cc>
    
    
    <cc>pierluigi.fiorini</cc>
    
    
    <cc>projects.rg</cc>
    
    
    <cc>pschindl</cc>
    
    
    <cc>rdieter</cc>
    
    
    <cc>robatino</cc>
    
    
    <cc>sgallagh</cc>
    
    
    <cc>ti.eugene</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in></cf_fixed_in>
          <cf_doc_type>Bug Fix</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-03-18 11:19:24</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>8931796</commentid>
    <comment_count>0</comment_count>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2015-12-19 12:55:14 -0500</bug_when>
    <thetext>Description of problem:
AFter logged out from LXQt Panel, I get a black screen with an alone mouse pointer. Workaround is to reboot or at least restart sddm.

Version-Release number of selected component (if applicable):
lxqt-panel-.10.0-1.fc23.x86_64       
lxqt-session-0.10.0-1.fc23.x86_64       
sddm-0.13.0-4.fc23.x86_64

How reproducible:
yes

Steps to Reproduce:
1. login to lxqt session
2. logout
3.

Actual results:
black screen

Expected results:
display manager should be shown with possibility to do another login

Additional info:
not sure what component to blame for sure. Maybe lxqt-session or sddm just crashes?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8963339</commentid>
    <comment_count>1</comment_count>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2016-01-07 17:42:19 -0500</bug_when>
    <thetext>This is also reproducible when logout from a plasma5 session, using sddm here too. Now it&apos;s sddm to blame.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8965919</commentid>
    <comment_count>2</comment_count>
    <who name="Pier Luigi Fiorini">pierluigi.fiorini</who>
    <bug_when>2016-01-08 12:55:25 -0500</bug_when>
    <thetext>Any relevant sddm log on the journal or any coredump from coredumpctl?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>8965933</commentid>
    <comment_count>3</comment_count>
    <who name="Rex Dieter">rdieter</who>
    <bug_when>2016-01-08 13:03:10 -0500</bug_when>
    <thetext>I&apos;ve never seen sddm get stuck, but session end does sometimes take longer than expected (sometimes up to a minute or 2)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9103035</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Blocker Bugs Application">blockerbugs</who>
    <bug_when>2016-02-27 14:11:56 -0500</bug_when>
    <thetext>Proposed as a Blocker for 24-beta by Fedora user raphgro using the blocker tracking app because:

 After logged out from LXQt Panel, I get a black screen with an alone mouse pointer. Workaround is to reboot or at least restart sddm.

This is also reproducible when logout from a plasma5 session, using sddm here too. Now it&apos;s sddm to blame.

 Rex Dieter 2016-01-08 19:03:10 CET
I&apos;ve never seen sddm get stuck, but session end does sometimes take longer than expected (sometimes up to a minute or 2)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9106251</commentid>
    <comment_count>5</comment_count>
    <who name="Stephen Gallagher">sgallagh</who>
    <bug_when>2016-02-29 10:55:32 -0500</bug_when>
    <thetext>Just for the record, the appropriate criterion is: &quot;Shutting down, logging out and rebooting must work using standard console commands and the mechanisms offered (if any) by all release-blocking desktops.&quot;

SDDM is installed by default on the KDE Live Image (which is blocking), so by that logic I&apos;d say +1 blocker.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9106296</commentid>
    <comment_count>6</comment_count>
    <who name="Pier Luigi Fiorini">pierluigi.fiorini</who>
    <bug_when>2016-02-29 11:04:03 -0500</bug_when>
    <thetext>An indication of system information when this black screen with a mouse cursor appears are welcome such as:

- what processes are running (output of ps auxw)
- logind sessions (loginctl list-sessions)
- session information for each session (loginctl show-session XX, loginctl session-status XX where XX is the session id)
- sddm log from journal
- ~/.xsession-errors</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9106304</commentid>
    <comment_count>7</comment_count>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2016-02-29 11:05:34 -0500</bug_when>
    <thetext>(In reply to Stephen Gallagher from comment #5)
…
&gt; SDDM is installed by default on the KDE Live Image (which is blocking), so
&gt; by that logic I&apos;d say +1 blocker.

Right. Sorry about not being that clear.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9106798</commentid>
    <comment_count>8</comment_count>
    <who name="Petr Schindler">pschindl</who>
    <bug_when>2016-02-29 13:46:07 -0500</bug_when>
    <thetext>Discussed at 2016-02-29 blocker review meeting: [1]. 

It was decided to delay the decision: This bug seems to be a blocker, but we want to have a few more people test with Plasma to be more sure of the breadth of impact before we vote on it

[1] http://meetbot.fedoraproject.org/fedora-blocker-review/2016-02-29/f24-blocker-review.2016-02-29-17.00.html</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9126636</commentid>
    <comment_count>9</comment_count>
    <who name="Kamil Páral">kparal</who>
    <bug_when>2016-03-07 13:07:43 -0500</bug_when>
    <thetext>Discussed at today&apos;s blocker review meeting [1]. We decided to punt (delay decision) - we still don&apos;t have sufficient info to make a decision here. we will make a decision next week; if there is not sufficient indication by that time that this issue clearly affects a clean F24 KDE install, it will likely be rejected as a blocker

[1] https://meetbot-raw.fedoraproject.org/fedora-blocker-review/2016-03-07/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9126714</commentid>
    <comment_count>10</comment_count>
    <who name="Rex Dieter">rdieter</who>
    <bug_when>2016-03-07 13:53:44 -0500</bug_when>
    <thetext>In plasma, may be related to

http://bugs.kde.org/359611

and

https://codereview.qt-project.org/gitweb?p=qt%2Fqtbase.git;a=commit;h=8cec5af40a2112b08bbc60e3163037c05ea1e1f4
which reportedly fixes,

https://bugreports.qt.io/browse/QTBUG-49870</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9126715</commentid>
    <comment_count>11</comment_count>
    <who name="Rex Dieter">rdieter</who>
    <bug_when>2016-03-07 13:54:58 -0500</bug_when>
    <thetext>fyi, plasma-workspace-5.5.5-3 builds include a back-ported fix for the possible dbus deadlock</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9127222</commentid>
    <comment_count>12</comment_count>
    <who name="Pier Luigi Fiorini">pierluigi.fiorini</who>
    <bug_when>2016-03-07 18:48:37 -0500</bug_when>
    <thetext>Just installed Fedora 24 with KDE on virt-manager.
I can reproduce the issue, Plasma logout doesn&apos;t lead back to the SDDM greeter.
However loginctl show-session 1 shows that the session is of class user rather than greeter, and Desktop=KDE.

ps auxwww shows a number of Plasma process like kwin_x11, krunner, xsettings-kde, plasmashell --shut-up etc...

I think that Plasma is to blame.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9127225</commentid>
    <comment_count>13</comment_count>
    <who name="Pier Luigi Fiorini">pierluigi.fiorini</who>
    <bug_when>2016-03-07 18:51:19 -0500</bug_when>
    <thetext>loginctl session-status 1 shows sddm-helper (the process that starts the session) and all the Plasma processes.

The Plasma processes are not clearly killed on logout.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9128021</commentid>
    <comment_count>14</comment_count>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2016-03-08 03:24:58 -0500</bug_when>
    <thetext>(In reply to Pier Luigi Fiorini from comment #12)
…
&gt; I think that Plasma is to blame.

Please be aware that I originally tested with LXQt and it runs lxqt-session. There&apos;s no Plasma but LXQt is based on Qt5 as well and the user login happens via SDDM.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9128131</commentid>
    <comment_count>15</comment_count>
    <who name="Pier Luigi Fiorini">pierluigi.fiorini</who>
    <bug_when>2016-03-08 04:09:32 -0500</bug_when>
    <thetext>Could you please check what&apos;s running when this happens?
Without session information is impossible to understand what&apos;s going on.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9128139</commentid>
    <comment_count>16</comment_count>
    <who name="Raphael Groner">projects.rg</who>
    <bug_when>2016-03-08 04:11:58 -0500</bug_when>
    <thetext>(In reply to Pier Luigi Fiorini from comment #15)
&gt; Could you please check what&apos;s running when this happens?
&gt; Without session information is impossible to understand what&apos;s going on.

I checked, there&apos;s no lxqt* related process running when the screen went black after user&apos;s clicked and confirmed to logout.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9130207</commentid>
    <comment_count>17</comment_count>
    <who name="Pier Luigi Fiorini">pierluigi.fiorini</who>
    <bug_when>2016-03-08 14:54:47 -0500</bug_when>
    <thetext>Can&apos;t reproduce with LXQt.

* LXQt is now installed on the F24 virtual machine that was created yesterday with:

dnf install @lxqt

* Restarted SDDM to have the sessions list updated.
* Logged in on LXQt for the first time
* Logout
* SDDM greeter shows up after a couple of seconds</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9143808</commentid>
    <comment_count>18</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-03-12 17:44:11 -0500</bug_when>
    <thetext>plasma-workspace-5.5.5-4.fc24 qt5-qtbase-5.6.0-0.41.rc.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-13bc6572ac</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9146997</commentid>
    <comment_count>19</comment_count>
    <who name="Kamil Páral">kparal</who>
    <bug_when>2016-03-14 13:01:07 -0400</bug_when>
    <thetext>Discussed at today&apos;s blocker review meeting [1]. Decided to split from this bug - the new bug is bug 1317618 and is AcceptedBlocker (Alpha) - per comment 12 it appears there is a bug preventing log out in a clean F24 KDE install from working, that bug is accepted as a blocker. We agree that a new report will be filed to separate the KDE case from the lxqt case and the new KDE bug will be the blocker.

This existing bug is kept for dealing with LXQt issue.

[1] https://meetbot-raw.fedoraproject.org/fedora-blocker-review/2016-03-14/

Please note that the update from comment 18 needs to be adjusted to mark fixing bug 1317618, thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9150402</commentid>
    <comment_count>20</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-03-15 14:49:59 -0400</bug_when>
    <thetext>plasma-workspace-5.5.5-4.fc24, qt5-qtbase-5.6.0-0.41.rc.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-13bc6572ac</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9159988</commentid>
    <comment_count>21</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-03-18 11:19:20 -0400</bug_when>
    <thetext>plasma-workspace-5.5.5-4.fc24, qt5-qtbase-5.6.0-0.41.rc.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1346309</bug_id>
          
          <creation_ts>2016-06-14 09:51:00 -0400</creation_ts>
          <short_desc>undefined symbol when starting mongodb</short_desc>
          <delta_ts>2016-06-18 14:57:46 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>mongodb</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Michael Bayer">mbayer</reporter>
          <assigned_to name="Marek Skalický">mskalick</assigned_to>
          <cc>admiller</cc>
    
    
    <cc>jdornak</cc>
    
    
    <cc>johan.o.hedin</cc>
    
    
    <cc>jpacner</cc>
    
    
    <cc>mskalick</cc>
    
    
    <cc>npmccallum</cc>
    
    
    <cc>strobert</cc>
    
    
    <cc>tdawson</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>mongodb-3.2.6-4.fc24</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2016-06-18 14:57:46</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>9414143</commentid>
    <comment_count>0</comment_count>
    <who name="Michael Bayer">mbayer</who>
    <bug_when>2016-06-14 09:51:07 -0400</bug_when>
    <thetext>Description of problem:

a fresh install of mongodb on F24 refuses to run due to symbol error


Version-Release number of selected component (if applicable):


How reproducible:

always

Steps to Reproduce:
1. yum install mongodb mongodb-server
2. mongod
3.

Actual results:

[root@photon2 classic]# yum install mongodb mongodb-server
Yum command has been deprecated, redirecting to &apos;/usr/bin/dnf install mongodb mongodb-server&apos;.
See &apos;man dnf&apos; and &apos;man yum2dnf&apos; for more information.
To transfer transaction metadata from yum to DNF, run:
&apos;dnf install python-dnf-plugins-extras-migrate &amp;&amp; dnf-2 migrate&apos;

Failed to synchronize cache for repo &apos;rcm-tools-fedora-rpms&apos;, disabling.
Last metadata expiration check: 1:16:12 ago on Tue Jun 14 08:28:53 2016.
Dependencies resolved.
================================================================================
 Package               Arch          Version                Repository     Size
================================================================================
Installing:
 libstemmer            x86_64        0-4.585svn.fc24        fedora         71 k
 mongodb               x86_64        3.2.4-1.fc24           fedora         14 M
 mongodb-server        x86_64        3.2.4-1.fc24           fedora         10 M
 mozjs38               x86_64        38.2.1-8.fc24          fedora        2.4 M
 yaml-cpp              x86_64        0.5.1-13.fc24          fedora        165 k

Transaction Summary
================================================================================
Install  5 Packages

Total download size: 27 M
Installed size: 86 M
Is this ok [y/N]: y
Downloading Packages:
(1/5): libstemmer-0-4.585svn.fc24.x86_64.rpm    234 kB/s |  71 kB     00:00    
(2/5): mozjs38-38.2.1-8.fc24.x86_64.rpm         648 kB/s | 2.4 MB     00:03    
(3/5): yaml-cpp-0.5.1-13.fc24.x86_64.rpm        586 kB/s | 165 kB     00:00    
(4/5): mongodb-server-3.2.4-1.fc24.x86_64.rpm   589 kB/s |  10 MB     00:17    
(5/5): mongodb-3.2.4-1.fc24.x86_64.rpm          793 kB/s |  14 MB     00:18    
--------------------------------------------------------------------------------
Total                                           1.3 MB/s |  27 MB     00:20     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Installing  : yaml-cpp-0.5.1-13.fc24.x86_64                               1/5 
  Installing  : mozjs38-38.2.1-8.fc24.x86_64                                2/5 
  Installing  : libstemmer-0-4.585svn.fc24.x86_64                           3/5 
  Installing  : mongodb-3.2.4-1.fc24.x86_64                                 4/5 
  Installing  : mongodb-server-3.2.4-1.fc24.x86_64                          5/5 
  Verifying   : mongodb-3.2.4-1.fc24.x86_64                                 1/5 
  Verifying   : mongodb-server-3.2.4-1.fc24.x86_64                          2/5 
  Verifying   : libstemmer-0-4.585svn.fc24.x86_64                           3/5 
  Verifying   : mozjs38-38.2.1-8.fc24.x86_64                                4/5 
  Verifying   : yaml-cpp-0.5.1-13.fc24.x86_64                               5/5 

Installed:
  libstemmer.x86_64 0-4.585svn.fc24         mongodb.x86_64 3.2.4-1.fc24        
  mongodb-server.x86_64 3.2.4-1.fc24        mozjs38.x86_64 38.2.1-8.fc24       
  yaml-cpp.x86_64 0.5.1-13.fc24            

Complete!
[root@photon2 classic]# mongod
mongod: symbol lookup error: mongod: undefined symbol: _ZNK5boost16re_detail_10600031cpp_regex_traits_implementationIcE17transform_primaryEPKcS4_
[root@photon2 classic]# 


Expected results:

server runs

Additional info:

this was a dnf upgrade from f23 to f24.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9414188</commentid>
    <comment_count>1</comment_count>
    <who name="Michael Bayer">mbayer</who>
    <bug_when>2016-06-14 09:58:03 -0400</bug_when>
    <thetext>poking around for those symbols I&apos;m seeing this:

[root@photon2 classic]# strings /usr/lib64/libboost_regex.so | grep transform_primary
_ZN5boost14c_regex_traitsIcE17transform_primaryB5cxx11EPKcS3_
_ZNK5boost16re_detail_10600031cpp_regex_traits_implementationIcE17transform_primaryB5cxx11EPKcS4_
_ZN5boost14c_regex_traitsIwE17transform_primaryB5cxx11EPKwS3_
_ZNK5boost16re_detail_10600031cpp_regex_traits_implementationIwE17transform_primaryB5cxx11EPKwS4_


which is definitely a tad different.   boost-regex here is:

boost-regex-1.60.0-5.fc24.x86_64</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9414597</commentid>
    <comment_count>2</comment_count>
    <who name="Marek Skalický">mskalick</who>
    <bug_when>2016-06-14 11:19:39 -0400</bug_when>
    <thetext>Thanks for reporting.

This is fixed in https://bodhi.fedoraproject.org/updates/FEDORA-2016-eae91c887b
I think this update is so long in testing because of F24 final freeze.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9416934</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-06-15 02:49:31 -0400</bug_when>
    <thetext>mongodb-3.2.6-4.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-eae91c887b</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9430301</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2016-06-18 14:57:30 -0400</bug_when>
    <thetext>mongodb-3.2.6-4.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
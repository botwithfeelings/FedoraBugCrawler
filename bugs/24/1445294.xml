<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-error-list@redhat.com"
>

    <bug>
          <bug_id>1445294</bug_id>
          
          <creation_ts>2017-04-25 08:53:00 -0400</creation_ts>
          <short_desc>bodhi client cannot submit a new update</short_desc>
          <delta_ts>2017-05-24 00:55:20 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>python-fedora</component>
          <version>24</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>unspecified</priority>
          <bug_severity>unspecified</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Petr Pisar">ppisar</reporter>
          <assigned_to name="Randy Barlow">randy</assigned_to>
          <cc>cheese</cc>
    
    
    <cc>infra-sig</cc>
    
    
    <cc>jeremy</cc>
    
    
    <cc>jonstanley</cc>
    
    
    <cc>jskarvad</cc>
    
    
    <cc>lewk</cc>
    
    
    <cc>lslebodn</cc>
    
    
    <cc>mkolman</cc>
    
    
    <cc>peter.hutterer</cc>
    
    
    <cc>piotr1212</cc>
    
    
    <cc>randy</cc>
    
    
    <cc>relrod</cc>
    
    
    <cc>ricky</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>bodhi-2.6.2-1.fc27 python-fedora-0.9.0-3.fc25 python-fedora-0.9.0-3.fc26 python-fedora-0.9.0-3.el6 python-fedora-0.9.0-1.el7 python-fedora-0.9.0-3.fc24</cf_fixed_in>
          <cf_doc_type>If docs needed, set a value</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-05-08 18:32:36</cf_last_closed>
          <cf_type>Bug</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10360139</commentid>
    <comment_count>0</comment_count>
    <who name="Petr Pisar">ppisar</who>
    <bug_when>2017-04-25 08:53:56 -0400</bug_when>
    <thetext>I use Fedora 24, thus bodhi-client-0.9.12.2-5.fc24.noarch. I cannot submit a new update since 2017-04-25 (bodhi -u ppisar -n -t bugfix -b 1445109 -B -N &apos;SOME_TEXT&apos; perl-RDF-Trine-1.016-1.fc26). It returns just prints an HTML code of a web page on the bodhi. I tried bodhi-client-2.6.0-1.fc25.noarch with the same result. It looks like something has changed on the server. The error output begins with:

No handlers could be found for logger &quot;fedora.client.bodhi&quot;
Creating a new update for perl-RDF-Trine-1.016-1.fc26
ServerError(https://bodhi.fedoraproject.org/updates/, 403, Error returned from json module while processing https://bodhi.fedoraproject.org/updates/: Expecting value: line 6 column 1 (char 5)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10360525</commentid>
    <comment_count>1</comment_count>
    <who name="Randy Barlow">randy</who>
    <bug_when>2017-04-25 10:02:05 -0400</bug_when>
    <thetext>Hello!

The bodhi-0.9 brokenness is known and understood, but I am surprised that this happened with bodhi-2.6. Is it possible that you typed the wrong password when you tried with 2.6?

As for 0.9, the problem is that 0.9 apparently relies on the session cookie to never expire and bodhi-server-2.6 now expires sessions after 1 day. I will need to make an update to bodhi-0.9 to fix this. In the meantime, a workaround is to rm ~/.fedora/openidbaseclient-sessions.cache.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10360573</commentid>
    <comment_count>2</comment_count>
    <who name="Randy Barlow">randy</who>
    <bug_when>2017-04-25 10:15:28 -0400</bug_when>
    <thetext>I have confirmed that you were correct - the problem also happens with the 2.6 client for the same reason. The same workaround will work there too, but only for 1 day at a time:

$ rm ~/.fedora/openidbaseclient-sessions.cache</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10360594</commentid>
    <comment_count>3</comment_count>
    <who name="Randy Barlow">randy</who>
    <bug_when>2017-04-25 10:19:15 -0400</bug_when>
    <thetext>I will use this ticket to track the issue with the bodhi-0.9 client, and I&apos;ve filed an upstream issue to track the problem with the 2.6 client:

https://github.com/fedora-infra/bodhi/issues/1474</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10369276</commentid>
    <comment_count>4</comment_count>
    <who name="Jaroslav Škarvada">jskarvad</who>
    <bug_when>2017-04-27 11:32:45 -0400</bug_when>
    <thetext>fedpkg update also stopped working due to this bug</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10378159</commentid>
    <comment_count>5</comment_count>
    <who name="Lubomír Sedlář">lsedlar</who>
    <bug_when>2017-05-02 04:33:08 -0400</bug_when>
    <thetext>*** Bug 1446575 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10383850</commentid>
    <comment_count>6</comment_count>
    <who name="Randy Barlow">randy</who>
    <bug_when>2017-05-03 17:54:40 -0400</bug_when>
    <thetext>I sent a pull request upstream for this, but have not tested it with bodhi-0.9 yet:

https://github.com/fedora-infra/python-fedora/pull/199

I have tested an extremely similar patch for bodhi-2.6 that does work.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10383854</commentid>
    <comment_count>7</comment_count>
    <who name="Randy Barlow">randy</who>
    <bug_when>2017-05-03 17:56:38 -0400</bug_when>
    <thetext>If anyone can try applying that patch to their local system and report back if it works, that would be helpful. The code lives in /usr/lib/python2.7/site-packages/fedora/client/ on an RPM install.

This patch must also be applied:

https://github.com/fedora-infra/python-fedora/pull/197</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10384154</commentid>
    <comment_count>8</comment_count>
    <who name="Randy Barlow">randy</who>
    <bug_when>2017-05-03 21:33:29 -0400</bug_when>
    <thetext>Bodhi 2 users can use these two patches to work around this issue until I can get 2.6.2 released:

https://github.com/fedora-infra/python-fedora/pull/197
https://github.com/fedora-infra/bodhi/pull/1502

Additionally, Bodhi 2 users may enjoy this related patch, though it&apos;s not strictly required to solve this issue:

https://github.com/fedora-infra/bodhi/pull/1500

Once all of these PRs are reviewed and merged, and once python-fedora has made a release, I plan to release bodhi-2.6.2 to address this issue. bodhi-0.9 will be entirely fixed in python-fedora.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10387071</commentid>
    <comment_count>9</comment_count>
    <who name="Randy Barlow">randy</who>
    <bug_when>2017-05-04 14:19:47 -0400</bug_when>
    <thetext>I have tested the patches for bodhi-0.9 and they seem to work.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10389501</commentid>
    <comment_count>10</comment_count>
    <who name="Randy Barlow">randy</who>
    <bug_when>2017-05-05 10:46:08 -0400</bug_when>
    <thetext>This will be fixed by python-fedora-0.9 for bodhi-0.9 users, and will be fixed by the combination of python-fedora-0.9 and bodhi-2.6.2 for bodhi-2 users.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10390333</commentid>
    <comment_count>11</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-05 17:17:40 -0400</bug_when>
    <thetext>python-fedora-0.9.0-3.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-d069d3faf9</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10390334</commentid>
    <comment_count>12</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-05 17:17:57 -0400</bug_when>
    <thetext>python-fedora-0.9.0-3.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-ebe41f3fd7</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10390335</commentid>
    <comment_count>13</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-05 17:18:06 -0400</bug_when>
    <thetext>python-fedora-0.9.0-3.el6 python-openidc-client-0-3.20170327git5456800.el6 has been submitted as an update to Fedora EPEL 6. https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2017-3e639b5a06</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10390336</commentid>
    <comment_count>14</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-05 17:18:16 -0400</bug_when>
    <thetext>python-fedora-0.9.0-3.fc26 bodhi-2.6.2-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-26b2a7f9ba</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10390337</commentid>
    <comment_count>15</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-05 17:18:26 -0400</bug_when>
    <thetext>python-fedora-0.9.0-1.el7 python-openidc-client-0-3.20170327git5456800.el7 bodhi-2.6.2-1.el7 has been submitted as an update to Fedora EPEL 7. https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2017-650d7b9356</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10391031</commentid>
    <comment_count>16</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-06 20:19:12 -0400</bug_when>
    <thetext>python-fedora-0.9.0-3.el6, python-openidc-client-0-3.20170327git5456800.el6 has been pushed to the Fedora EPEL 6 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2017-3e639b5a06</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10391059</commentid>
    <comment_count>17</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-06 20:26:31 -0400</bug_when>
    <thetext>bodhi-2.6.2-1.el7, python-fedora-0.9.0-1.el7, python-openidc-client-0-3.20170327git5456800.el7 has been pushed to the Fedora EPEL 7 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2017-650d7b9356</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10391089</commentid>
    <comment_count>18</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-06 22:01:12 -0400</bug_when>
    <thetext>python-fedora-0.9.0-3.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-ebe41f3fd7</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10391116</commentid>
    <comment_count>19</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-06 23:30:10 -0400</bug_when>
    <thetext>python-fedora-0.9.0-3.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-d069d3faf9</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10391146</commentid>
    <comment_count>20</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-07 01:07:49 -0400</bug_when>
    <thetext>bodhi-2.6.2-1.fc26, python-fedora-0.9.0-3.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-26b2a7f9ba</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10394262</commentid>
    <comment_count>21</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-08 18:32:36 -0400</bug_when>
    <thetext>python-fedora-0.9.0-3.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10407971</commentid>
    <comment_count>22</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-12 10:11:38 -0400</bug_when>
    <thetext>bodhi-2.6.2-1.fc26, python-fedora-0.9.0-3.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10441564</commentid>
    <comment_count>23</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-23 17:19:37 -0400</bug_when>
    <thetext>python-fedora-0.9.0-3.el6, python-openidc-client-0-3.20170327git5456800.el6 has been pushed to the Fedora EPEL 6 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10441573</commentid>
    <comment_count>24</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-23 17:25:07 -0400</bug_when>
    <thetext>bodhi-2.6.2-1.el7, python-fedora-0.9.0-1.el7, python-openidc-client-0-3.20170327git5456800.el7 has been pushed to the Fedora EPEL 7 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10442114</commentid>
    <comment_count>25</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-05-24 00:55:20 -0400</bug_when>
    <thetext>python-fedora-0.9.0-3.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>
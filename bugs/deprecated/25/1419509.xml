<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1"
          urlbase="https://bugzilla.redhat.com/"
          
          maintainer="bugzilla-requests@redhat.com"
>

    <bug>
          <bug_id>1419509</bug_id>
          
          <creation_ts>2017-02-06 06:34:00 -0500</creation_ts>
          <short_desc>CVE-2017-5595 zoneminder: File disclosure due to unfiltered user-input [fedora-all]</short_desc>
          <delta_ts>2017-02-18 13:50:04 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Fedora</classification>
          <product>Fedora</product>
          <component>zoneminder</component>
          <version>25</version>
          <rep_platform>Unspecified</rep_platform>
          <op_sys>Unspecified</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>ERRATA</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>Security, SecurityTracking</keywords>
          <priority>medium</priority>
          <bug_severity>medium</bug_severity>
          <target_milestone>---</target_milestone>
          
          <blocked>1419507</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Andrej Nemec">anemec</reporter>
          <assigned_to name="Charles R. Anderson">cra</assigned_to>
          <cc>cra</cc>
    
    
    <cc>fedora</cc>
    
    
    <cc>zonexpertconsulting</cc>
          <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>
          
          <cf_fixed_in>zoneminder-1.28.1-8.fc25 zoneminder-1.28.1-8.fc24</cf_fixed_in>
          <cf_doc_type>Release Note</cf_doc_type>
          <cf_release_notes></cf_release_notes>
          <cf_story_points>---</cf_story_points>
          
          <cf_environment></cf_environment>
          <cf_last_closed>2017-02-18 13:20:27</cf_last_closed>
          <cf_type>---</cf_type>
          <cf_regression_status>---</cf_regression_status>
          <cf_mount_type>---</cf_mount_type>
          <cf_documentation_action>---</cf_documentation_action>
          <cf_crm></cf_crm>
          <cf_verified_branch></cf_verified_branch>
          <cf_category>---</cf_category>
          <cf_ovirt_team>---</cf_ovirt_team>
          
          <cf_cloudforms_team>---</cf_cloudforms_team>
          
          
          
          
          <target_release>---</target_release>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>10123276</commentid>
    <comment_count>0</comment_count>
    <who name="Andrej Nemec">anemec</who>
    <bug_when>2017-02-06 06:34:46 -0500</bug_when>
    <thetext>
This is an automatically created tracking bug!  It was created to ensure
that one or more security vulnerabilities are fixed in affected versions
of fedora-all.

For comments that are specific to the vulnerability please use bugs filed
against the &quot;Security Response&quot; product referenced in the &quot;Blocks&quot; field.

For more information see:
http://fedoraproject.org/wiki/Security/TrackingBugs

When submitting as an update, use the fedpkg template provided in the next
comment(s).  This will include the bug IDs of this tracking bug as well as
the relevant top-level CVE bugs.

Please also mention the CVE IDs being fixed in the RPM changelog and the
fedpkg commit message.

NOTE: this issue affects multiple supported versions of Fedora. While only
one tracking bug has been filed, please correct all affected versions at
the same time.  If you need to fix the versions independent of each other,
you may clone this bug as appropriate.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10129620</commentid>
    <comment_count>1</comment_count>
      <attachid>1248533</attachid>
    <who name="Charles R. Anderson">cra</who>
    <bug_when>2017-02-07 21:21:44 -0500</bug_when>
    <thetext>Created attachment 1248533
backport fix to 1.28.1

Proposed backport to 1.28.1.  Please check this patch and let me know if it is correct.  I had to regenerate it by hand.  Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10131583</commentid>
    <comment_count>2</comment_count>
      <attachid>1248533</attachid>
    <who name="Andrew Bauer">zonexpertconsulting</who>
    <bug_when>2017-02-08 10:30:56 -0500</bug_when>
    <thetext>Comment on attachment 1248533
backport fix to 1.28.1

Patch has been confirmed to apply cleanly to zoneminder 1.28.1 and has been verified to make the appropriate changes to image.php and file.php.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10133098</commentid>
    <comment_count>3</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-08 22:41:48 -0500</bug_when>
    <thetext>zoneminder-1.28.1-8.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-2bb174ae3c</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10133099</commentid>
    <comment_count>4</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-08 22:41:55 -0500</bug_when>
    <thetext>zoneminder-1.28.1-8.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2017-d5fb74cd2e</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10136156</commentid>
    <comment_count>5</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-09 16:52:14 -0500</bug_when>
    <thetext>zoneminder-1.28.1-8.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-d5fb74cd2e</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10136243</commentid>
    <comment_count>6</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-09 17:21:43 -0500</bug_when>
    <thetext>zoneminder-1.28.1-8.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.
See https://fedoraproject.org/wiki/QA:Updates_Testing for
instructions on how to install test updates.
You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-2bb174ae3c</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10164084</commentid>
    <comment_count>7</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-18 13:20:27 -0500</bug_when>
    <thetext>zoneminder-1.28.1-8.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>10164110</commentid>
    <comment_count>8</comment_count>
    <who name="Fedora Update System">updates</who>
    <bug_when>2017-02-18 13:50:04 -0500</bug_when>
    <thetext>zoneminder-1.28.1-8.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1248533</attachid>
            <date>2017-02-07 21:21:00 -0500</date>
            <delta_ts>2017-02-08 10:30:56 -0500</delta_ts>
            <desc>backport fix to 1.28.1</desc>
            <filename>zoneminder-1.28.1-cve-2017-5595.patch</filename>
            <type>text/plain</type>
            <size>3908</size>
            <attacher name="Charles R. Anderson">cra</attacher>
            
              <data encoding="base64">ZGlmZiAtdU5yIFpvbmVNaW5kZXItMS4yOC4xLm9yaWcvd2ViL3ZpZXdzL2ZpbGUucGhwIFpvbmVN
aW5kZXItMS4yOC4xL3dlYi92aWV3cy9maWxlLnBocAotLS0gWm9uZU1pbmRlci0xLjI4LjEub3Jp
Zy93ZWIvdmlld3MvZmlsZS5waHAJMjAxNS0wMi0wNCAyMTo1MjozNy4wMDAwMDAwMDAgLTA1MDAK
KysrIFpvbmVNaW5kZXItMS4yOC4xL3dlYi92aWV3cy9maWxlLnBocAkxOTY5LTEyLTMxIDE5OjAw
OjAwLjAwMDAwMDAwMCAtMDUwMApAQCAtMSw1NiArMCwwIEBACi08P3BocAotLy8KLS8vIFpvbmVN
aW5kZXIgZmlsZSB2aWV3IGZpbGUsICREYXRlOiAyMDA4LTA5LTI5IDE0OjE1OjEzICswMTAwIChN
b24sIDI5IFNlcCAyMDA4KSAkLCAkUmV2aXNpb246IDI2NDAgJAotLy8gQ29weXJpZ2h0IChDKSAy
MDAxLTIwMDggUGhpbGlwIENvb21iZXMKLS8vCi0vLyBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0
d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yCi0vLyBtb2RpZnkgaXQgdW5kZXIg
dGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQotLy8gYXMgcHVibGlz
aGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlciB2ZXJzaW9uIDIKLS8v
IG9mIHRoZSBMaWNlbnNlLCBvciAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgot
Ly8KLS8vIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdp
bGwgYmUgdXNlZnVsLAotLy8gYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4g
dGhlIGltcGxpZWQgd2FycmFudHkgb2YKLS8vIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZP
UiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKLS8vIEdOVSBHZW5lcmFsIFB1YmxpYyBM
aWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCi0vLwotLy8gWW91IHNob3VsZCBoYXZlIHJlY2VpdmVk
IGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKLS8vIGFsb25nIHdpdGgg
dGhpcyBwcm9ncmFtOyBpZiBub3QsIHdyaXRlIHRvIHRoZSBGcmVlIFNvZnR3YXJlCi0vLyBGb3Vu
ZGF0aW9uLCBJbmMuLCA1OSBUZW1wbGUgUGxhY2UgLSBTdWl0ZSAzMzAsIEJvc3RvbiwgTUEgIDAy
MTExLTEzMDcsIFVTQS4KLS8vCi0KLWlmICggIWNhblZpZXcoICdFdmVudHMnICkgKQotewotICAg
ICR2aWV3ID0gImVycm9yIjsKLSAgICByZXR1cm47Ci19Ci0KLWlmICggZW1wdHkoJF9SRVFVRVNU
WydwYXRoJ10pICkKLXsKLSAgICAkZXJyb3JUZXh0ID0gIk5vIHBhdGggZ2l2ZW4gdG8gZmlsZS5w
aHAiOwotfQotZWxzZQotewotICAgICRwYXRoID0gJF9SRVFVRVNUWydwYXRoJ107Ci0gICAgaWYg
KCAhZW1wdHkoJHVzZXJbJ01vbml0b3JJZHMnXSkgKQotICAgIHsKLSAgICAgICAgJGZpbGVPayA9
IGZhbHNlOwotICAgICAgICAkcGF0aE1vbklkID0gc3Vic3RyKCAkcGF0aCwgMCwgc3Ryc3BuKCAk
cGF0aCwgIjEyMzQ1Njc4OTAiICkgKTsKLSAgICAgICAgZm9yZWFjaCAoIHByZWdfc3BsaXQoICcv
WyJcJ1xzXSosWyJcJ1xzXSovJywgJHVzZXJbJ01vbml0b3JJZHMnXSApIGFzICRtb25JZCApCi0g
ICAgICAgIHsKLSAgICAgICAgICAgIGlmICggJHBhdGhNb25JZCA9PSAkbW9uSWQgKQotICAgICAg
ICAgICAgewotICAgICAgICAgICAgICAgICRmaWxlT2sgPSB0cnVlOwotICAgICAgICAgICAgICAg
IGJyZWFrOwotICAgICAgICAgICAgfQotICAgICAgICB9Ci0gICAgICAgIGlmICggISRmaWxlT2sg
KQotICAgICAgICAgICAgJGVycm9yVGV4dCA9ICJObyBwZXJtaXNzaW9ucyB0byB2aWV3IGZpbGUg
JyRwYXRoJyI7Ci0gICAgfQotfQotCi0vLyBTaW1wbGUgdmVyc2lvbgotaWYgKCAkZXJyb3JUZXh0
ICkKLSAgICBFcnJvciggJGVycm9yVGV4dCApOwotZWxzZQotICAgIHJlYWRmaWxlKCBaTV9ESVJf
RVZFTlRTLicvJy4kcGF0aCApOwotPz4KZGlmZiAtdU5yIFpvbmVNaW5kZXItMS4yOC4xLm9yaWcv
d2ViL3ZpZXdzL2ltYWdlLnBocCBab25lTWluZGVyLTEuMjguMS93ZWIvdmlld3MvaW1hZ2UucGhw
Ci0tLSBab25lTWluZGVyLTEuMjguMS5vcmlnL3dlYi92aWV3cy9pbWFnZS5waHAJMjAxNS0wMi0w
NCAyMTo1MjozNy4wMDAwMDAwMDAgLTA1MDAKKysrIFpvbmVNaW5kZXItMS4yOC4xL3dlYi92aWV3
cy9pbWFnZS5waHAJMjAxNy0wMi0wNyAyMToxMjo1MS4zMTUzNzY2ODIgLTA1MDAKQEAgLTMwLDI0
ICszMCwyNiBAQAogaWYgKCBlbXB0eSgkX1JFUVVFU1RbJ3BhdGgnXSkgKQogewogICAgICRlcnJv
clRleHQgPSAiTm8gaW1hZ2UgcGF0aCI7Ci19Ci1lbHNlCi17Ci0gICAgJHBhdGggPSAkX1JFUVVF
U1RbJ3BhdGgnXTsKLSAgICBpZiAoICFlbXB0eSgkdXNlclsnTW9uaXRvcklkcyddKSApCi0gICAg
ewotICAgICAgICAkaW1hZ2VPayA9IGZhbHNlOwotICAgICAgICAkcGF0aE1vbklkID0gc3Vic3Ry
KCAkcGF0aCwgMCwgc3Ryc3BuKCAkcGF0aCwgIjEyMzQ1Njc4OTAiICkgKTsKLSAgICAgICAgZm9y
ZWFjaCAoIHByZWdfc3BsaXQoICcvWyJcJ1xzXSosWyJcJ1xzXSovJywgJHVzZXJbJ01vbml0b3JJ
ZHMnXSApIGFzICRtb25JZCApCi0gICAgICAgIHsKLSAgICAgICAgICAgIGlmICggJHBhdGhNb25J
ZCA9PSAkbW9uSWQgKQotICAgICAgICAgICAgewotICAgICAgICAgICAgICAgICRpbWFnZU9rID0g
dHJ1ZTsKLSAgICAgICAgICAgICAgICBicmVhazsKK30gZWxzZSB7CisgICAgJGRpcl9ldmVudHMg
PSByZWFscGF0aChaTV9ESVJfRVZFTlRTKTsKKyAgICAkcGF0aCA9IHJlYWxwYXRoKCRkaXJfZXZl
bnRzIC4gJy8nIC4gJF9SRVFVRVNUWydwYXRoJ10pOworICAgICRwb3MgPSBzdHJwb3MoJHBhdGgs
ICRkaXJfZXZlbnRzKTsKKworICAgIGlmKCRwb3MgPT0gMCAmJiAkcG9zICE9PSBmYWxzZSkgewor
ICAgICAgICBpZiAoICFlbXB0eSgkdXNlclsnTW9uaXRvcklkcyddKSApIHsKKyAgICAgICAgICAg
ICRpbWFnZU9rID0gZmFsc2U7CisgICAgICAgICAgICAkcGF0aE1vbklkID0gc3Vic3RyKCAkcGF0
aCwgMCwgc3Ryc3BuKCAkcGF0aCwgIjEyMzQ1Njc4OTAiICkgKTsKKyAgICAgICAgICAgIGZvcmVh
Y2ggKCBwcmVnX3NwbGl0KCAnL1siXCdcc10qLFsiXCdcc10qLycsICR1c2VyWydNb25pdG9ySWRz
J10gKSBhcyAkbW9uSWQgKSB7CisgICAgICAgICAgICAgICAgaWYgKCAkcGF0aE1vbklkID09ICRt
b25JZCApIHsKKyAgICAgICAgICAgICAgICAgICAgJGltYWdlT2sgPSB0cnVlOworICAgICAgICAg
ICAgICAgICAgICBicmVhazsKKwkJfQogICAgICAgICAgICAgfQorICAgICAgICAgICAgaWYgKCAh
JGltYWdlT2sgKQorICAgICAgICAgICAgICAgICRlcnJvclRleHQgPSAiTm8gaW1hZ2UgcGVybWlz
c2lvbnMiOwogICAgICAgICB9Ci0gICAgICAgIGlmICggISRpbWFnZU9rICkKLSAgICAgICAgICAg
ICRlcnJvclRleHQgPSAiTm8gaW1hZ2UgcGVybWlzc2lvbnMiOworICAgIH0gZWxzZSB7CisgICAg
ICAgICAgICAkZXJyb3JUZXh0ID0gIkludmFsaWQgaW1hZ2UgcGF0aCI7CiAgICAgfQogfQogCmRp
ZmYgLXVOciBab25lTWluZGVyLTEuMjguMS5vcmlnL3dlYi92aWV3cy9NYWtlZmlsZS5hbSBab25l
TWluZGVyLTEuMjguMS93ZWIvdmlld3MvTWFrZWZpbGUuYW0KLS0tIFpvbmVNaW5kZXItMS4yOC4x
Lm9yaWcvd2ViL3ZpZXdzL01ha2VmaWxlLmFtCTIwMTUtMDItMDQgMjE6NTI6MzcuMDAwMDAwMDAw
IC0wNTAwCisrKyBab25lTWluZGVyLTEuMjguMS93ZWIvdmlld3MvTWFrZWZpbGUuYW0JMjAxNy0w
Mi0wNyAyMTowMzoyOS42NTMxMDU5NTMgLTA1MDAKQEAgLTIsNSArMiw0IEBACiAKIHdlYmRpciA9
IEBXRUJfUFJFRklYQC92aWV3cwogCi1kaXN0X3dlYl9EQVRBID0gZmlsZS5waHAgXAotCWltYWdl
LnBocAorZGlzdF93ZWJfREFUQSA9IGltYWdlLnBocAo=
</data>
<flag name="review"
          id="2947768"
          type_id="155"
          status="+"
          setter="zonexpertconsulting"
    />
          </attachment>
      

    </bug>

</bugzilla>
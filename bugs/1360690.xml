<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1" urlbase="https://bugzilla.redhat.com/" maintainer="bugzilla-error-list@redhat.com">

  <bug>
    <bug_id>1360690</bug_id>

    <creation_ts>2016-07-27 06:52:00 -0400</creation_ts>
    <short_desc>&apos;oscapd-cli task-create -i&apos; tracebacks on a fresh installation</short_desc>
    <delta_ts>2017-01-06 15:00:13 -0500</delta_ts>
    <reporter_accessible>1</reporter_accessible>
    <cclist_accessible>1</cclist_accessible>
    <classification_id>2</classification_id>
    <classification>Fedora</classification>
    <product>Fedora</product>
    <component>openscap-daemon</component>
    <version>24</version>
    <rep_platform>x86_64</rep_platform>
    <op_sys>Linux</op_sys>
    <bug_status>CLOSED</bug_status>
    <resolution>CURRENTRELEASE</resolution>

    <bug_file_loc></bug_file_loc>
    <status_whiteboard></status_whiteboard>
    <keywords></keywords>
    <priority>unspecified</priority>
    <bug_severity>unspecified</bug_severity>
    <target_milestone>---</target_milestone>

    <everconfirmed>1</everconfirmed>
    <reporter name="Kamil Dudka">kdudka</reporter>
    <assigned_to name="Martin Preisler">mpreisle</assigned_to>
    <cc>kdudka</cc>

    <cc>mpreisle</cc>

    <cc>slukasik</cc>
    <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>

    <cf_fixed_in></cf_fixed_in>
  <cf_doc_type>If docs needed, set a value</cf_doc_type>
<cf_release_notes></cf_release_notes>
<cf_story_points>---</cf_story_points>

<cf_environment></cf_environment>
<cf_last_closed>2017-01-06 15:00:13</cf_last_closed>
<cf_type>Bug</cf_type>
<cf_regression_status>---</cf_regression_status>
<cf_mount_type>---</cf_mount_type>
<cf_documentation_action>---</cf_documentation_action>
<cf_crm></cf_crm>
<cf_verified_branch></cf_verified_branch>
<cf_category>---</cf_category>
<cf_ovirt_team>---</cf_ovirt_team>

<cf_cloudforms_team>---</cf_cloudforms_team>

<target_release>---</target_release>

<votes>0</votes>

<comment_sort_order>oldest_to_newest</comment_sort_order>
<long_desc isprivate="0">
<commentid>9557620</commentid>
<comment_count>0</comment_count>
<who name="Kamil Dudka">kdudka</who>
<bug_when>2016-07-27 06:52:36 -0400</bug_when>
<thetext>Description of problem: # dnf install openscap-daemon # systemctl start oscapd # oscapd-cli task-create -i Creating new task in interactive mode Title: xxx Target (empty for localhost): Found the following SCAP Security Guide content: Choose
SSG content by number (empty for custom content): Input file (absolute path): Tailoring file (absolute path, empty for no tailoring): Found the following possible profiles: Traceback (most recent call last): File &quot;/usr/bin/oscapd-cli&quot;, line
787, in &lt;module&gt; main() File &quot;/usr/bin/oscapd-cli&quot;, line 775, in main cli_task_create(dbus_iface, args) File &quot;/usr/bin/oscapd-cli&quot;, line 313, in cli_task_create input_file, tailoring_file File
&quot;/usr/lib64/python3.5/site-packages/dbus/proxies.py&quot;, line 145, in __call__ **keywords) File &quot;/usr/lib64/python3.5/site-packages/dbus/connection.py&quot;, line 651, in call_blocking message, timeout) dbus.exceptions.DBusException:
org.freedesktop.DBus.Python.IsADirectoryError: Traceback (most recent call last): File &quot;/usr/lib64/python3.5/site-packages/dbus/service.py&quot;, line 707, in _message_cb retval = candidate_method(self, *args, **keywords) File
&quot;/usr/lib/python3.5/site-packages/openscap_daemon/dbus_daemon.py&quot;, line 78, in GetProfileChoicesForInput input_file, tailoring_file File &quot;/usr/lib/python3.5/site-packages/openscap_daemon/system.py&quot;, line 86, in
get_profile_choices_for_input input_file, tailoring_file File &quot;/usr/lib/python3.5/site-packages/openscap_daemon/oscap_helpers.py&quot;, line 93, in get_profile_choices_for_input input_tree = ElementTree.parse(input_file) File
&quot;/usr/lib64/python3.5/xml/etree/ElementTree.py&quot;, line 1182, in parse tree.parse(source, parser) File &quot;/usr/lib64/python3.5/xml/etree/ElementTree.py&quot;, line 583, in parse source = open(source, &quot;rb&quot;) IsADirectoryError:
[Errno 21] Is a directory: dbus.String(&apos;/root&apos;) Version-Release number of selected component (if applicable): openscap-daemon-0.1.5-1.fc24.noarch How reproducible: It was my first attempt to run openscap.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9559897</commentid>
<comment_count>1</comment_count>
<who name="Martin Preisler">mpreisle</who>
<bug_when>2016-07-27 14:05:08 -0400</bug_when>
<thetext>Ah, what an embarrassing bug. Thanks for reporting :-) It&apos;s because you don&apos;t have scap-security-guide. It&apos;s an optional component but you are right that we definitely shouldn&apos;t traceback like this. I will get this fixed
upstream. In the meantime, install SSG, restart oscapd and try again please. # dnf install scap-security-guide</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9559935</commentid>
<comment_count>2</comment_count>
<who name="Martin Preisler">mpreisle</who>
<bug_when>2016-07-27 14:21:35 -0400</bug_when>
<thetext>Fixed upstream in: https://github.com/OpenSCAP/openscap-daemon/commit/bd286b368492fdda01c29b1c187ab9ee4fc5f181 https://github.com/OpenSCAP/openscap-daemon/commit/202178eb939f75814f1da42aad83f5be44b3c91b This will get into Fedora soon, when
we rebase to 0.1.6.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>9560179</commentid>
<comment_count>3</comment_count>
<who name="Kamil Dudka">kdudka</who>
<bug_when>2016-07-27 14:46:53 -0400</bug_when>
<thetext>Thanks for the quick reply! I can confirm that it works as expected after installing scap-security-guide.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10041664</commentid>
<comment_count>4</comment_count>
<who name="Martin Preisler">mpreisle</who>
<bug_when>2017-01-06 15:00:13 -0500</bug_when>
<thetext>F25: https://bodhi.fedoraproject.org/updates/FEDORA-2016-26a1cc2e6c F24: https://bodhi.fedoraproject.org/updates/FEDORA-2016-02b26031f7 Fixed 4 months ago, forgot to mark this bugzilla, oops!</thetext>
</long_desc>

</bug>

</bugzilla>

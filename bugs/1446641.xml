<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.redhat.com/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.12068.1" urlbase="https://bugzilla.redhat.com/" maintainer="bugzilla-error-list@redhat.com">

  <bug>
    <bug_id>1446641</bug_id>

    <creation_ts>2017-04-28 09:31:00 -0400</creation_ts>
    <short_desc>dnf repoquery --duplicates --latest-limit -1 -q does not work</short_desc>
    <delta_ts>2017-05-14 16:19:41 -0400</delta_ts>
    <reporter_accessible>1</reporter_accessible>
    <cclist_accessible>1</cclist_accessible>
    <classification_id>2</classification_id>
    <classification>Fedora</classification>
    <product>Fedora</product>
    <component>dnf-plugins-core</component>
    <version>26</version>
    <rep_platform>Unspecified</rep_platform>
    <op_sys>Unspecified</op_sys>
    <bug_status>CLOSED</bug_status>
    <resolution>ERRATA</resolution>

    <bug_file_loc></bug_file_loc>
    <status_whiteboard></status_whiteboard>
    <keywords>Triaged</keywords>
    <priority>unspecified</priority>
    <bug_severity>unspecified</bug_severity>
    <target_milestone>---</target_milestone>

    <everconfirmed>1</everconfirmed>
    <reporter name="Dennis Gilmore">dennis</reporter>
    <assigned_to>rpm-software-management</assigned_to>
    <cc>jmracek</cc>

    <cc>packaging-team-maint</cc>

    <cc>rpm-software-management</cc>

    <cc>vedran</cc>

    <cc>vmukhame</cc>
    <qa_contact name="Fedora Extras Quality Assurance">extras-qa</qa_contact>

    <cf_fixed_in></cf_fixed_in>
  <cf_doc_type>If docs needed, set a value</cf_doc_type>
<cf_release_notes></cf_release_notes>
<cf_story_points>---</cf_story_points>

<cf_environment></cf_environment>
<cf_last_closed>2017-05-14 16:19:41</cf_last_closed>
<cf_type>Bug</cf_type>
<cf_regression_status>---</cf_regression_status>
<cf_mount_type>---</cf_mount_type>
<cf_documentation_action>---</cf_documentation_action>
<cf_crm></cf_crm>
<cf_verified_branch></cf_verified_branch>
<cf_category>---</cf_category>
<cf_ovirt_team>---</cf_ovirt_team>

<cf_cloudforms_team>---</cf_cloudforms_team>

<target_release>---</target_release>

<votes>0</votes>

<comment_sort_order>oldest_to_newest</comment_sort_order>
<long_desc isprivate="0">
<commentid>10372274</commentid>
<comment_count>0</comment_count>
<who name="Dennis Gilmore">dennis</who>
<bug_when>2017-04-28 09:31:06 -0400</bug_when>
<thetext>Description of problem: after having some issues with an upgrade I have a bunch of dupes The process documented http://dnf.readthedocs.io/en/latest/command_ref.html#repoquery-command-label fails claiming that the dnf query is invalid it
seems it is the -1 if i change it to a 1 I get the latest builds not the older ones [root@bbb02 ~]# dnf repoquery --duplicates --latest-limit -1 -q usage: dnf repoquery [-c [config file]] [-q] [-v] [--version] [--installroot [path]] [--nodocs]
[--noplugins] [--disableplugin [plugin]] [--releasever RELEASEVER] [--setopt SETOPTS] [--skip-broken] [-h] [--allowerasing] [-b] [-C] [-R [minutes]] [-d [debug level]] [--debugsolver] [--showduplicates] [-e ERRORLEVEL] [--obsoletes] [--rpmverbosity
[debug level name]] [-y] [--assumeno] [--enablerepo [repo]] [--disablerepo [repo] | --repo [repo]] [-x [package]] [--disableexcludes [repo]] [--repofrompath [repo,path]] [--nogpgcheck] [--color COLOR] [--refresh] [-4] [-6] [--downloadonly] [--bugfix]
[--enhancement] [--newpackage] [--security] [--advisory ADVISORY] [--bzs BUGZILLA] [--cves CVES] [--sec-severity {Critical,Important,Moderate,Low}] [-a] [--show-duplicates] [--arch ARCH] [-f FILE [FILE ...]] [--whatconflicts REQ] [--whatobsoletes
REQ] [--whatprovides REQ] [--whatrequires REQ] [--whatrecommends REQ] [--whatenhances REQ] [--whatsuggests REQ] [--whatsupplements REQ] [--alldeps | --exactdeps] [--recursive] [--deplist] [--querytags] [--resolve] [--tree] [--srpm] [--latest-limit
LATEST_LIMIT] [-i | -l | -s | --qf QUERYFORMAT | --nevra | --nvr | --envra] [--duplicates | --installonly | --unsatisfied] [--location] [--conflicts | --enhances | --provides | --recommends | --requires | --requires-pre | --suggests | --supplements]
[--available] [--installed | --extras | --upgrades | --unneeded] [--recent] [key [key ...]] Version-Release number of selected component (if applicable): dnf-plugins-core-1.1.0-1.fc26.noarch How reproducible: Steps to Reproduce: 1. 2. 3. Actual
results: Expected results: Additional info:</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10382724</commentid>
<comment_count>1</comment_count>
<who name="Jaroslav Mracek">jmracek</who>
<bug_when>2017-05-03 10:36:29 -0400</bug_when>
<thetext>The problem here is with argparser. Value -1 is recognized as a option not a value. There are some workaround: 1. --latest-limit=-1 2. --latest-limit &quot; -1&quot;</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10382890</commentid>
<comment_count>2</comment_count>
<who name="Jaroslav Mracek">jmracek</who>
<bug_when>2017-05-03 11:05:12 -0400</bug_when>
<thetext>I create a pull request that only describe work around, but not solve a problem. Unfortunately we cannot do more.</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10382891</commentid>
<comment_count>3</comment_count>
<who name="Jaroslav Mracek">jmracek</who>
<bug_when>2017-05-03 11:05:35 -0400</bug_when>
<thetext>Pull-request: https://github.com/rpm-software-management/dnf/pull/801</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10385240</commentid>
<comment_count>4</comment_count>
<who name="Jaroslav Mracek">jmracek</who>
<bug_when>2017-05-04 06:06:47 -0400</bug_when>
<thetext>*** Bug 1428015 has been marked as a duplicate of this bug. ***</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10403211</commentid>
<comment_count>5</comment_count>
<who name="Fedora Update System">updates</who>
<bug_when>2017-05-11 04:59:09 -0400</bug_when>
<thetext>dnf-2.4.1-1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-e0fa49ff81</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10409401</commentid>
<comment_count>6</comment_count>
<who name="Fedora Update System">updates</who>
<bug_when>2017-05-12 21:10:46 -0400</bug_when>
<thetext>dnf-2.4.1-1.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report. See https://fedoraproject.org/wiki/QA:Updates_Testing for instructions on how to install test
updates. You can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-e0fa49ff81</thetext>
</long_desc>
<long_desc isprivate="0">
<commentid>10410657</commentid>
<comment_count>7</comment_count>
<who name="Fedora Update System">updates</who>
<bug_when>2017-05-14 16:19:41 -0400</bug_when>
<thetext>dnf-2.4.1-1.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report.</thetext>
</long_desc>

</bug>

</bugzilla>
